{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoring, Logging & Cost Management - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Cloud_Computing/">Cloud Computing</a>
    <span class="separator">/</span>
    <span class="current">Monitoring, Logging & Cost Management</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Monitoring, Logging & Cost Management</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Cloud_Computing/16_Infrastructure_as_Code.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Infrastructure as Code (Terraform)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Cloud_Computing/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-monitoring-overview">1. Monitoring Overview</a><ul>
<li><a href="#11-why-monitoring-is-needed">1.1 Why Monitoring is Needed</a></li>
<li><a href="#12-service-mapping">1.2 Service Mapping</a></li>
</ul>
</li>
<li><a href="#2-aws-cloudwatch">2. AWS CloudWatch</a><ul>
<li><a href="#21-metrics">2.1 Metrics</a></li>
<li><a href="#22-alarms">2.2 Alarms</a></li>
<li><a href="#23-dashboards">2.3 Dashboards</a></li>
</ul>
</li>
<li><a href="#3-aws-cloudwatch-logs">3. AWS CloudWatch Logs</a><ul>
<li><a href="#31-log-group-management">3.1 Log Group Management</a></li>
<li><a href="#32-log-insights">3.2 Log Insights</a></li>
<li><a href="#33-send-logs-from-ec2">3.3 Send Logs from EC2</a></li>
</ul>
</li>
<li><a href="#4-gcp-cloud-monitoring">4. GCP Cloud Monitoring</a><ul>
<li><a href="#41-metrics">4.1 Metrics</a></li>
<li><a href="#42-alerting-policies">4.2 Alerting Policies</a></li>
</ul>
</li>
<li><a href="#5-gcp-cloud-logging">5. GCP Cloud Logging</a><ul>
<li><a href="#51-log-queries">5.1 Log Queries</a></li>
<li><a href="#52-log-based-metrics">5.2 Log-based Metrics</a></li>
</ul>
</li>
<li><a href="#6-cost-management">6. Cost Management</a><ul>
<li><a href="#61-aws-cost-explorer">6.1 AWS Cost Explorer</a></li>
<li><a href="#62-aws-budgets">6.2 AWS Budgets</a></li>
<li><a href="#63-gcp-billing">6.3 GCP Billing</a></li>
</ul>
</li>
<li><a href="#7-cost-optimization-strategies">7. Cost Optimization Strategies</a><ul>
<li><a href="#71-compute-optimization">7.1 Compute Optimization</a></li>
<li><a href="#72-storage-optimization">7.2 Storage Optimization</a></li>
<li><a href="#73-cost-savings-checklist">7.3 Cost Savings Checklist</a></li>
</ul>
</li>
<li><a href="#8-tag-based-cost-tracking">8. Tag-based Cost Tracking</a><ul>
<li><a href="#81-tag-strategy">8.1 Tag Strategy</a></li>
<li><a href="#82-cost-allocation-tags">8.2 Cost Allocation Tags</a></li>
</ul>
</li>
<li><a href="#9-dashboard-example">9. Dashboard Example</a><ul>
<li><a href="#91-operations-dashboard-layout">9.1 Operations Dashboard Layout</a></li>
</ul>
</li>
<li><a href="#10-alert-configuration-recommendations">10. Alert Configuration Recommendations</a><ul>
<li><a href="#101-essential-alerts">10.1 Essential Alerts</a></li>
<li><a href="#102-notification-channels">10.2 Notification Channels</a></li>
</ul>
</li>
<li><a href="#11-next-steps">11. Next Steps</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="monitoring-logging-cost-management">Monitoring, Logging &amp; Cost Management<a class="header-link" href="#monitoring-logging-cost-management" title="Permanent link">&para;</a></h1>
<h2 id="1-monitoring-overview">1. Monitoring Overview<a class="header-link" href="#1-monitoring-overview" title="Permanent link">&para;</a></h2>
<h3 id="11-why-monitoring-is-needed">1.1 Why Monitoring is Needed<a class="header-link" href="#11-why-monitoring-is-needed" title="Permanent link">&para;</a></h3>
<ul>
<li>Ensure system availability</li>
<li>Early detection of performance issues</li>
<li>Capacity planning</li>
<li>Cost optimization</li>
<li>Security anomaly detection</li>
</ul>
<h3 id="12-service-mapping">1.2 Service Mapping<a class="header-link" href="#12-service-mapping" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>AWS</th>
<th>GCP</th>
</tr>
</thead>
<tbody>
<tr>
<td>Metric Monitoring</td>
<td>CloudWatch</td>
<td>Cloud Monitoring</td>
</tr>
<tr>
<td>Log Collection</td>
<td>CloudWatch Logs</td>
<td>Cloud Logging</td>
</tr>
<tr>
<td>Tracing</td>
<td>X-Ray</td>
<td>Cloud Trace</td>
</tr>
<tr>
<td>Dashboards</td>
<td>CloudWatch Dashboards</td>
<td>Cloud Monitoring Dashboards</td>
</tr>
<tr>
<td>Alerting</td>
<td>CloudWatch Alarms + SNS</td>
<td>Alerting Policies</td>
</tr>
<tr>
<td>Cost Management</td>
<td>Cost Explorer, Budgets</td>
<td>Billing, Budgets</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-aws-cloudwatch">2. AWS CloudWatch<a class="header-link" href="#2-aws-cloudwatch" title="Permanent link">&para;</a></h2>
<h3 id="21-metrics">2.1 Metrics<a class="header-link" href="#21-metrics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List EC2 metrics</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>list-metrics<span class="w"> </span>--namespace<span class="w"> </span>AWS/EC2

<span class="c1"># Get metric data</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--namespace<span class="w"> </span>AWS/EC2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>InstanceId,Value<span class="o">=</span>i-1234567890abcdef0<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--start-time<span class="w"> </span><span class="m">2024</span>-01-01T00:00:00Z<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--end-time<span class="w"> </span><span class="m">2024</span>-01-01T23:59:59Z<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--statistics<span class="w"> </span>Average

<span class="c1"># Publish custom metric</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-data<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--namespace<span class="w"> </span>MyApp<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metric-name<span class="w"> </span>RequestCount<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--value<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--unit<span class="w"> </span>Count<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dimensions<span class="w"> </span><span class="nv">Environment</span><span class="o">=</span>Production
</code></pre></div>

<p><strong>Key Metrics:</strong></p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Metric</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>EC2</td>
<td>CPUUtilization</td>
<td>CPU usage</td>
</tr>
<tr>
<td>EC2</td>
<td>NetworkIn/Out</td>
<td>Network traffic</td>
</tr>
<tr>
<td>RDS</td>
<td>DatabaseConnections</td>
<td>DB connections</td>
</tr>
<tr>
<td>RDS</td>
<td>FreeStorageSpace</td>
<td>Remaining storage</td>
</tr>
<tr>
<td>ALB</td>
<td>RequestCount</td>
<td>Request count</td>
</tr>
<tr>
<td>ALB</td>
<td>TargetResponseTime</td>
<td>Response time</td>
</tr>
<tr>
<td>Lambda</td>
<td>Invocations</td>
<td>Invocation count</td>
</tr>
<tr>
<td>Lambda</td>
<td>Duration</td>
<td>Execution time</td>
</tr>
</tbody>
</table>
<h3 id="22-alarms">2.2 Alarms<a class="header-link" href="#22-alarms" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create CPU alarm</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--alarm-name<span class="w"> </span>high-cpu<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--alarm-description<span class="w"> </span><span class="s2">&quot;CPU over 80%&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--namespace<span class="w"> </span>AWS/EC2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--threshold<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>InstanceId,Value<span class="o">=</span>i-1234567890abcdef0<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--evaluation-periods<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--alarm-actions<span class="w"> </span>arn:aws:sns:ap-northeast-2:123456789012:alerts

<span class="c1"># List alarms</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>describe-alarms

<span class="c1"># Check alarm history</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>describe-alarm-history<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--alarm-name<span class="w"> </span>high-cpu
</code></pre></div>

<h3 id="23-dashboards">2.3 Dashboards<a class="header-link" href="#23-dashboards" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create dashboard</span>
aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-dashboard<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dashboard-name<span class="w"> </span>MyDashboard<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dashboard-body<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">        &quot;widgets&quot;: [</span>
<span class="s1">            {</span>
<span class="s1">                &quot;type&quot;: &quot;metric&quot;,</span>
<span class="s1">                &quot;x&quot;: 0, &quot;y&quot;: 0, &quot;width&quot;: 12, &quot;height&quot;: 6,</span>
<span class="s1">                &quot;properties&quot;: {</span>
<span class="s1">                    &quot;metrics&quot;: [</span>
<span class="s1">                        [&quot;AWS/EC2&quot;, &quot;CPUUtilization&quot;, &quot;InstanceId&quot;, &quot;i-xxx&quot;]</span>
<span class="s1">                    ],</span>
<span class="s1">                    &quot;title&quot;: &quot;EC2 CPU&quot;,</span>
<span class="s1">                    &quot;period&quot;: 300</span>
<span class="s1">                }</span>
<span class="s1">            }</span>
<span class="s1">        ]</span>
<span class="s1">    }&#39;</span>
</code></pre></div>

<hr />
<h2 id="3-aws-cloudwatch-logs">3. AWS CloudWatch Logs<a class="header-link" href="#3-aws-cloudwatch-logs" title="Permanent link">&para;</a></h2>
<h3 id="31-log-group-management">3.1 Log Group Management<a class="header-link" href="#31-log-group-management" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create log group</span>
aws<span class="w"> </span>logs<span class="w"> </span>create-log-group<span class="w"> </span>--log-group-name<span class="w"> </span>/myapp/production

<span class="c1"># Set retention policy</span>
aws<span class="w"> </span>logs<span class="w"> </span>put-retention-policy<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log-group-name<span class="w"> </span>/myapp/production<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--retention-in-days<span class="w"> </span><span class="m">30</span>

<span class="c1"># List log streams</span>
aws<span class="w"> </span>logs<span class="w"> </span>describe-log-streams<span class="w"> </span>--log-group-name<span class="w"> </span>/myapp/production

<span class="c1"># Query logs</span>
aws<span class="w"> </span>logs<span class="w"> </span>filter-log-events<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log-group-name<span class="w"> </span>/myapp/production<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--filter-pattern<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--start-time<span class="w"> </span><span class="m">1704067200000</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--end-time<span class="w"> </span><span class="m">1704153600000</span>
</code></pre></div>

<h3 id="32-log-insights">3.2 Log Insights<a class="header-link" href="#32-log-insights" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Start log query</span>
aws<span class="w"> </span>logs<span class="w"> </span>start-query<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log-group-name<span class="w"> </span>/myapp/production<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--start-time<span class="w"> </span><span class="m">1704067200</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--end-time<span class="w"> </span><span class="m">1704153600</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query-string<span class="w"> </span><span class="s1">&#39;fields @timestamp, @message</span>
<span class="s1">        | filter @message like /ERROR/</span>
<span class="s1">        | sort @timestamp desc</span>
<span class="s1">        | limit 20&#39;</span>

<span class="c1"># Get query results</span>
aws<span class="w"> </span>logs<span class="w"> </span>get-query-results<span class="w"> </span>--query-id<span class="w"> </span>QUERY_ID
</code></pre></div>

<h3 id="33-send-logs-from-ec2">3.3 Send Logs from EC2<a class="header-link" href="#33-send-logs-from-ec2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Install CloudWatch Agent (Amazon Linux)</span>
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>amazon-cloudwatch-agent

<span class="c1"># Configuration file</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>/opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">{</span>
<span class="s">    &quot;logs&quot;: {</span>
<span class="s">        &quot;logs_collected&quot;: {</span>
<span class="s">            &quot;files&quot;: {</span>
<span class="s">                &quot;collect_list&quot;: [</span>
<span class="s">                    {</span>
<span class="s">                        &quot;file_path&quot;: &quot;/var/log/myapp/*.log&quot;,</span>
<span class="s">                        &quot;log_group_name&quot;: &quot;/myapp/production&quot;,</span>
<span class="s">                        &quot;log_stream_name&quot;: &quot;{instance_id}&quot;</span>
<span class="s">                    }</span>
<span class="s">                ]</span>
<span class="s">            }</span>
<span class="s">        }</span>
<span class="s">    }</span>
<span class="s">}</span>
<span class="s">EOF</span>

<span class="c1"># Start agent</span>
sudo<span class="w"> </span>/opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-a<span class="w"> </span>fetch-config<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-m<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-c<span class="w"> </span>file:/opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s
</code></pre></div>

<hr />
<h2 id="4-gcp-cloud-monitoring">4. GCP Cloud Monitoring<a class="header-link" href="#4-gcp-cloud-monitoring" title="Permanent link">&para;</a></h2>
<h3 id="41-metrics">4.1 Metrics<a class="header-link" href="#41-metrics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List metrics</span>
gcloud<span class="w"> </span>monitoring<span class="w"> </span>metrics<span class="w"> </span>list<span class="w"> </span>--filter<span class="o">=</span><span class="s2">&quot;metric.type:compute.googleapis.com&quot;</span>

<span class="c1"># Read metric data (limited in gcloud, API/console recommended)</span>
gcloud<span class="w"> </span>monitoring<span class="w"> </span>metrics<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="s2">&quot;compute.googleapis.com/instance/cpu/utilization&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--project<span class="o">=</span>PROJECT_ID
</code></pre></div>

<p><strong>Key Metrics:</strong></p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Metric</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Compute</td>
<td>cpu/utilization</td>
<td>CPU usage</td>
</tr>
<tr>
<td>Compute</td>
<td>network/received_bytes</td>
<td>Received traffic</td>
</tr>
<tr>
<td>Cloud SQL</td>
<td>database/disk/utilization</td>
<td>Disk usage</td>
</tr>
<tr>
<td>Cloud Run</td>
<td>request_count</td>
<td>Request count</td>
</tr>
<tr>
<td>GKE</td>
<td>node/cpu/utilization</td>
<td>Node CPU</td>
</tr>
</tbody>
</table>
<h3 id="42-alerting-policies">4.2 Alerting Policies<a class="header-link" href="#42-alerting-policies" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create notification channel (email)</span>
gcloud<span class="w"> </span>alpha<span class="w"> </span>monitoring<span class="w"> </span>channels<span class="w"> </span>create<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--display-name<span class="o">=</span><span class="s2">&quot;Email Alerts&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--type<span class="o">=</span>email<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--channel-labels<span class="o">=</span><span class="nv">email_address</span><span class="o">=</span>admin@example.com

<span class="c1"># Create alerting policy</span>
gcloud<span class="w"> </span>alpha<span class="w"> </span>monitoring<span class="w"> </span>policies<span class="w"> </span>create<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--display-name<span class="o">=</span><span class="s2">&quot;High CPU Alert&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--condition-display-name<span class="o">=</span><span class="s2">&quot;CPU &gt; 80%&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--condition-filter<span class="o">=</span><span class="s1">&#39;metric.type=&quot;compute.googleapis.com/instance/cpu/utilization&quot;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--condition-threshold-value<span class="o">=</span><span class="m">0</span>.8<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--condition-threshold-comparison<span class="o">=</span>COMPARISON_GT<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--condition-threshold-duration<span class="o">=</span>300s<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--notification-channels<span class="o">=</span>projects/PROJECT/notificationChannels/CHANNEL_ID
</code></pre></div>

<hr />
<h2 id="5-gcp-cloud-logging">5. GCP Cloud Logging<a class="header-link" href="#5-gcp-cloud-logging" title="Permanent link">&para;</a></h2>
<h3 id="51-log-queries">5.1 Log Queries<a class="header-link" href="#51-log-queries" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Query logs</span>
gcloud<span class="w"> </span>logging<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="s1">&#39;resource.type=&quot;gce_instance&quot;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--limit<span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--format<span class="o">=</span>json

<span class="c1"># Error logs only</span>
gcloud<span class="w"> </span>logging<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="s1">&#39;severity&gt;=ERROR&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--limit<span class="o">=</span><span class="m">20</span>

<span class="c1"># Specific time range</span>
gcloud<span class="w"> </span>logging<span class="w"> </span><span class="nb">read</span><span class="w"> </span><span class="s1">&#39;timestamp&gt;=&quot;2024-01-01T00:00:00Z&quot;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--limit<span class="o">=</span><span class="m">100</span>

<span class="c1"># Create log sink (export to Cloud Storage)</span>
gcloud<span class="w"> </span>logging<span class="w"> </span>sinks<span class="w"> </span>create<span class="w"> </span>my-sink<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>storage.googleapis.com/my-log-bucket<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log-filter<span class="o">=</span><span class="s1">&#39;resource.type=&quot;gce_instance&quot;&#39;</span>
</code></pre></div>

<h3 id="52-log-based-metrics">5.2 Log-based Metrics<a class="header-link" href="#52-log-based-metrics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create error count metric</span>
gcloud<span class="w"> </span>logging<span class="w"> </span>metrics<span class="w"> </span>create<span class="w"> </span>error-count<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--description<span class="o">=</span><span class="s2">&quot;Count of errors&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log-filter<span class="o">=</span><span class="s1">&#39;severity&gt;=ERROR&#39;</span>

<span class="c1"># List metrics</span>
gcloud<span class="w"> </span>logging<span class="w"> </span>metrics<span class="w"> </span>list
</code></pre></div>

<hr />
<h2 id="6-cost-management">6. Cost Management<a class="header-link" href="#6-cost-management" title="Permanent link">&para;</a></h2>
<h3 id="61-aws-cost-explorer">6.1 AWS Cost Explorer<a class="header-link" href="#61-aws-cost-explorer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Query monthly cost</span>
aws<span class="w"> </span>ce<span class="w"> </span>get-cost-and-usage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--time-period<span class="w"> </span><span class="nv">Start</span><span class="o">=</span><span class="m">2024</span>-01-01,End<span class="o">=</span><span class="m">2024</span>-01-31<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--granularity<span class="w"> </span>MONTHLY<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metrics<span class="w"> </span>BlendedCost<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--group-by<span class="w"> </span><span class="nv">Type</span><span class="o">=</span>DIMENSION,Key<span class="o">=</span>SERVICE

<span class="c1"># Cost by service</span>
aws<span class="w"> </span>ce<span class="w"> </span>get-cost-and-usage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--time-period<span class="w"> </span><span class="nv">Start</span><span class="o">=</span><span class="m">2024</span>-01-01,End<span class="o">=</span><span class="m">2024</span>-01-31<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--granularity<span class="w"> </span>MONTHLY<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metrics<span class="w"> </span>UnblendedCost<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--group-by<span class="w"> </span><span class="nv">Type</span><span class="o">=</span>DIMENSION,Key<span class="o">=</span>SERVICE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="w"> </span>table
</code></pre></div>

<h3 id="62-aws-budgets">6.2 AWS Budgets<a class="header-link" href="#62-aws-budgets" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create monthly budget</span>
aws<span class="w"> </span>budgets<span class="w"> </span>create-budget<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--account-id<span class="w"> </span><span class="m">123456789012</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--budget<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">        &quot;BudgetName&quot;: &quot;Monthly-100USD&quot;,</span>
<span class="s1">        &quot;BudgetLimit&quot;: {&quot;Amount&quot;: &quot;100&quot;, &quot;Unit&quot;: &quot;USD&quot;},</span>
<span class="s1">        &quot;TimeUnit&quot;: &quot;MONTHLY&quot;,</span>
<span class="s1">        &quot;BudgetType&quot;: &quot;COST&quot;</span>
<span class="s1">    }&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--notifications-with-subscribers<span class="w"> </span><span class="s1">&#39;[</span>
<span class="s1">        {</span>
<span class="s1">            &quot;Notification&quot;: {</span>
<span class="s1">                &quot;NotificationType&quot;: &quot;ACTUAL&quot;,</span>
<span class="s1">                &quot;ComparisonOperator&quot;: &quot;GREATER_THAN&quot;,</span>
<span class="s1">                &quot;Threshold&quot;: 80,</span>
<span class="s1">                &quot;ThresholdType&quot;: &quot;PERCENTAGE&quot;</span>
<span class="s1">            },</span>
<span class="s1">            &quot;Subscribers&quot;: [</span>
<span class="s1">                {&quot;SubscriptionType&quot;: &quot;EMAIL&quot;, &quot;Address&quot;: &quot;admin@example.com&quot;}</span>
<span class="s1">            ]</span>
<span class="s1">        }</span>
<span class="s1">    ]&#39;</span>

<span class="c1"># List budgets</span>
aws<span class="w"> </span>budgets<span class="w"> </span>describe-budgets<span class="w"> </span>--account-id<span class="w"> </span><span class="m">123456789012</span>
</code></pre></div>

<h3 id="63-gcp-billing">6.3 GCP Billing<a class="header-link" href="#63-gcp-billing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># List billing accounts</span>
gcloud<span class="w"> </span>billing<span class="w"> </span>accounts<span class="w"> </span>list

<span class="c1"># Link project to billing</span>
gcloud<span class="w"> </span>billing<span class="w"> </span>projects<span class="w"> </span>link<span class="w"> </span>PROJECT_ID<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--billing-account<span class="o">=</span>BILLING_ACCOUNT_ID

<span class="c1"># Create budget</span>
gcloud<span class="w"> </span>billing<span class="w"> </span>budgets<span class="w"> </span>create<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--billing-account<span class="o">=</span>BILLING_ACCOUNT_ID<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--display-name<span class="o">=</span><span class="s2">&quot;Monthly Budget&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--budget-amount<span class="o">=</span>100USD<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--threshold-rule<span class="o">=</span><span class="nv">percent</span><span class="o">=</span><span class="m">0</span>.8,basis<span class="o">=</span>CURRENT_SPEND<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--all-updates-rule-pubsub-topic<span class="o">=</span>projects/PROJECT/topics/budget-alerts
</code></pre></div>

<hr />
<h2 id="7-cost-optimization-strategies">7. Cost Optimization Strategies<a class="header-link" href="#7-cost-optimization-strategies" title="Permanent link">&para;</a></h2>
<h3 id="71-compute-optimization">7.1 Compute Optimization<a class="header-link" href="#71-compute-optimization" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>AWS</th>
<th>GCP</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reserved Instances</td>
<td>Reserved Instances</td>
<td>Committed Use</td>
</tr>
<tr>
<td>Spot/Preemptible</td>
<td>Spot Instances</td>
<td>Spot/Preemptible VMs</td>
</tr>
<tr>
<td>Auto Scaling</td>
<td>Auto Scaling</td>
<td>Managed Instance Groups</td>
</tr>
<tr>
<td>Right Sizing</td>
<td>AWS Compute Optimizer</td>
<td>Recommender</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="c1"># AWS recommendations</span>
aws<span class="w"> </span>compute-optimizer<span class="w"> </span>get-ec2-instance-recommendations

<span class="c1"># GCP recommendations</span>
gcloud<span class="w"> </span>recommender<span class="w"> </span>recommendations<span class="w"> </span>list<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--project<span class="o">=</span>PROJECT_ID<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--location<span class="o">=</span>global<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--recommender<span class="o">=</span>google.compute.instance.MachineTypeRecommender
</code></pre></div>

<h3 id="72-storage-optimization">7.2 Storage Optimization<a class="header-link" href="#72-storage-optimization" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># S3 storage class transitions</span>
aws<span class="w"> </span>s3api<span class="w"> </span>put-bucket-lifecycle-configuration<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--bucket<span class="w"> </span>my-bucket<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--lifecycle-configuration<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">        &quot;Rules&quot;: [{</span>
<span class="s1">            &quot;ID&quot;: &quot;Archive old data&quot;,</span>
<span class="s1">            &quot;Status&quot;: &quot;Enabled&quot;,</span>
<span class="s1">            &quot;Transitions&quot;: [</span>
<span class="s1">                {&quot;Days&quot;: 30, &quot;StorageClass&quot;: &quot;STANDARD_IA&quot;},</span>
<span class="s1">                {&quot;Days&quot;: 90, &quot;StorageClass&quot;: &quot;GLACIER&quot;}</span>
<span class="s1">            ]</span>
<span class="s1">        }]</span>
<span class="s1">    }&#39;</span>

<span class="c1"># GCP lifecycle policy</span>
gsutil<span class="w"> </span>lifecycle<span class="w"> </span><span class="nb">set</span><span class="w"> </span>lifecycle.json<span class="w"> </span>gs://my-bucket
</code></pre></div>

<h3 id="73-cost-savings-checklist">7.3 Cost Savings Checklist<a class="header-link" href="#73-cost-savings-checklist" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â–¡</span><span class="w"> </span><span class="n">Clean</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">unused</span><span class="w"> </span><span class="n">resources</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Stopped</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="p">(</span><span class="n">storage</span><span class="w"> </span><span class="n">costs</span><span class="w"> </span><span class="k">continue</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Unattached</span><span class="w"> </span><span class="n">EBS</span><span class="o">/</span><span class="n">PD</span><span class="w"> </span><span class="n">volumes</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Old</span><span class="w"> </span><span class="n">snapshots</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Unused</span><span class="w"> </span><span class="n">Elastic</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">IP</span>

<span class="err">â–¡</span><span class="w"> </span><span class="n">Right</span><span class="w"> </span><span class="n">sizing</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Analyze</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">utilization</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="n">over</span><span class="o">-</span><span class="n">provisioning</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Apply</span><span class="w"> </span><span class="n">rightsizing</span><span class="w"> </span><span class="n">recommendations</span>

<span class="err">â–¡</span><span class="w"> </span><span class="n">Reserved</span><span class="w"> </span><span class="n">capacity</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Reserved</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">workloads</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Review</span><span class="w"> </span><span class="mi">1</span><span class="o">-</span><span class="n">year</span><span class="o">/</span><span class="mi">3</span><span class="o">-</span><span class="n">year</span><span class="w"> </span><span class="n">commitments</span>

<span class="err">â–¡</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">spot</span><span class="o">/</span><span class="n">preemptible</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Batch</span><span class="w"> </span><span class="n">jobs</span><span class="p">,</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="n">environments</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Interrupt</span><span class="o">-</span><span class="n">tolerant</span><span class="w"> </span><span class="n">workloads</span>

<span class="err">â–¡</span><span class="w"> </span><span class="n">Storage</span><span class="w"> </span><span class="n">optimization</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Apply</span><span class="w"> </span><span class="n">lifecycle</span><span class="w"> </span><span class="n">policies</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="k">class</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Clean</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">unnecessary</span><span class="w"> </span><span class="n">data</span>

<span class="err">â–¡</span><span class="w"> </span><span class="n">Network</span><span class="w"> </span><span class="n">costs</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Communicate</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">AZ</span><span class="o">/</span><span class="n">region</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">CDN</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Optimize</span><span class="w"> </span><span class="n">NAT</span><span class="w"> </span><span class="n">Gateway</span><span class="w"> </span><span class="n">traffic</span>
</code></pre></div>

<hr />
<h2 id="8-tag-based-cost-tracking">8. Tag-based Cost Tracking<a class="header-link" href="#8-tag-based-cost-tracking" title="Permanent link">&para;</a></h2>
<h3 id="81-tag-strategy">8.1 Tag Strategy<a class="header-link" href="#81-tag-strategy" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Terraform example</span>
<span class="nb">locals</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">common_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">Environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;production&quot;</span>
<span class="w">    </span><span class="na">Project</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myapp&quot;</span>
<span class="w">    </span><span class="na">CostCenter</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;engineering&quot;</span>
<span class="w">    </span><span class="na">Owner</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;team-a&quot;</span>
<span class="w">    </span><span class="na">ManagedBy</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_instance&quot;</span><span class="w"> </span><span class="nv">&quot;web&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="c1">  # ...</span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">local.common_tags</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="82-cost-allocation-tags">8.2 Cost Allocation Tags<a class="header-link" href="#82-cost-allocation-tags" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable AWS cost allocation tags (in Billing Console)</span>

<span class="c1"># Query cost by tag</span>
aws<span class="w"> </span>ce<span class="w"> </span>get-cost-and-usage<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--time-period<span class="w"> </span><span class="nv">Start</span><span class="o">=</span><span class="m">2024</span>-01-01,End<span class="o">=</span><span class="m">2024</span>-01-31<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--granularity<span class="w"> </span>MONTHLY<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--metrics<span class="w"> </span>BlendedCost<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--group-by<span class="w"> </span><span class="nv">Type</span><span class="o">=</span>TAG,Key<span class="o">=</span>Project

<span class="c1"># GCP cost by label (requires BigQuery export)</span>
SELECT
<span class="w">  </span>labels.key,
<span class="w">  </span>labels.value,
<span class="w">  </span>SUM<span class="o">(</span>cost<span class="o">)</span><span class="w"> </span>as<span class="w"> </span>total_cost
FROM<span class="w"> </span><span class="sb">`</span>billing_export.gcp_billing_export_v1_*<span class="sb">`</span>
CROSS<span class="w"> </span>JOIN<span class="w"> </span>UNNEST<span class="o">(</span>labels<span class="o">)</span><span class="w"> </span>as<span class="w"> </span>labels
GROUP<span class="w"> </span>BY<span class="w"> </span><span class="m">1</span>,<span class="w"> </span><span class="m">2</span>
ORDER<span class="w"> </span>BY<span class="w"> </span>total_cost<span class="w"> </span>DESC
</code></pre></div>

<hr />
<h2 id="9-dashboard-example">9. Dashboard Example<a class="header-link" href="#9-dashboard-example" title="Permanent link">&para;</a></h2>
<h3 id="91-operations-dashboard-layout">9.1 Operations Dashboard Layout<a class="header-link" href="#91-operations-dashboard-layout" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Operations</span><span class="w"> </span><span class="n">Dashboard</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">CPU</span><span class="w"> </span><span class="k">Usage</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Memory</span><span class="w"> </span><span class="k">Usage</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Requests</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Response</span><span class="w"> </span><span class="nc">Time</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">Error</span><span class="w"> </span><span class="n">Rate</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Active</span><span class="w"> </span><span class="n">Conn</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="o">[</span><span class="n">Graph</span><span class="o">]</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">Recent</span><span class="w"> </span><span class="n">Alarms</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Incidents</span><span class="w">                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">Cost</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="p">(</span><span class="n">This</span><span class="w"> </span><span class="nf">Month</span><span class="p">)</span><span class="w">                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="10-alert-configuration-recommendations">10. Alert Configuration Recommendations<a class="header-link" href="#10-alert-configuration-recommendations" title="Permanent link">&para;</a></h2>
<h3 id="101-essential-alerts">10.1 Essential Alerts<a class="header-link" href="#101-essential-alerts" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Condition</th>
<th>Urgency</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>&gt; 80% (5min)</td>
<td>Medium</td>
</tr>
<tr>
<td>CPU</td>
<td>&gt; 95% (2min)</td>
<td>High</td>
</tr>
<tr>
<td>Memory</td>
<td>&gt; 85%</td>
<td>Medium</td>
</tr>
<tr>
<td>Disk</td>
<td>&gt; 80%</td>
<td>Medium</td>
</tr>
<tr>
<td>Disk</td>
<td>&gt; 90%</td>
<td>High</td>
</tr>
<tr>
<td>Health Check</td>
<td>Failed</td>
<td>High</td>
</tr>
<tr>
<td>Error Rate</td>
<td>&gt; 1%</td>
<td>Medium</td>
</tr>
<tr>
<td>Error Rate</td>
<td>&gt; 5%</td>
<td>High</td>
</tr>
<tr>
<td>Response Time</td>
<td>&gt; 2s</td>
<td>Medium</td>
</tr>
<tr>
<td>Cost</td>
<td>&gt; 80% budget</td>
<td>Medium</td>
</tr>
</tbody>
</table>
<h3 id="102-notification-channels">10.2 Notification Channels<a class="header-link" href="#102-notification-channels" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create AWS SNS topic</span>
aws<span class="w"> </span>sns<span class="w"> </span>create-topic<span class="w"> </span>--name<span class="w"> </span>alerts

<span class="c1"># Subscribe email</span>
aws<span class="w"> </span>sns<span class="w"> </span>subscribe<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--topic-arn<span class="w"> </span>arn:aws:sns:...:alerts<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--protocol<span class="w"> </span>email<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--notification-endpoint<span class="w"> </span>admin@example.com

<span class="c1"># Slack webhook (via Lambda)</span>
<span class="c1"># PagerDuty, Opsgenie, etc. integration</span>
</code></pre></div>

<hr />
<h2 id="11-next-steps">11. Next Steps<a class="header-link" href="#11-next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./09_Virtual_Private_Cloud.md">09_Virtual_Private_Cloud.md</a> - VPC Flow Logs</li>
<li><a href="./14_Security_Services.md">14_Security_Services.md</a> - Security Monitoring</li>
</ul>
<hr />
<h2 id="references">References<a class="header-link" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.aws.amazon.com/cloudwatch/">AWS CloudWatch Documentation</a></li>
<li><a href="https://docs.aws.amazon.com/cost-management/">AWS Cost Management</a></li>
<li><a href="https://cloud.google.com/monitoring/docs">GCP Cloud Monitoring</a></li>
<li><a href="https://cloud.google.com/billing/docs">GCP Billing</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Cloud_Computing/16_Infrastructure_as_Code.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Infrastructure as Code (Terraform)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Cloud_Computing/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}