{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From EDA to Statistical Inference - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        ÌïúÍµ≠Ïñ¥
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Data_Science/">Data Science</a>
    <span class="separator">/</span>
    <span class="current">From EDA to Statistical Inference</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>From EDA to Statistical Inference</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Data_Science/09_Data_Visualization_Advanced.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">9. Data Visualization Advanced (Seaborn)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Data_Science/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Data_Science/11_Probability_Review.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">11. Probability Review</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#learning-objectives">Learning Objectives</a></li>
<li><a href="#1-introduction-the-limits-of-just-looking">1. Introduction: The Limits of "Just Looking"</a><ul>
<li><a href="#the-detective-analogy">The Detective Analogy</a></li>
</ul>
</li>
<li><a href="#2-population-vs-sample-why-we-need-inference">2. Population vs Sample: Why We Need Inference</a><ul>
<li><a href="#key-concepts">Key Concepts</a></li>
<li><a href="#why-cant-we-just-use-the-sample-statistics">Why Can't We Just Use the Sample Statistics?</a></li>
</ul>
</li>
<li><a href="#3-the-statistical-thinking-shift">3. The Statistical Thinking Shift</a><ul>
<li><a href="#from-descriptive-to-inferential">From Descriptive to Inferential</a></li>
<li><a href="#the-inference-mindset">The Inference Mindset</a></li>
</ul>
</li>
<li><a href="#4-types-of-statistical-questions">4. Types of Statistical Questions</a><ul>
<li><a href="#41-estimation-questions">4.1 Estimation Questions</a></li>
<li><a href="#42-hypothesis-testing-questions">4.2 Hypothesis Testing Questions</a></li>
<li><a href="#43-prediction-questions">4.3 Prediction Questions</a></li>
<li><a href="#44-association-questions">4.4 Association Questions</a></li>
</ul>
</li>
<li><a href="#5-when-to-use-which-method-a-decision-guide">5. When to Use Which Method: A Decision Guide</a><ul>
<li><a href="#51-based-on-data-type">5.1 Based on Data Type</a></li>
<li><a href="#52-based-on-research-question">5.2 Based on Research Question</a></li>
</ul>
</li>
<li><a href="#6-connecting-eda-to-inference">6. Connecting EDA to Inference</a><ul>
<li><a href="#the-workflow-from-exploration-to-confirmation">The Workflow: From Exploration to Confirmation</a></li>
</ul>
</li>
<li><a href="#7-common-pitfalls-in-statistical-inference">7. Common Pitfalls in Statistical Inference</a><ul>
<li><a href="#71-p-hacking-data-dredging">7.1 p-Hacking (Data Dredging)</a></li>
<li><a href="#72-confusing-correlation-with-causation">7.2 Confusing Correlation with Causation</a></li>
<li><a href="#73-ignoring-assumptions">7.3 Ignoring Assumptions</a></li>
<li><a href="#74-confusing-statistical-and-practical-significance">7.4 Confusing Statistical and Practical Significance</a></li>
</ul>
</li>
<li><a href="#8-practical-example-from-eda-to-full-inference">8. Practical Example: From EDA to Full Inference</a><ul>
<li><a href="#scenario-e-commerce-ab-test">Scenario: E-commerce A/B Test</a></li>
</ul>
</li>
<li><a href="#9-exercises">9. Exercises</a><ul>
<li><a href="#exercise-1-choose-the-right-test">Exercise 1: Choose the Right Test</a></li>
<li><a href="#exercise-2-from-eda-to-hypothesis">Exercise 2: From EDA to Hypothesis</a></li>
<li><a href="#exercise-3-identify-the-pitfall">Exercise 3: Identify the Pitfall</a></li>
<li><a href="#exercise-4-complete-analysis-pipeline">Exercise 4: Complete Analysis Pipeline</a></li>
</ul>
</li>
<li><a href="#10-summary">10. Summary</a><ul>
<li><a href="#key-takeaways">Key Takeaways</a></li>
<li><a href="#the-bridge-youve-crossed">The Bridge You've Crossed</a></li>
<li><a href="#whats-next">What's Next?</a></li>
</ul>
</li>
<li><a href="#11-additional-resources">11. Additional Resources</a><ul>
<li><a href="#books">Books</a></li>
<li><a href="#online-resources">Online Resources</a></li>
<li><a href="#python-libraries">Python Libraries</a></li>
</ul>
</li>
<li><a href="#navigation">Navigation</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="from-eda-to-statistical-inference">From EDA to Statistical Inference<a class="header-link" href="#from-eda-to-statistical-inference" title="Permanent link">&para;</a></h1>
<h2 id="learning-objectives">Learning Objectives<a class="header-link" href="#learning-objectives" title="Permanent link">&para;</a></h2>
<ul>
<li>Understand the limitations of descriptive statistics and EDA</li>
<li>Distinguish between populations and samples and the need for inference</li>
<li>Recognize different types of statistical questions (estimation, testing, prediction)</li>
<li>Learn when to use which statistical method based on data type and research question</li>
<li>Connect EDA findings to formal statistical tests</li>
<li>Avoid common pitfalls in statistical inference</li>
<li>Transition from exploratory analysis to confirmatory analysis</li>
</ul>
<p><strong>Difficulty</strong>: ‚≠ê‚≠ê (Intermediate)</p>
<hr />
<h2 id="1-introduction-the-limits-of-just-looking">1. Introduction: The Limits of "Just Looking"<a class="header-link" href="#1-introduction-the-limits-of-just-looking" title="Permanent link">&para;</a></h2>
<p>In the previous lessons, we've learned powerful tools for <strong>Exploratory Data Analysis (EDA)</strong>:
- Data manipulation with Pandas
- Visualization with Matplotlib and Seaborn
- Descriptive statistics (mean, median, standard deviation)
- Pattern detection and outlier identification</p>
<p>But EDA alone cannot answer critical questions:
- "Is this difference <strong>real</strong> or just random noise?"
- "Can we <strong>generalize</strong> these findings beyond our dataset?"
- "How <strong>confident</strong> are we in our conclusions?"
- "What can we <strong>predict</strong> about future observations?"</p>
<p>This is where <strong>statistical inference</strong> comes in.</p>
<h3 id="the-detective-analogy">The Detective Analogy<a class="header-link" href="#the-detective-analogy" title="Permanent link">&para;</a></h3>
<p>Think of data science as detective work:
- <strong>EDA</strong> = gathering clues, examining the crime scene, forming hypotheses
- <strong>Statistical Inference</strong> = testing those hypotheses rigorously, building a case for court</p>
<p>EDA tells you <em>what happened in your data</em>. Inference tells you <em>what it means for the world beyond your data</em>.</p>
<hr />
<h2 id="2-population-vs-sample-why-we-need-inference">2. Population vs Sample: Why We Need Inference<a class="header-link" href="#2-population-vs-sample-why-we-need-inference" title="Permanent link">&para;</a></h2>
<h3 id="key-concepts">Key Concepts<a class="header-link" href="#key-concepts" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Population</strong>: The complete set of all individuals/items we want to study</li>
<li>Example: <em>All</em> customers of an e-commerce platform</li>
<li>
<p>Example: <em>All</em> possible measurements of a physical constant</p>
</li>
<li>
<p><strong>Sample</strong>: A subset of the population we actually observe</p>
</li>
<li>Example: 10,000 customers from our database</li>
<li>
<p>Example: 100 measurements in our experiment</p>
</li>
<li>
<p><strong>Sampling Variability</strong>: Different samples from the same population will give different results</p>
</li>
</ul>
<h3 id="why-cant-we-just-use-the-sample-statistics">Why Can't We Just Use the Sample Statistics?<a class="header-link" href="#why-cant-we-just-use-the-sample-statistics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>

<span class="c1"># Simulate a population: 1 million customers with average purchase $50, std $15</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">population</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1_000_000</span><span class="p">)</span>
<span class="n">true_mean</span> <span class="o">=</span> <span class="n">population</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;True population mean: $</span><span class="si">{</span><span class="n">true_mean</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Take 5 different samples of size 100</span>
<span class="n">sample_means</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">sample_mean</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">sample_means</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample_mean</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sample </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> mean: $</span><span class="si">{</span><span class="n">sample_mean</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Range of sample means: $</span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">sample_means</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to $</span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">sample_means</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="highlight"><pre><span></span><code>True population mean: $50.00
Sample 1 mean: $48.93
Sample 2 mean: $51.24
Sample 3 mean: $49.67
Sample 4 mean: $50.82
Sample 5 mean: $49.15

Range of sample means: $48.93 to $51.24
</code></pre></div>

<p><strong>Key insight</strong>: Each sample gives a <em>different</em> estimate! Statistical inference helps us:
1. Quantify this uncertainty
2. Make probabilistic statements about the population
3. Test hypotheses with controlled error rates</p>
<hr />
<h2 id="3-the-statistical-thinking-shift">3. The Statistical Thinking Shift<a class="header-link" href="#3-the-statistical-thinking-shift" title="Permanent link">&para;</a></h2>
<h3 id="from-descriptive-to-inferential">From Descriptive to Inferential<a class="header-link" href="#from-descriptive-to-inferential" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th><strong>Descriptive Statistics (EDA)</strong></th>
<th><strong>Inferential Statistics</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>"The sample mean is 50.2"</td>
<td>"The population mean is likely between 48.5 and 51.9 (95% CI)"</td>
</tr>
<tr>
<td>"Group A has a higher average"</td>
<td>"Group A's mean is significantly higher (p &lt; 0.01)"</td>
</tr>
<tr>
<td>"Variables X and Y correlate at 0.7"</td>
<td>"The population correlation is positive (p &lt; 0.001)"</td>
</tr>
<tr>
<td>"This pattern appears in our data"</td>
<td>"This pattern generalizes beyond our sample (AIC comparison)"</td>
</tr>
</tbody>
</table>
<h3 id="the-inference-mindset">The Inference Mindset<a class="header-link" href="#the-inference-mindset" title="Permanent link">&para;</a></h3>
<p>When moving from EDA to inference, ask:</p>
<ol>
<li><strong>What is my population of interest?</strong></li>
<li>
<p>Not just "my dataset" but the broader context</p>
</li>
<li>
<p><strong>How was my sample obtained?</strong></p>
</li>
<li>
<p>Random sampling? Convenience sample? This affects validity</p>
</li>
<li>
<p><strong>What assumptions am I making?</strong></p>
</li>
<li>
<p>Normality? Independence? Homogeneity of variance?</p>
</li>
<li>
<p><strong>What is my uncertainty?</strong></p>
</li>
<li>
<p>Confidence intervals, p-values, credible intervals</p>
</li>
<li>
<p><strong>What are the practical consequences of being wrong?</strong></p>
</li>
<li>Type I vs Type II errors, effect sizes</li>
</ol>
<hr />
<h2 id="4-types-of-statistical-questions">4. Types of Statistical Questions<a class="header-link" href="#4-types-of-statistical-questions" title="Permanent link">&para;</a></h2>
<h3 id="41-estimation-questions">4.1 Estimation Questions<a class="header-link" href="#41-estimation-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question</strong>: "What is the value of a population parameter?"</p>
<p><strong>Examples</strong>:
- What is the average customer lifetime value?
- What proportion of users click the button?</p>
<p><strong>Tools</strong>: Confidence intervals, point estimates</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: Estimate mean customer spend with confidence interval</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">sample_mean</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sample_se</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">sem</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>  <span class="c1"># Standard error of the mean</span>
<span class="n">ci_95</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">sample_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sample_se</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sample mean: $</span><span class="si">{</span><span class="n">sample_mean</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;95% Confidence Interval: $</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to $</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interpretation: We are 95% confident the true population mean is in this range&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="42-hypothesis-testing-questions">4.2 Hypothesis Testing Questions<a class="header-link" href="#42-hypothesis-testing-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question</strong>: "Is there a significant difference/effect?"</p>
<p><strong>Examples</strong>:
- Does treatment A work better than treatment B?
- Did the website redesign increase conversion rates?</p>
<p><strong>Tools</strong>: t-tests, chi-square tests, ANOVA, permutation tests</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: A/B test - did the new design increase conversion?</span>
<span class="c1"># Control group (old design)</span>
<span class="n">control_conversions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>  <span class="c1"># 10% conversion</span>
<span class="c1"># Treatment group (new design)</span>
<span class="n">treatment_conversions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>  <span class="c1"># 12% conversion</span>

<span class="c1"># Hypothesis test</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.stats.proportion</span><span class="w"> </span><span class="kn">import</span> <span class="n">proportions_ztest</span>

<span class="n">count</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">treatment_conversions</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">control_conversions</span><span class="o">.</span><span class="n">sum</span><span class="p">()])</span>
<span class="n">nobs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">treatment_conversions</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">control_conversions</span><span class="p">)])</span>

<span class="n">z_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">proportions_ztest</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">nobs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Treatment conversion: </span><span class="si">{</span><span class="n">treatment_conversions</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Control conversion: </span><span class="si">{</span><span class="n">control_conversions</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p-value: </span><span class="si">{</span><span class="n">p_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="s1">&#39;Significant&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Not significant&#39;</span><span class="si">}</span><span class="s2"> at Œ±=0.05&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="43-prediction-questions">4.3 Prediction Questions<a class="header-link" href="#43-prediction-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question</strong>: "What will happen for new observations?"</p>
<p><strong>Examples</strong>:
- What will this customer spend next month?
- How many units will we sell?</p>
<p><strong>Tools</strong>: Regression, time series models, machine learning</p>
<h3 id="44-association-questions">4.4 Association Questions<a class="header-link" href="#44-association-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question</strong>: "How are variables related?"</p>
<p><strong>Examples</strong>:
- Does education level correlate with income?
- Are variables independent or dependent?</p>
<p><strong>Tools</strong>: Correlation, regression, contingency tables</p>
<hr />
<h2 id="5-when-to-use-which-method-a-decision-guide">5. When to Use Which Method: A Decision Guide<a class="header-link" href="#5-when-to-use-which-method-a-decision-guide" title="Permanent link">&para;</a></h2>
<h3 id="51-based-on-data-type">5.1 Based on Data Type<a class="header-link" href="#51-based-on-data-type" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">‚îå‚îÄ‚îÄ‚îÄ</span><span class="w"> </span><span class="n">What</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">outcome</span><span class="w"> </span><span class="n">variable</span><span class="err">?</span><span class="w"> </span><span class="err">‚îÄ‚îÄ‚îÄ‚îê</span>
<span class="err">‚îÇ</span><span class="w">                                       </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="n">Continuous</span><span class="w"> </span><span class="p">(</span><span class="n">numeric</span><span class="p">)</span><span class="w">                 </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">One</span><span class="o">-</span><span class="n">sample</span><span class="w"> </span><span class="n">t</span><span class="o">-</span><span class="n">test</span><span class="w">    </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Two</span><span class="o">-</span><span class="n">sample</span><span class="w"> </span><span class="n">t</span><span class="o">-</span><span class="n">test</span><span class="w">   </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="mi">3</span><span class="o">+</span><span class="w"> </span><span class="n">groups</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">ANOVA</span><span class="w">                </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">Predictor</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Regression</span><span class="w"> </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">                                       </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="n">Categorical</span><span class="w"> </span><span class="p">(</span><span class="n">binary</span><span class="o">/</span><span class="n">count</span><span class="p">)</span><span class="w">           </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">proportion</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Proportion</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">proportions</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Chi</span><span class="o">-</span><span class="n">square</span><span class="w">     </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">Predictor</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Logistic</span><span class="w">   </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">                                       </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="n">Time</span><span class="w"> </span><span class="n">series</span><span class="w">                          </span><span class="err">‚îÇ</span>
<span class="err">‚îÇ</span><span class="w">  </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">Temporal</span><span class="w"> </span><span class="n">patterns</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">ARIMA</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="w">   </span><span class="err">‚îÇ</span>
<span class="err">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span>
</code></pre></div>

<h3 id="52-based-on-research-question">5.2 Based on Research Question<a class="header-link" href="#52-based-on-research-question" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">suggest_test</span><span class="p">(</span><span class="n">data_type</span><span class="p">,</span> <span class="n">num_groups</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">question_type</span><span class="o">=</span><span class="s2">&quot;difference&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple decision tree for choosing statistical test</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    data_type : str</span>
<span class="sd">        &#39;continuous&#39; or &#39;categorical&#39;</span>
<span class="sd">    num_groups : int</span>
<span class="sd">        Number of groups to compare</span>
<span class="sd">    paired : bool</span>
<span class="sd">        Are observations paired/matched?</span>
<span class="sd">    question_type : str</span>
<span class="sd">        &#39;difference&#39;, &#39;association&#39;, &#39;prediction&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">question_type</span> <span class="o">==</span> <span class="s2">&quot;association&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="s2">&quot;continuous&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Pearson/Spearman correlation, Linear regression&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Chi-square test of independence, Odds ratio&quot;</span>

    <span class="k">if</span> <span class="n">question_type</span> <span class="o">==</span> <span class="s2">&quot;prediction&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Regression (linear/logistic), Machine learning&quot;</span>

    <span class="c1"># For difference questions</span>
    <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="s2">&quot;continuous&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num_groups</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;One-sample t-test&quot;</span>
        <span class="k">elif</span> <span class="n">num_groups</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">paired</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;Paired t-test&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;Independent two-sample t-test (or Mann-Whitney if not normal)&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;One-way ANOVA (or Kruskal-Wallis if not normal)&quot;</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># categorical</span>
        <span class="k">if</span> <span class="n">num_groups</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;One-proportion z-test, Binomial test&quot;</span>
        <span class="k">elif</span> <span class="n">num_groups</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Two-proportion z-test, Chi-square test&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Chi-square test for multiple groups&quot;</span>

<span class="c1"># Examples</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suggest_test</span><span class="p">(</span><span class="s1">&#39;continuous&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="c1"># ‚Üí Independent two-sample t-test (or Mann-Whitney if not normal)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">suggest_test</span><span class="p">(</span><span class="s1">&#39;categorical&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">question_type</span><span class="o">=</span><span class="s1">&#39;difference&#39;</span><span class="p">))</span>
<span class="c1"># ‚Üí Two-proportion z-test, Chi-square test</span>

<span class="nb">print</span><span class="p">(</span><span class="n">suggest_test</span><span class="p">(</span><span class="s1">&#39;continuous&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">question_type</span><span class="o">=</span><span class="s1">&#39;association&#39;</span><span class="p">))</span>
<span class="c1"># ‚Üí Pearson/Spearman correlation, Linear regression</span>
</code></pre></div>

<hr />
<h2 id="6-connecting-eda-to-inference">6. Connecting EDA to Inference<a class="header-link" href="#6-connecting-eda-to-inference" title="Permanent link">&para;</a></h2>
<h3 id="the-workflow-from-exploration-to-confirmation">The Workflow: From Exploration to Confirmation<a class="header-link" href="#the-workflow-from-exploration-to-confirmation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="c1"># Step 1: EXPLORATORY - Load and visualize data</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span>
    <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>  <span class="c1"># Group A</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>   <span class="c1"># Group B</span>
    <span class="p">])</span>
<span class="p">})</span>

<span class="c1"># EDA: Visualize the difference</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;EDA: Boxplot suggests Group B scores higher&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;EDA: Distributions appear roughly normal&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;/tmp/eda_to_inference.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># EDA: Descriptive statistics</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== EXPLORATORY PHASE ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Observation: Group B has a higher mean (80.5 vs 74.9)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Question: Is this difference statistically significant?</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Step 2: CONFIRMATORY - Hypothesis test</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== INFERENTIAL PHASE ===&quot;</span><span class="p">)</span>

<span class="c1"># Check assumptions</span>
<span class="n">group_a</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>
<span class="n">group_b</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>

<span class="c1"># Normality test</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_norm_a</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">group_a</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_norm_b</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">group_b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Normality test (Shapiro-Wilk):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Group A: p=</span><span class="si">{</span><span class="n">p_norm_a</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> ‚Üí </span><span class="si">{</span><span class="s1">&#39;Normal&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_norm_a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Not normal&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Group B: p=</span><span class="si">{</span><span class="n">p_norm_b</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> ‚Üí </span><span class="si">{</span><span class="s1">&#39;Normal&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_norm_b</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Not normal&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Variance equality test</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_var</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">levene</span><span class="p">(</span><span class="n">group_a</span><span class="p">,</span> <span class="n">group_b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Equal variance test (Levene):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  p=</span><span class="si">{</span><span class="n">p_var</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> ‚Üí </span><span class="si">{</span><span class="s1">&#39;Equal variances&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_var</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Unequal variances&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Two-sample t-test</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">group_a</span><span class="p">,</span> <span class="n">group_b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Two-sample t-test:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  t-statistic: </span><span class="si">{</span><span class="n">t_stat</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  p-value: </span><span class="si">{</span><span class="n">p_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Result: </span><span class="si">{</span><span class="s1">&#39;Reject H0&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Fail to reject H0&#39;</span><span class="si">}</span><span class="s2"> at Œ±=0.05&quot;</span><span class="p">)</span>

<span class="c1"># Effect size (Cohen&#39;s d)</span>
<span class="n">pooled_std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">group_a</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">group_b</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">cohens_d</span> <span class="o">=</span> <span class="p">(</span><span class="n">group_b</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">group_a</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">pooled_std</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Cohen&#39;s d: </span><span class="si">{</span><span class="n">cohens_d</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="s1">&#39;small&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;medium&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;large&#39;</span><span class="si">}</span><span class="s2"> effect)&quot;</span><span class="p">)</span>

<span class="c1"># Confidence interval for difference</span>
<span class="n">diff_mean</span> <span class="o">=</span> <span class="n">group_b</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">group_a</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">se_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">group_a</span><span class="o">.</span><span class="n">var</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">group_a</span><span class="p">)</span> <span class="o">+</span> <span class="n">group_b</span><span class="o">.</span><span class="n">var</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">group_b</span><span class="p">))</span>
<span class="n">ci_diff</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">group_a</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">group_b</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">diff_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">se_diff</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  95% CI for difference: (</span><span class="si">{</span><span class="n">ci_diff</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ci_diff</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== CONCLUSION ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Group B scores are significantly higher than Group A (p=</span><span class="si">{</span><span class="n">p_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The mean difference is </span><span class="si">{</span><span class="n">diff_mean</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> points (95% CI: </span><span class="si">{</span><span class="n">ci_diff</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">ci_diff</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This represents a </span><span class="si">{</span><span class="p">(</span><span class="s1">&#39;small&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;medium&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;large&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> effect size.&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Key Takeaway</strong>: EDA guides your inference strategy:
- Histograms ‚Üí Check normality assumption
- Boxplots ‚Üí Identify appropriate test (parametric vs non-parametric)
- Scatter plots ‚Üí Inform regression choices
- Missing data patterns ‚Üí Handle before inference</p>
<hr />
<h2 id="7-common-pitfalls-in-statistical-inference">7. Common Pitfalls in Statistical Inference<a class="header-link" href="#7-common-pitfalls-in-statistical-inference" title="Permanent link">&para;</a></h2>
<h3 id="71-p-hacking-data-dredging">7.1 p-Hacking (Data Dredging)<a class="header-link" href="#71-p-hacking-data-dredging" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: Testing many hypotheses until you find p &lt; 0.05</p>
<div class="highlight"><pre><span></span><code><span class="c1"># BAD PRACTICE: Testing many variables without correction</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="n">num_tests</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">p_values</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_tests</span><span class="p">):</span>
    <span class="c1"># Generate random data (no real effect)</span>
    <span class="n">group1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">group2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">group1</span><span class="p">,</span> <span class="n">group2</span><span class="p">)</span>
    <span class="n">p_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Test </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: p=</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> üéâ Significant!&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Found </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">p_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> &#39;significant&#39; results out of </span><span class="si">{</span><span class="n">num_tests</span><span class="si">}</span><span class="s2"> tests&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;But all data was random! This is Type I error (false positive)&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Solution</strong>:
- Use multiple testing correction (Bonferroni, Benjamini-Hochberg)
- Pre-register hypotheses
- Report all tests performed</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">statsmodels.stats.multitest</span><span class="w"> </span><span class="kn">import</span> <span class="n">multipletests</span>

<span class="c1"># Correct for multiple comparisons</span>
<span class="n">rejected</span><span class="p">,</span> <span class="n">p_corrected</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">multipletests</span><span class="p">(</span><span class="n">p_values</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;bonferroni&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">After Bonferroni correction: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">rejected</span><span class="p">)</span><span class="si">}</span><span class="s2"> significant results&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="72-confusing-correlation-with-causation">7.2 Confusing Correlation with Causation<a class="header-link" href="#72-confusing-correlation-with-causation" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: "X and Y correlate, therefore X causes Y"</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Spurious correlation example</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">years</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2020</span><span class="p">)</span>
<span class="n">ice_cream_sales</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">years</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">years</span><span class="p">))</span> <span class="o">-</span> <span class="mi">4000</span>
<span class="n">drowning_deaths</span> <span class="o">=</span> <span class="mi">50</span> <span class="o">+</span> <span class="mi">1</span><span class="o">*</span><span class="n">years</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">years</span><span class="p">))</span> <span class="o">-</span> <span class="mi">2000</span>

<span class="n">corr</span><span class="p">,</span> <span class="n">p_corr</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">pearsonr</span><span class="p">(</span><span class="n">ice_cream_sales</span><span class="p">,</span> <span class="n">drowning_deaths</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Correlation between ice cream sales and drowning deaths: r=</span><span class="si">{</span><span class="n">corr</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">, p=</span><span class="si">{</span><span class="n">p_corr</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Conclusion: Ice cream causes drowning? NO!&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Explanation: Both are caused by a confounding variable (summer/temperature)&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Remember</strong>:
- Correlation ‚â† Causation
- Need experimental design (randomization, control) for causal claims
- Consider confounding variables, reverse causation, third variables</p>
<h3 id="73-ignoring-assumptions">7.3 Ignoring Assumptions<a class="header-link" href="#73-ignoring-assumptions" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: Using tests without checking their assumptions</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: t-test on heavily skewed data</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">skewed_data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">skewed_data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># Wrong: Using t-test without checking normality</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_ttest</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">skewed_data1</span><span class="p">,</span> <span class="n">skewed_data2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;t-test p-value: </span><span class="si">{</span><span class="n">p_ttest</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Right: Check assumption first</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_norm</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">skewed_data1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shapiro-Wilk test for normality: p=</span><span class="si">{</span><span class="n">p_norm</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">p_norm</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data is not normal! Use Mann-Whitney U test instead&quot;</span><span class="p">)</span>
    <span class="n">u_stat</span><span class="p">,</span> <span class="n">p_mann</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">mannwhitneyu</span><span class="p">(</span><span class="n">skewed_data1</span><span class="p">,</span> <span class="n">skewed_data2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mann-Whitney U test p-value: </span><span class="si">{</span><span class="n">p_mann</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="74-confusing-statistical-and-practical-significance">7.4 Confusing Statistical and Practical Significance<a class="header-link" href="#74-confusing-statistical-and-practical-significance" title="Permanent link">&para;</a></h3>
<p><strong>Problem</strong>: "p &lt; 0.05, therefore it's important!"</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Large sample can make tiny effects &quot;significant&quot;</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">large_group1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">large_group2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">100.5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>  <span class="c1"># Tiny difference</span>

<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">large_group1</span><span class="p">,</span> <span class="n">large_group2</span><span class="p">)</span>
<span class="n">cohens_d</span> <span class="o">=</span> <span class="p">(</span><span class="n">large_group2</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">large_group1</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">large_group1</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean difference: </span><span class="si">{</span><span class="n">large_group2</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">large_group1</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p-value: </span><span class="si">{</span><span class="n">p_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> ‚Üí Statistically significant!&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cohen&#39;s d: </span><span class="si">{</span><span class="n">cohens_d</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> ‚Üí Practically negligible (tiny effect)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Always report effect sizes, not just p-values!&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="8-practical-example-from-eda-to-full-inference">8. Practical Example: From EDA to Full Inference<a class="header-link" href="#8-practical-example-from-eda-to-full-inference" title="Permanent link">&para;</a></h2>
<h3 id="scenario-e-commerce-ab-test">Scenario: E-commerce A/B Test<a class="header-link" href="#scenario-e-commerce-ab-test" title="Permanent link">&para;</a></h3>
<p>We want to know if a new checkout flow increases purchase amounts.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Generate realistic data</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">200</span>

<span class="n">data_ab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">),</span>
    <span class="s1">&#39;variant&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;control&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;treatment&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;purchase_amount&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>  <span class="c1"># Control</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="mf">2.3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>  <span class="c1"># Treatment (slightly higher)</span>
    <span class="p">])</span>
<span class="p">})</span>

<span class="c1"># Add some confounding variable: user tenure</span>
<span class="n">data_ab</span><span class="p">[</span><span class="s1">&#39;tenure_months&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span><span class="n">lam</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== STAGE 1: EXPLORATORY DATA ANALYSIS ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># 1. Summary statistics</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_ab</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;variant&#39;</span><span class="p">)[</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="c1"># 2. Visualize</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Histogram</span>
<span class="n">data_ab</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;variant&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Control Group&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Treatment Group&#39;</span><span class="p">)</span>

<span class="c1"># Boxplot</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">([</span>
    <span class="n">data_ab</span><span class="p">[</span><span class="n">data_ab</span><span class="p">[</span><span class="s1">&#39;variant&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;control&#39;</span><span class="p">][</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">],</span>
    <span class="n">data_ab</span><span class="p">[</span><span class="n">data_ab</span><span class="p">[</span><span class="s1">&#39;variant&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;treatment&#39;</span><span class="p">][</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">]</span>
<span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span> <span class="s1">&#39;Treatment&#39;</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Purchase Amount&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Distribution Comparison&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;/tmp/ab_test_eda.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== STAGE 2: FORMULATE STATISTICAL QUESTION ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Research Question: Does the new checkout flow (treatment) increase purchase amounts?&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Null Hypothesis (H0): Œº_treatment = Œº_control&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alternative Hypothesis (H1): Œº_treatment &gt; Œº_control (one-tailed)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Significance level: Œ± = 0.05&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== STAGE 3: CHECK ASSUMPTIONS ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">control</span> <span class="o">=</span> <span class="n">data_ab</span><span class="p">[</span><span class="n">data_ab</span><span class="p">[</span><span class="s1">&#39;variant&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;control&#39;</span><span class="p">][</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">]</span>
<span class="n">treatment</span> <span class="o">=</span> <span class="n">data_ab</span><span class="p">[</span><span class="n">data_ab</span><span class="p">[</span><span class="s1">&#39;variant&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;treatment&#39;</span><span class="p">][</span><span class="s1">&#39;purchase_amount&#39;</span><span class="p">]</span>

<span class="c1"># Normality (note: with n=100, CLT applies, but let&#39;s check)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_norm_c</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">control</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_norm_t</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">shapiro</span><span class="p">(</span><span class="n">treatment</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Normality (Shapiro-Wilk):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Control: p=</span><span class="si">{</span><span class="n">p_norm_c</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Treatment: p=</span><span class="si">{</span><span class="n">p_norm_t</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Üí Data is </span><span class="si">{</span><span class="s1">&#39;normal&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">min</span><span class="p">(</span><span class="n">p_norm_c</span><span class="p">,</span><span class="w"> </span><span class="n">p_norm_t</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;not normal, but n=100 so CLT applies&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Equal variance</span>
<span class="n">_</span><span class="p">,</span> <span class="n">p_var</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">levene</span><span class="p">(</span><span class="n">control</span><span class="p">,</span> <span class="n">treatment</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Equal variance (Levene): p=</span><span class="si">{</span><span class="n">p_var</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Üí Variances are </span><span class="si">{</span><span class="s1">&#39;equal&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_var</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;unequal&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== STAGE 4: CONDUCT INFERENCE ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Two-sample t-test (one-tailed)</span>
<span class="n">t_stat</span><span class="p">,</span> <span class="n">p_twotail</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">treatment</span><span class="p">,</span> <span class="n">control</span><span class="p">,</span> <span class="n">equal_var</span><span class="o">=</span><span class="p">(</span><span class="n">p_var</span><span class="o">&gt;</span><span class="mf">0.05</span><span class="p">))</span>
<span class="n">p_onetail</span> <span class="o">=</span> <span class="n">p_twotail</span> <span class="o">/</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">t_stat</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">p_twotail</span> <span class="o">/</span> <span class="mi">2</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Two-sample t-test (one-tailed):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  t-statistic: </span><span class="si">{</span><span class="n">t_stat</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  p-value: </span><span class="si">{</span><span class="n">p_onetail</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Decision: </span><span class="si">{</span><span class="s1">&#39;Reject H0&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">p_onetail</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Fail to reject H0&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Effect size</span>
<span class="n">cohens_d</span> <span class="o">=</span> <span class="p">(</span><span class="n">treatment</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">control</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">control</span><span class="o">.</span><span class="n">var</span><span class="p">()</span> <span class="o">+</span> <span class="n">treatment</span><span class="o">.</span><span class="n">var</span><span class="p">())</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Effect size (Cohen&#39;s d): </span><span class="si">{</span><span class="n">cohens_d</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Confidence interval</span>
<span class="n">diff_mean</span> <span class="o">=</span> <span class="n">treatment</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">control</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">se_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">control</span><span class="o">.</span><span class="n">var</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">control</span><span class="p">)</span> <span class="o">+</span> <span class="n">treatment</span><span class="o">.</span><span class="n">var</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">treatment</span><span class="p">))</span>
<span class="n">ci_95</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">control</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">treatment</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">diff_mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">se_diff</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;95% CI for difference: ($</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, $</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># Practical significance</span>
<span class="n">revenue_increase</span> <span class="o">=</span> <span class="p">(</span><span class="n">diff_mean</span> <span class="o">/</span> <span class="n">control</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Revenue increase: </span><span class="si">{</span><span class="n">revenue_increase</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== STAGE 5: REPORT RESULTS ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The treatment group had significantly higher purchase amounts than the control group&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(M_treatment = $</span><span class="si">{</span><span class="n">treatment</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, M_control = $</span><span class="si">{</span><span class="n">control</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, t(</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">control</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">treatment</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="si">}</span><span class="s2">) = </span><span class="si">{</span><span class="n">t_stat</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, p = </span><span class="si">{</span><span class="n">p_onetail</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The mean difference was $</span><span class="si">{</span><span class="n">diff_mean</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> (95% CI: $</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to $</span><span class="si">{</span><span class="n">ci_95</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">),&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;representing a </span><span class="si">{</span><span class="n">revenue_increase</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% increase in average purchase amount.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The effect size was </span><span class="si">{</span><span class="p">(</span><span class="s1">&#39;small&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">0.5</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;medium&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">abs</span><span class="p">(</span><span class="n">cohens_d</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">0.8</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;large&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> (Cohen&#39;s d = </span><span class="si">{</span><span class="n">cohens_d</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="9-exercises">9. Exercises<a class="header-link" href="#9-exercises" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-choose-the-right-test">Exercise 1: Choose the Right Test<a class="header-link" href="#exercise-1-choose-the-right-test" title="Permanent link">&para;</a></h3>
<p>For each scenario, identify the appropriate statistical test:</p>
<p>a) A company wants to know if customer satisfaction scores (1-10) differ between three service centers.</p>
<p>b) A researcher wants to test if the proportion of left-handed people differs between men and women.</p>
<p>c) A data scientist wants to predict house prices based on square footage, number of bedrooms, and location.</p>
<p>d) An analyst wants to know if there's a relationship between hours studied and exam scores.</p>
<p><strong>Answers</strong>:
- a) One-way ANOVA (continuous outcome, 3 groups)
- b) Two-proportion z-test or Chi-square test (categorical outcome, 2 groups)
- c) Multiple linear regression (continuous outcome, multiple predictors)
- d) Pearson correlation / Simple linear regression (two continuous variables)</p>
<h3 id="exercise-2-from-eda-to-hypothesis">Exercise 2: From EDA to Hypothesis<a class="header-link" href="#exercise-2-from-eda-to-hypothesis" title="Permanent link">&para;</a></h3>
<p>You perform EDA on employee data and notice:
- The median salary for Department A is $75,000
- The median salary for Department B is $82,000
- Boxplots show some overlap but Department B appears higher</p>
<p><strong>Questions</strong>:
1. What is the population of interest?
2. Formulate a null and alternative hypothesis
3. What test would you use? What assumptions would you check?
4. If p = 0.03, what would you conclude?
5. What additional information would help assess practical significance?</p>
<h3 id="exercise-3-identify-the-pitfall">Exercise 3: Identify the Pitfall<a class="header-link" href="#exercise-3-identify-the-pitfall" title="Permanent link">&para;</a></h3>
<p>Identify the statistical pitfall in each scenario:</p>
<p>a) A researcher tests 50 different variables and reports only the 3 that had p &lt; 0.05.</p>
<p>b) A study finds that coffee consumption correlates with heart disease and concludes coffee causes heart disease.</p>
<p>c) A company reports "statistically significant improvement" (p=0.04) but the actual increase in conversion rate was 0.1%.</p>
<p>d) An analyst uses a t-test on heavily right-skewed income data without checking assumptions.</p>
<p><strong>Answers</strong>:
- a) p-hacking / multiple comparisons problem
- b) Confusing correlation with causation
- c) Confusing statistical and practical significance
- d) Violating test assumptions</p>
<h3 id="exercise-4-complete-analysis-pipeline">Exercise 4: Complete Analysis Pipeline<a class="header-link" href="#exercise-4-complete-analysis-pipeline" title="Permanent link">&para;</a></h3>
<p>Using the tips dataset (available in seaborn), perform a complete analysis:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="n">tips</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;tips&#39;</span><span class="p">)</span>

<span class="c1"># Your task:</span>
<span class="c1"># 1. EDA: Explore if smokers tip differently than non-smokers</span>
<span class="c1"># 2. Formulate hypothesis</span>
<span class="c1"># 3. Check assumptions</span>
<span class="c1"># 4. Conduct appropriate test</span>
<span class="c1"># 5. Report results with effect size and confidence interval</span>
</code></pre></div>

<hr />
<h2 id="10-summary">10. Summary<a class="header-link" href="#10-summary" title="Permanent link">&para;</a></h2>
<h3 id="key-takeaways">Key Takeaways<a class="header-link" href="#key-takeaways" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>EDA is exploration; Inference is confirmation</strong></li>
<li>
<p>EDA generates hypotheses; inference tests them rigorously</p>
</li>
<li>
<p><strong>Samples are imperfect windows into populations</strong></p>
</li>
<li>Sampling variability means we need probabilistic statements</li>
<li>
<p>Confidence intervals and p-values quantify uncertainty</p>
</li>
<li>
<p><strong>Different questions require different methods</strong></p>
</li>
<li>Estimation ‚Üí Confidence intervals</li>
<li>Testing ‚Üí Hypothesis tests (t-test, ANOVA, chi-square, etc.)</li>
<li>Prediction ‚Üí Regression, ML models</li>
<li>
<p>Association ‚Üí Correlation, contingency tables</p>
</li>
<li>
<p><strong>Always check assumptions</strong></p>
</li>
<li>Normality, independence, equal variance</li>
<li>
<p>Use robust alternatives when assumptions fail</p>
</li>
<li>
<p><strong>Report effect sizes, not just p-values</strong></p>
</li>
<li>Statistical significance ‚â† Practical significance</li>
<li>
<p>Context matters for interpretation</p>
</li>
<li>
<p><strong>Beware common pitfalls</strong></p>
</li>
<li>Multiple testing without correction</li>
<li>Correlation ‚â† Causation</li>
<li>Violating assumptions</li>
<li>Overinterpreting p-values</li>
</ol>
<h3 id="the-bridge-youve-crossed">The Bridge You've Crossed<a class="header-link" href="#the-bridge-youve-crossed" title="Permanent link">&para;</a></h3>
<p>You now understand:
- ‚úÖ Why we can't just "trust the data" without inference
- ‚úÖ How to move from descriptive patterns to formal statistical questions
- ‚úÖ When to use which statistical method
- ‚úÖ How to connect EDA findings to rigorous tests
- ‚úÖ Common mistakes to avoid</p>
<h3 id="whats-next">What's Next?<a class="header-link" href="#whats-next" title="Permanent link">&para;</a></h3>
<p>The remaining lessons will dive deeper into:
- <strong>L11-L13</strong>: Probability foundations and distributions
- <strong>L14-L16</strong>: Hypothesis testing frameworks and power analysis
- <strong>L17-L18</strong>: Regression and model evaluation
- <strong>L19-L21</strong>: Bayesian inference
- <strong>L22-L24</strong>: Time series and advanced topics</p>
<p>You're now ready to move beyond "what the data shows" to "what we can conclude with confidence."</p>
<hr />
<h2 id="11-additional-resources">11. Additional Resources<a class="header-link" href="#11-additional-resources" title="Permanent link">&para;</a></h2>
<h3 id="books">Books<a class="header-link" href="#books" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>"The Art of Statistics"</strong> by David Spiegelhalter - accessible introduction to statistical thinking</li>
<li><strong>"Statistical Rethinking"</strong> by Richard McElreath - Bayesian approach with intuitive examples</li>
<li><strong>"Naked Statistics"</strong> by Charles Wheelan - conceptual understanding without heavy math</li>
</ul>
<h3 id="online-resources">Online Resources<a class="header-link" href="#online-resources" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://seeing-theory.brown.edu/">Seeing Theory</a> - Visual introduction to probability and statistics</li>
<li><a href="https://statquest.org/">StatQuest</a> - Video explanations of statistical concepts</li>
<li><a href="https://stats.stackexchange.com/">Cross Validated</a> - Q&amp;A for statistics</li>
</ul>
<h3 id="python-libraries">Python Libraries<a class="header-link" href="#python-libraries" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>scipy.stats</strong>: Statistical tests and distributions</li>
<li><strong>statsmodels</strong>: Regression, hypothesis testing, time series</li>
<li><strong>pingouin</strong>: User-friendly statistical tests with effect sizes</li>
<li><strong>scikit-learn</strong>: Machine learning and predictive modeling</li>
</ul>
<hr />
<h2 id="navigation">Navigation<a class="header-link" href="#navigation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Previous</strong>: <a href="./09_Data_Visualization_Advanced.md">09_Data_Visualization_Advanced</a></li>
<li><strong>Next</strong>: <a href="./11_Probability_Review.md">11_Probability_Review</a></li>
<li><strong>Overview</strong>: <a href="./00_Overview.md">00_Overview</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Data_Science/09_Data_Visualization_Advanced.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">9. Data Visualization Advanced (Seaborn)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Data_Science/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Data_Science/11_Probability_Review.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">11. Probability Review</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">‚Üë</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}