{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ER Modeling - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Database_Theory/">Database Theory</a>
    <span class="separator">/</span>
    <span class="current">ER Modeling</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ER Modeling</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Database_Theory/03_Relational_Algebra.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Relational Algebra</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Database_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Database_Theory/05_Functional_Dependencies.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 05: Functional Dependencies</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#1-conceptual-design-overview">1. Conceptual Design Overview</a><ul>
<li><a href="#why-conceptual-design">Why Conceptual Design?</a></li>
<li><a href="#er-diagram-notation">ER Diagram Notation</a></li>
</ul>
</li>
<li><a href="#2-entity-types-and-entity-sets">2. Entity Types and Entity Sets</a><ul>
<li><a href="#entity">Entity</a></li>
<li><a href="#entity-type">Entity Type</a></li>
<li><a href="#entity-set">Entity Set</a></li>
<li><a href="#notation-in-er-diagrams">Notation in ER Diagrams</a></li>
</ul>
</li>
<li><a href="#3-attributes">3. Attributes</a><ul>
<li><a href="#simple-atomic-attribute">Simple (Atomic) Attribute</a></li>
<li><a href="#composite-attribute">Composite Attribute</a></li>
<li><a href="#multivalued-attribute">Multivalued Attribute</a></li>
<li><a href="#derived-attribute">Derived Attribute</a></li>
<li><a href="#key-attribute">Key Attribute</a></li>
<li><a href="#composite-key">Composite Key</a></li>
<li><a href="#null-values">NULL Values</a></li>
<li><a href="#attribute-summary">Attribute Summary</a></li>
<li><a href="#er-diagram-with-all-attribute-types">ER Diagram with All Attribute Types</a></li>
</ul>
</li>
<li><a href="#4-relationship-types">4. Relationship Types</a><ul>
<li><a href="#binary-relationships">Binary Relationships</a></li>
<li><a href="#ternary-relationships">Ternary Relationships</a></li>
<li><a href="#recursive-unary-relationships">Recursive (Unary) Relationships</a></li>
<li><a href="#relationship-attributes">Relationship Attributes</a></li>
<li><a href="#degree-of-a-relationship">Degree of a Relationship</a></li>
</ul>
</li>
<li><a href="#5-cardinality-constraints">5. Cardinality Constraints</a><ul>
<li><a href="#one-to-one-11">One-to-One (1:1)</a></li>
<li><a href="#one-to-many-1n">One-to-Many (1:N)</a></li>
<li><a href="#many-to-many-mn">Many-to-Many (M:N)</a></li>
<li><a href="#cardinality-in-er-diagrams">Cardinality in ER Diagrams</a></li>
<li><a href="#cardinality-constraint-summary">Cardinality Constraint Summary</a></li>
</ul>
</li>
<li><a href="#6-participation-constraints">6. Participation Constraints</a><ul>
<li><a href="#total-participation-mandatory">Total Participation (Mandatory)</a></li>
<li><a href="#partial-participation-optional">Partial Participation (Optional)</a></li>
<li><a href="#combining-cardinality-and-participation">Combining Cardinality and Participation</a></li>
<li><a href="#existence-dependency">Existence Dependency</a></li>
</ul>
</li>
<li><a href="#7-weak-entities">7. Weak Entities</a><ul>
<li><a href="#characteristics-of-weak-entities">Characteristics of Weak Entities</a></li>
<li><a href="#notation">Notation</a></li>
<li><a href="#example-employee-and-dependent">Example: Employee and Dependent</a></li>
<li><a href="#weak-entity-vs-strong-entity">Weak Entity vs. Strong Entity</a></li>
</ul>
</li>
<li><a href="#8-enhanced-er-eer-model">8. Enhanced ER (EER) Model</a><ul>
<li><a href="#specialization">Specialization</a></li>
<li><a href="#generalization">Generalization</a></li>
<li><a href="#specializationgeneralization-constraints">Specialization/Generalization Constraints</a></li>
<li><a href="#four-combinations">Four Combinations</a></li>
<li><a href="#attribute-inheritance">Attribute Inheritance</a></li>
<li><a href="#multiple-inheritance-and-category-union-type">Multiple Inheritance and Category (Union Type)</a></li>
</ul>
</li>
<li><a href="#9-er-to-relational-mapping-algorithm">9. ER-to-Relational Mapping Algorithm</a><ul>
<li><a href="#step-1-map-strong-entity-types">Step 1: Map Strong Entity Types</a></li>
<li><a href="#step-2-map-weak-entity-types">Step 2: Map Weak Entity Types</a></li>
<li><a href="#step-3-map-binary-11-relationship-types">Step 3: Map Binary 1:1 Relationship Types</a></li>
<li><a href="#step-4-map-binary-1n-relationship-types">Step 4: Map Binary 1:N Relationship Types</a></li>
<li><a href="#step-5-map-binary-mn-relationship-types">Step 5: Map Binary M:N Relationship Types</a></li>
<li><a href="#step-6-map-multivalued-attributes">Step 6: Map Multivalued Attributes</a></li>
<li><a href="#step-7-map-specializationgeneralization">Step 7: Map Specialization/Generalization</a></li>
<li><a href="#mapping-decision-table">Mapping Decision Table</a></li>
</ul>
</li>
<li><a href="#10-design-case-study-university-database">10. Design Case Study: University Database</a><ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#er-diagram-ascii">ER Diagram (ASCII)</a></li>
<li><a href="#refined-er-design">Refined ER Design</a></li>
<li><a href="#relational-schema-mapped">Relational Schema (Mapped)</a></li>
<li><a href="#schema-diagram-summary">Schema Diagram Summary</a></li>
</ul>
</li>
<li><a href="#11-common-pitfalls-and-best-practices">11. Common Pitfalls and Best Practices</a><ul>
<li><a href="#pitfall-1-fan-trap">Pitfall 1: Fan Trap</a></li>
<li><a href="#pitfall-2-chasm-trap">Pitfall 2: Chasm Trap</a></li>
<li><a href="#pitfall-3-overuse-of-multivalued-attributes">Pitfall 3: Overuse of Multivalued Attributes</a></li>
<li><a href="#pitfall-4-missing-relationship-attributes">Pitfall 4: Missing Relationship Attributes</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ul>
</li>
<li><a href="#12-exercises">12. Exercises</a><ul>
<li><a href="#basic-concepts">Basic Concepts</a></li>
<li><a href="#er-design">ER Design</a></li>
<li><a href="#cardinality-and-participation">Cardinality and Participation</a></li>
<li><a href="#weak-entities">Weak Entities</a></li>
<li><a href="#eer">EER</a></li>
<li><a href="#er-to-relational-mapping">ER-to-Relational Mapping</a></li>
<li><a href="#design-challenge">Design Challenge</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="er-modeling">ER Modeling<a class="header-link" href="#er-modeling" title="Permanent link">&para;</a></h1>
<p><strong>Previous</strong>: <a href="./03_Relational_Algebra.md">Relational Algebra</a> | <strong>Next</strong>: <a href="./05_Functional_Dependencies.md">Functional Dependencies</a></p>
<hr />
<p>The Entity-Relationship (ER) model, introduced by Peter Chen in 1976, is the most widely used approach for conceptual database design. It provides a graphical notation for representing the structure of data at a high level of abstraction, independent of any particular DBMS. This lesson covers the ER model, its Enhanced version (EER), and the systematic algorithm for converting an ER diagram into a relational schema.</p>
<h2 id="table-of-contents">Table of Contents<a class="header-link" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-conceptual-design-overview">Conceptual Design Overview</a></li>
<li><a href="#2-entity-types-and-entity-sets">Entity Types and Entity Sets</a></li>
<li><a href="#3-attributes">Attributes</a></li>
<li><a href="#4-relationship-types">Relationship Types</a></li>
<li><a href="#5-cardinality-constraints">Cardinality Constraints</a></li>
<li><a href="#6-participation-constraints">Participation Constraints</a></li>
<li><a href="#7-weak-entities">Weak Entities</a></li>
<li><a href="#8-enhanced-er-eer-model">Enhanced ER (EER) Model</a></li>
<li><a href="#9-er-to-relational-mapping-algorithm">ER-to-Relational Mapping Algorithm</a></li>
<li><a href="#10-design-case-study-university-database">Design Case Study: University Database</a></li>
<li><a href="#11-common-pitfalls-and-best-practices">Common Pitfalls and Best Practices</a></li>
<li><a href="#12-exercises">Exercises</a></li>
</ol>
<hr />
<h2 id="1-conceptual-design-overview">1. Conceptual Design Overview<a class="header-link" href="#1-conceptual-design-overview" title="Permanent link">&para;</a></h2>
<p>Database design follows a structured process from requirements to implementation:</p>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Requirements</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="s2">&quot;What data do we need? What queries?&quot;</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Analysis</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Conceptual</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="n">ER</span><span class="w"> </span><span class="n">Diagram</span><span class="w"> </span><span class="p">(</span><span class="n">DBMS</span><span class="o">-</span><span class="n">independent</span><span class="p">)</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Design</span><span class="w">          </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â†</span><span class="w"> </span><span class="n">THIS</span><span class="w"> </span><span class="n">LESSON</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Logical</span><span class="w">         </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Relational</span><span class="w"> </span><span class="n">schema</span><span class="w"> </span><span class="p">(</span><span class="n">tables</span><span class="p">,</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">constraints</span><span class="p">)</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Design</span><span class="w">          </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â†</span><span class="w"> </span><span class="n">ER</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">Relational</span><span class="w"> </span><span class="n">Mapping</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Physical</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Indexes</span><span class="p">,</span><span class="w"> </span><span class="n">storage</span><span class="p">,</span><span class="w"> </span><span class="n">partitioning</span><span class="p">,</span><span class="w"> </span><span class="n">SQL</span><span class="w"> </span><span class="n">DDL</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Design</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Implementation</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">CREATE</span><span class="w"> </span><span class="n">TABLE</span><span class="p">,</span><span class="w"> </span><span class="n">INSERT</span><span class="p">,</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">procedures</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Tuning</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="why-conceptual-design">Why Conceptual Design?<a class="header-link" href="#why-conceptual-design" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Communication</strong>: ER diagrams are understandable by non-technical stakeholders</li>
<li><strong>Abstraction</strong>: Focus on data structure without worrying about implementation</li>
<li><strong>Correctness</strong>: Catch design errors early before writing SQL</li>
<li><strong>Documentation</strong>: Serves as a living blueprint of the data model</li>
</ul>
<h3 id="er-diagram-notation">ER Diagram Notation<a class="header-link" href="#er-diagram-notation" title="Permanent link">&para;</a></h3>
<p>This lesson uses the original <strong>Chen notation</strong> (most common in textbooks):</p>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">Symbol</span><span class="w"> </span><span class="nx">Legend</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">       </span><span class="nx">Entity</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">(</span><span class="nx">strong</span><span class="p">)</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">NAME</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ•â•â•â•â•â•â•â•â•â”</span><span class="w">       </span><span class="nx">Entity</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">(</span><span class="nx">weak</span><span class="p">)</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â•‘</span><span class="w">  </span><span class="nx">NAME</span><span class="w">   </span><span class="err">â•‘</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â•â•â•â•â•â•â•â•â•â”˜</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â—‡</span><span class="w">  </span><span class="k">or</span><span class="w">  </span><span class="err">â—‡â”€â”€â”€</span><span class="w">       </span><span class="nx">Relationship</span><span class="w"> </span><span class="k">type</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="p">&lt;</span><span class="nx">WORKS_FOR</span><span class="p">&gt;</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="nx">attribute</span><span class="p">)</span><span class="w">        </span><span class="nx">Attribute</span><span class="w"> </span><span class="p">(</span><span class="nx">oval</span><span class="p">)</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="p">((</span><span class="nx">derived</span><span class="p">))</span><span class="w">        </span><span class="nx">Derived</span><span class="w"> </span><span class="nx">attribute</span><span class="w"> </span><span class="p">(</span><span class="nx">dashed</span><span class="w"> </span><span class="nx">oval</span><span class="p">)</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="p">{</span><span class="nx">multivalued</span><span class="p">}</span><span class="w">      </span><span class="nx">Multivalued</span><span class="w"> </span><span class="nx">attribute</span><span class="w"> </span><span class="p">(</span><span class="nx">double</span><span class="w"> </span><span class="nx">oval</span><span class="p">)</span><span class="w">      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”€â”€â”€</span><span class="w"> </span><span class="nx">single</span><span class="w"> </span><span class="nx">line</span><span class="w">    </span><span class="nx">Partial</span><span class="w"> </span><span class="nx">participation</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â•â•â•</span><span class="w"> </span><span class="nx">double</span><span class="w"> </span><span class="nx">line</span><span class="w">    </span><span class="nx">Total</span><span class="w"> </span><span class="nx">participation</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">N</span><span class="p">,</span><span class="w"> </span><span class="nx">M</span><span class="w">            </span><span class="nx">Cardinality</span><span class="w"> </span><span class="nx">markers</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="2-entity-types-and-entity-sets">2. Entity Types and Entity Sets<a class="header-link" href="#2-entity-types-and-entity-sets" title="Permanent link">&para;</a></h2>
<h3 id="entity">Entity<a class="header-link" href="#entity" title="Permanent link">&para;</a></h3>
<p>An <strong>entity</strong> is a "thing" or object in the real world that is distinguishable from other objects. It can be physical (a person, a book) or conceptual (a course, a bank account).</p>
<h3 id="entity-type">Entity Type<a class="header-link" href="#entity-type" title="Permanent link">&para;</a></h3>
<p>An <strong>entity type</strong> defines a collection of entities that have the same attributes. It is like a class or template.</p>
<h3 id="entity-set">Entity Set<a class="header-link" href="#entity-set" title="Permanent link">&para;</a></h3>
<p>An <strong>entity set</strong> (or entity instance set) is the collection of all entities of a particular type at a given point in time. It is like the set of all objects of a class.</p>
<div class="highlight"><pre><span></span><code>Entity Type:     STUDENT
                 (defines the structure: sid, name, year, dept)

Entity Set:      The current collection of student entities:
                 {(S001, Alice, 3, CS), (S002, Bob, 2, CS), ...}

Entity (Instance): A single student, e.g., (S001, Alice, 3, CS)
</code></pre></div>

<h3 id="notation-in-er-diagrams">Notation in ER Diagrams<a class="header-link" href="#notation-in-er-diagrams" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">              </span><span class="err">â”‚</span><span class="w">  </span><span class="n">STUDENT</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">             </span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="err">\</span>
<span class="w">          </span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)(</span><span class="nf">year</span><span class="p">)(</span><span class="n">dept</span><span class="p">)</span>
<span class="w">           </span><span class="o">[</span><span class="n">PK</span><span class="o">]</span>
</code></pre></div>

<hr />
<h2 id="3-attributes">3. Attributes<a class="header-link" href="#3-attributes" title="Permanent link">&para;</a></h2>
<p>Attributes describe properties of an entity type. There are several kinds:</p>
<h3 id="simple-atomic-attribute">Simple (Atomic) Attribute<a class="header-link" href="#simple-atomic-attribute" title="Permanent link">&para;</a></h3>
<p>A simple attribute cannot be divided into smaller components.</p>
<div class="highlight"><pre><span></span><code>Examples:
  <span class="k">-</span> student_id: &quot;S001&quot;
  <span class="k">-</span> year: 3
  <span class="k">-</span> gpa: 3.85
</code></pre></div>

<h3 id="composite-attribute">Composite Attribute<a class="header-link" href="#composite-attribute" title="Permanent link">&para;</a></h3>
<p>A composite attribute can be divided into smaller sub-attributes.</p>
<div class="highlight"><pre><span></span><code><span class="w">              </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
<span class="w">             </span><span class="o">/</span><span class="w">      </span>\
<span class="w">       </span><span class="p">(</span><span class="nx">first_name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">last_name</span><span class="p">)</span>

<span class="w">              </span><span class="p">(</span><span class="nx">address</span><span class="p">)</span>
<span class="w">            </span><span class="o">/</span><span class="w">    </span><span class="o">|</span><span class="w">      </span>\
<span class="w">      </span><span class="p">(</span><span class="nx">street</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">city</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">zip_code</span><span class="p">)</span>
<span class="w">                        </span><span class="o">|</span>
<span class="w">                   </span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">country</span><span class="p">)</span>
</code></pre></div>

<h3 id="multivalued-attribute">Multivalued Attribute<a class="header-link" href="#multivalued-attribute" title="Permanent link">&para;</a></h3>
<p>A multivalued attribute can have multiple values for a single entity.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="p">{</span><span class="nx">phone_numbers</span><span class="p">}</span><span class="w">    </span><span class="nx">A</span><span class="w"> </span><span class="nx">student</span><span class="w"> </span><span class="nx">may</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">many</span><span class="w"> </span><span class="nx">phone</span><span class="w"> </span><span class="nx">numbers</span><span class="p">.</span>
<span class="w">  </span><span class="p">{</span><span class="nx">skills</span><span class="p">}</span><span class="w">           </span><span class="nx">An</span><span class="w"> </span><span class="nx">employee</span><span class="w"> </span><span class="nx">may</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">multiple</span><span class="w"> </span><span class="nx">skills</span><span class="p">.</span>
<span class="w">  </span><span class="p">{</span><span class="nx">email_addresses</span><span class="p">}</span><span class="w">  </span><span class="nx">A</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="nx">may</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">multiple</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="nx">addresses</span><span class="p">.</span>

<span class="nx">Notation</span><span class="p">:</span><span class="w"> </span><span class="nx">Double</span><span class="w"> </span><span class="nx">oval</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">curly</span><span class="w"> </span><span class="nx">braces</span><span class="w"> </span><span class="p">{</span><span class="nx">attribute</span><span class="p">}</span>
</code></pre></div>

<h3 id="derived-attribute">Derived Attribute<a class="header-link" href="#derived-attribute" title="Permanent link">&para;</a></h3>
<p>A derived attribute's value can be computed from other attributes.</p>
<div class="highlight"><pre><span></span><code>  ((age))            Derived from date_of_birth and current date
  ((total_credits))  Derived from summing credits of enrolled courses
  ((employee_count)) Derived from counting employees in a department

Notation: Dashed oval or double parentheses ((attribute))
</code></pre></div>

<h3 id="key-attribute">Key Attribute<a class="header-link" href="#key-attribute" title="Permanent link">&para;</a></h3>
<p>A key attribute uniquely identifies each entity in the entity set.</p>
<div class="highlight"><pre><span></span><code>  For STUDENT: student_id (underlined in diagrams)
  For COURSE: course_id
  For EMPLOYEE: employee_id or ssn

Notation: Underlined attribute name
</code></pre></div>

<h3 id="composite-key">Composite Key<a class="header-link" href="#composite-key" title="Permanent link">&para;</a></h3>
<p>When no single attribute uniquely identifies an entity, a combination of attributes forms the key.</p>
<div class="highlight"><pre><span></span><code><span class="n">Example</span><span class="o">:</span><span class="w"> </span><span class="n">ENROLLMENT</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">)</span>
</code></pre></div>

<h3 id="null-values">NULL Values<a class="header-link" href="#null-values" title="Permanent link">&para;</a></h3>
<p>Attributes may have NULL values when:
- The value is <strong>not applicable</strong> (apartment number for a house)
- The value is <strong>unknown</strong> (phone number not provided)</p>
<h3 id="attribute-summary">Attribute Summary<a class="header-link" href="#attribute-summary" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">Attribute</span><span class="w"> </span><span class="nx">Types</span><span class="p">:</span>
<span class="w">                                              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w">   </span><span class="nx">Simple</span><span class="w">      </span><span class="err">â”‚</span>
<span class="w">                            </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="nx">atomic</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Structure</span><span class="w"> </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”¤</span>
<span class="w">         </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w">  </span><span class="nx">Composite</span><span class="w">   </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="nx">divisible</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="w">                                              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w"> </span><span class="nx">Single</span><span class="o">-</span><span class="nx">valued</span><span class="err">â”‚</span>
<span class="w">                            </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">      </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Cardinality</span><span class="err">â”œâ”€â”€â”€â”€â”¤</span>
<span class="w">         </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w"> </span><span class="nx">Multivalued</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â”‚</span><span class="w"> </span><span class="p">{</span><span class="nx">attr</span><span class="p">}</span><span class="w">       </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="w">                                              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w">   </span><span class="nx">Stored</span><span class="w">     </span><span class="err">â”‚</span>
<span class="w">                            </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">         </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">      </span><span class="err">â”‚</span>
<span class="w">         </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Source</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”¤</span>
<span class="w">         </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                 </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                            </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚</span><span class="w">  </span><span class="nx">Derived</span><span class="w">     </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â”‚</span><span class="w"> </span><span class="p">((</span><span class="nx">attr</span><span class="p">))</span><span class="w">     </span><span class="err">â”‚</span>
<span class="w">                                              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="er-diagram-with-all-attribute-types">ER Diagram with All Attribute Types<a class="header-link" href="#er-diagram-with-all-attribute-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">                        </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                        </span><span class="err">â”‚</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">                        </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                       </span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="err">\</span><span class="w">  </span><span class="err">\</span>
<span class="w">                     </span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="err">\</span><span class="w">   </span><span class="err">\</span>
<span class="w">                   </span><span class="o">/</span><span class="w">     </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="err">\</span><span class="w">    </span><span class="err">\</span>
<span class="w">            </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">hire_date</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="n">phone</span><span class="err">}</span><span class="w">  </span><span class="p">((</span><span class="n">age</span><span class="p">))</span>
<span class="w">             </span><span class="o">[</span><span class="n">PK</span><span class="o">]</span><span class="w">    </span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="w">     </span><span class="o">|</span><span class="w">               </span><span class="n">Multi</span><span class="o">-</span><span class="w">   </span><span class="n">Derived</span>
<span class="w">                   </span><span class="o">/</span><span class="w">     </span><span class="err">\</span><span class="w"> </span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w">          </span><span class="n">valued</span>
<span class="w">            </span><span class="p">(</span><span class="k">first</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">last</span><span class="p">)</span>
<span class="w">            </span><span class="n">Composite</span>

<span class="w">  </span><span class="nl">emp_id</span><span class="p">:</span><span class="w">    </span><span class="n">Simple</span><span class="p">,</span><span class="w"> </span><span class="k">Key</span>
<span class="w">  </span><span class="nl">name</span><span class="p">:</span><span class="w">      </span><span class="n">Composite</span><span class="w"> </span><span class="p">(</span><span class="k">first</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">last</span><span class="p">)</span>
<span class="w">  </span><span class="nl">salary</span><span class="p">:</span><span class="w">    </span><span class="n">Simple</span><span class="p">,</span><span class="w"> </span><span class="n">Single</span><span class="o">-</span><span class="n">valued</span>
<span class="w">  </span><span class="nl">hire_date</span><span class="p">:</span><span class="w"> </span><span class="n">Simple</span><span class="p">,</span><span class="w"> </span><span class="n">Stored</span>
<span class="w">  </span><span class="nl">phone</span><span class="p">:</span><span class="w">     </span><span class="n">Simple</span><span class="p">,</span><span class="w"> </span><span class="n">Multivalued</span>
<span class="w">  </span><span class="nl">age</span><span class="p">:</span><span class="w">       </span><span class="n">Simple</span><span class="p">,</span><span class="w"> </span><span class="n">Derived</span><span class="w"> </span><span class="p">(</span><span class="k">from</span><span class="w"> </span><span class="n">birth_date</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="4-relationship-types">4. Relationship Types<a class="header-link" href="#4-relationship-types" title="Permanent link">&para;</a></h2>
<p>A <strong>relationship type</strong> defines an association between entity types. A <strong>relationship instance</strong> is an association between specific entity instances.</p>
<h3 id="binary-relationships">Binary Relationships<a class="header-link" href="#binary-relationships" title="Permanent link">&para;</a></h3>
<p>A <strong>binary relationship</strong> involves two entity types (the most common case).</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STUDENT  â”‚â”€â”€&lt;ENROLLS&gt;â”€â”€â”‚  COURSE  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Relationship instances:
    (Alice, CS101), (Alice, CS301), (Bob, CS101), ...
</code></pre></div>

<h3 id="ternary-relationships">Ternary Relationships<a class="header-link" href="#ternary-relationships" title="Permanent link">&para;</a></h3>
<p>A <strong>ternary relationship</strong> involves three entity types.</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ SUPPLIER â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚
  â—‡ SUPPLIES â—‡
  /           \
  â”‚             â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  PART    â”‚  â”‚ PROJECT  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Relationship instance: (Supplier1, PartA, ProjectX)
  Meaning: Supplier1 supplies PartA to ProjectX

  NOTE: A ternary relationship CANNOT always be decomposed into
  three binary relationships without information loss!
</code></pre></div>

<h3 id="recursive-unary-relationships">Recursive (Unary) Relationships<a class="header-link" href="#recursive-unary-relationships" title="Permanent link">&para;</a></h3>
<p>A <strong>recursive relationship</strong> relates an entity type to itself.</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EMPLOYEE â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚    â”‚
       â”‚    â”‚
    (supervisor)
       â”‚    â”‚
       â”œâ”€â”€â”€â”€â”˜
    &lt;SUPERVISES&gt;

  Relationship instance: (Manager_Alice, Employee_Bob)
  Meaning: Alice supervises Bob

  Role names are important:
    EMPLOYEE (as supervisor) â”€â”€&lt;SUPERVISES&gt;â”€â”€ EMPLOYEE (as supervisee)
</code></pre></div>

<h3 id="relationship-attributes">Relationship Attributes<a class="header-link" href="#relationship-attributes" title="Permanent link">&para;</a></h3>
<p>Relationships can have their own attributes:</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STUDENT  â”‚â”€â”€â”€â”€&lt;ENROLLS_IN&gt;â”€â”€â”€â”€â”‚  COURSE  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  (grade)
                  (semester)

  The grade and semester belong to the RELATIONSHIP, not to either entity.
  A student has a grade for a specific course, not in general.
</code></pre></div>

<h3 id="degree-of-a-relationship">Degree of a Relationship<a class="header-link" href="#degree-of-a-relationship" title="Permanent link">&para;</a></h3>
<p>The <strong>degree</strong> of a relationship type is the number of participating entity types.</p>
<div class="highlight"><pre><span></span><code>Degree 1: Unary (recursive)     EMPLOYEE supervises EMPLOYEE
Degree 2: Binary                STUDENT enrolls in COURSE
Degree 3: Ternary               SUPPLIER supplies PART to PROJECT
Degree n: n-ary (rare)          Typically decomposed into binaries
</code></pre></div>

<hr />
<h2 id="5-cardinality-constraints">5. Cardinality Constraints<a class="header-link" href="#5-cardinality-constraints" title="Permanent link">&para;</a></h2>
<p>Cardinality constraints specify the number of relationship instances an entity can participate in. For binary relationships, the three fundamental ratios are 1:1, 1:N, and M:N.</p>
<h3 id="one-to-one-11">One-to-One (1:1)<a class="header-link" href="#one-to-one-11" title="Permanent link">&para;</a></h3>
<p>Each entity in A is associated with at most one entity in B, and vice versa.</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1         1    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EMPLOYEE â”‚â”€â”€â”€â”€&lt;MANAGES&gt;â”€â”€â”€â”€â”‚ DEPARTMENTâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Each employee manages at most one department.
  Each department is managed by at most one employee.

  Instance:
    Alice  â”€â”€â”€â”€  CS Department
    Bob    â”€â”€â”€â”€  EE Department
    Carol  â”€â”€â”€â”€  (no department managed)
    Dave   â”€â”€â”€â”€  ME Department

  Mapping:
    A:  Alice â”€â”€â”€â–º CS
    B:  Bob   â”€â”€â”€â–º EE
    D:  Dave  â”€â”€â”€â–º ME
</code></pre></div>

<h3 id="one-to-many-1n">One-to-Many (1:N)<a class="header-link" href="#one-to-many-1n" title="Permanent link">&para;</a></h3>
<p>Each entity in A can be associated with many entities in B, but each entity in B is associated with at most one entity in A.</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1         N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚DEPARTMENTâ”‚â”€â”€â”€â”€&lt;HAS&gt;â”€â”€â”€â”€â”‚ EMPLOYEE â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  A department has many employees.
  An employee belongs to at most one department.

  Instance:
    CS â”€â”€â”€â”€â”¬â”€â”€â”€â”€ Alice
           â”œâ”€â”€â”€â”€ Bob
           â””â”€â”€â”€â”€ Eve
    EE â”€â”€â”€â”€â”€â”€â”€ Carol
    ME â”€â”€â”€â”€â”€â”€â”€ Dave
</code></pre></div>

<h3 id="many-to-many-mn">Many-to-Many (M:N)<a class="header-link" href="#many-to-many-mn" title="Permanent link">&para;</a></h3>
<p>Each entity in A can be associated with many entities in B, and each entity in B can be associated with many entities in A.</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    M         N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STUDENT  â”‚â”€â”€â”€â”€&lt;ENROLLS&gt;â”€â”€â”€â”€â”‚  COURSE  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  A student can enroll in many courses.
  A course can have many students.

  Instance:
    Alice â”€â”€â”¬â”€â”€ CS101
            â”œâ”€â”€ CS301
            â””â”€â”€ MA101
    Bob   â”€â”€â”¬â”€â”€ CS101
            â””â”€â”€ CS301
    Carol â”€â”€â”¬â”€â”€ EE201
            â””â”€â”€ CS101
</code></pre></div>

<h3 id="cardinality-in-er-diagrams">Cardinality in ER Diagrams<a class="header-link" href="#cardinality-in-er-diagrams" title="Permanent link">&para;</a></h3>
<p>There are two main conventions:</p>
<p><strong>Convention 1: Chen's notation (labels on lines)</strong></p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚DEPARTMENTâ”‚â”€â”€â”€â”€â”€â”€â”€â”€&lt;WORKS_IN&gt;â”€â”€â”€â”€â”€â”€â”€â”€â”‚ EMPLOYEE â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>Convention 2: (min,max) notation (more precise)</strong></p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  (<span class="mi">1</span>,<span class="mi">1</span>)   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  (<span class="mi">1</span>,<span class="n">N</span>)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ <span class="n">EMPLOYEE</span> â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<span class="s">&lt;WORKS_IN&gt;</span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<span class="n">DEPARTMENT</span>â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  <span class="n">Reading:</span>
    <span class="n">An</span> <span class="n">employee</span> <span class="n">works</span> <span class="nb">in</span> (<span class="mi">1</span>,<span class="mi">1</span>) <span class="n">department</span> = <span class="n">exactly</span> <span class="nb">one</span> <span class="n">department</span>
    <span class="n">A</span> <span class="n">department</span> <span class="k">has</span> (<span class="mi">1</span>,<span class="n">N</span>) <span class="n">employees</span> = <span class="nb">one</span> <span class="o">or</span> <span class="n">more</span> <span class="n">employees</span>
</code></pre></div>

<h3 id="cardinality-constraint-summary">Cardinality Constraint Summary<a class="header-link" href="#cardinality-constraint-summary" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="nt">Cardinality</span><span class="w"> </span><span class="nt">Ratios</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="nd">1</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">Each</span><span class="w"> </span><span class="nt">A</span><span class="w"> </span><span class="nt">maps</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">most</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="nt">B</span><span class="o">;</span><span class="w"> </span><span class="nt">each</span><span class="w"> </span><span class="nt">B</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">most</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="nt">A</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">           </span><span class="nt">Example</span><span class="o">:</span><span class="w"> </span><span class="nt">Employee</span><span class="w"> </span><span class="nt">MANAGES</span><span class="w"> </span><span class="nt">Department</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="nd">N</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">Each</span><span class="w"> </span><span class="nt">A</span><span class="w"> </span><span class="nt">maps</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">many</span><span class="w"> </span><span class="nt">B</span><span class="o">;</span><span class="w"> </span><span class="nt">each</span><span class="w"> </span><span class="nt">B</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">most</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="nt">A</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">           </span><span class="nt">Example</span><span class="o">:</span><span class="w"> </span><span class="nt">Department</span><span class="w"> </span><span class="nt">HAS</span><span class="w"> </span><span class="nt">Employees</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nt">M</span><span class="p">:</span><span class="nd">N</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">Each</span><span class="w"> </span><span class="nt">A</span><span class="w"> </span><span class="nt">maps</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">many</span><span class="w"> </span><span class="nt">B</span><span class="o">;</span><span class="w"> </span><span class="nt">each</span><span class="w"> </span><span class="nt">B</span><span class="w"> </span><span class="nt">maps</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">many</span><span class="w"> </span><span class="nt">A</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">           </span><span class="nt">Example</span><span class="o">:</span><span class="w"> </span><span class="nt">Student</span><span class="w"> </span><span class="nt">ENROLLS</span><span class="w"> </span><span class="nt">IN</span><span class="w"> </span><span class="nt">Course</span><span class="w">                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">(</span><span class="nt">min</span><span class="o">,</span><span class="nt">max</span><span class="o">)</span><span class="w"> </span><span class="nt">notation</span><span class="o">:</span><span class="w">                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="nt">1</span><span class="o">)</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">optional</span><span class="o">,</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">most</span><span class="w"> </span><span class="nt">one</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="o">(</span><span class="nt">1</span><span class="o">,</span><span class="nt">1</span><span class="o">)</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">mandatory</span><span class="o">,</span><span class="w"> </span><span class="nt">exactly</span><span class="w"> </span><span class="nt">one</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="nt">N</span><span class="o">)</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">optional</span><span class="o">,</span><span class="w"> </span><span class="nt">unbounded</span><span class="w"> </span><span class="nt">many</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="o">(</span><span class="nt">1</span><span class="o">,</span><span class="nt">N</span><span class="o">)</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">mandatory</span><span class="o">,</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">least</span><span class="w"> </span><span class="nt">one</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="o">(</span><span class="nt">3</span><span class="o">,</span><span class="nt">5</span><span class="o">)</span><span class="w">  </span><span class="err">â”€â”€</span><span class="w">  </span><span class="nt">minimum</span><span class="w"> </span><span class="nt">3</span><span class="o">,</span><span class="w"> </span><span class="nt">maximum</span><span class="w"> </span><span class="nt">5</span><span class="w"> </span><span class="o">(</span><span class="nt">specific</span><span class="w"> </span><span class="nt">bounds</span><span class="o">)</span><span class="w">           </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="6-participation-constraints">6. Participation Constraints<a class="header-link" href="#6-participation-constraints" title="Permanent link">&para;</a></h2>
<p>Participation constraints specify whether every entity must participate in a relationship or if participation is optional.</p>
<h3 id="total-participation-mandatory">Total Participation (Mandatory)<a class="header-link" href="#total-participation-mandatory" title="Permanent link">&para;</a></h3>
<p>Every entity in the entity set must participate in at least one relationship instance. Shown with a <strong>double line</strong> (===).</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EMPLOYEE â”‚â•â•â•â•â•â•â•â•â•â•â•&lt;WORKS_IN&gt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚DEPARTMENTâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Every employee MUST work in some department.
  (No employee can exist without a department.)
</code></pre></div>

<h3 id="partial-participation-optional">Partial Participation (Optional)<a class="header-link" href="#partial-participation-optional" title="Permanent link">&para;</a></h3>
<p>An entity may or may not participate in the relationship. Shown with a <strong>single line</strong> (---).</p>
<div class="highlight"><pre><span></span><code>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EMPLOYEE â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;MANAGES&gt;â•â•â•â•â•â•â•â•â•â•â•â”‚DEPARTMENTâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Not every employee manages a department (partial on EMPLOYEE side).
  Every department MUST be managed by someone (total on DEPARTMENT side).
</code></pre></div>

<h3 id="combining-cardinality-and-participation">Combining Cardinality and Participation<a class="header-link" href="#combining-cardinality-and-participation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Example</span><span class="o">:</span><span class="w"> </span><span class="n">University</span><span class="w"> </span><span class="n">ER</span><span class="w"> </span><span class="n">Diagram</span><span class="w"> </span><span class="o">(</span><span class="n">fragment</span><span class="o">)</span>

<span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">â”‚â•â•â•â•â•â•â•â•â•</span><span class="o">&lt;</span><span class="n">WORKS_IN</span><span class="o">&gt;</span><span class="err">â•â•â•â•â•â•â•â•â•â•â•â•â”‚</span><span class="n">DEPARTMENT</span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                    </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="w">  </span><span class="n">Reading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">(</span><span class="n">min</span><span class="o">,</span><span class="n">max</span><span class="o">):</span>
<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="n">side</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">participation</span><span class="o">,</span><span class="w"> </span><span class="n">exactly</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">department</span>
<span class="w">    </span><span class="n">Department</span><span class="w"> </span><span class="n">side</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">participation</span><span class="o">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">employee</span>

<span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">STUDENT</span><span class="w">  </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="o">&lt;</span><span class="n">ENROLLS_IN</span><span class="o">&gt;</span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span><span class="w">  </span><span class="n">COURSE</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                    </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="w">  </span><span class="n">Reading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">(</span><span class="n">min</span><span class="o">,</span><span class="n">max</span><span class="o">):</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">side</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="o">(</span><span class="n">student</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enrolled</span><span class="o">),</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">courses</span>
<span class="w">    </span><span class="n">Course</span><span class="w"> </span><span class="n">side</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="o">(</span><span class="n">course</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">students</span><span class="o">),</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">students</span>
</code></pre></div>

<h3 id="existence-dependency">Existence Dependency<a class="header-link" href="#existence-dependency" title="Permanent link">&para;</a></h3>
<p>When an entity's existence depends on its relationship with another entity, it has <strong>total participation</strong> in that relationship.</p>
<div class="highlight"><pre><span></span><code><span class="n">Example</span><span class="o">:</span>
<span class="w">  </span><span class="n">A</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="o">(</span><span class="n">family</span><span class="w"> </span><span class="n">member</span><span class="o">)</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="o">.</span>
<span class="w">  </span><span class="n">Therefore</span><span class="o">,</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">participation</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span>
<span class="w">  </span><span class="n">HAS_DEPENDENT</span><span class="w"> </span><span class="n">relationship</span><span class="o">.</span>

<span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">           </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">          </span><span class="err">â”Œâ•â•â•â•â•â•â•â•â•â•â•â”</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="o">&lt;</span><span class="n">HAS_DEPENDENT</span><span class="o">&gt;</span><span class="err">â•â•â•â•â•â•â•â•â•â•â•â•â•‘</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="err">â•‘</span>
<span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                        </span><span class="err">â””â•â•â•â•â•â•â•â•â•â•â•â”˜</span>

<span class="w">  </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">weak</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="o">(</span><span class="n">discussed</span><span class="w"> </span><span class="n">next</span><span class="o">).</span>
</code></pre></div>

<hr />
<h2 id="7-weak-entities">7. Weak Entities<a class="header-link" href="#7-weak-entities" title="Permanent link">&para;</a></h2>
<p>A <strong>weak entity type</strong> is an entity type that cannot be uniquely identified by its own attributes alone. It depends on a related <strong>owner</strong> (or <strong>identifying</strong>) entity type.</p>
<h3 id="characteristics-of-weak-entities">Characteristics of Weak Entities<a class="header-link" href="#characteristics-of-weak-entities" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">own</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">PARTIAL</span><span class="w"> </span><span class="n">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">discriminator</span><span class="p">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">distinguishes</span>
<span class="w">   </span><span class="n">weak</span><span class="w"> </span><span class="n">entities</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">entity</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">Always</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="kr">TO</span><span class="n">TAL</span><span class="w"> </span><span class="n">PARTICIPATION</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">identifying</span><span class="w"> </span><span class="n">relationship</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">Existence</span><span class="o">-</span><span class="n">dependent</span><span class="w"> </span><span class="kr">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">entity</span>
</code></pre></div>

<h3 id="notation">Notation<a class="header-link" href="#notation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">              </span><span class="err">â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">OWNER</span><span class="w">   </span><span class="err">â”‚â•â•</span><span class="o">&lt;</span><span class="n">IDENTIFIES</span><span class="o">&gt;</span><span class="err">â•â•â•‘</span><span class="w"> </span><span class="n">WEAK</span><span class="w"> </span><span class="n">ENTITY</span><span class="w"> </span><span class="err">â•‘</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span><span class="w">                </span><span class="err">â•‘</span><span class="w">             </span><span class="err">â•‘</span>
<span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                </span><span class="err">â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜</span>
<span class="w">                                   </span><span class="o">|</span>
<span class="w">                             </span><span class="p">(</span><span class="n">partial_key</span><span class="p">)</span>
<span class="w">                              </span><span class="p">[</span><span class="n">dashed</span><span class="w"> </span><span class="n">underline</span><span class="p">]</span>

<span class="w">  </span><span class="n">Double</span><span class="w"> </span><span class="n">rectangle</span><span class="o">:</span><span class="w"> </span><span class="k">weak</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">type</span>
<span class="w">  </span><span class="n">Double</span><span class="w"> </span><span class="n">diamond</span><span class="o">:</span><span class="w"> </span><span class="n">identifying</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">type</span>
<span class="w">  </span><span class="n">Dashed</span><span class="w"> </span><span class="n">underline</span><span class="o">:</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p">(</span><span class="n">discriminator</span><span class="p">)</span>
</code></pre></div>

<h3 id="example-employee-and-dependent">Example: Employee and Dependent<a class="header-link" href="#example-employee-and-dependent" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                </span><span class="err">â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â”</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">â”‚â•â•</span><span class="o">&lt;</span><span class="n">HAS_DEPENDENT</span><span class="o">&gt;</span><span class="err">â•â•â•‘</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w">  </span><span class="err">â•‘</span>
<span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">     </span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="w">          </span><span class="err">â””â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜</span>
<span class="w">       </span><span class="o">|</span><span class="w">                          </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span><span class="w">              </span><span class="p">(</span><span class="n">dep_name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">birth</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">relationship</span><span class="p">)</span>
<span class="w">     </span><span class="p">[</span><span class="n">PK</span><span class="p">]</span><span class="w">                 </span><span class="p">[</span><span class="n">partial</span><span class="w"> </span><span class="n">key</span><span class="p">]</span>

<span class="w">  </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">key</span><span class="o">:</span><span class="w"> </span><span class="n">emp_id</span>
<span class="w">  </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="n">key</span><span class="o">:</span><span class="w"> </span><span class="n">dep_name</span>

<span class="w">  </span><span class="n">Full</span><span class="w"> </span><span class="n">identification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="o">:</span>
<span class="w">    </span><span class="p">(</span><span class="n">owner</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">emp_id</span><span class="p">,</span><span class="w"> </span><span class="n">dep_name</span><span class="p">)</span>

<span class="w">  </span><span class="nl">Example</span><span class="p">:</span>
<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="n">E001</span><span class="w"> </span><span class="p">(</span><span class="n">Alice</span><span class="p">)</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">dependents</span><span class="o">:</span>
<span class="w">      </span><span class="p">(</span><span class="n">E001</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Tom&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Alice</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">son</span><span class="w"> </span><span class="n">Tom</span>
<span class="w">      </span><span class="p">(</span><span class="n">E001</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Sue&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Alice</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">daughter</span><span class="w"> </span><span class="n">Sue</span>

<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="n">E002</span><span class="w"> </span><span class="p">(</span><span class="n">Bob</span><span class="p">)</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">dependents</span><span class="o">:</span>
<span class="w">      </span><span class="p">(</span><span class="n">E002</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Tom&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Bob</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">son</span><span class="w"> </span><span class="n">Tom</span><span class="w"> </span><span class="p">(</span><span class="n">different</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">E001</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Tom</span><span class="o">!</span><span class="p">)</span>

<span class="w">  </span><span class="n">Without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">owner</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Tom&quot;</span><span class="w"> </span><span class="n">alone</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ambiguous</span><span class="p">.</span>
</code></pre></div>

<h3 id="weak-entity-vs-strong-entity">Weak Entity vs. Strong Entity<a class="header-link" href="#weak-entity-vs-strong-entity" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span>       <span class="n">Strong</span> <span class="n">Entity</span>          <span class="err">â”‚</span>         <span class="n">Weak</span> <span class="n">Entity</span>              <span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span> <span class="n">Has</span> <span class="n">its</span> <span class="n">own</span> <span class="n">primary</span> <span class="n">key</span>      <span class="err">â”‚</span> <span class="n">Has</span> <span class="n">only</span> <span class="n">a</span> <span class="n">partial</span> <span class="n">key</span>           <span class="err">â”‚</span>
<span class="err">â”‚</span> <span class="n">Can</span> <span class="n">exist</span> <span class="n">independently</span>      <span class="err">â”‚</span> <span class="n">Existence</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">owner</span>       <span class="err">â”‚</span>
<span class="err">â”‚</span> <span class="n">Single</span> <span class="n">rectangle</span>             <span class="err">â”‚</span> <span class="n">Double</span> <span class="n">rectangle</span>                 <span class="err">â”‚</span>
<span class="err">â”‚</span> <span class="n">Partial</span> <span class="n">participation</span> <span class="n">OK</span>     <span class="err">â”‚</span> <span class="n">Total</span> <span class="n">participation</span> <span class="n">required</span>     <span class="err">â”‚</span>
<span class="err">â”‚</span> <span class="n">Example</span><span class="p">:</span> <span class="n">EMPLOYEE</span><span class="p">,</span> <span class="n">COURSE</span>    <span class="err">â”‚</span> <span class="n">Example</span><span class="p">:</span> <span class="n">DEPENDENT</span><span class="p">,</span> <span class="n">ROOM</span>         <span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="n">More</span> <span class="n">examples</span> <span class="n">of</span> <span class="n">weak</span> <span class="n">entities</span><span class="p">:</span>
  <span class="n">BUILDING</span> <span class="p">(</span><span class="n">strong</span><span class="p">)</span> <span class="err">â†’</span> <span class="n">ROOM</span> <span class="p">(</span><span class="n">weak</span><span class="p">):</span> <span class="n">room_number</span> <span class="n">is</span> <span class="n">partial</span> <span class="n">key</span>
  <span class="n">INVOICE</span> <span class="p">(</span><span class="n">strong</span><span class="p">)</span> <span class="err">â†’</span> <span class="n">LINE_ITEM</span> <span class="p">(</span><span class="n">weak</span><span class="p">):</span> <span class="n">line_number</span> <span class="n">is</span> <span class="n">partial</span> <span class="n">key</span>
  <span class="n">COURSE</span> <span class="p">(</span><span class="n">strong</span><span class="p">)</span> <span class="err">â†’</span> <span class="n">SECTION</span> <span class="p">(</span><span class="n">weak</span><span class="p">):</span> <span class="n">section_number</span> <span class="n">is</span> <span class="n">partial</span> <span class="n">key</span>
</code></pre></div>

<hr />
<h2 id="8-enhanced-er-eer-model">8. Enhanced ER (EER) Model<a class="header-link" href="#8-enhanced-er-eer-model" title="Permanent link">&para;</a></h2>
<p>The <strong>Enhanced ER</strong> (EER) model extends the basic ER model with additional concepts borrowed from object-oriented modeling: specialization, generalization, and inheritance.</p>
<h3 id="specialization">Specialization<a class="header-link" href="#specialization" title="Permanent link">&para;</a></h3>
<p><strong>Specialization</strong> is a top-down process of defining subclasses of an entity type based on distinguishing characteristics.</p>
<div class="highlight"><pre><span></span><code><span class="w">                    </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                    </span><span class="err">â”‚</span><span class="w">  </span><span class="n">PERSON</span><span class="w">  </span><span class="err">â”‚</span>
<span class="w">                    </span><span class="err">â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                         </span><span class="err">â”‚</span>
<span class="w">                        </span><span class="o">/</span><span class="w"> </span>\
<span class="w">                       </span><span class="o">/</span><span class="w"> </span><span class="n">d</span><span class="w"> </span>\<span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">disjoint</span>
<span class="w">                      </span><span class="o">/</span><span class="w">     </span>\<span class="w">       </span><span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">overlapping</span>
<span class="w">                     </span><span class="o">/</span><span class="w">       </span>\
<span class="w">              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">              </span><span class="err">â”‚</span><span class="w"> </span><span class="n">STUDENT</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">â”‚</span>
<span class="w">              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="w">  </span><span class="n">PERSON</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">SUPERCLASS</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">SUBCLASSES</span>
<span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">circle</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">d</span><span class="o">/</span><span class="n">o</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">constraint</span>
</code></pre></div>

<h3 id="generalization">Generalization<a class="header-link" href="#generalization" title="Permanent link">&para;</a></h3>
<p><strong>Generalization</strong> is a bottom-up process of abstracting common features from multiple entity types into a higher-level (general) entity type.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="n">Generalization</span><span class="w"> </span><span class="n">example</span><span class="p">:</span>

<span class="w">  </span><span class="n">We</span><span class="w"> </span><span class="n">observe</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">CAR</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">TRUCK</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">have</span><span class="p">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">vehicle_id</span><span class="p">,</span><span class="w"> </span><span class="n">make</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">color</span>

<span class="w">  </span><span class="n">So</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">generalize</span><span class="p">:</span>

<span class="w">                    </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="n">VEHICLE</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â†</span><span class="w"> </span><span class="n">generalized</span><span class="w"> </span><span class="n">superclass</span>
<span class="w">                    </span><span class="err">â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                         </span><span class="err">â”‚</span>
<span class="w">                        </span><span class="o">/</span><span class="w"> </span>\
<span class="w">                       </span><span class="o">/</span><span class="w"> </span><span class="n">d</span><span class="w"> </span>\
<span class="w">                      </span><span class="o">/</span><span class="w">     </span>\
<span class="w">              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="w">              </span><span class="err">â”‚</span><span class="w">   </span><span class="n">CAR</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">TRUCK</span><span class="w">   </span><span class="err">â”‚</span>
<span class="w">              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">              </span><span class="p">(</span><span class="n">num_doors</span><span class="p">)</span><span class="w">   </span><span class="p">(</span><span class="n">payload_capacity</span><span class="p">)</span>
<span class="w">              </span><span class="p">(</span><span class="n">trunk_size</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="n">num_axles</span><span class="p">)</span>
</code></pre></div>

<h3 id="specializationgeneralization-constraints">Specialization/Generalization Constraints<a class="header-link" href="#specializationgeneralization-constraints" title="Permanent link">&para;</a></h3>
<p>Two orthogonal constraints govern specialization:</p>
<p><strong>Constraint 1: Disjointness</strong></p>
<div class="highlight"><pre><span></span><code>Disjoint (d):     An entity can belong to AT MOST ONE subclass
                  Example: A vehicle is either a CAR or TRUCK, not both

Overlapping (o):  An entity can belong to MULTIPLE subclasses
                  Example: A person can be both a STUDENT and an EMPLOYEE
</code></pre></div>

<p><strong>Constraint 2: Completeness</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">Total</span><span class="o">:</span><span class="w">    </span><span class="n">Every</span><span class="w"> </span><span class="n">superclass</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">MUST</span><span class="w"> </span><span class="n">belong</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">subclass</span>
<span class="w">          </span><span class="n">Double</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">superclass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specialization</span><span class="w"> </span><span class="n">circle</span>
<span class="w">          </span><span class="n">Example</span><span class="o">:</span><span class="w"> </span><span class="n">Every</span><span class="w"> </span><span class="n">VEHICLE</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">CAR</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">TRUCK</span>

<span class="n">Partial</span><span class="o">:</span><span class="w">  </span><span class="n">A</span><span class="w"> </span><span class="n">superclass</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">MAY</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">belong</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">subclass</span>
<span class="w">          </span><span class="n">Single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">superclass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specialization</span><span class="w"> </span><span class="n">circle</span>
<span class="w">          </span><span class="n">Example</span><span class="o">:</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">PERSON</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">STUDENT</span><span class="w"> </span><span class="n">nor</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">EMPLOYEE</span>
</code></pre></div>

<h3 id="four-combinations">Four Combinations<a class="header-link" href="#four-combinations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span>              Specialization Constraint Combinations               <span class="err">â”‚</span>
<span class="err">â”‚</span>                                                                  <span class="err">â”‚</span>
<span class="err">â”‚</span>  <span class="p">{</span>disjoint<span class="p">,</span> total<span class="p">}:</span>     Every entity <span class="k">in</span> exactly one subclass    <span class="err">â”‚</span>
<span class="err">â”‚</span>                          Example<span class="p">:</span> VEHICLE <span class="err">â†’</span> CAR xor TRUCK        <span class="err">â”‚</span>
<span class="err">â”‚</span>                                                                  <span class="err">â”‚</span>
<span class="err">â”‚</span>  <span class="p">{</span>disjoint<span class="p">,</span> partial<span class="p">}:</span>   Entity <span class="k">in</span> at most one subclass          <span class="err">â”‚</span>
<span class="err">â”‚</span>                          Example<span class="p">:</span> ACCOUNT <span class="err">â†’</span> SAVINGS xor CHECKING <span class="err">â”‚</span>
<span class="err">â”‚</span>                          <span class="p">(</span>some accounts may be neither<span class="p">)</span>          <span class="err">â”‚</span>
<span class="err">â”‚</span>                                                                  <span class="err">â”‚</span>
<span class="err">â”‚</span>  <span class="p">{</span>overlapping<span class="p">,</span> total<span class="p">}:</span>  Entity <span class="k">in</span> one <span class="ow">or</span> more subclasses        <span class="err">â”‚</span>
<span class="err">â”‚</span>                          Example<span class="p">:</span> PERSON <span class="err">â†’</span> STUDENT <span class="l">and/or</span>        <span class="err">â”‚</span>
<span class="err">â”‚</span>                          EMPLOYEE <span class="p">(</span>but must be at least one<span class="p">)</span>     <span class="err">â”‚</span>
<span class="err">â”‚</span>                                                                  <span class="err">â”‚</span>
<span class="err">â”‚</span>  <span class="p">{</span>overlapping<span class="p">,</span> partial<span class="p">}:</span> Entity <span class="k">in</span> zero <span class="ow">or</span> more subclasses      <span class="err">â”‚</span>
<span class="err">â”‚</span>                          Example<span class="p">:</span> PERSON <span class="err">â†’</span> STUDENT <span class="l">and/or</span>        <span class="err">â”‚</span>
<span class="err">â”‚</span>                          EMPLOYEE <span class="p">(</span>can be neither<span class="p">)</span>               <span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="attribute-inheritance">Attribute Inheritance<a class="header-link" href="#attribute-inheritance" title="Permanent link">&para;</a></h3>
<p>Subclasses <strong>inherit</strong> all attributes of their superclass and can have additional attributes specific to the subclass.</p>
<div class="highlight"><pre><span></span><code>            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚      PERSON      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚ person_id (PK)   â”‚
            â”‚ name             â”‚
            â”‚ date_of_birth    â”‚
            â”‚ email            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                    / \
                   / o \     (overlapping, partial)
                  /     \
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    STUDENT     â”‚  â”‚   EMPLOYEE     â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚ + student_id   â”‚  â”‚ + emp_id       â”‚
    â”‚ + year         â”‚  â”‚ + salary       â”‚
    â”‚ + gpa          â”‚  â”‚ + hire_date    â”‚
    â”‚ + major        â”‚  â”‚ + department   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    A STUDENT inherits: person_id, name, date_of_birth, email
    and adds: student_id, year, gpa, major

    A PERSON who is both STUDENT and EMPLOYEE has ALL attributes.
</code></pre></div>

<h3 id="multiple-inheritance-and-category-union-type">Multiple Inheritance and Category (Union Type)<a class="header-link" href="#multiple-inheritance-and-category-union-type" title="Permanent link">&para;</a></h3>
<p>A <strong>category</strong> (or union type) is a subclass with multiple possible superclasses:</p>
<div class="highlight"><pre><span></span><code>            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  PERSON  â”‚      â”‚ COMPANY  â”‚      â”‚   BANK   â”‚
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                 â”‚                 â”‚                  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                  (U)    â† Union / Category
                                   â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   OWNER      â”‚  (of a vehicle)
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    An OWNER can be EITHER a PERSON, a COMPANY, OR a BANK.
    (As opposed to specialization, where subclasses share ONE superclass.)
</code></pre></div>

<hr />
<h2 id="9-er-to-relational-mapping-algorithm">9. ER-to-Relational Mapping Algorithm<a class="header-link" href="#9-er-to-relational-mapping-algorithm" title="Permanent link">&para;</a></h2>
<p>This section presents the systematic <strong>7-step algorithm</strong> for converting an ER/EER diagram into a relational schema.</p>
<h3 id="step-1-map-strong-entity-types">Step 1: Map Strong Entity Types<a class="header-link" href="#step-1-map-strong-entity-types" title="Permanent link">&para;</a></h3>
<p>For each strong (regular) entity type E, create a relation R that includes all simple attributes of E. Choose a primary key for R.</p>
<div class="highlight"><pre><span></span><code>ER:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EMPLOYEE â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  (emp_id), (name), (salary), (hire_date)

Relational:
  EMPLOYEE(emp_id, first_name, last_name, salary, hire_date)
  PK: emp_id

Rules:
  <span class="k">-</span> Composite attributes: include only leaf components
    (name â†’ first_name, last_name)
  <span class="k">-</span> Derived attributes: omit (computed at query time)
  <span class="k">-</span> Multivalued attributes: handled in Step 6
</code></pre></div>

<h3 id="step-2-map-weak-entity-types">Step 2: Map Weak Entity Types<a class="header-link" href="#step-2-map-weak-entity-types" title="Permanent link">&para;</a></h3>
<p>For each weak entity type W with owner entity E, create a relation R that includes:
- All simple attributes of W
- The primary key of E as a foreign key
- Primary key of R = PK of E + partial key of W</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="p">:</span>
  <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>    <span class="mi">1</span><span class="p">:</span><span class="n">N</span>    <span class="err">â”Œâ•â•â•â•â•â•â•â•â•â•â•â”</span>
  <span class="err">â”‚</span> <span class="n">EMPLOYEE</span> <span class="err">â”‚â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•‘</span> <span class="n">DEPENDENT</span> <span class="err">â•‘</span>
  <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>              <span class="err">â””â•â•â•â•â•â•â•â•â•â•â•â”˜</span>
  <span class="p">(</span><span class="n">emp_id</span><span class="p">)</span>             <span class="p">(</span><span class="n">dep_name</span><span class="p">),</span> <span class="p">(</span><span class="n">birth_date</span><span class="p">),</span> <span class="p">(</span><span class="n">relationship</span><span class="p">)</span>

<span class="n">Relational</span><span class="p">:</span>
  <span class="n">DEPENDENT</span><span class="p">(</span><span class="n">emp_id</span><span class="p">,</span> <span class="n">dep_name</span><span class="p">,</span> <span class="n">birth_date</span><span class="p">,</span> <span class="n">relationship</span><span class="p">)</span>
  <span class="n">PK</span><span class="p">:</span> <span class="p">(</span><span class="n">emp_id</span><span class="p">,</span> <span class="n">dep_name</span><span class="p">)</span>
  <span class="n">FK</span><span class="p">:</span> <span class="n">emp_id</span> <span class="err">â†’</span> <span class="n">EMPLOYEE</span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span> <span class="n">ON</span> <span class="n">DELETE</span> <span class="n">CASCADE</span>
</code></pre></div>

<h3 id="step-3-map-binary-11-relationship-types">Step 3: Map Binary 1:1 Relationship Types<a class="header-link" href="#step-3-map-binary-11-relationship-types" title="Permanent link">&para;</a></h3>
<p>Three approaches (choose based on participation constraints):</p>
<div class="highlight"><pre><span></span><code><span class="nx">Approach</span><span class="w"> </span><span class="nx">A</span><span class="p">:</span><span class="w"> </span><span class="nx">Foreign</span><span class="w"> </span><span class="nx">Key</span><span class="w"> </span><span class="nx">Approach</span><span class="w"> </span><span class="p">(</span><span class="nx">preferred</span><span class="p">)</span>
<span class="w">  </span><span class="nx">Add</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">PK</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">entity</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">FK</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">other</span><span class="p">.</span>
<span class="w">  </span><span class="nx">Prefer</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">FK</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">side</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">TOTAL</span><span class="w"> </span><span class="nx">participation</span><span class="p">.</span>

<span class="w">  </span><span class="nx">ER</span><span class="p">:</span><span class="w"> </span><span class="nx">EMPLOYEE</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">â”€â”€</span><span class="p">&lt;</span><span class="nx">MANAGES</span><span class="p">&gt;</span><span class="err">â”€â”€</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="nx">DEPARTMENT</span>

<span class="w">  </span><span class="nx">Relational</span><span class="p">:</span>
<span class="w">    </span><span class="nx">EMPLOYEE</span><span class="p">(</span><span class="nx">emp_id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">salary</span><span class="p">)</span>
<span class="w">    </span><span class="nx">DEPARTMENT</span><span class="p">(</span><span class="nx">dept_id</span><span class="p">,</span><span class="w"> </span><span class="nx">dept_name</span><span class="p">,</span><span class="w"> </span><span class="nx">mgr_emp_id</span><span class="p">,</span><span class="w"> </span><span class="nx">mgr_start_date</span><span class="p">)</span>
<span class="w">                                   </span><span class="o">^^^^^^^^^</span>
<span class="w">                                   </span><span class="nx">FK</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">EMPLOYEE</span><span class="p">(</span><span class="nx">emp_id</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nx">FK</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">DEPARTMENT</span><span class="w"> </span><span class="nx">because</span><span class="w"> </span><span class="nx">it</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="nx">participation</span><span class="p">:</span>
<span class="w">     </span><span class="nx">every</span><span class="w"> </span><span class="nx">department</span><span class="w"> </span><span class="nx">must</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">manager</span><span class="p">)</span>


<span class="nx">Approach</span><span class="w"> </span><span class="nx">B</span><span class="p">:</span><span class="w"> </span><span class="nx">Merged</span><span class="w"> </span><span class="nx">Relation</span>
<span class="w">  </span><span class="nx">Merge</span><span class="w"> </span><span class="nx">both</span><span class="w"> </span><span class="nx">entity</span><span class="w"> </span><span class="nx">types</span><span class="w"> </span><span class="nx">into</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">relation</span><span class="p">.</span>
<span class="w">  </span><span class="nx">Only</span><span class="w"> </span><span class="nx">feasible</span><span class="w"> </span><span class="nx">when</span><span class="w"> </span><span class="nx">BOTH</span><span class="w"> </span><span class="nx">sides</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">total</span><span class="w"> </span><span class="nx">participation</span><span class="p">.</span>


<span class="nx">Approach</span><span class="w"> </span><span class="nx">C</span><span class="p">:</span><span class="w"> </span><span class="nx">Cross</span><span class="o">-</span><span class="nx">Reference</span><span class="w"> </span><span class="p">(</span><span class="nx">Relationship</span><span class="w"> </span><span class="nx">Relation</span><span class="p">)</span>
<span class="w">  </span><span class="nx">Create</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">separate</span><span class="w"> </span><span class="nx">relation</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">relationship</span><span class="p">.</span>
<span class="w">  </span><span class="nx">Useful</span><span class="w"> </span><span class="nx">when</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">relationship</span><span class="w"> </span><span class="nx">has</span><span class="w"> </span><span class="nx">many</span><span class="w"> </span><span class="nx">attributes</span><span class="p">.</span>
</code></pre></div>

<h3 id="step-4-map-binary-1n-relationship-types">Step 4: Map Binary 1:N Relationship Types<a class="header-link" href="#step-4-map-binary-1n-relationship-types" title="Permanent link">&para;</a></h3>
<p>Add the PK of the "1-side" entity as a FK in the "N-side" entity.</p>
<div class="highlight"><pre><span></span><code><span class="n">ER:</span> <span class="n">DEPARTMENT</span> (<span class="mi">1</span>) â”€â”€<span class="s">&lt;HAS&gt;</span>â”€â”€ (<span class="n">N</span>) <span class="n">EMPLOYEE</span>

<span class="n">Relational:</span>
  <span class="n">DEPARTMENT</span>(<span class="n">dept_id</span>, <span class="n">dept_name</span>, <span class="n">budget</span>)
  <span class="n">EMPLOYEE</span>(<span class="n">emp_id</span>, <span class="nb">name</span>, <span class="n">salary</span>, <span class="n">dept_id</span>)
                                 ^^^^^^^
                                 <span class="n">FK</span> â†’ <span class="n">DEPARTMENT</span>(<span class="n">dept_id</span>)

  <span class="nb">Any</span> <span class="n">relationship</span> <span class="nb">attributes</span> <span class="n">go</span> <span class="k">with</span> <span class="n">the</span> <span class="n">N-side</span> <span class="n">entity:</span>
  <span class="n">If</span> <span class="n">HAS</span> <span class="k">has</span> (<span class="n">start_date</span>), <span class="nb">add</span> <span class="n">it</span> <span class="nb">to</span> <span class="n">EMPLOYEE</span>.
</code></pre></div>

<h3 id="step-5-map-binary-mn-relationship-types">Step 5: Map Binary M:N Relationship Types<a class="header-link" href="#step-5-map-binary-mn-relationship-types" title="Permanent link">&para;</a></h3>
<p>Create a new <strong>relationship relation</strong> R. Include:
- PKs of both participating entity types as FKs
- Any attributes of the relationship
- PK of R = combination of both FKs</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="o">:</span><span class="w"> </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">M</span><span class="o">)</span><span class="w"> </span><span class="err">â”€â”€</span><span class="o">&lt;</span><span class="n">ENROLLS</span><span class="o">&gt;</span><span class="err">â”€â”€</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="n">COURSE</span>
<span class="w">    </span><span class="n">With</span><span class="w"> </span><span class="n">attributes</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span>

<span class="n">Relational</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">)</span>
<span class="w">  </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">title</span><span class="o">,</span><span class="w"> </span><span class="n">credits</span><span class="o">)</span>
<span class="w">  </span><span class="n">ENROLLMENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">,</span><span class="w"> </span><span class="n">grade</span><span class="o">)</span>
<span class="w">  </span><span class="n">PK</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">)</span>
<span class="w">  </span><span class="n">FK</span><span class="o">:</span><span class="w"> </span><span class="n">student_id</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">)</span>
<span class="w">      </span><span class="n">course_id</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">)</span>
</code></pre></div>

<h3 id="step-6-map-multivalued-attributes">Step 6: Map Multivalued Attributes<a class="header-link" href="#step-6-map-multivalued-attributes" title="Permanent link">&para;</a></h3>
<p>Create a new relation for each multivalued attribute. Include:
- The multivalued attribute
- The PK of the entity as a FK
- PK = FK + multivalued attribute</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="o">:</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">multivalued</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="o">{</span><span class="n">phone_numbers</span><span class="o">}</span>

<span class="n">Relational</span><span class="o">:</span>
<span class="w">  </span><span class="n">EMPLOYEE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">salary</span><span class="o">)</span>
<span class="w">  </span><span class="n">EMPLOYEE_PHONE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">phone_number</span><span class="o">)</span>
<span class="w">  </span><span class="n">PK</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">phone_number</span><span class="o">)</span>
<span class="w">  </span><span class="n">FK</span><span class="o">:</span><span class="w"> </span><span class="n">emp_id</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">)</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">DELETE</span><span class="w"> </span><span class="n">CASCADE</span>
</code></pre></div>

<h3 id="step-7-map-specializationgeneralization">Step 7: Map Specialization/Generalization<a class="header-link" href="#step-7-map-specializationgeneralization" title="Permanent link">&para;</a></h3>
<p>Four options exist. The best choice depends on the constraints:</p>
<p><strong>Option A: Single Table with Type Discriminator</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">PERSON</span><span class="p">(</span><span class="nx">person_id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">dob</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">person_type</span><span class="p">,</span>
<span class="w">       </span><span class="o">--</span><span class="w"> </span><span class="nx">STUDENT</span><span class="w"> </span><span class="nx">attributes</span><span class="w"> </span><span class="p">(</span><span class="nx">NULL</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">student</span><span class="p">)</span>
<span class="w">       </span><span class="nx">student_id</span><span class="p">,</span><span class="w"> </span><span class="nx">year</span><span class="p">,</span><span class="w"> </span><span class="nx">gpa</span><span class="p">,</span><span class="w"> </span><span class="nx">major</span><span class="p">,</span>
<span class="w">       </span><span class="o">--</span><span class="w"> </span><span class="nx">EMPLOYEE</span><span class="w"> </span><span class="nx">attributes</span><span class="w"> </span><span class="p">(</span><span class="nx">NULL</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">an</span><span class="w"> </span><span class="nx">employee</span><span class="p">)</span>
<span class="w">       </span><span class="nx">emp_id</span><span class="p">,</span><span class="w"> </span><span class="nx">salary</span><span class="p">,</span><span class="w"> </span><span class="nx">hire_date</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="p">)</span>

<span class="nx">person_type</span><span class="w"> </span><span class="nx">IN</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;S&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;E&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">SE</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;N&#39;</span><span class="p">)</span><span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="nx">Student</span><span class="p">,</span><span class="w"> </span><span class="nx">Employee</span><span class="p">,</span><span class="w"> </span><span class="nx">Both</span><span class="p">,</span><span class="w"> </span><span class="nx">Neither</span>

<span class="nx">Pros</span><span class="p">:</span><span class="w"> </span><span class="nx">Simple</span><span class="p">,</span><span class="w"> </span><span class="nx">no</span><span class="w"> </span><span class="nx">joins</span><span class="w"> </span><span class="nx">needed</span>
<span class="nx">Cons</span><span class="p">:</span><span class="w"> </span><span class="nx">Many</span><span class="w"> </span><span class="nx">NULLs</span><span class="p">,</span><span class="w"> </span><span class="nx">harder</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">enforce</span><span class="w"> </span><span class="nx">subclass</span><span class="w"> </span><span class="nx">constraints</span>
<span class="nx">Best</span><span class="w"> </span><span class="k">for</span><span class="p">:</span><span class="w"> </span><span class="nx">Few</span><span class="w"> </span><span class="nx">subclasses</span><span class="p">,</span><span class="w"> </span><span class="nx">many</span><span class="w"> </span><span class="nx">queries</span><span class="w"> </span><span class="nx">across</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">types</span>
</code></pre></div>

<p><strong>Option B: Separate Tables for Each Subclass (Superclass PKs Inherited)</strong></p>
<div class="highlight"><pre><span></span><code>PERSON(person_id, name, dob, email)
STUDENT(person_id, student_id, year, gpa, major)
  FK: person_id â†’ PERSON(person_id)
EMPLOYEE(person_id, emp_id, salary, hire_date, department)
  FK: person_id â†’ PERSON(person_id)

Pros: No NULLs, clean separation
Cons: Requires joins to get full data
Best for: Many subclass-specific attributes, overlapping allowed
</code></pre></div>

<p><strong>Option C: Separate Tables (Full Attributes in Each)</strong></p>
<div class="highlight"><pre><span></span><code>STUDENT(person_id, name, dob, email, student_id, year, gpa, major)
EMPLOYEE(person_id, name, dob, email, emp_id, salary, hire_date, dept)

Pros: No joins needed for subclass queries
Cons: Redundancy (shared attributes duplicated), hard to query
      across all persons, overlapping requires data duplication
Best for: Disjoint, total specialization
</code></pre></div>

<p><strong>Option D: Hybrid (superclass + specialized tables)</strong></p>
<div class="highlight"><pre><span></span><code>Choose based on usage patterns:
  - Frequently queried together â†’ Option A
  - Mostly queried separately â†’ Option C
  - Need flexibility â†’ Option B
</code></pre></div>

<h3 id="mapping-decision-table">Mapping Decision Table<a class="header-link" href="#mapping-decision-table" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ER Construct             â”‚ Relational Mapping                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Strong entity            â”‚ New relation, own PK              â”‚
â”‚ Weak entity              â”‚ New relation, composite PK        â”‚
â”‚ 1:1 relationship         â”‚ FK in one entity (total side)     â”‚
â”‚ 1:N relationship         â”‚ FK in N-side entity               â”‚
â”‚ M:N relationship         â”‚ New relation (bridge table)       â”‚
â”‚ Multivalued attribute    â”‚ New relation                      â”‚
â”‚ Composite attribute      â”‚ Flatten to components             â”‚
â”‚ Derived attribute        â”‚ Omit (compute at query time)      â”‚
â”‚ Specialization/general.  â”‚ Options A, B, C, or D             â”‚
â”‚ Ternary relationship     â”‚ New relation with 3 FKs           â”‚
â”‚ Recursive relationship   â”‚ FK to own table (or bridge table) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="10-design-case-study-university-database">10. Design Case Study: University Database<a class="header-link" href="#10-design-case-study-university-database" title="Permanent link">&para;</a></h2>
<p>Let us design a complete ER diagram for a university database and map it to a relational schema.</p>
<h3 id="requirements">Requirements<a class="header-link" href="#requirements" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">university</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">DEPARTMENTS</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">building</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">budget</span><span class="mf">.</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Each</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="kr">on</span><span class="n">e</span><span class="w"> </span><span class="n">CHAIRPERSON</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="n">faculty</span><span class="w"> </span><span class="n">member</span><span class="p">)</span><span class="mf">.</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">FACULTY</span><span class="w"> </span><span class="n">members</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">salary</span><span class="mf">.</span><span class="w"> </span><span class="n">Each</span><span class="w"> </span><span class="n">belongs</span><span class="w"> </span><span class="kr">to</span>
<span class="w">   </span><span class="kr">on</span><span class="n">e</span><span class="w"> </span><span class="n">department</span><span class="mf">.</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">STUDENTS</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">GPA</span><span class="mf">.</span><span class="w"> </span><span class="n">Each</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">department</span><span class="mf">.</span>
<span class="mf">5.</span><span class="w"> </span><span class="n">COURSES</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">credits</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">belong</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">department</span><span class="mf">.</span>
<span class="mf">6.</span><span class="w"> </span><span class="n">Faculty</span><span class="w"> </span><span class="n">members</span><span class="w"> </span><span class="n">TEACH</span><span class="w"> </span><span class="n">courses</span><span class="mf">.</span><span class="w"> </span><span class="n">Each</span><span class="w"> </span><span class="n">offering</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">semester</span><span class="mf">.</span>
<span class="w">   </span><span class="n">A</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sections</span><span class="w"> </span><span class="n">taught</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">faculty</span><span class="mf">.</span>
<span class="mf">7.</span><span class="w"> </span><span class="n">Students</span><span class="w"> </span><span class="n">ENROLL</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="n">sections</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">receive</span><span class="w"> </span><span class="n">grades</span><span class="mf">.</span>
<span class="mf">8.</span><span class="w"> </span><span class="n">Students</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">PHONE</span><span class="w"> </span><span class="n">NUMBERS</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">EMAIL</span><span class="w"> </span><span class="n">ADDRESSES</span><span class="mf">.</span>
<span class="mf">9.</span><span class="w"> </span><span class="n">Faculty</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">ADVISE</span><span class="w"> </span><span class="n">students</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="kr">on</span><span class="n">e</span><span class="w"> </span><span class="n">advisor</span><span class="p">)</span><span class="mf">.</span>
</code></pre></div>

<h3 id="er-diagram-ascii">ER Diagram (ASCII)<a class="header-link" href="#er-diagram-ascii" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code> {phone}  {email}
    \      /
     \    /
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” (0,1)   (1,1) â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STUDENT  â”‚â•â•â•â•â•&lt;ADVISES&gt;â•â•â•â•â•â”‚ FACULTY  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  (sid)(name)                    (fid)(name)
  (year)(gpa)                    (rank)(salary)
       |                              |
    (1,N)|                         (1,N)|
       |                              |
  &lt;ENROLLED_IN&gt;                   &lt;TEACHES&gt;
       |                              |
    (1,N)|                         (1,N)|
       |                              |
  â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â”               â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
  â•‘   SECTION    â•‘               â•‘   SECTION    â•‘
  â•‘ (sec_number) â•‘               â•‘              â•‘
  â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜               â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜
       |                              |
    (1,1)|                            |
       |                              |
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     (1,N)    (1,1)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  (1,1)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  COURSE  â”‚â•â•â•â•â•&lt;OFFERED_BY&gt;â•â•â•â•â•â•â”‚DEPARTMENTâ”‚â•â•â•â•&lt;CHAIRS&gt;â•â•â•â•â•â”‚ FACULTY  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  (already
  (cid)(title)                       (did)(name)                   shown)
  (credits)                          (building)
                                     (budget)
</code></pre></div>

<p>Note: The above is simplified. A more accurate representation would model SECTION as a weak entity of COURSE, with TEACHES linking FACULTY to SECTION and ENROLLED_IN linking STUDENT to SECTION.</p>
<h3 id="refined-er-design">Refined ER Design<a class="header-link" href="#refined-er-design" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Entities</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="o">(</span><span class="n">dept_id</span><span class="o">,</span><span class="w"> </span><span class="n">dept_name</span><span class="o">,</span><span class="w"> </span><span class="n">building</span><span class="o">,</span><span class="w"> </span><span class="n">budget</span><span class="o">)</span><span class="w">              </span><span class="n">Strong</span>
<span class="w">  </span><span class="n">FACULTY</span><span class="o">(</span><span class="n">fac_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">rank</span><span class="o">,</span><span class="w"> </span><span class="n">salary</span><span class="o">)</span><span class="w">                           </span><span class="n">Strong</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">stu_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">,</span><span class="w"> </span><span class="n">gpa</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="n">phone</span><span class="o">},</span><span class="w"> </span><span class="o">{</span><span class="n">email</span><span class="o">})</span><span class="w">           </span><span class="n">Strong</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">MV</span>
<span class="w">  </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">title</span><span class="o">,</span><span class="w"> </span><span class="n">credits</span><span class="o">)</span><span class="w">                             </span><span class="n">Strong</span>
<span class="w">  </span><span class="n">SECTION</span><span class="o">(</span><span class="n">sec_number</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">)</span><span class="w">                           </span><span class="n">Weak</span><span class="w"> </span><span class="o">(</span><span class="n">owner</span><span class="o">:</span><span class="w"> </span><span class="n">COURSE</span><span class="o">)</span>

<span class="n">Relationships</span><span class="o">:</span>
<span class="w">  </span><span class="n">WORKS_IN</span><span class="o">:</span><span class="w">      </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">     </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">MAJOR_IN</span><span class="o">:</span><span class="w">      </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">     </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">CHAIRS</span><span class="o">:</span><span class="w">        </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">..</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="o">)</span>
<span class="w">  </span><span class="n">OFFERS</span><span class="o">:</span><span class="w">        </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">COURSE</span><span class="w">      </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">HAS_SECTION</span><span class="o">:</span><span class="w">   </span><span class="n">COURSE</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">SECTION</span><span class="w">         </span><span class="o">(</span><span class="n">identifying</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">TEACHES</span><span class="o">:</span><span class="w">       </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">SECTION</span><span class="w">        </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">section</span><span class="o">)</span>
<span class="w">  </span><span class="n">ENROLLED_IN</span><span class="o">:</span><span class="w">   </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">M</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">SECTION</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w">      </span><span class="o">(</span><span class="n">M</span><span class="o">:</span><span class="n">N</span><span class="o">,</span><span class="w"> </span><span class="n">attrs</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span><span class="o">)</span>
<span class="w">  </span><span class="n">ADVISES</span><span class="o">:</span><span class="w">       </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w">      </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
</code></pre></div>

<h3 id="relational-schema-mapped">Relational Schema (Mapped)<a class="header-link" href="#relational-schema-mapped" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">-- Step 1: Strong entities</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">dept_name</span><span class="w">   </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">    </span><span class="n">building</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">budget</span><span class="w">      </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">budget</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">faculty</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">fac_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">rank</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">rank</span><span class="w"> </span><span class="k">IN</span>
<span class="w">                  </span><span class="p">(</span><span class="s1">&#39;Lecturer&#39;</span><span class="p">,</span><span class="s1">&#39;Assistant&#39;</span><span class="p">,</span><span class="s1">&#39;Associate&#39;</span><span class="p">,</span><span class="s1">&#39;Full&#39;</span><span class="p">)),</span>
<span class="w">    </span><span class="n">salary</span><span class="w">      </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Step 4: 1:N WORKS_IN</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">year</span><span class="w">        </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span>
<span class="w">    </span><span class="n">gpa</span><span class="w">         </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">gpa</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">gpa</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="n">major_id</span><span class="w">    </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w">                </span><span class="c1">-- Step 4: 1:N MAJOR_IN</span>
<span class="w">    </span><span class="n">advisor_id</span><span class="w">  </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">                </span><span class="c1">-- Step 4: 1:N ADVISES</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">major_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">advisor_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">title</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">credits</span><span class="w">     </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">credits</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Step 4: 1:N OFFERS</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Step 2: Weak entity (SECTION identified by COURSE)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_number</span><span class="w">  </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">semester</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_year</span><span class="w">    </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fac_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">                </span><span class="c1">-- Step 4: 1:N TEACHES</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">course</span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Step 3: 1:1 CHAIRS (FK on department side, total participation)</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">chair_fac_id</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_chair</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">chair_fac_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">);</span>

<span class="c1">-- Step 5: M:N ENROLLED_IN</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">enrollment</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_number</span><span class="w">  </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">semester</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_year</span><span class="w">    </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">grade</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">)</span>
<span class="w">        </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">section</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Step 6: Multivalued attributes</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student_phone</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">phone</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">phone</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student_email</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">email</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="schema-diagram-summary">Schema Diagram Summary<a class="header-link" href="#schema-diagram-summary" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DEPARTMENT  â”‚     â”‚   FACULTY    â”‚     â”‚   STUDENT    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚PK dept_id    â”‚â—„â”€â”€â”€â”€â”‚PK fac_id     â”‚â—„â”€â”€â”€â”€â”‚PK stu_id     â”‚
â”‚   dept_name  â”‚  FK â”‚   name       â”‚  FK â”‚   name       â”‚
â”‚   building   â”‚dept â”‚   rank       â”‚adv  â”‚   year       â”‚
â”‚   budget     â”‚     â”‚   salary     â”‚     â”‚   gpa        â”‚
â”‚FK chair_fac  â”‚â”€â”€â”€â”€â”€â”‚FK dept_id â”€â”€â”€â”˜     â”‚FK major_idâ”€â”€â–ºâ”‚ DEPARTMENT
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚FK advisor_idâ”€â”‚â–ºFACULTY
       â”‚                    â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â”‚              â”Œâ”€â”€â”€â”€â”€â”˜                    â”‚
       â”‚              â”‚                          â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”
  â”‚  COURSE  â”‚  â”‚  SECTION   â”‚  â”‚   ENROLLMENT     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚PK crs_id â”‚â—„â”€â”‚PK crs_id   â”‚â—„â”€â”‚PK stu_id         â”‚
  â”‚   title  â”‚  â”‚PK sec_num  â”‚  â”‚PK crs_id         â”‚
  â”‚   creditsâ”‚  â”‚PK semester â”‚  â”‚PK sec_num        â”‚
  â”‚FK dept_idâ”‚  â”‚PK sec_year â”‚  â”‚PK semester       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚FK fac_id   â”‚  â”‚PK sec_year       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   grade           â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ STUDENT_PHONE   â”‚  â”‚ STUDENT_EMAIL   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚PK,FK stu_id     â”‚  â”‚PK,FK stu_id     â”‚
  â”‚PK    phone      â”‚  â”‚PK    email      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="11-common-pitfalls-and-best-practices">11. Common Pitfalls and Best Practices<a class="header-link" href="#11-common-pitfalls-and-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="pitfall-1-fan-trap">Pitfall 1: Fan Trap<a class="header-link" href="#pitfall-1-fan-trap" title="Permanent link">&para;</a></h3>
<p>A <strong>fan trap</strong> occurs when a path through multiple 1:N relationships fans out, causing ambiguous associations.</p>
<div class="highlight"><pre><span></span><code><span class="n">Problem</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">â”€</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">EMPLOYEE</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">â”€</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">PROJECT</span>

<span class="w">  </span><span class="n">Query</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Which employees work on which projects?&quot;</span>
<span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">PROJECT</span>
<span class="w">  </span><span class="n">but</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">PROJECT</span><span class="o">!</span>

<span class="n">Solution</span><span class="o">:</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">WORKS_ON</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">PROJECT</span><span class="o">.</span>
</code></pre></div>

<h3 id="pitfall-2-chasm-trap">Pitfall 2: Chasm Trap<a class="header-link" href="#pitfall-2-chasm-trap" title="Permanent link">&para;</a></h3>
<p>A <strong>chasm trap</strong> occurs when a path does not exist between entity types that should be related.</p>
<div class="highlight"><pre><span></span><code><span class="n">Problem</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">â”€</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="o">(</span><span class="n">partial</span><span class="o">)</span>
<span class="w">  </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">â”€</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">PROJECT</span>

<span class="w">  </span><span class="n">If</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">employees</span><span class="o">,</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s2">&quot;chasm&quot;</span>
<span class="w">  </span><span class="o">(</span><span class="n">gap</span><span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">PROJECT</span><span class="o">.</span>

<span class="n">Solution</span><span class="o">:</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">HAS_PROJECT</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">PROJECT</span><span class="o">.</span>
</code></pre></div>

<h3 id="pitfall-3-overuse-of-multivalued-attributes">Pitfall 3: Overuse of Multivalued Attributes<a class="header-link" href="#pitfall-3-overuse-of-multivalued-attributes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Bad</span><span class="o">:</span>
<span class="w">  </span><span class="n">PERSON</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">{</span><span class="n">address</span><span class="o">}</span><span class="w">   </span><span class="err">â†</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">attributes</span>
<span class="w">                             </span><span class="o">(</span><span class="n">street</span><span class="o">,</span><span class="w"> </span><span class="n">city</span><span class="o">,</span><span class="w"> </span><span class="n">state</span><span class="o">,</span><span class="w"> </span><span class="n">zip</span><span class="o">),</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">wrong</span>

<span class="n">Better</span><span class="o">:</span>
<span class="w">  </span><span class="n">PERSON</span><span class="w"> </span><span class="err">â”€</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">ADDRESS</span>
<span class="w">  </span><span class="n">ADDRESS</span><span class="o">(</span><span class="n">address_id</span><span class="o">,</span><span class="w"> </span><span class="n">street</span><span class="o">,</span><span class="w"> </span><span class="n">city</span><span class="o">,</span><span class="w"> </span><span class="n">state</span><span class="o">,</span><span class="w"> </span><span class="n">zip_code</span><span class="o">)</span>
</code></pre></div>

<h3 id="pitfall-4-missing-relationship-attributes">Pitfall 4: Missing Relationship Attributes<a class="header-link" href="#pitfall-4-missing-relationship-attributes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Bad</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="n">attribute</span><span class="w">    </span><span class="err">â†</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">course</span><span class="o">?</span>

<span class="n">Better</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="w"> </span><span class="err">â”€</span><span class="n">M</span><span class="o">:</span><span class="n">N</span><span class="err">â”€</span><span class="w"> </span><span class="n">COURSE</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">attribute</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span>
</code></pre></div>

<h3 id="best-practices">Best Practices<a class="header-link" href="#best-practices" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">Start</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">entities</span><span class="p">,</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="n">relationships</span><span class="p">,</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="n">attributes</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Every</span><span class="w"> </span><span class="n">entity</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">attribute</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">Avoid</span><span class="w"> </span><span class="n">redundant</span><span class="w"> </span><span class="n">relationships</span><span class="w"> </span><span class="p">(</span><span class="n">derivable</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">others</span><span class="p">)</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">weak</span><span class="w"> </span><span class="n">entities</span><span class="w"> </span><span class="kr">on</span><span class="n">ly</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">truly</span><span class="w"> </span><span class="n">necessary</span>
<span class="mf">5.</span><span class="w"> </span><span class="n">Prefer</span><span class="w"> </span><span class="n">binary</span><span class="w"> </span><span class="n">relationships</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">ternary</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="nb">pos</span><span class="n">sible</span>
<span class="mf">6.</span><span class="w"> </span><span class="n">Document</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">assumptions</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">constraints</span>
<span class="mf">7.</span><span class="w"> </span><span class="nb">Val</span><span class="n">idate</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">stakeholders</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">concrete</span><span class="w"> </span><span class="n">examples</span>
<span class="mf">8.</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">entities</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nb">sin</span><span class="n">gular</span><span class="w"> </span><span class="n">nouns</span><span class="w"> </span><span class="p">(</span><span class="n">STUDENT</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">STUDENTS</span><span class="p">)</span>
<span class="mf">9.</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">relationships</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">verbs</span><span class="w"> </span><span class="p">(</span><span class="n">ENROLLS_IN</span><span class="p">,</span><span class="w"> </span><span class="n">TEACHES</span><span class="p">)</span>
<span class="mf">10.</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="p">,</span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="ow">not</span><span class="n">ation</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">precise</span><span class="w"> </span><span class="n">constraints</span>
</code></pre></div>

<hr />
<h2 id="12-exercises">12. Exercises<a class="header-link" href="#12-exercises" title="Permanent link">&para;</a></h2>
<h3 id="basic-concepts">Basic Concepts<a class="header-link" href="#basic-concepts" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.1</strong>: For each of the following, identify whether it should be modeled as an entity type, a relationship type, or an attribute. Justify your answer.</p>
<ul>
<li>(a) Employee name</li>
<li>(b) Department</li>
<li>(c) Marriage (between two persons)</li>
<li>(d) Student GPA</li>
<li>(e) Book ISBN</li>
<li>(f) Course enrollment</li>
<li>(g) Employee skill (assuming an employee can have many skills)</li>
<li>(h) Project deadline</li>
</ul>
<p><strong>Exercise 4.2</strong>: Classify each of the following attributes:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Simple/Composite</th>
<th>Single/Multi</th>
<th>Stored/Derived</th>
<th>Key?</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSN</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Full name (first + middle + last)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Phone numbers (multiple)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Age (given date of birth)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Email address</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Address (street, city, state, zip)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="er-design">ER Design<a class="header-link" href="#er-design" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.3</strong>: Draw an ER diagram for a hospital system with the following requirements:
- Patients have an ID, name, date of birth, and blood type
- Doctors have an ID, name, specialty, and phone
- Each patient is assigned to a primary doctor
- Doctors can prescribe medications to patients (record date and dosage)
- Medications have a code, name, and manufacturer
- Patients can have multiple allergies</p>
<p>Specify cardinality and participation constraints.</p>
<p><strong>Exercise 4.4</strong>: Draw an ER diagram for an online learning platform:
- Instructors create courses. A course has a title, description, and price.
- Courses contain multiple lessons in a specific order.
- Students can enroll in courses and track their progress per lesson (completion status, time spent).
- Students can rate and review courses (1-5 stars, text).
- There are quizzes at the end of each lesson. Students attempt quizzes and receive scores.</p>
<p>Identify all entity types, relationship types, attributes, keys, and constraints.</p>
<h3 id="cardinality-and-participation">Cardinality and Participation<a class="header-link" href="#cardinality-and-participation" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.5</strong>: For each of the following scenarios, determine the cardinality ratio (1:1, 1:N, M:N) and participation constraints (total/partial):</p>
<ul>
<li>(a) A country has one capital city; a capital city belongs to one country</li>
<li>(b) A student lives in one dormitory room; a room can house multiple students</li>
<li>(c) An author can write many books; a book can have many authors</li>
<li>(d) An employee works on multiple projects; a project has multiple employees</li>
<li>(e) A person has one passport; a passport belongs to one person (not everyone has a passport)</li>
</ul>
<h3 id="weak-entities">Weak Entities<a class="header-link" href="#weak-entities" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.6</strong>: For each pair, determine which (if any) should be a weak entity:</p>
<ul>
<li>(a) Building and Room</li>
<li>(b) Invoice and LineItem</li>
<li>(c) Student and Course</li>
<li>(d) Bank and Branch</li>
<li>(e) Order and OrderItem</li>
</ul>
<p>For each weak entity, identify the partial key and the identifying relationship.</p>
<h3 id="eer">EER<a class="header-link" href="#eer" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.7</strong>: Design an EER diagram for the following:</p>
<p>A company has <strong>employees</strong>. Employees are specialized into <strong>managers</strong>, <strong>engineers</strong>, and <strong>secretaries</strong>. An engineer can be further specialized into <strong>software engineers</strong> and <strong>hardware engineers</strong>.</p>
<ul>
<li>Determine if the specializations should be disjoint or overlapping</li>
<li>Determine if they should be total or partial</li>
<li>Add at least two specific attributes for each subclass</li>
<li>Draw the complete EER diagram</li>
</ul>
<h3 id="er-to-relational-mapping">ER-to-Relational Mapping<a class="header-link" href="#er-to-relational-mapping" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.8</strong>: Given the following ER diagram, apply the 7-step mapping algorithm to produce a complete relational schema with SQL DDL:</p>
<div class="highlight"><pre><span></span><code>                     <span class="p">{</span><span class="n">skill</span><span class="p">}</span>
                       <span class="p">|</span>
  <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>  <span class="mi">1</span><span class="p">:</span><span class="n">N</span>  <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>  <span class="n">M</span><span class="p">:</span><span class="n">N</span>   <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
  <span class="err">â”‚</span><span class="n">DEPARTMENT</span><span class="err">â”‚â•â•â•â•â•â•â•</span><span class="o">&lt;</span><span class="n">WORKS_IN</span><span class="o">&gt;</span><span class="err">â•â•â•â•â•â•â•â”‚</span> <span class="n">EMPLOYEE</span> <span class="err">â”‚â•â•â•â•</span><span class="o">&lt;</span><span class="n">WORKS_ON</span><span class="o">&gt;</span><span class="err">â•â•â•â•â”‚</span> <span class="n">PROJECT</span>  <span class="err">â”‚</span>
  <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>        <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>  <span class="p">|</span><span class="n">hours</span><span class="p">|</span>  <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
  <span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>          <span class="p">(</span><span class="n">emp_id</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>              <span class="p">(</span><span class="n">proj_id</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>
  <span class="p">(</span><span class="n">name</span><span class="p">)</span>             <span class="p">(</span><span class="n">salary</span><span class="p">)</span>                    <span class="p">(</span><span class="n">budget</span><span class="p">)</span>
  <span class="p">(</span><span class="n">budget</span><span class="p">)</span>           <span class="p">(</span><span class="n">birth_date</span><span class="p">)</span>                <span class="p">(</span><span class="n">location</span><span class="p">)</span>
                          <span class="p">|</span>
                     <span class="mi">1</span><span class="p">:</span><span class="n">N</span>  <span class="p">|</span>
                          <span class="p">|</span>
                <span class="err">â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”</span>
                <span class="err">â•‘</span>  <span class="n">DEPENDENT</span>   <span class="err">â•‘</span>
                <span class="err">â•‘</span><span class="p">(</span><span class="n">dep_name</span><span class="p">)</span>    <span class="err">â•‘</span>
                <span class="err">â•‘</span><span class="p">(</span><span class="n">birth_date</span><span class="p">)</span>  <span class="err">â•‘</span>
                <span class="err">â•‘</span><span class="p">(</span><span class="n">relationship</span><span class="p">)</span><span class="err">â•‘</span>
                <span class="err">â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜</span>
</code></pre></div>

<p>Include: all tables, PKs, FKs, domain constraints, and ON DELETE actions.</p>
<p><strong>Exercise 4.9</strong>: Map the following specialization hierarchy to a relational schema using each of the three approaches (Option A: single table, Option B: superclass + subclass tables, Option C: separate tables). Discuss the trade-offs.</p>
<div class="highlight"><pre><span></span><code><span class="w">            </span><span class="n">VEHICLE</span>
<span class="w">           </span><span class="p">(</span><span class="n">vin</span><span class="p">,</span><span class="w"> </span><span class="n">make</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">)</span>
<span class="w">              </span><span class="o">|</span>
<span class="w">            </span><span class="o">/</span><span class="w">   </span>\
<span class="w">          </span><span class="n">d</span><span class="p">,</span><span class="n">t</span>
<span class="w">          </span><span class="o">/</span><span class="w">       </span>\
<span class="w">       </span><span class="n">CAR</span><span class="w">          </span><span class="n">TRUCK</span>
<span class="w">    </span><span class="p">(</span><span class="n">num_doors</span><span class="p">,</span><span class="w">   </span><span class="p">(</span><span class="n">payload_cap</span><span class="p">,</span>
<span class="w">     </span><span class="n">trunk_vol</span><span class="p">)</span><span class="w">    </span><span class="n">num_axles</span><span class="p">,</span>
<span class="w">                   </span><span class="n">cab_type</span><span class="p">)</span>
</code></pre></div>

<h3 id="design-challenge">Design Challenge<a class="header-link" href="#design-challenge" title="Permanent link">&para;</a></h3>
<p><strong>Exercise 4.10</strong>: A local library needs a database system. Design the complete conceptual schema (ER/EER diagram) and map it to a relational schema. The requirements are:</p>
<ol>
<li>The library has multiple <strong>branches</strong>, each with a name, address, and phone</li>
<li><strong>Books</strong> are identified by ISBN and have a title, publication year, and edition</li>
<li>Each book has one or more <strong>authors</strong></li>
<li>Books belong to one or more <strong>categories</strong> (Fiction, Science, History, etc.)</li>
<li>Each branch maintains multiple <strong>copies</strong> of each book. Each copy has a copy number and condition status</li>
<li><strong>Members</strong> have a card number, name, address, and phone. Members register at a specific branch</li>
<li>Members can <strong>borrow</strong> copies. Each borrowing records the borrow date, due date, and return date</li>
<li>Members can <strong>reserve</strong> books at a branch (not a specific copy)</li>
<li><strong>Employees</strong> work at branches. There are <strong>librarians</strong> and <strong>assistants</strong> (disjoint specialization)</li>
<li>Each branch has one librarian who serves as the <strong>branch manager</strong></li>
</ol>
<p>Your deliverables:
- Complete ER/EER diagram with all constraints
- Relational schema (apply all 7 steps)
- SQL DDL for at least 5 key tables
- Three sample queries that demonstrate the design supports the library's needs</p>
<hr />
<p><strong>Previous</strong>: <a href="./03_Relational_Algebra.md">Relational Algebra</a> | <strong>Next</strong>: <a href="./05_Functional_Dependencies.md">Functional Dependencies</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Database_Theory/03_Relational_Algebra.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Relational Algebra</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Database_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Database_Theory/05_Functional_Dependencies.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 05: Functional Dependencies</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}