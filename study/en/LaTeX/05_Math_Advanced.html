{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Mathematics - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        ÌïúÍµ≠Ïñ¥
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/LaTeX/">LaTeX</a>
    <span class="separator">/</span>
    <span class="current">Advanced Mathematics</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Advanced Mathematics</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/LaTeX/04_Math_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Mathematical Typesetting Basics</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/LaTeX/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/LaTeX/06_Floats_and_Figures.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Floats, Figures & Tables</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-amsmath-package">The amsmath Package</a></li>
<li><a href="#display-math-environments">Display Math Environments</a><ul>
<li><a href="#equation-and-equation">equation and equation*</a></li>
<li><a href="#align-and-align">align and align*</a></li>
<li><a href="#gather-and-gather">gather and gather*</a></li>
<li><a href="#multline-and-multline">multline and multline*</a></li>
</ul>
</li>
<li><a href="#equation-numbering-control">Equation Numbering Control</a><ul>
<li><a href="#custom-tags">Custom Tags</a></li>
<li><a href="#suppressing-individual-numbers">Suppressing Individual Numbers</a></li>
<li><a href="#labels-and-references">Labels and References</a></li>
</ul>
</li>
<li><a href="#matrices">Matrices</a><ul>
<li><a href="#pmatrix-parentheses">pmatrix (Parentheses)</a></li>
<li><a href="#bmatrix-brackets">bmatrix (Brackets)</a></li>
<li><a href="#vmatrix-and-vmatrix-determinants">vmatrix and Vmatrix (Determinants)</a></li>
<li><a href="#smallmatrix-inline">smallmatrix (Inline)</a></li>
<li><a href="#matrix-examples">Matrix Examples</a></li>
</ul>
</li>
<li><a href="#piecewise-functions-with-cases">Piecewise Functions with cases</a></li>
<li><a href="#theorem-environments">Theorem Environments</a><ul>
<li><a href="#the-amsthm-package">The amsthm Package</a></li>
<li><a href="#using-theorem-environments">Using Theorem Environments</a></li>
<li><a href="#custom-theorem-styles">Custom Theorem Styles</a></li>
<li><a href="#complete-example">Complete Example</a></li>
<li><a href="#customizing-the-qed-symbol">Customizing the QED Symbol</a></li>
</ul>
</li>
<li><a href="#custom-operators">Custom Operators</a></li>
<li><a href="#multiline-equations">Multiline Equations</a><ul>
<li><a href="#split-environment">split Environment</a></li>
<li><a href="#aligned-equations-with-annotations">Aligned Equations with Annotations</a></li>
</ul>
</li>
<li><a href="#stacked-symbols">Stacked Symbols</a><ul>
<li><a href="#overset-and-underset">overset and underset</a></li>
<li><a href="#stackrel">stackrel</a></li>
<li><a href="#multiple-stacks">Multiple Stacks</a></li>
</ul>
</li>
<li><a href="#advanced-examples">Advanced Examples</a><ul>
<li><a href="#complex-integral">Complex Integral</a></li>
<li><a href="#summation-with-conditions">Summation with Conditions</a></li>
<li><a href="#continued-fraction">Continued Fraction</a></li>
<li><a href="#system-of-equations">System of Equations</a></li>
</ul>
</li>
<li><a href="#commutative-diagrams">Commutative Diagrams</a></li>
<li><a href="#physics-package">Physics Package</a><ul>
<li><a href="#derivatives">Derivatives</a></li>
<li><a href="#quantum-mechanics-notation">Quantum Mechanics Notation</a></li>
<li><a href="#vector-notation">Vector Notation</a></li>
<li><a href="#matrix-operations">Matrix Operations</a></li>
</ul>
</li>
<li><a href="#complete-advanced-example">Complete Advanced Example</a></li>
<li><a href="#typography-best-practices">Typography Best Practices</a></li>
<li><a href="#common-mistakes">Common Mistakes</a></li>
<li><a href="#exercises">Exercises</a><ul>
<li><a href="#exercise-1-maxwells-equations">Exercise 1: Maxwell's Equations</a></li>
<li><a href="#exercise-2-matrix-proof">Exercise 2: Matrix Proof</a></li>
<li><a href="#exercise-3-piecewise-function">Exercise 3: Piecewise Function</a></li>
<li><a href="#exercise-4-custom-theorem">Exercise 4: Custom Theorem</a></li>
<li><a href="#exercise-5-optimization-problem">Exercise 5: Optimization Problem</a></li>
<li><a href="#exercise-6-quantum-mechanics">Exercise 6: Quantum Mechanics</a></li>
<li><a href="#exercise-7-continued-fractions">Exercise 7: Continued Fractions</a></li>
<li><a href="#exercise-8-commutative-diagram">Exercise 8: Commutative Diagram</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="advanced-mathematics">Advanced Mathematics<a class="header-link" href="#advanced-mathematics" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Topic</strong>: LaTeX
<strong>Lesson</strong>: 5 of 16
<strong>Prerequisites</strong>: Basic Math Typesetting, Packages &amp; Document Classes
<strong>Objective</strong>: Master advanced mathematical typesetting including multi-line equations, matrices, theorem environments, and specialized notation for physics and computer science.</p>
</blockquote>
<hr />
<h2 id="introduction">Introduction<a class="header-link" href="#introduction" title="Permanent link">&para;</a></h2>
<p>While basic math mode covers inline equations and simple displays, professional mathematical writing requires sophisticated tools for multi-line derivations, aligned equations, matrices, theorem statements, and domain-specific notation. This lesson explores the powerful <code>amsmath</code> package ecosystem and specialized packages that make LaTeX the gold standard for mathematical typesetting.</p>
<h2 id="the-amsmath-package">The amsmath Package<a class="header-link" href="#the-amsmath-package" title="Permanent link">&para;</a></h2>
<p>The <code>amsmath</code> package is essential for advanced mathematics. Load it in your preamble:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>amsmath<span class="nb">}</span>
</code></pre></div>

<p>It provides numerous environments and commands that improve upon LaTeX's basic math capabilities.</p>
<h2 id="display-math-environments">Display Math Environments<a class="header-link" href="#display-math-environments" title="Permanent link">&para;</a></h2>
<h3 id="equation-and-equation">equation and equation*<a class="header-link" href="#equation-and-equation" title="Permanent link">&para;</a></h3>
<p>The <code>equation</code> environment creates a numbered display equation:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  E = mc<span class="nb">^</span>2
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<p>The starred version <code>equation*</code> suppresses numbering:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation*<span class="nb">}</span>
  <span class="k">\nabla</span> <span class="k">\times</span> <span class="k">\mathbf</span><span class="nb">{</span>E<span class="nb">}</span> = -<span class="k">\frac</span><span class="nb">{</span><span class="k">\partial</span> <span class="k">\mathbf</span><span class="nb">{</span>B<span class="nb">}}{</span><span class="k">\partial</span> t<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation*<span class="nb">}</span>
</code></pre></div>

<h3 id="align-and-align">align and align*<a class="header-link" href="#align-and-align" title="Permanent link">&para;</a></h3>
<p>The <code>align</code> environment is for multiple equations aligned at specific points (usually <code>=</code> or <code>\leq</code>):</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
  x<span class="nb">^</span>2 + y<span class="nb">^</span>2 <span class="nb">&amp;</span>= 1 <span class="k">\\</span>
  x <span class="nb">&amp;</span>= <span class="k">\cos\theta</span> <span class="k">\\</span>
  y <span class="nb">&amp;</span>= <span class="k">\sin\theta</span>
<span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>
</code></pre></div>

<p>The <code>&amp;</code> symbol marks the alignment point. Each line gets its own equation number. Use <code>align*</code> to suppress all numbering:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>align*<span class="nb">}</span>
  <span class="k">\nabla</span> <span class="k">\cdot</span> <span class="k">\mathbf</span><span class="nb">{</span>E<span class="nb">}</span> <span class="nb">&amp;</span>= <span class="k">\frac</span><span class="nb">{</span><span class="k">\rho</span><span class="nb">}{</span><span class="k">\epsilon_</span>0<span class="nb">}</span> <span class="k">\\</span>
  <span class="k">\nabla</span> <span class="k">\cdot</span> <span class="k">\mathbf</span><span class="nb">{</span>B<span class="nb">}</span> <span class="nb">&amp;</span>= 0 <span class="k">\\</span>
  <span class="k">\nabla</span> <span class="k">\times</span> <span class="k">\mathbf</span><span class="nb">{</span>E<span class="nb">}</span> <span class="nb">&amp;</span>= -<span class="k">\frac</span><span class="nb">{</span><span class="k">\partial</span> <span class="k">\mathbf</span><span class="nb">{</span>B<span class="nb">}}{</span><span class="k">\partial</span> t<span class="nb">}</span> <span class="k">\\</span>
  <span class="k">\nabla</span> <span class="k">\times</span> <span class="k">\mathbf</span><span class="nb">{</span>B<span class="nb">}</span> <span class="nb">&amp;</span>= <span class="k">\mu_</span>0<span class="k">\mathbf</span><span class="nb">{</span>J<span class="nb">}</span> + <span class="k">\mu_</span>0<span class="k">\epsilon_</span>0<span class="k">\frac</span><span class="nb">{</span><span class="k">\partial</span> <span class="k">\mathbf</span><span class="nb">{</span>E<span class="nb">}}{</span><span class="k">\partial</span> t<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>align*<span class="nb">}</span>
</code></pre></div>

<h3 id="gather-and-gather">gather and gather*<a class="header-link" href="#gather-and-gather" title="Permanent link">&para;</a></h3>
<p>The <code>gather</code> environment centers multiple equations without alignment:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>gather<span class="nb">}</span>
  a = b + c <span class="k">\\</span>
  x = y + z <span class="k">\\</span>
  p = q <span class="k">\cdot</span> r
<span class="k">\end</span><span class="nb">{</span>gather<span class="nb">}</span>
</code></pre></div>

<h3 id="multline-and-multline">multline and multline*<a class="header-link" href="#multline-and-multline" title="Permanent link">&para;</a></h3>
<p>For a single long equation that needs to break across lines:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>multline<span class="nb">}</span>
  p(x) = 3x<span class="nb">^</span>6 + 14x<span class="nb">^</span>5y + 590x<span class="nb">^</span>4y<span class="nb">^</span>2 + 19x<span class="nb">^</span>3y<span class="nb">^</span>3 <span class="k">\\</span>
  - 12x<span class="nb">^</span>2y<span class="nb">^</span>4 - 12xy<span class="nb">^</span>5 + 2y<span class="nb">^</span>6 - a<span class="nb">^</span>3b<span class="nb">^</span>3
<span class="k">\end</span><span class="nb">{</span>multline<span class="nb">}</span>
</code></pre></div>

<p>The first line is left-aligned, the last is right-aligned, and middle lines are centered.</p>
<h2 id="equation-numbering-control">Equation Numbering Control<a class="header-link" href="#equation-numbering-control" title="Permanent link">&para;</a></h2>
<h3 id="custom-tags">Custom Tags<a class="header-link" href="#custom-tags" title="Permanent link">&para;</a></h3>
<p>Override automatic numbering with <code>\tag{}</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  E = mc<span class="nb">^</span>2 <span class="k">\tag</span><span class="nb">{</span>Einstein<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h3 id="suppressing-individual-numbers">Suppressing Individual Numbers<a class="header-link" href="#suppressing-individual-numbers" title="Permanent link">&para;</a></h3>
<p>In multi-line environments, suppress a specific line's number with <code>\notag</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
  x <span class="nb">&amp;</span>= a + b <span class="k">\\</span>
  y <span class="nb">&amp;</span>= c + d <span class="k">\notag</span> <span class="k">\\</span>
  z <span class="nb">&amp;</span>= e + f
<span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>
</code></pre></div>

<p>Only the first and third equations are numbered.</p>
<h3 id="labels-and-references">Labels and References<a class="header-link" href="#labels-and-references" title="Permanent link">&para;</a></h3>
<p>Label equations for cross-referencing:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\label</span><span class="nb">{</span>eq:pythagorean<span class="nb">}</span>
  a<span class="nb">^</span>2 + b<span class="nb">^</span>2 = c<span class="nb">^</span>2
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>

By the Pythagorean theorem (Equation~<span class="k">\ref</span><span class="nb">{</span>eq:pythagorean<span class="nb">}</span>), we have...
</code></pre></div>

<p>The <code>\eqref{}</code> command adds parentheses automatically:</p>
<div class="highlight"><pre><span></span><code>As shown in <span class="k">\eqref</span><span class="nb">{</span>eq:pythagorean<span class="nb">}</span>, the relationship holds.
</code></pre></div>

<p>This produces: "As shown in (1), the relationship holds."</p>
<h2 id="matrices">Matrices<a class="header-link" href="#matrices" title="Permanent link">&para;</a></h2>
<p>The <code>amsmath</code> package provides several matrix environments:</p>
<h3 id="pmatrix-parentheses">pmatrix (Parentheses)<a class="header-link" href="#pmatrix-parentheses" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  A </span><span class="o">=</span><span class="nb"> </span><span class="nv">\begin</span><span class="nb">{pmatrix}</span>
<span class="nb">    a_{</span><span class="m">11</span><span class="nb">} &amp; a_{</span><span class="m">12</span><span class="nb">} &amp; a_{</span><span class="m">13</span><span class="nb">} </span><span class="nv">\\</span>
<span class="nb">    a_{</span><span class="m">21</span><span class="nb">} &amp; a_{</span><span class="m">22</span><span class="nb">} &amp; a_{</span><span class="m">23</span><span class="nb">} </span><span class="nv">\\</span>
<span class="nb">    a_{</span><span class="m">31</span><span class="nb">} &amp; a_{</span><span class="m">32</span><span class="nb">} &amp; a_{</span><span class="m">33</span><span class="nb">}</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{pmatrix}</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="bmatrix-brackets">bmatrix (Brackets)<a class="header-link" href="#bmatrix-brackets" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  B </span><span class="o">=</span><span class="nb"> </span><span class="nv">\begin</span><span class="nb">{bmatrix}</span>
<span class="nb">    </span><span class="m">1</span><span class="nb"> &amp; </span><span class="m">0</span><span class="nb"> &amp; </span><span class="m">0</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    </span><span class="m">0</span><span class="nb"> &amp; </span><span class="m">1</span><span class="nb"> &amp; </span><span class="m">0</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    </span><span class="m">0</span><span class="nb"> &amp; </span><span class="m">0</span><span class="nb"> &amp; </span><span class="m">1</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{bmatrix}</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="vmatrix-and-vmatrix-determinants">vmatrix and Vmatrix (Determinants)<a class="header-link" href="#vmatrix-and-vmatrix-determinants" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\det</span><span class="o">(</span><span class="nb">A</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\begin</span><span class="nb">{vmatrix}</span>
<span class="nb">    a &amp; b </span><span class="nv">\\</span>
<span class="nb">    c &amp; d</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{vmatrix} </span><span class="o">=</span><span class="nb"> ad </span><span class="o">-</span><span class="nb"> bc</span>
<span class="s">\]</span>
</code></pre></div>

<p><code>Vmatrix</code> uses double vertical bars:</p>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\|</span><span class="nb">A</span><span class="nv">\|</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\begin</span><span class="nb">{Vmatrix}</span>
<span class="nb">    </span><span class="m">1</span><span class="nb"> &amp; </span><span class="m">2</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    </span><span class="m">3</span><span class="nb"> &amp; </span><span class="m">4</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{Vmatrix}</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="smallmatrix-inline">smallmatrix (Inline)<a class="header-link" href="#smallmatrix-inline" title="Permanent link">&para;</a></h3>
<p>For inline matrices, use <code>smallmatrix</code>:</p>
<div class="highlight"><pre><span></span><code>The transformation matrix <span class="s">$</span><span class="nv">\bigl</span><span class="o">(</span><span class="nv">\begin</span><span class="nb">{smallmatrix} a &amp; b </span><span class="nv">\\</span><span class="nb"> c &amp; d </span><span class="nv">\end</span><span class="nb">{smallmatrix}</span><span class="nv">\bigr</span><span class="o">)</span><span class="s">$</span> maps...
</code></pre></div>

<p>Note: <code>smallmatrix</code> doesn't add delimiters, so use <code>\bigl(</code> and <code>\bigr)</code> manually.</p>
<h3 id="matrix-examples">Matrix Examples<a class="header-link" href="#matrix-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>align*<span class="nb">}</span>
  <span class="k">\mathbf</span><span class="nb">{</span>A<span class="nb">}</span> <span class="nb">&amp;</span>= <span class="k">\begin</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
    1 <span class="nb">&amp;</span> 2 <span class="nb">&amp;</span> 3 <span class="k">\\</span>
    4 <span class="nb">&amp;</span> 5 <span class="nb">&amp;</span> 6 <span class="k">\\</span>
    7 <span class="nb">&amp;</span> 8 <span class="nb">&amp;</span> 9
  <span class="k">\end</span><span class="nb">{</span>bmatrix<span class="nb">}</span> <span class="k">\\</span>
  <span class="k">\mathbf</span><span class="nb">{</span>I<span class="nb">}_</span>3 <span class="nb">&amp;</span>= <span class="k">\begin</span><span class="nb">{</span>pmatrix<span class="nb">}</span>
    1 <span class="nb">&amp;</span> 0 <span class="nb">&amp;</span> 0 <span class="k">\\</span>
    0 <span class="nb">&amp;</span> 1 <span class="nb">&amp;</span> 0 <span class="k">\\</span>
    0 <span class="nb">&amp;</span> 0 <span class="nb">&amp;</span> 1
  <span class="k">\end</span><span class="nb">{</span>pmatrix<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>align*<span class="nb">}</span>
</code></pre></div>

<h2 id="piecewise-functions-with-cases">Piecewise Functions with cases<a class="header-link" href="#piecewise-functions-with-cases" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\begin</span><span class="nb">{cases}</span>
<span class="nb">    x^</span><span class="m">2</span><span class="nb"> &amp; </span><span class="nv">\text</span><span class="nb">{if } x </span><span class="nv">\geq</span><span class="nb"> </span><span class="m">0</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    </span><span class="o">-</span><span class="nb">x^</span><span class="m">2</span><span class="nb"> &amp; </span><span class="nv">\text</span><span class="nb">{if } x &lt; </span><span class="m">0</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{cases}</span>
<span class="s">\]</span>
</code></pre></div>

<p>More complex example:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  |x| = <span class="k">\begin</span><span class="nb">{</span>cases<span class="nb">}</span>
    x <span class="nb">&amp;</span> <span class="k">\text</span><span class="nb">{</span>if <span class="nb">}</span> x &gt; 0 <span class="k">\\</span>
    0 <span class="nb">&amp;</span> <span class="k">\text</span><span class="nb">{</span>if <span class="nb">}</span> x = 0 <span class="k">\\</span>
    -x <span class="nb">&amp;</span> <span class="k">\text</span><span class="nb">{</span>if <span class="nb">}</span> x &lt; 0
  <span class="k">\end</span><span class="nb">{</span>cases<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h2 id="theorem-environments">Theorem Environments<a class="header-link" href="#theorem-environments" title="Permanent link">&para;</a></h2>
<h3 id="the-amsthm-package">The amsthm Package<a class="header-link" href="#the-amsthm-package" title="Permanent link">&para;</a></h3>
<p>Load the <code>amsthm</code> package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>amsthm<span class="nb">}</span>
</code></pre></div>

<p>Define theorem-like environments:</p>
<div class="highlight"><pre><span></span><code><span class="k">\newtheorem</span><span class="nb">{</span>theorem<span class="nb">}{</span>Theorem<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>lemma<span class="nb">}</span>[theorem]<span class="nb">{</span>Lemma<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>proposition<span class="nb">}</span>[theorem]<span class="nb">{</span>Proposition<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>corollary<span class="nb">}</span>[theorem]<span class="nb">{</span>Corollary<span class="nb">}</span>
</code></pre></div>

<p>The optional <code>[theorem]</code> argument makes these environments share the same counter.</p>
<h3 id="using-theorem-environments">Using Theorem Environments<a class="header-link" href="#using-theorem-environments" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>theorem<span class="nb">}</span>[Pythagorean Theorem]
  <span class="k">\label</span><span class="nb">{</span>thm:pythagoras<span class="nb">}</span>
  In a right triangle with legs of length <span class="s">$</span><span class="nb">a</span><span class="s">$</span> and <span class="s">$</span><span class="nb">b</span><span class="s">$</span> and hypotenuse of length <span class="s">$</span><span class="nb">c</span><span class="s">$</span>,
  <span class="sb">\[</span>
<span class="nb">    a^</span><span class="m">2</span><span class="nb"> </span><span class="o">+</span><span class="nb"> b^</span><span class="m">2</span><span class="nb"> </span><span class="o">=</span><span class="nb"> c^</span><span class="m">2</span>
<span class="nb">  </span><span class="s">\]</span>
<span class="k">\end</span><span class="nb">{</span>theorem<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>proof<span class="nb">}</span>
  Consider a square of side length <span class="s">$</span><span class="nb">a</span><span class="o">+</span><span class="nb">b</span><span class="s">$</span>...

  Thus, we have shown that <span class="s">$</span><span class="nb">a^</span><span class="m">2</span><span class="nb"> </span><span class="o">+</span><span class="nb"> b^</span><span class="m">2</span><span class="nb"> </span><span class="o">=</span><span class="nb"> c^</span><span class="m">2</span><span class="s">$</span>.
<span class="k">\end</span><span class="nb">{</span>proof<span class="nb">}</span>
</code></pre></div>

<p>The <code>proof</code> environment automatically adds "Proof" at the start and a QED symbol (‚ñ°) at the end.</p>
<h3 id="custom-theorem-styles">Custom Theorem Styles<a class="header-link" href="#custom-theorem-styles" title="Permanent link">&para;</a></h3>
<p>Define custom styles for definitions, remarks, etc.:</p>
<div class="highlight"><pre><span></span><code><span class="k">\theoremstyle</span><span class="nb">{</span>definition<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>definition<span class="nb">}{</span>Definition<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>example<span class="nb">}{</span>Example<span class="nb">}</span>

<span class="k">\theoremstyle</span><span class="nb">{</span>remark<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>remark<span class="nb">}{</span>Remark<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>note<span class="nb">}{</span>Note<span class="nb">}</span>
</code></pre></div>

<p>The three built-in styles are:
- <code>plain</code>: italicized text (for theorems, lemmas)
- <code>definition</code>: upright text (for definitions, examples)
- <code>remark</code>: upright text with different spacing (for remarks, notes)</p>
<h3 id="complete-example">Complete Example<a class="header-link" href="#complete-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>amsmath,amsthm<span class="nb">}</span>

<span class="k">\newtheorem</span><span class="nb">{</span>theorem<span class="nb">}{</span>Theorem<span class="nb">}</span>[section]
<span class="k">\newtheorem</span><span class="nb">{</span>lemma<span class="nb">}</span>[theorem]<span class="nb">{</span>Lemma<span class="nb">}</span>

<span class="k">\theoremstyle</span><span class="nb">{</span>definition<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>definition<span class="nb">}</span>[theorem]<span class="nb">{</span>Definition<span class="nb">}</span>

<span class="k">\theoremstyle</span><span class="nb">{</span>remark<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>remark<span class="nb">}</span>[theorem]<span class="nb">{</span>Remark<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

<span class="k">\section</span><span class="nb">{</span>Fundamental Concepts<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>definition<span class="nb">}</span>[Continuity]
  A function <span class="s">$</span><span class="nb">f: </span><span class="nv">\mathbb</span><span class="nb">{R} </span><span class="nv">\to</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span> is continuous at <span class="s">$</span><span class="nb">x </span><span class="o">=</span><span class="nb"> a</span><span class="s">$</span> if
  <span class="sb">\[</span>
<span class="nb">    </span><span class="nv">\lim</span><span class="nb">_{x </span><span class="nv">\to</span><span class="nb"> a} f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> f</span><span class="o">(</span><span class="nb">a</span><span class="o">)</span>
<span class="nb">  </span><span class="s">\]</span>
<span class="k">\end</span><span class="nb">{</span>definition<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>theorem<span class="nb">}</span>[Intermediate Value Theorem]
  If <span class="s">$</span><span class="nb">f</span><span class="s">$</span> is continuous on <span class="s">$</span><span class="o">[</span><span class="nb">a,b</span><span class="o">]</span><span class="s">$</span> and <span class="s">$</span><span class="nb">f</span><span class="o">(</span><span class="nb">a</span><span class="o">)</span><span class="nb"> &lt; </span><span class="m">0</span><span class="nb"> &lt; f</span><span class="o">(</span><span class="nb">b</span><span class="o">)</span><span class="s">$</span>, then there exists
  <span class="s">$</span><span class="nb">c </span><span class="nv">\in</span><span class="nb"> </span><span class="o">(</span><span class="nb">a,b</span><span class="o">)</span><span class="s">$</span> such that <span class="s">$</span><span class="nb">f</span><span class="o">(</span><span class="nb">c</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="m">0</span><span class="s">$</span>.
<span class="k">\end</span><span class="nb">{</span>theorem<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>remark<span class="nb">}</span>
  This theorem does not hold for discontinuous functions.
<span class="k">\end</span><span class="nb">{</span>remark<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</code></pre></div>

<h3 id="customizing-the-qed-symbol">Customizing the QED Symbol<a class="header-link" href="#customizing-the-qed-symbol" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\qedsymbol</span><span class="nb">}{</span><span class="s">$</span><span class="nv">\blacksquare</span><span class="s">$</span><span class="nb">}</span>
</code></pre></div>

<h2 id="custom-operators">Custom Operators<a class="header-link" href="#custom-operators" title="Permanent link">&para;</a></h2>
<p>Use <code>\DeclareMathOperator</code> for custom operators that should be typeset in roman (upright) font:</p>
<div class="highlight"><pre><span></span><code><span class="k">\DeclareMathOperator</span><span class="nb">{</span><span class="k">\argmax</span><span class="nb">}{</span>arg<span class="k">\,</span>max<span class="nb">}</span>
<span class="k">\DeclareMathOperator</span><span class="nb">{</span><span class="k">\argmin</span><span class="nb">}{</span>arg<span class="k">\,</span>min<span class="nb">}</span>
<span class="k">\DeclareMathOperator</span><span class="nb">{</span><span class="k">\tr</span><span class="nb">}{</span>tr<span class="nb">}</span>
<span class="k">\DeclareMathOperator</span><span class="nb">{</span><span class="k">\rank</span><span class="nb">}{</span>rank<span class="nb">}</span>
<span class="k">\DeclareMathOperator</span><span class="nb">{</span><span class="k">\diag</span><span class="nb">}{</span>diag<span class="nb">}</span>
</code></pre></div>

<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\theta</span><span class="nb">^</span><span class="o">*</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\argmax</span><span class="nb">_</span><span class="nv">\theta</span><span class="nb"> </span><span class="nv">\mathcal</span><span class="nb">{L}</span><span class="o">(</span><span class="nv">\theta</span><span class="o">)</span>
<span class="s">\]</span>

<span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\tr</span><span class="o">(</span><span class="nb">AB</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\tr</span><span class="o">(</span><span class="nb">BA</span><span class="o">)</span>
<span class="s">\]</span>
</code></pre></div>

<p>For operators with limits (like <code>\max</code> and <code>\min</code>), use the starred version:</p>
<div class="highlight"><pre><span></span><code><span class="k">\DeclareMathOperator*</span><span class="nb">{</span><span class="k">\argmax</span><span class="nb">}{</span>arg<span class="k">\,</span>max<span class="nb">}</span>

<span class="sb">\[</span>
<span class="nb">  x^</span><span class="o">*</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\argmax</span><span class="nb">_{x </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}^n} f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span>
<span class="s">\]</span>
</code></pre></div>

<h2 id="multiline-equations">Multiline Equations<a class="header-link" href="#multiline-equations" title="Permanent link">&para;</a></h2>
<h3 id="split-environment">split Environment<a class="header-link" href="#split-environment" title="Permanent link">&para;</a></h3>
<p>Use <code>split</code> inside <code>equation</code> for multi-line derivations with a single number:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\begin</span><span class="nb">{</span>split<span class="nb">}</span>
    (a + b)<span class="nb">^</span>2 <span class="nb">&amp;</span>= (a + b)(a + b) <span class="k">\\</span>
    <span class="nb">&amp;</span>= a<span class="nb">^</span>2 + ab + ba + b<span class="nb">^</span>2 <span class="k">\\</span>
    <span class="nb">&amp;</span>= a<span class="nb">^</span>2 + 2ab + b<span class="nb">^</span>2
  <span class="k">\end</span><span class="nb">{</span>split<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h3 id="aligned-equations-with-annotations">Aligned Equations with Annotations<a class="header-link" href="#aligned-equations-with-annotations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
  f(x) <span class="nb">&amp;</span>= x<span class="nb">^</span>2 + 2x + 1 <span class="k">\\</span>
  <span class="nb">&amp;</span>= (x + 1)<span class="nb">^</span>2 <span class="nb">&amp;&amp;</span> <span class="k">\text</span><span class="nb">{</span>(completing the square)<span class="nb">}</span> <span class="k">\\</span>
  <span class="nb">&amp;</span><span class="k">\geq</span> 0 <span class="nb">&amp;&amp;</span> <span class="k">\text</span><span class="nb">{</span>(squares are non-negative)<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>
</code></pre></div>

<p>The <code>&amp;&amp;</code> creates a second alignment point for annotations.</p>
<h2 id="stacked-symbols">Stacked Symbols<a class="header-link" href="#stacked-symbols" title="Permanent link">&para;</a></h2>
<h3 id="overset-and-underset">overset and underset<a class="header-link" href="#overset-and-underset" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  A </span><span class="nv">\overset</span><span class="nb">{</span><span class="nv">\text</span><span class="nb">{def}}{</span><span class="o">=</span><span class="nb">} B</span>
<span class="s">\]</span>

<span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\lim</span><span class="nb">_{n </span><span class="nv">\to</span><span class="nb"> </span><span class="nv">\infty</span><span class="nb">} a_n </span><span class="nv">\overset</span><span class="nb">{?}{</span><span class="o">=</span><span class="nb">} L</span>
<span class="s">\]</span>

<span class="sb">\[</span>
<span class="nb">  X </span><span class="nv">\underset</span><span class="nb">{</span><span class="nv">\text</span><span class="nb">{i.i.d.}}{</span><span class="nv">\sim</span><span class="nb">} </span><span class="nv">\mathcal</span><span class="nb">{N}</span><span class="o">(</span><span class="m">0</span><span class="nb">, </span><span class="m">1</span><span class="o">)</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="stackrel">stackrel<a class="header-link" href="#stackrel" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="nv">\stackrel</span><span class="nb">{x </span><span class="nv">\to</span><span class="nb"> </span><span class="m">0</span><span class="nb">}{</span><span class="nv">\longrightarrow</span><span class="nb">} L</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="multiple-stacks">Multiple Stacks<a class="header-link" href="#multiple-stacks" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  A </span><span class="nv">\underset</span><span class="nb">{</span><span class="nv">\text</span><span class="nb">{below}}{</span><span class="nv">\overset</span><span class="nb">{</span><span class="nv">\text</span><span class="nb">{above}}{</span><span class="o">=</span><span class="nb">}} B</span>
<span class="s">\]</span>
</code></pre></div>

<h2 id="advanced-examples">Advanced Examples<a class="header-link" href="#advanced-examples" title="Permanent link">&para;</a></h2>
<h3 id="complex-integral">Complex Integral<a class="header-link" href="#complex-integral" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\int_</span><span class="nb">{</span>-<span class="k">\infty</span><span class="nb">}^{</span><span class="k">\infty</span><span class="nb">}</span> e<span class="nb">^{</span>-x<span class="nb">^</span>2<span class="nb">}</span> <span class="k">\,</span> dx = <span class="k">\sqrt</span><span class="nb">{</span><span class="k">\pi</span><span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h3 id="summation-with-conditions">Summation with Conditions<a class="header-link" href="#summation-with-conditions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\sum</span><span class="nb">_{</span><span class="nv">\substack</span><span class="nb">{</span><span class="m">1</span><span class="nb"> </span><span class="nv">\leq</span><span class="nb"> i </span><span class="nv">\leq</span><span class="nb"> n </span><span class="nv">\\</span><span class="nb"> i </span><span class="nv">\text</span><span class="nb">{ odd}}} i^</span><span class="m">2</span>
<span class="s">\]</span>
</code></pre></div>

<h3 id="continued-fraction">Continued Fraction<a class="header-link" href="#continued-fraction" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  x </span><span class="o">=</span><span class="nb"> a_</span><span class="m">0</span><span class="nb"> </span><span class="o">+</span><span class="nb"> </span><span class="nv">\cfrac</span><span class="nb">{</span><span class="m">1</span><span class="nb">}{a_</span><span class="m">1</span><span class="nb"> </span><span class="o">+</span><span class="nb"> </span><span class="nv">\cfrac</span><span class="nb">{</span><span class="m">1</span><span class="nb">}{a_</span><span class="m">2</span><span class="nb"> </span><span class="o">+</span><span class="nb"> </span><span class="nv">\cfrac</span><span class="nb">{</span><span class="m">1</span><span class="nb">}{a_</span><span class="m">3</span><span class="nb"> </span><span class="o">+</span><span class="nb"> </span><span class="nv">\cdots</span><span class="nb">}}}</span>
<span class="s">\]</span>
</code></pre></div>

<p>Note: Use <code>\cfrac</code> (continued fraction) instead of <code>\frac</code> for better spacing.</p>
<h3 id="system-of-equations">System of Equations<a class="header-link" href="#system-of-equations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\left\{</span>
<span class="nb">    </span><span class="nv">\begin</span><span class="nb">{aligned}</span>
<span class="nb">      x </span><span class="o">+</span><span class="nb"> y </span><span class="o">+</span><span class="nb"> z &amp;</span><span class="o">=</span><span class="nb"> </span><span class="m">6</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">      </span><span class="m">2</span><span class="nb">x </span><span class="o">-</span><span class="nb"> y </span><span class="o">+</span><span class="nb"> </span><span class="m">3</span><span class="nb">z &amp;</span><span class="o">=</span><span class="nb"> </span><span class="m">14</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">      </span><span class="o">-</span><span class="nb">x </span><span class="o">+</span><span class="nb"> </span><span class="m">3</span><span class="nb">y </span><span class="o">-</span><span class="nb"> </span><span class="m">2</span><span class="nb">z &amp;</span><span class="o">=</span><span class="nb"> </span><span class="o">-</span><span class="m">8</span>
<span class="nb">    </span><span class="nv">\end</span><span class="nb">{aligned}</span>
<span class="nb">  </span><span class="nv">\right</span><span class="nb">.</span>
<span class="s">\]</span>
</code></pre></div>

<h2 id="commutative-diagrams">Commutative Diagrams<a class="header-link" href="#commutative-diagrams" title="Permanent link">&para;</a></h2>
<p>For category theory and algebra, use the <code>tikz-cd</code> package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>tikz-cd<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>tikzcd<span class="nb">}</span>
  A <span class="k">\arrow</span><span class="na">[r, &quot;f&quot;]</span> <span class="k">\arrow</span><span class="na">[d, &quot;g&quot;]</span> <span class="nb">&amp;</span> B <span class="k">\arrow</span><span class="na">[d, &quot;h&quot;]</span> <span class="k">\\</span>
  C <span class="k">\arrow</span><span class="na">[r, &quot;k&quot;]</span> <span class="nb">&amp;</span> D
<span class="k">\end</span><span class="nb">{</span>tikzcd<span class="nb">}</span>
</code></pre></div>

<p>A simple commutative square:</p>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\begin</span><span class="nb">{tikzcd}</span>
<span class="nb">    X </span><span class="nv">\times</span><span class="nb"> Y </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">r, &quot;</span><span class="nv">\pi</span><span class="nb">_</span><span class="m">1</span><span class="nb">&quot;</span><span class="o">]</span><span class="nb"> </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">d, &quot;</span><span class="nv">\pi</span><span class="nb">_</span><span class="m">2</span><span class="nb">&quot;</span><span class="o">]</span><span class="nb"> &amp; X </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">d, &quot;f&quot;</span><span class="o">]</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    Y </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">r, &quot;g&quot;</span><span class="o">]</span><span class="nb"> &amp; Z</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{tikzcd}</span>
<span class="s">\]</span>
</code></pre></div>

<p>Diagonal arrows:</p>
<div class="highlight"><pre><span></span><code><span class="sb">\[</span>
<span class="nb">  </span><span class="nv">\begin</span><span class="nb">{tikzcd}</span>
<span class="nb">    A </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">r</span><span class="o">]</span><span class="nb"> </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">dr</span><span class="o">]</span><span class="nb"> &amp; B </span><span class="nv">\arrow</span><span class="o">[</span><span class="nb">d</span><span class="o">]</span><span class="nb"> </span><span class="nv">\\</span>
<span class="nb">    &amp; C</span>
<span class="nb">  </span><span class="nv">\end</span><span class="nb">{tikzcd}</span>
<span class="s">\]</span>
</code></pre></div>

<h2 id="physics-package">Physics Package<a class="header-link" href="#physics-package" title="Permanent link">&para;</a></h2>
<p>The <code>physics</code> package provides shortcuts for quantum mechanics and calculus notation:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>physics<span class="nb">}</span>
</code></pre></div>

<h3 id="derivatives">Derivatives<a class="header-link" href="#derivatives" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c">% Ordinary derivatives</span>
<span class="k">\dv</span><span class="nb">{</span>x<span class="nb">}</span>  <span class="c">% d/dx</span>
<span class="k">\dv</span><span class="nb">{</span>f<span class="nb">}{</span>x<span class="nb">}</span>  <span class="c">% df/dx</span>
<span class="k">\dv</span><span class="na">[2]</span><span class="nb">{</span>f<span class="nb">}{</span>x<span class="nb">}</span>  <span class="c">% d¬≤f/dx¬≤</span>

<span class="c">% Partial derivatives</span>
<span class="k">\pdv</span><span class="nb">{</span>x<span class="nb">}</span>  <span class="c">% ‚àÇ/‚àÇx</span>
<span class="k">\pdv</span><span class="nb">{</span>f<span class="nb">}{</span>x<span class="nb">}</span>  <span class="c">% ‚àÇf/‚àÇx</span>
<span class="k">\pdv</span><span class="nb">{</span>f<span class="nb">}{</span>x<span class="nb">}{</span>y<span class="nb">}</span>  <span class="c">% ‚àÇ¬≤f/‚àÇx‚àÇy</span>
<span class="k">\pdv</span><span class="na">[2]</span><span class="nb">{</span>f<span class="nb">}{</span>x<span class="nb">}</span>  <span class="c">% ‚àÇ¬≤f/‚àÇx¬≤</span>
</code></pre></div>

<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\pdv</span><span class="nb">{</span>u<span class="nb">}{</span>t<span class="nb">}</span> = <span class="k">\alpha</span> <span class="k">\pdv</span><span class="na">[2]</span><span class="nb">{</span>u<span class="nb">}{</span>x<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h3 id="quantum-mechanics-notation">Quantum Mechanics Notation<a class="header-link" href="#quantum-mechanics-notation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c">% Bra-ket notation</span>
<span class="k">\bra</span><span class="nb">{</span><span class="k">\psi</span><span class="nb">}</span>  <span class="c">% ‚ü®œà|</span>
<span class="k">\ket</span><span class="nb">{</span><span class="k">\phi</span><span class="nb">}</span>  <span class="c">% |œÜ‚ü©</span>
<span class="k">\braket</span><span class="nb">{</span><span class="k">\psi</span>|<span class="k">\phi</span><span class="nb">}</span>  <span class="c">% ‚ü®œà|œÜ‚ü©</span>
<span class="k">\braket</span><span class="nb">{</span><span class="k">\psi</span><span class="nb">}</span>  <span class="c">% ‚ü®œà|œà‚ü©</span>
<span class="k">\ketbra</span><span class="nb">{</span><span class="k">\psi</span><span class="nb">}{</span><span class="k">\phi</span><span class="nb">}</span>  <span class="c">% |œà‚ü©‚ü®œÜ|</span>

<span class="c">% Expectation value</span>
<span class="k">\expval</span><span class="nb">{</span>A<span class="nb">}</span>  <span class="c">% ‚ü®A‚ü©</span>
<span class="k">\expval</span><span class="nb">{</span>A<span class="nb">}{</span><span class="k">\psi</span><span class="nb">}</span>  <span class="c">% ‚ü®œà|A|œà‚ü©</span>
</code></pre></div>

<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\expval</span><span class="nb">{</span><span class="k">\hat</span><span class="nb">{</span>H<span class="nb">}}{</span><span class="k">\psi</span><span class="nb">}</span> = <span class="k">\int_</span><span class="nb">{</span>-<span class="k">\infty</span><span class="nb">}^{</span><span class="k">\infty</span><span class="nb">}</span> <span class="k">\psi</span><span class="nb">^</span>*(x) <span class="k">\hat</span><span class="nb">{</span>H<span class="nb">}</span> <span class="k">\psi</span>(x) <span class="k">\,</span> dx
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
</code></pre></div>

<h3 id="vector-notation">Vector Notation<a class="header-link" href="#vector-notation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\vb</span><span class="nb">{</span>v<span class="nb">}</span>  <span class="c">% bold vector</span>
<span class="k">\vb*</span><span class="nb">{</span>v<span class="nb">}</span>  <span class="c">% arrow vector</span>
<span class="k">\grad</span>  <span class="c">% gradient ‚àá</span>
<span class="k">\div</span>  <span class="c">% divergence</span>
<span class="k">\curl</span>  <span class="c">% curl</span>
<span class="k">\laplacian</span>  <span class="c">% Laplacian ‚àá¬≤</span>
</code></pre></div>

<h3 id="matrix-operations">Matrix Operations<a class="header-link" href="#matrix-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">\tr</span><span class="nb">{</span>A<span class="nb">}</span>  <span class="c">% trace</span>
<span class="k">\Tr</span><span class="nb">{</span>A<span class="nb">}</span>  <span class="c">% trace (capital)</span>
<span class="k">\rank</span><span class="nb">{</span>A<span class="nb">}</span>  <span class="c">% rank</span>
<span class="k">\det</span><span class="nb">{</span>A<span class="nb">}</span>  <span class="c">% determinant</span>
</code></pre></div>

<h2 id="complete-advanced-example">Complete Advanced Example<a class="header-link" href="#complete-advanced-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>amsmath,amsthm,amssymb<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>physics<span class="nb">}</span>

<span class="k">\newtheorem</span><span class="nb">{</span>theorem<span class="nb">}{</span>Theorem<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>lemma<span class="nb">}</span>[theorem]<span class="nb">{</span>Lemma<span class="nb">}</span>

<span class="k">\theoremstyle</span><span class="nb">{</span>definition<span class="nb">}</span>
<span class="k">\newtheorem</span><span class="nb">{</span>definition<span class="nb">}</span>[theorem]<span class="nb">{</span>Definition<span class="nb">}</span>

<span class="k">\DeclareMathOperator*</span><span class="nb">{</span><span class="k">\argmin</span><span class="nb">}{</span>arg<span class="k">\,</span>min<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

<span class="k">\section</span><span class="nb">{</span>Optimization Theory<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>definition<span class="nb">}</span>[Convex Function]
  A function <span class="s">$</span><span class="nb">f: </span><span class="nv">\mathbb</span><span class="nb">{R}^n </span><span class="nv">\to</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span> is convex if for all <span class="s">$</span><span class="nb">x, y </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}^n</span><span class="s">$</span>
  and <span class="s">$</span><span class="nv">\lambda</span><span class="nb"> </span><span class="nv">\in</span><span class="nb"> </span><span class="o">[</span><span class="m">0</span><span class="nb">,</span><span class="m">1</span><span class="o">]</span><span class="s">$</span>,
  <span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
    f(<span class="k">\lambda</span> x + (1-<span class="k">\lambda</span>)y) <span class="k">\leq</span> <span class="k">\lambda</span> f(x) + (1-<span class="k">\lambda</span>)f(y)
  <span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>definition<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>theorem<span class="nb">}</span>[First-Order Condition]
  <span class="k">\label</span><span class="nb">{</span>thm:first-order<span class="nb">}</span>
  Let <span class="s">$</span><span class="nb">f: </span><span class="nv">\mathbb</span><span class="nb">{R}^n </span><span class="nv">\to</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span> be differentiable. If <span class="s">$</span><span class="nb">x^</span><span class="o">*</span><span class="s">$</span> is a local minimum, then
  <span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
    <span class="k">\nabla</span> f(x<span class="nb">^</span>*) = <span class="k">\mathbf</span><span class="nb">{</span>0<span class="nb">}</span>
  <span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>theorem<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>proof<span class="nb">}</span>
  Suppose <span class="s">$</span><span class="nv">\nabla</span><span class="nb"> f</span><span class="o">(</span><span class="nb">x^</span><span class="o">*)</span><span class="nb"> </span><span class="nv">\neq</span><span class="nb"> </span><span class="nv">\mathbf</span><span class="nb">{</span><span class="m">0</span><span class="nb">}</span><span class="s">$</span>. Then we can find a direction <span class="s">$</span><span class="nb">d</span><span class="s">$</span> such that
  <span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
    <span class="k">\nabla</span> f(x<span class="nb">^</span>*)<span class="nb">^</span><span class="k">\top</span> d <span class="nb">&amp;</span>&lt; 0 <span class="k">\\</span>
    f(x<span class="nb">^</span>* + <span class="k">\epsilon</span> d) <span class="nb">&amp;</span>&lt; f(x<span class="nb">^</span>*) <span class="nb">&amp;&amp;</span> <span class="k">\text</span><span class="nb">{</span>for sufficiently small <span class="nb">}</span> <span class="k">\epsilon</span> &gt; 0
  <span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>
  This contradicts the assumption that <span class="s">$</span><span class="nb">x^</span><span class="o">*</span><span class="s">$</span> is a local minimum.
<span class="k">\end</span><span class="nb">{</span>proof<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>lemma<span class="nb">}</span>[Gradient Descent Update]
  The gradient descent iteration
  <span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
    x<span class="nb">_{</span>k+1<span class="nb">}</span> = x<span class="nb">_</span>k - <span class="k">\alpha_k</span> <span class="k">\nabla</span> f(x<span class="nb">_</span>k)
  <span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>
  decreases the objective value when <span class="s">$</span><span class="nv">\alpha</span><span class="nb">_k</span><span class="s">$</span> is sufficiently small.
<span class="k">\end</span><span class="nb">{</span>lemma<span class="nb">}</span>

Consider the quadratic optimization problem:
<span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\begin</span><span class="nb">{</span>split<span class="nb">}</span>
    <span class="k">\min_</span><span class="nb">{</span>x <span class="k">\in</span> <span class="k">\mathbb</span><span class="nb">{</span>R<span class="nb">}^</span>n<span class="nb">}</span> <span class="k">\quad</span> <span class="nb">&amp;</span> <span class="k">\frac</span><span class="nb">{</span>1<span class="nb">}{</span>2<span class="nb">}</span> x<span class="nb">^</span><span class="k">\top</span> Q x - b<span class="nb">^</span><span class="k">\top</span> x <span class="k">\\</span>
    <span class="k">\text</span><span class="nb">{</span>subject to<span class="nb">}</span> <span class="k">\quad</span> <span class="nb">&amp;</span> Ax = c
  <span class="k">\end</span><span class="nb">{</span>split<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>

The Lagrangian is:
<span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
  <span class="k">\mathcal</span><span class="nb">{</span>L<span class="nb">}</span>(x, <span class="k">\lambda</span>) <span class="nb">&amp;</span>= <span class="k">\frac</span><span class="nb">{</span>1<span class="nb">}{</span>2<span class="nb">}</span> x<span class="nb">^</span><span class="k">\top</span> Q x - b<span class="nb">^</span><span class="k">\top</span> x + <span class="k">\lambda</span><span class="nb">^</span><span class="k">\top</span> (Ax - c)
<span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>

The optimality conditions are:
<span class="k">\begin</span><span class="nb">{</span>align<span class="nb">}</span>
  <span class="k">\nabla_x</span> <span class="k">\mathcal</span><span class="nb">{</span>L<span class="nb">}</span> <span class="nb">&amp;</span>= Qx - b + A<span class="nb">^</span><span class="k">\top</span> <span class="k">\lambda</span> = 0 <span class="k">\\</span>
  <span class="k">\nabla_\lambda</span> <span class="k">\mathcal</span><span class="nb">{</span>L<span class="nb">}</span> <span class="nb">&amp;</span>= Ax - c = 0
<span class="k">\end</span><span class="nb">{</span>align<span class="nb">}</span>

In matrix form:
<span class="k">\begin</span><span class="nb">{</span>equation<span class="nb">}</span>
  <span class="k">\begin</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
    Q <span class="nb">&amp;</span> A<span class="nb">^</span><span class="k">\top</span> <span class="k">\\</span>
    A <span class="nb">&amp;</span> 0
  <span class="k">\end</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
  <span class="k">\begin</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
    x<span class="nb">^</span>* <span class="k">\\</span>
    <span class="k">\lambda</span><span class="nb">^</span>*
  <span class="k">\end</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
  =
  <span class="k">\begin</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
    b <span class="k">\\</span>
    c
  <span class="k">\end</span><span class="nb">{</span>bmatrix<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</code></pre></div>

<h2 id="typography-best-practices">Typography Best Practices<a class="header-link" href="#typography-best-practices" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Use the right environment</strong>: <code>align</code> for aligned equations, <code>gather</code> for centered, <code>multline</code> for single long equations</li>
<li><strong>Don't overuse numbering</strong>: Use starred versions (<code>align*</code>, <code>equation*</code>) when references aren't needed</li>
<li><strong>Alignment consistency</strong>: Align at relation symbols (<code>=</code>, <code>&lt;</code>, <code>\leq</code>)</li>
<li><strong>Spacing in matrices</strong>: LaTeX handles this automatically, don't force spacing</li>
<li><strong>Text in math mode</strong>: Use <code>\text{}</code> for annotations</li>
<li><strong>Punctuation</strong>: Display equations are part of sentences, include punctuation</li>
<li><strong>Consistent notation</strong>: Define custom operators for repeated use</li>
</ol>
<h2 id="common-mistakes">Common Mistakes<a class="header-link" href="#common-mistakes" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Using <code>eqnarray</code></strong>: This environment is obsolete, use <code>align</code> instead</li>
<li><strong>Manual spacing</strong>: Let LaTeX handle spacing, avoid <code>\,</code>, <code>\!</code> unless necessary</li>
<li><strong>Breaking alignment</strong>: Every line in <code>align</code> needs exactly one <code>&amp;</code> before continuing</li>
<li><strong>Forgetting <code>\\</code></strong>: Multi-line environments need <code>\\</code> to break lines (except the last)</li>
<li><strong>Nested equation environments</strong>: Don't put <code>equation</code> inside <code>align</code></li>
</ol>
<h2 id="exercises">Exercises<a class="header-link" href="#exercises" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-maxwells-equations">Exercise 1: Maxwell's Equations<a class="header-link" href="#exercise-1-maxwells-equations" title="Permanent link">&para;</a></h3>
<p>Typeset Maxwell's equations in both differential and integral form using the <code>align</code> environment. Add equation numbers and labels.</p>
<h3 id="exercise-2-matrix-proof">Exercise 2: Matrix Proof<a class="header-link" href="#exercise-2-matrix-proof" title="Permanent link">&para;</a></h3>
<p>Typeset this theorem and proof:</p>
<p><strong>Theorem</strong>: If $A$ and $B$ are $n \times n$ matrices, then $\det(AB) = \det(A)\det(B)$.</p>
<p><strong>Proof</strong>: Use the fact that determinants are multiplicative...</p>
<h3 id="exercise-3-piecewise-function">Exercise 3: Piecewise Function<a class="header-link" href="#exercise-3-piecewise-function" title="Permanent link">&para;</a></h3>
<p>Create the Heaviside step function:</p>
<div class="highlight"><pre><span></span><code><span class="nv">H</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>{<span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">       </span>{<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span>‚â•<span class="w"> </span><span class="mi">0</span>
</code></pre></div>

<h3 id="exercise-4-custom-theorem">Exercise 4: Custom Theorem<a class="header-link" href="#exercise-4-custom-theorem" title="Permanent link">&para;</a></h3>
<p>Create a document with:
- Three theorem styles (theorem, definition, remark)
- At least one theorem with proof
- Numbered definitions
- Cross-references between theorems</p>
<h3 id="exercise-5-optimization-problem">Exercise 5: Optimization Problem<a class="header-link" href="#exercise-5-optimization-problem" title="Permanent link">&para;</a></h3>
<p>Typeset the following constrained optimization problem with Lagrangian and KKT conditions:</p>
<div class="highlight"><pre><span></span><code>minimize    f(x)
subject to  g_i(x) ‚â§ 0, i = 1,...,m
            h_j(x) = 0, j = 1,...,p
</code></pre></div>

<h3 id="exercise-6-quantum-mechanics">Exercise 6: Quantum Mechanics<a class="header-link" href="#exercise-6-quantum-mechanics" title="Permanent link">&para;</a></h3>
<p>Using the <code>physics</code> package, typeset the time-dependent Schr√∂dinger equation and show that the expectation value of the Hamiltonian is conserved.</p>
<h3 id="exercise-7-continued-fractions">Exercise 7: Continued Fractions<a class="header-link" href="#exercise-7-continued-fractions" title="Permanent link">&para;</a></h3>
<p>Typeset the golden ratio as a continued fraction:</p>
<div class="highlight"><pre><span></span><code>œÜ = 1 + 1/(1 + 1/(1 + 1/(1 + ...)))
</code></pre></div>

<h3 id="exercise-8-commutative-diagram">Exercise 8: Commutative Diagram<a class="header-link" href="#exercise-8-commutative-diagram" title="Permanent link">&para;</a></h3>
<p>Create a commutative diagram showing a pullback or pushout in category theory.</p>
<hr />
<h2 id="summary">Summary<a class="header-link" href="#summary" title="Permanent link">&para;</a></h2>
<p>This lesson covered:
- <code>amsmath</code> environments: <code>equation</code>, <code>align</code>, <code>gather</code>, <code>multline</code>
- Equation numbering with <code>\tag</code>, <code>\notag</code>, <code>\label</code>, <code>\eqref</code>
- Matrix environments: <code>pmatrix</code>, <code>bmatrix</code>, <code>vmatrix</code>
- Piecewise functions with <code>cases</code>
- Theorem environments with <code>amsthm</code>
- Custom operators with <code>\DeclareMathOperator</code>
- Multiline equation techniques
- Stacked symbols and annotations
- Commutative diagrams with <code>tikz-cd</code>
- Physics notation with the <code>physics</code> package</p>
<p>With these tools, you can typeset virtually any mathematical content at a professional level.</p>
<hr />
<p><strong>Navigation</strong>:
- <a href="04_Math_Basics.md">Previous: 04_Math_Basics.md</a>
- <a href="06_Floats_and_Figures.md">Next: 06_Floats_and_Figures.md</a>
- <a href="00_Overview.md">Back to Overview</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/LaTeX/04_Math_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Mathematical Typesetting Basics</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/LaTeX/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/LaTeX/06_Floats_and_Figures.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Floats, Figures & Tables</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">‚Üë</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}