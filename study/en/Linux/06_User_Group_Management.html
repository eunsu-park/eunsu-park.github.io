{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User and Group Management - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Linux/">Linux</a>
    <span class="separator">/</span>
    <span class="current">User and Group Management</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>User and Group Management</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Linux/05_Permissions_Ownership.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Permissions and Ownership</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Linux/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Linux/07_Process_Management.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Process Management</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-user-related-files">1. User-Related Files</a><ul>
<li><a href="#etcpasswd">/etc/passwd</a></li>
<li><a href="#etcshadow">/etc/shadow</a></li>
<li><a href="#etcgroup">/etc/group</a></li>
</ul>
</li>
<li><a href="#2-user-management-commands">2. User Management Commands</a><ul>
<li><a href="#useradd-create-user">useradd - Create User</a></li>
<li><a href="#adduser-interactive-user-creation-ubuntudebian">adduser - Interactive User Creation (Ubuntu/Debian)</a></li>
<li><a href="#usermod-modify-user">usermod - Modify User</a></li>
<li><a href="#userdel-delete-user">userdel - Delete User</a></li>
<li><a href="#passwd-password-management">passwd - Password Management</a></li>
</ul>
</li>
<li><a href="#3-group-management-commands">3. Group Management Commands</a><ul>
<li><a href="#groupadd-create-group">groupadd - Create Group</a></li>
<li><a href="#groupmod-modify-group">groupmod - Modify Group</a></li>
<li><a href="#groupdel-delete-group">groupdel - Delete Group</a></li>
<li><a href="#gpasswd-manage-group-members">gpasswd - Manage Group Members</a></li>
</ul>
</li>
<li><a href="#4-user-switching">4. User Switching</a><ul>
<li><a href="#su-switch-user">su - Switch User</a></li>
<li><a href="#sudo-privilege-escalation">sudo - Privilege Escalation</a></li>
</ul>
</li>
<li><a href="#5-sudo-configuration">5. sudo Configuration</a><ul>
<li><a href="#etcsudoers">/etc/sudoers</a></li>
<li><a href="#basic-format">Basic Format</a></li>
<li><a href="#configuration-examples">Configuration Examples</a></li>
<li><a href="#etcsudoersd">/etc/sudoers.d/</a></li>
</ul>
</li>
<li><a href="#6-user-information">6. User Information</a><ul>
<li><a href="#id-user-id-information">id - User ID Information</a></li>
<li><a href="#groups-group-membership">groups - Group Membership</a></li>
<li><a href="#who-logged-in-users">who - Logged-in Users</a></li>
<li><a href="#w-detailed-login-information">w - Detailed Login Information</a></li>
<li><a href="#last-login-history">last - Login History</a></li>
<li><a href="#lastlog-last-login">lastlog - Last Login</a></li>
</ul>
</li>
<li><a href="#7-system-users">7. System Users</a><ul>
<li><a href="#creating-system-users">Creating System Users</a></li>
<li><a href="#common-system-users">Common System Users</a></li>
</ul>
</li>
<li><a href="#8-practical-examples">8. Practical Examples</a><ul>
<li><a href="#development-team-environment">Development Team Environment</a></li>
<li><a href="#web-developer-environment">Web Developer Environment</a></li>
<li><a href="#deployment-only-account">Deployment-Only Account</a></li>
</ul>
</li>
<li><a href="#9-security-best-practices">9. Security Best Practices</a><ul>
<li><a href="#password-policy">Password Policy</a></li>
<li><a href="#disable-direct-root-login">Disable Direct root Login</a></li>
<li><a href="#lock-unnecessary-accounts">Lock Unnecessary Accounts</a></li>
</ul>
</li>
<li><a href="#10-practice-exercises">10. Practice Exercises</a><ul>
<li><a href="#exercise-1-check-user-information">Exercise 1: Check User Information</a></li>
<li><a href="#exercise-2-user-creation-and-deletion">Exercise 2: User Creation and Deletion</a></li>
<li><a href="#exercise-3-group-management">Exercise 3: Group Management</a></li>
<li><a href="#exercise-4-sudo-testing">Exercise 4: sudo Testing</a></li>
</ul>
</li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="user-and-group-management">User and Group Management<a class="header-link" href="#user-and-group-management" title="Permanent link">&para;</a></h1>
<h2 id="1-user-related-files">1. User-Related Files<a class="header-link" href="#1-user-related-files" title="Permanent link">&para;</a></h2>
<p>Linux stores user information in specific files.</p>
<h3 id="etcpasswd">/etc/passwd<a class="header-link" href="#etcpasswd" title="Permanent link">&para;</a></h3>
<p>Stores user account information.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/passwd<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-5
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="n">root</span><span class="o">:/</span><span class="n">root</span><span class="o">:/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
<span class="n">daemon</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="n">daemon</span><span class="o">:/</span><span class="n">usr</span><span class="sr">/sbin:/usr/sbin/</span><span class="n">nologin</span>
<span class="n">ubuntu</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1000</span><span class="o">:</span><span class="mi">1000</span><span class="o">:</span><span class="n">Ubuntu</span><span class="o">:/</span><span class="n">home</span><span class="sr">/ubuntu:/bin/</span><span class="n">bash</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">ubuntu</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1000</span><span class="o">:</span><span class="mi">1000</span><span class="o">:</span><span class="n">Ubuntu</span><span class="o">:/</span><span class="n">home</span><span class="sr">/ubuntu:/bin/</span><span class="n">bash</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Login</span><span class="w"> </span><span class="n">shell</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Home</span><span class="w"> </span><span class="n">directory</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Description</span><span class="w"> </span><span class="o">(</span><span class="n">GECOS</span><span class="o">)</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Primary</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">(</span><span class="n">GID</span><span class="o">)</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">(</span><span class="n">UID</span><span class="o">)</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">shadow</span><span class="w"> </span><span class="n">file</span><span class="o">)</span>
<span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Username</span>
</code></pre></div>

<h3 id="etcshadow">/etc/shadow<a class="header-link" href="#etcshadow" title="Permanent link">&para;</a></h3>
<p>Stores encrypted passwords (readable only by root).</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>cat<span class="w"> </span>/etc/shadow<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-3
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code>root:$6$xxxx...:19000:0:99999:7:::
ubuntu:$6$yyyy...:19000:0:99999:7:::
</code></pre></div>

<div class="highlight"><pre><span></span><code>ubuntu:$6$...:19000:0:99999:7:::
  â”‚      â”‚     â”‚   â”‚   â”‚   â”‚
  â”‚      â”‚     â”‚   â”‚   â”‚   â””â”€â”€ Password expiration warning days
  â”‚      â”‚     â”‚   â”‚   â””â”€â”€ Maximum password age
  â”‚      â”‚     â”‚   â””â”€â”€ Minimum password age
  â”‚      â”‚     â””â”€â”€ Last changed date (days since Jan 1, 1970)
  â”‚      â””â”€â”€ Encrypted password
  â””â”€â”€ Username
</code></pre></div>

<h3 id="etcgroup">/etc/group<a class="header-link" href="#etcgroup" title="Permanent link">&para;</a></h3>
<p>Stores group information.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/group<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-5
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="n">root</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span>
<span class="n">daemon</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span>
<span class="n">ubuntu</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1000</span><span class="o">:</span>
<span class="n">sudo</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">27</span><span class="o">:</span><span class="n">ubuntu</span>
<span class="n">developers</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1001</span><span class="o">:</span><span class="n">alice</span><span class="o">,</span><span class="n">bob</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">developers</span><span class="o">:</span><span class="n">x</span><span class="o">:</span><span class="mi">1001</span><span class="o">:</span><span class="n">alice</span><span class="o">,</span><span class="n">bob</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Group</span><span class="w"> </span><span class="n">members</span><span class="w"> </span><span class="o">(</span><span class="n">additional</span><span class="w"> </span><span class="n">members</span><span class="o">)</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Group</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">(</span><span class="n">GID</span><span class="o">)</span>
<span class="w">    </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="o">(</span><span class="n">usually</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">used</span><span class="o">)</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Group</span><span class="w"> </span><span class="n">name</span>
</code></pre></div>

<hr />
<h2 id="2-user-management-commands">2. User Management Commands<a class="header-link" href="#2-user-management-commands" title="Permanent link">&para;</a></h2>
<h3 id="useradd-create-user">useradd - Create User<a class="header-link" href="#useradd-create-user" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Basic creation</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>username

<span class="c1"># Create with options (recommended)</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;John Doe&quot;</span><span class="w"> </span>john

<span class="c1"># Key options</span>
<span class="c1"># -m : Create home directory</span>
<span class="c1"># -s : Specify login shell</span>
<span class="c1"># -c : Description (comment)</span>
<span class="c1"># -d : Specify home directory path</span>
<span class="c1"># -g : Primary group</span>
<span class="c1"># -G : Additional groups</span>
<span class="c1"># -u : Specify UID</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Create with multiple groups</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>sudo,developers<span class="w"> </span>newuser

<span class="c1"># Set password</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>newuser
</code></pre></div>

<h3 id="adduser-interactive-user-creation-ubuntudebian">adduser - Interactive User Creation (Ubuntu/Debian)<a class="header-link" href="#adduser-interactive-user-creation-ubuntudebian" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create user interactively (more convenient)</span>
sudo<span class="w"> </span>adduser<span class="w"> </span>newuser
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Adding</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="err">`</span><span class="nx">newuser</span><span class="err">&#39;</span><span class="w"> </span><span class="o">...</span>
<span class="nx">Adding</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">group</span><span class="w"> </span><span class="err">`</span><span class="nx">newuser</span><span class="err">&#39;</span><span class="w"> </span><span class="p">(</span><span class="mi">1002</span><span class="p">)</span><span class="w"> </span><span class="o">...</span>
<span class="nx">Adding</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="err">`</span><span class="nx">newuser</span><span class="err">&#39;</span><span class="w"> </span><span class="p">(</span><span class="mi">1002</span><span class="p">)</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">group</span><span class="w"> </span><span class="err">`</span><span class="nx">newuser</span><span class="err">&#39;</span><span class="w"> </span><span class="o">...</span>
<span class="nx">Creating</span><span class="w"> </span><span class="nx">home</span><span class="w"> </span><span class="nx">directory</span><span class="w"> </span><span class="err">`</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">newuser</span><span class="err">&#39;</span><span class="w"> </span><span class="o">...</span>
<span class="nx">Copying</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="nx">from</span><span class="w"> </span><span class="err">`</span><span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">skel</span><span class="err">&#39;</span><span class="w"> </span><span class="o">...</span>
<span class="nx">New</span><span class="w"> </span><span class="nx">password</span><span class="p">:</span>
<span class="nx">Retype</span><span class="w"> </span><span class="nx">new</span><span class="w"> </span><span class="nx">password</span><span class="p">:</span>
<span class="nx">passwd</span><span class="p">:</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="nx">updated</span><span class="w"> </span><span class="nx">successfully</span>
<span class="nx">Full</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="p">[]:</span><span class="w"> </span><span class="nx">New</span><span class="w"> </span><span class="nx">User</span>
<span class="nx">Room</span><span class="w"> </span><span class="nx">Number</span><span class="w"> </span><span class="p">[]:</span>
<span class="nx">Work</span><span class="w"> </span><span class="nx">Phone</span><span class="w"> </span><span class="p">[]:</span>
<span class="nx">Home</span><span class="w"> </span><span class="nx">Phone</span><span class="w"> </span><span class="p">[]:</span>
<span class="nx">Other</span><span class="w"> </span><span class="p">[]:</span>
<span class="nx">Is</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">information</span><span class="w"> </span><span class="nx">correct</span><span class="p">?</span><span class="w"> </span><span class="p">[</span><span class="nx">Y</span><span class="o">/</span><span class="nx">n</span><span class="p">]</span><span class="w"> </span><span class="nx">y</span>
</code></pre></div>

<h3 id="usermod-modify-user">usermod - Modify User<a class="header-link" href="#usermod-modify-user" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Change shell</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-s<span class="w"> </span>/bin/zsh<span class="w"> </span>username

<span class="c1"># Change home directory</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-d<span class="w"> </span>/home/newhome<span class="w"> </span>-m<span class="w"> </span>username

<span class="c1"># Add to group (keep existing groups)</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>sudo<span class="w"> </span>username
sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker,developers<span class="w"> </span>username

<span class="c1"># Change username</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-l<span class="w"> </span>newname<span class="w"> </span>oldname

<span class="c1"># Lock account</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-L<span class="w"> </span>username

<span class="c1"># Unlock account</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-U<span class="w"> </span>username
</code></pre></div>

<h3 id="userdel-delete-user">userdel - Delete User<a class="header-link" href="#userdel-delete-user" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Delete user only</span>
sudo<span class="w"> </span>userdel<span class="w"> </span>username

<span class="c1"># Delete with home directory and mail</span>
sudo<span class="w"> </span>userdel<span class="w"> </span>-r<span class="w"> </span>username
</code></pre></div>

<h3 id="passwd-password-management">passwd - Password Management<a class="header-link" href="#passwd-password-management" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Change own password</span>
passwd

<span class="c1"># Change other user&#39;s password (root)</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>username

<span class="c1"># Expire password (force change on next login)</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>-e<span class="w"> </span>username

<span class="c1"># Lock password</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>-l<span class="w"> </span>username

<span class="c1"># Unlock password</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>-u<span class="w"> </span>username

<span class="c1"># Check password status</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>-S<span class="w"> </span>username
</code></pre></div>

<hr />
<h2 id="3-group-management-commands">3. Group Management Commands<a class="header-link" href="#3-group-management-commands" title="Permanent link">&para;</a></h2>
<h3 id="groupadd-create-group">groupadd - Create Group<a class="header-link" href="#groupadd-create-group" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create group</span>
sudo<span class="w"> </span>groupadd<span class="w"> </span>developers

<span class="c1"># Specify GID</span>
sudo<span class="w"> </span>groupadd<span class="w"> </span>-g<span class="w"> </span><span class="m">2000</span><span class="w"> </span>mygroup
</code></pre></div>

<h3 id="groupmod-modify-group">groupmod - Modify Group<a class="header-link" href="#groupmod-modify-group" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Change group name</span>
sudo<span class="w"> </span>groupmod<span class="w"> </span>-n<span class="w"> </span>newname<span class="w"> </span>oldname

<span class="c1"># Change GID</span>
sudo<span class="w"> </span>groupmod<span class="w"> </span>-g<span class="w"> </span><span class="m">2001</span><span class="w"> </span>groupname
</code></pre></div>

<h3 id="groupdel-delete-group">groupdel - Delete Group<a class="header-link" href="#groupdel-delete-group" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>groupdel<span class="w"> </span>groupname
</code></pre></div>

<h3 id="gpasswd-manage-group-members">gpasswd - Manage Group Members<a class="header-link" href="#gpasswd-manage-group-members" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Add user to group</span>
sudo<span class="w"> </span>gpasswd<span class="w"> </span>-a<span class="w"> </span>username<span class="w"> </span>groupname

<span class="c1"># Remove user from group</span>
sudo<span class="w"> </span>gpasswd<span class="w"> </span>-d<span class="w"> </span>username<span class="w"> </span>groupname

<span class="c1"># Assign group administrator</span>
sudo<span class="w"> </span>gpasswd<span class="w"> </span>-A<span class="w"> </span>adminuser<span class="w"> </span>groupname
</code></pre></div>

<hr />
<h2 id="4-user-switching">4. User Switching<a class="header-link" href="#4-user-switching" title="Permanent link">&para;</a></h2>
<h3 id="su-switch-user">su - Switch User<a class="header-link" href="#su-switch-user" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Switch to another user</span>
su<span class="w"> </span>username

<span class="c1"># Switch to root</span>
su<span class="w"> </span>-
su<span class="w"> </span>-<span class="w"> </span>root

<span class="c1"># Switch with environment variables (recommended)</span>
su<span class="w"> </span>-<span class="w"> </span>username

<span class="c1"># Execute single command</span>
su<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;command&#39;</span><span class="w"> </span>username
</code></pre></div>

<h3 id="sudo-privilege-escalation">sudo - Privilege Escalation<a class="header-link" href="#sudo-privilege-escalation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Execute command with administrator privileges</span>
sudo<span class="w"> </span><span class="nb">command</span>

<span class="c1"># Execute command as different user</span>
sudo<span class="w"> </span>-u<span class="w"> </span>username<span class="w"> </span><span class="nb">command</span>

<span class="c1"># Open root shell</span>
sudo<span class="w"> </span>-i

<span class="c1"># Preserve environment variables</span>
sudo<span class="w"> </span>-E<span class="w"> </span><span class="nb">command</span>

<span class="c1"># Clear sudo cache</span>
sudo<span class="w"> </span>-k
</code></pre></div>

<hr />
<h2 id="5-sudo-configuration">5. sudo Configuration<a class="header-link" href="#5-sudo-configuration" title="Permanent link">&para;</a></h2>
<h3 id="etcsudoers">/etc/sudoers<a class="header-link" href="#etcsudoers" title="Permanent link">&para;</a></h3>
<p>File for configuring sudo permissions. <strong>Always edit with visudo.</strong></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>visudo
</code></pre></div>

<h3 id="basic-format">Basic Format<a class="header-link" href="#basic-format" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp"># Per-user configuration</span>
<span class="n">user</span><span class="w">   </span><span class="n">host</span><span class="o">=</span><span class="p">(</span><span class="n">run_as_user</span><span class="p">)</span><span class="w"> </span><span class="n">command</span>

<span class="cp"># Per-group configuration (% prefix)</span>
<span class="nf">%group</span><span class="w">   </span><span class="n">host</span><span class="o">=</span><span class="p">(</span><span class="n">run_as_user</span><span class="p">)</span><span class="w"> </span><span class="n">command</span>
</code></pre></div>

<h3 id="configuration-examples">Configuration Examples<a class="header-link" href="#configuration-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># root has all privileges</span>
root<span class="w">    </span><span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span><span class="w"> </span>ALL

<span class="c1"># sudo group members have all privileges</span>
%sudo<span class="w">   </span><span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span><span class="w"> </span>ALL

<span class="c1"># Grant all privileges to specific user</span>
john<span class="w">    </span><span class="nv">ALL</span><span class="o">=(</span>ALL:ALL<span class="o">)</span><span class="w"> </span>ALL

<span class="c1"># Allow sudo without password</span>
john<span class="w">    </span><span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span><span class="w"> </span>NOPASSWD:<span class="w"> </span>ALL

<span class="c1"># Allow specific commands only</span>
backup<span class="w">  </span><span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span><span class="w"> </span>/usr/bin/rsync,<span class="w"> </span>/usr/bin/tar

<span class="c1"># Specific command without password</span>
deploy<span class="w">  </span><span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span><span class="w"> </span>NOPASSWD:<span class="w"> </span>/usr/bin/systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
</code></pre></div>

<h3 id="etcsudoersd">/etc/sudoers.d/<a class="header-link" href="#etcsudoersd" title="Permanent link">&para;</a></h3>
<p>You can manage configurations in separate files.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create file</span>
sudo<span class="w"> </span>visudo<span class="w"> </span>-f<span class="w"> </span>/etc/sudoers.d/developers

<span class="c1"># Content</span>
%developers<span class="w"> </span><span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span><span class="w"> </span>NOPASSWD:<span class="w"> </span>/usr/bin/docker
</code></pre></div>

<hr />
<h2 id="6-user-information">6. User Information<a class="header-link" href="#6-user-information" title="Permanent link">&para;</a></h2>
<h3 id="id-user-id-information">id - User ID Information<a class="header-link" href="#id-user-id-information" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Current user</span>
id

<span class="c1"># Specific user</span>
id<span class="w"> </span>username
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code>uid=1000(ubuntu) gid=1000(ubuntu) groups=1000(ubuntu),27(sudo),999(docker)
</code></pre></div>

<h3 id="groups-group-membership">groups - Group Membership<a class="header-link" href="#groups-group-membership" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Current user groups</span>
groups

<span class="c1"># Specific user groups</span>
groups<span class="w"> </span>username
</code></pre></div>

<h3 id="who-logged-in-users">who - Logged-in Users<a class="header-link" href="#who-logged-in-users" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Currently logged-in users</span>
who
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code>ubuntu   pts/0        2024-01-23 10:00 (192.168.1.100)
</code></pre></div>

<h3 id="w-detailed-login-information">w - Detailed Login Information<a class="header-link" href="#w-detailed-login-information" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>w
</code></pre></div>

<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">days</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">:</span><span class="mi">45</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="n">users</span><span class="p">,</span><span class="w">  </span><span class="nb">load</span><span class="w"> </span><span class="n">average</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w"> </span><span class="mf">0.05</span>
<span class="n">USER</span><span class="w">     </span><span class="n">TTY</span><span class="w">      </span><span class="n">FROM</span><span class="w">             </span><span class="n">LOGIN</span><span class="err">@</span><span class="w">   </span><span class="n">IDLE</span><span class="w">   </span><span class="n">JCPU</span><span class="w">   </span><span class="n">PCPU</span><span class="w"> </span><span class="n">WHAT</span>
<span class="n">ubuntu</span><span class="w">   </span><span class="n">pts</span><span class="o">/</span><span class="mi">0</span><span class="w">    </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.100</span><span class="w">    </span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="w">    </span><span class="mf">0.00</span><span class="n">s</span><span class="w">  </span><span class="mf">0.03</span><span class="n">s</span><span class="w">  </span><span class="mf">0.00</span><span class="n">s</span><span class="w"> </span><span class="n">w</span>
<span class="n">john</span><span class="w">     </span><span class="n">pts</span><span class="o">/</span><span class="mi">1</span><span class="w">    </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.101</span><span class="w">    </span><span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="w">    </span><span class="mi">5</span><span class="p">:</span><span class="mi">00</span><span class="w">   </span><span class="mf">0.01</span><span class="n">s</span><span class="w">  </span><span class="mf">0.01</span><span class="n">s</span><span class="w"> </span><span class="n">bash</span>
</code></pre></div>

<h3 id="last-login-history">last - Login History<a class="header-link" href="#last-login-history" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Recent login history</span>
last

<span class="c1"># Specific user</span>
last<span class="w"> </span>username

<span class="c1"># Last 10 entries</span>
last<span class="w"> </span>-n<span class="w"> </span><span class="m">10</span>

<span class="c1"># Reboot history</span>
last<span class="w"> </span>reboot
</code></pre></div>

<h3 id="lastlog-last-login">lastlog - Last Login<a class="header-link" href="#lastlog-last-login" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>lastlog
</code></pre></div>

<hr />
<h2 id="7-system-users">7. System Users<a class="header-link" href="#7-system-users" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>UID Range</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>root</td>
</tr>
<tr>
<td>1-999</td>
<td>System users</td>
</tr>
<tr>
<td>1000+</td>
<td>Regular users</td>
</tr>
</tbody>
</table>
<h3 id="creating-system-users">Creating System Users<a class="header-link" href="#creating-system-users" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># System user (no login)</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-r<span class="w"> </span>-s<span class="w"> </span>/usr/sbin/nologin<span class="w"> </span>serviceuser
</code></pre></div>

<h3 id="common-system-users">Common System Users<a class="header-link" href="#common-system-users" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>User</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>root</td>
<td>System administrator</td>
</tr>
<tr>
<td>www-data</td>
<td>Web server</td>
</tr>
<tr>
<td>mysql</td>
<td>MySQL database</td>
</tr>
<tr>
<td>postgres</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td>nobody</td>
<td>Minimal privilege processes</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="8-practical-examples">8. Practical Examples<a class="header-link" href="#8-practical-examples" title="Permanent link">&para;</a></h2>
<h3 id="development-team-environment">Development Team Environment<a class="header-link" href="#development-team-environment" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Create developers group</span>
sudo<span class="w"> </span>groupadd<span class="w"> </span>developers

<span class="c1"># 2. Create developer accounts</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>developers<span class="w"> </span>alice
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>developers<span class="w"> </span>bob
sudo<span class="w"> </span>passwd<span class="w"> </span>alice
sudo<span class="w"> </span>passwd<span class="w"> </span>bob

<span class="c1"># 3. Set up shared directory</span>
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/projects/shared
sudo<span class="w"> </span>chgrp<span class="w"> </span>developers<span class="w"> </span>/projects/shared
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">2775</span><span class="w"> </span>/projects/shared

<span class="c1"># 4. Grant sudo privileges (Docker commands only)</span>
sudo<span class="w"> </span>visudo<span class="w"> </span>-f<span class="w"> </span>/etc/sudoers.d/developers
<span class="c1"># %developers ALL=(ALL) NOPASSWD: /usr/bin/docker</span>
</code></pre></div>

<h3 id="web-developer-environment">Web Developer Environment<a class="header-link" href="#web-developer-environment" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Web developer account</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>www-data,developers<span class="w"> </span>webdev
sudo<span class="w"> </span>passwd<span class="w"> </span>webdev

<span class="c1"># Web directory permissions</span>
sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>webdev:www-data<span class="w"> </span>/var/www/mysite
sudo<span class="w"> </span>chmod<span class="w"> </span>-R<span class="w"> </span><span class="m">775</span><span class="w"> </span>/var/www/mysite
</code></pre></div>

<h3 id="deployment-only-account">Deployment-Only Account<a class="header-link" href="#deployment-only-account" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Deployment account (login with key only)</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>deploy
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/home/deploy/.ssh
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">700</span><span class="w"> </span>/home/deploy/.ssh

<span class="c1"># SSH key setup</span>
sudo<span class="w"> </span>touch<span class="w"> </span>/home/deploy/.ssh/authorized_keys
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">600</span><span class="w"> </span>/home/deploy/.ssh/authorized_keys
sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>deploy:deploy<span class="w"> </span>/home/deploy/.ssh

<span class="c1"># Limited sudo privileges</span>
sudo<span class="w"> </span>visudo<span class="w"> </span>-f<span class="w"> </span>/etc/sudoers.d/deploy
<span class="c1"># deploy ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart myapp</span>
</code></pre></div>

<hr />
<h2 id="9-security-best-practices">9. Security Best Practices<a class="header-link" href="#9-security-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="password-policy">Password Policy<a class="header-link" href="#password-policy" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Edit /etc/login.defs</span>
sudo<span class="w"> </span>vi<span class="w"> </span>/etc/login.defs
</code></pre></div>

<div class="highlight"><pre><span></span><code>PASS_MAX_DAYS   90     # Maximum age
PASS_MIN_DAYS   7      # Minimum age
PASS_WARN_AGE   14     # Expiration warning days
PASS_MIN_LEN    12     # Minimum length
</code></pre></div>

<h3 id="disable-direct-root-login">Disable Direct root Login<a class="header-link" href="#disable-direct-root-login" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Disable root login via SSH</span>
sudo<span class="w"> </span>vi<span class="w"> </span>/etc/ssh/sshd_config
<span class="c1"># PermitRootLogin no</span>

sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>sshd
</code></pre></div>

<h3 id="lock-unnecessary-accounts">Lock Unnecessary Accounts<a class="header-link" href="#lock-unnecessary-accounts" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Lock unused accounts</span>
sudo<span class="w"> </span>passwd<span class="w"> </span>-l<span class="w"> </span>unuseduser

<span class="c1"># Set shell to nologin</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-s<span class="w"> </span>/usr/sbin/nologin<span class="w"> </span>unuseduser
</code></pre></div>

<hr />
<h2 id="10-practice-exercises">10. Practice Exercises<a class="header-link" href="#10-practice-exercises" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-check-user-information">Exercise 1: Check User Information<a class="header-link" href="#exercise-1-check-user-information" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Current user information</span>
id
groups
whoami

<span class="c1"># Check /etc/passwd</span>
grep<span class="w"> </span><span class="nv">$USER</span><span class="w"> </span>/etc/passwd

<span class="c1"># Login history</span>
last<span class="w"> </span>-n<span class="w"> </span><span class="m">5</span>
</code></pre></div>

<h3 id="exercise-2-user-creation-and-deletion">Exercise 2: User Creation and Deletion<a class="header-link" href="#exercise-2-user-creation-and-deletion" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create test user</span>
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;Test User&quot;</span><span class="w"> </span>testuser
sudo<span class="w"> </span>passwd<span class="w"> </span>testuser

<span class="c1"># Verify</span>
id<span class="w"> </span>testuser
grep<span class="w"> </span>testuser<span class="w"> </span>/etc/passwd
ls<span class="w"> </span>-la<span class="w"> </span>/home/testuser

<span class="c1"># Delete</span>
sudo<span class="w"> </span>userdel<span class="w"> </span>-r<span class="w"> </span>testuser
</code></pre></div>

<h3 id="exercise-3-group-management">Exercise 3: Group Management<a class="header-link" href="#exercise-3-group-management" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create group</span>
sudo<span class="w"> </span>groupadd<span class="w"> </span>testgroup

<span class="c1"># Add user</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>testgroup<span class="w"> </span><span class="nv">$USER</span>

<span class="c1"># Verify (re-login required)</span>
groups

<span class="c1"># Delete group</span>
sudo<span class="w"> </span>groupdel<span class="w"> </span>testgroup
</code></pre></div>

<h3 id="exercise-4-sudo-testing">Exercise 4: sudo Testing<a class="header-link" href="#exercise-4-sudo-testing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check sudo privileges</span>
sudo<span class="w"> </span>-l

<span class="c1"># Execute command with root privileges</span>
sudo<span class="w"> </span>whoami

<span class="c1"># Execute command as different user</span>
sudo<span class="w"> </span>-u<span class="w"> </span>www-data<span class="w"> </span>whoami
</code></pre></div>

<hr />
<h2 id="next-steps">Next Steps<a class="header-link" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Let's learn about process management in <a href="./07_Process_Management.md">07_Process_Management.md</a>!</p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Linux/05_Permissions_Ownership.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Permissions and Ownership</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Linux/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Linux/07_Process_Management.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Process Management</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}