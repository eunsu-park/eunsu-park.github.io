{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPv6 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Networking/">Networking</a>
    <span class="separator">/</span>
    <span class="current">IPv6</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>IPv6</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Networking/17_Practical_Network_Tools.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Practical Network Tools</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Networking/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Networking/19_Container_Networking.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Container Networking</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#learning-objectives">Learning Objectives</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#1-why-ipv6">1. Why IPv6?</a><ul>
<li><a href="#ipv4-exhaustion">IPv4 Exhaustion</a></li>
<li><a href="#nat-limitations">NAT Limitations</a></li>
<li><a href="#ipv6-advantages">IPv6 Advantages</a></li>
</ul>
</li>
<li><a href="#2-ipv6-address-format">2. IPv6 Address Format</a><ul>
<li><a href="#128-bit-address-structure">128-bit Address Structure</a></li>
<li><a href="#notation-rules">Notation Rules</a></li>
<li><a href="#address-shortening-examples">Address Shortening Examples</a></li>
<li><a href="#prefix-notation">Prefix Notation</a></li>
</ul>
</li>
<li><a href="#3-ipv6-address-types">3. IPv6 Address Types</a><ul>
<li><a href="#unicast-addresses">Unicast Addresses</a><ul>
<li><a href="#global-unicast-gua">Global Unicast (GUA)</a></li>
<li><a href="#link-local-addresses-lla">Link-Local Addresses (LLA)</a></li>
<li><a href="#unique-local-addresses-ula">Unique Local Addresses (ULA)</a></li>
</ul>
</li>
<li><a href="#multicast-addresses">Multicast Addresses</a></li>
<li><a href="#anycast-addresses">Anycast Addresses</a></li>
<li><a href="#special-addresses">Special Addresses</a></li>
</ul>
</li>
<li><a href="#4-ipv6-header">4. IPv6 Header</a><ul>
<li><a href="#simplified-header-structure">Simplified Header Structure</a></li>
<li><a href="#field-descriptions">Field Descriptions</a></li>
<li><a href="#improvements-over-ipv4">Improvements Over IPv4</a></li>
<li><a href="#extension-headers">Extension Headers</a></li>
</ul>
</li>
<li><a href="#5-address-autoconfiguration">5. Address Autoconfiguration</a><ul>
<li><a href="#slaac-stateless-address-autoconfiguration">SLAAC (Stateless Address Autoconfiguration)</a></li>
<li><a href="#interface-identifier-iid-generation">Interface Identifier (IID) Generation</a></li>
<li><a href="#dhcpv6">DHCPv6</a></li>
<li><a href="#router-advertisement-flags">Router Advertisement Flags</a></li>
</ul>
</li>
<li><a href="#6-neighbor-discovery-protocol">6. Neighbor Discovery Protocol</a><ul>
<li><a href="#ndp-vs-arp">NDP vs ARP</a></li>
<li><a href="#ndp-message-types">NDP Message Types</a></li>
<li><a href="#neighbor-solicitationadvertisement-nsna">Neighbor Solicitation/Advertisement (NS/NA)</a></li>
<li><a href="#solicited-node-multicast">Solicited-Node Multicast</a></li>
<li><a href="#duplicate-address-detection-dad">Duplicate Address Detection (DAD)</a></li>
<li><a href="#neighbor-unreachability-detection-nud">Neighbor Unreachability Detection (NUD)</a></li>
</ul>
</li>
<li><a href="#7-transition-mechanisms">7. Transition Mechanisms</a><ul>
<li><a href="#dual-stack">Dual-Stack</a></li>
<li><a href="#tunneling-mechanisms">Tunneling Mechanisms</a><ul>
<li><a href="#6to4-tunnel">6to4 Tunnel</a></li>
<li><a href="#teredo-tunnel">Teredo Tunnel</a></li>
<li><a href="#isatap">ISATAP</a></li>
</ul>
</li>
<li><a href="#translation-mechanisms">Translation Mechanisms</a><ul>
<li><a href="#nat64dns64">NAT64/DNS64</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#8-ipv6-routing">8. IPv6 Routing</a><ul>
<li><a href="#ospfv3">OSPFv3</a></li>
<li><a href="#bgp-for-ipv6">BGP for IPv6</a></li>
<li><a href="#route-aggregation">Route Aggregation</a></li>
<li><a href="#routing-table-example">Routing Table Example</a></li>
</ul>
</li>
<li><a href="#9-ipv6-security">9. IPv6 Security</a><ul>
<li><a href="#built-in-ipsec">Built-in IPsec</a></li>
<li><a href="#privacy-extensions">Privacy Extensions</a></li>
<li><a href="#firewall-considerations">Firewall Considerations</a></li>
<li><a href="#security-threats">Security Threats</a></li>
</ul>
</li>
<li><a href="#10-practical-configuration">10. Practical Configuration</a><ul>
<li><a href="#linux-configuration">Linux Configuration</a></li>
<li><a href="#windows-configuration">Windows Configuration</a></li>
<li><a href="#testing-connectivity">Testing Connectivity</a></li>
<li><a href="#common-issues-and-troubleshooting">Common Issues and Troubleshooting</a></li>
</ul>
</li>
<li><a href="#11-practice-problems">11. Practice Problems</a><ul>
<li><a href="#problem-1-address-shortening">Problem 1: Address Shortening</a></li>
<li><a href="#problem-2-eui-64-conversion">Problem 2: EUI-64 Conversion</a></li>
<li><a href="#problem-3-subnetting">Problem 3: Subnetting</a></li>
<li><a href="#problem-4-ndp-analysis">Problem 4: NDP Analysis</a></li>
<li><a href="#problem-5-transition-mechanism-selection">Problem 5: Transition Mechanism Selection</a></li>
<li><a href="#problem-6-security-configuration">Problem 6: Security Configuration</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="ipv6">IPv6<a class="header-link" href="#ipv6" title="Permanent link">&para;</a></h1>
<h2 id="learning-objectives">Learning Objectives<a class="header-link" href="#learning-objectives" title="Permanent link">&para;</a></h2>
<ul>
<li>Understand the motivation for IPv6 and limitations of IPv4</li>
<li>Master IPv6 address format, notation, and types</li>
<li>Learn IPv6 header structure and improvements over IPv4</li>
<li>Understand address autoconfiguration mechanisms (SLAAC, DHCPv6)</li>
<li>Learn Neighbor Discovery Protocol (NDP) and its role</li>
<li>Explore transition mechanisms from IPv4 to IPv6</li>
<li>Understand IPv6 routing protocols</li>
<li>Learn IPv6 security considerations</li>
<li>Configure and troubleshoot IPv6 networks</li>
</ul>
<h2 id="table-of-contents">Table of Contents<a class="header-link" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-why-ipv6">Why IPv6?</a></li>
<li><a href="#2-ipv6-address-format">IPv6 Address Format</a></li>
<li><a href="#3-ipv6-address-types">IPv6 Address Types</a></li>
<li><a href="#4-ipv6-header">IPv6 Header</a></li>
<li><a href="#5-address-autoconfiguration">Address Autoconfiguration</a></li>
<li><a href="#6-neighbor-discovery-protocol">Neighbor Discovery Protocol</a></li>
<li><a href="#7-transition-mechanisms">Transition Mechanisms</a></li>
<li><a href="#8-ipv6-routing">IPv6 Routing</a></li>
<li><a href="#9-ipv6-security">IPv6 Security</a></li>
<li><a href="#10-practical-configuration">Practical Configuration</a></li>
<li><a href="#11-practice-problems">Practice Problems</a></li>
</ol>
<hr />
<h2 id="1-why-ipv6">1. Why IPv6?<a class="header-link" href="#1-why-ipv6" title="Permanent link">&para;</a></h2>
<h3 id="ipv4-exhaustion">IPv4 Exhaustion<a class="header-link" href="#ipv4-exhaustion" title="Permanent link">&para;</a></h3>
<p>IPv4 uses 32-bit addresses, providing approximately 4.3 billion addresses:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Total</span><span class="w"> </span><span class="nx">IPv4</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="mi">294</span><span class="p">,</span><span class="mi">967</span><span class="p">,</span><span class="mi">296</span>
</code></pre></div>

<p><strong>Exhaustion timeline:</strong>
- 2011: IANA exhausted central pool
- 2015: ARIN (North America) exhausted
- 2019: RIPE NCC (Europe) exhausted
- 2021: All Regional Internet Registries (RIRs) depleted</p>
<h3 id="nat-limitations">NAT Limitations<a class="header-link" href="#nat-limitations" title="Permanent link">&para;</a></h3>
<p>Network Address Translation (NAT) was a temporary solution:</p>
<p><strong>NAT drawbacks:</strong>
- Breaks end-to-end connectivity
- Complicates peer-to-peer applications
- Adds processing overhead
- Makes troubleshooting difficult
- Incompatible with some protocols (IPsec, SIP)</p>
<h3 id="ipv6-advantages">IPv6 Advantages<a class="header-link" href="#ipv6-advantages" title="Permanent link">&para;</a></h3>
<p><strong>Massive address space:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">IPv6</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">128</span><span class="w"> </span><span class="err">â‰ˆ</span><span class="w"> </span><span class="m m-Double">3.4</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="mi">10</span><span class="o">^</span><span class="mi">38</span><span class="w"> </span><span class="nx">addresses</span>
</code></pre></div>

<p><strong>Other benefits:</strong>
- No need for NAT (restores end-to-end connectivity)
- Simplified header for faster processing
- Built-in IPsec support
- Better multicast support
- Autoconfiguration (SLAAC)
- No broadcast (replaced by multicast)
- Improved QoS with flow labels</p>
<hr />
<h2 id="2-ipv6-address-format">2. IPv6 Address Format<a class="header-link" href="#2-ipv6-address-format" title="Permanent link">&para;</a></h2>
<h3 id="128-bit-address-structure">128-bit Address Structure<a class="header-link" href="#128-bit-address-structure" title="Permanent link">&para;</a></h3>
<p>IPv6 addresses are 128 bits long, written as 8 groups of 4 hexadecimal digits:</p>
<div class="highlight"><pre><span></span><code>IPv6 Address Structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  16 bits â”‚  16 bits â”‚  16 bits â”‚  16 bits â”‚ ... â”‚  16 bits   â”‚
â”‚  (0-FFFF)â”‚  (0-FFFF)â”‚  (0-FFFF)â”‚  (0-FFFF)â”‚ ... â”‚  (0-FFFF)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Group 1    Group 2    Group 3    Group 4   ...    Group 8

Example:
2001:0db8:85a3:0000:0000:8a2e:0370:7334
</code></pre></div>

<h3 id="notation-rules">Notation Rules<a class="header-link" href="#notation-rules" title="Permanent link">&para;</a></h3>
<p><strong>Full notation:</strong></p>
<div class="highlight"><pre><span></span><code><span class="mi">2001</span><span class="o">:</span><span class="mi">0</span><span class="n">db8</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0042</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">8</span><span class="n">a2e</span><span class="o">:</span><span class="mi">0370</span><span class="o">:</span><span class="mi">7334</span>
</code></pre></div>

<p><strong>Rule 1: Leading zeros can be omitted</strong></p>
<div class="highlight"><pre><span></span><code><span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">42</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">8</span><span class="n">a2e</span><span class="o">:</span><span class="mi">370</span><span class="o">:</span><span class="mi">7334</span>
</code></pre></div>

<p><strong>Rule 2: Consecutive zero groups can be replaced with <code>::</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">42</span><span class="o">::</span><span class="mi">8</span><span class="n">a2e</span><span class="o">:</span><span class="mi">370</span><span class="o">:</span><span class="mi">7334</span>
</code></pre></div>

<p><strong>Important: <code>::</code> can only be used ONCE per address</strong></p>
<div class="highlight"><pre><span></span><code># Valid
2001:db8::1
ff02::1
::1 (loopback)

# Invalid (multiple ::)
2001::25de::cade  # âŒ Ambiguous
</code></pre></div>

<h3 id="address-shortening-examples">Address Shortening Examples<a class="header-link" href="#address-shortening-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Original</span><span class="o">:</span><span class="w">   </span><span class="mi">2001</span><span class="o">:</span><span class="mi">0</span><span class="n">db8</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0001</span>
<span class="n">Shortened</span><span class="o">:</span><span class="w">  </span><span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">::</span><span class="mi">1</span>

<span class="n">Original</span><span class="o">:</span><span class="w">   </span><span class="n">fe80</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0202</span><span class="o">:</span><span class="n">b3ff</span><span class="o">:</span><span class="n">fe1e</span><span class="o">:</span><span class="mi">8329</span>
<span class="n">Shortened</span><span class="o">:</span><span class="w">  </span><span class="n">fe80</span><span class="o">::</span><span class="mi">202</span><span class="o">:</span><span class="n">b3ff</span><span class="o">:</span><span class="n">fe1e</span><span class="o">:</span><span class="mi">8329</span>

<span class="n">Original</span><span class="o">:</span><span class="w">   </span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0001</span>
<span class="n">Shortest</span><span class="o">:</span><span class="w">   </span><span class="o">::</span><span class="mi">1</span><span class="w"> </span><span class="o">(</span><span class="n">loopback</span><span class="o">)</span>

<span class="n">Original</span><span class="o">:</span><span class="w">   </span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span><span class="o">:</span><span class="mi">0000</span>
<span class="n">Shortest</span><span class="o">:</span><span class="w">   </span><span class="o">::</span><span class="w"> </span><span class="o">(</span><span class="n">unspecified</span><span class="w"> </span><span class="n">address</span><span class="o">)</span>
</code></pre></div>

<h3 id="prefix-notation">Prefix Notation<a class="header-link" href="#prefix-notation" title="Permanent link">&para;</a></h3>
<p>Similar to CIDR in IPv4:</p>
<div class="highlight"><pre><span></span><code><span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">:</span><span class="n">abcd</span><span class="o">:</span><span class="mi">0012</span><span class="o">::/</span><span class="mi">64</span>
<span class="w">             </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">             </span><span class="n">Network</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">(</span><span class="mi">64</span><span class="w"> </span><span class="n">bits</span><span class="o">)</span>
</code></pre></div>

<hr />
<h2 id="3-ipv6-address-types">3. IPv6 Address Types<a class="header-link" href="#3-ipv6-address-types" title="Permanent link">&para;</a></h2>
<h3 id="unicast-addresses">Unicast Addresses<a class="header-link" href="#unicast-addresses" title="Permanent link">&para;</a></h3>
<h4 id="global-unicast-gua">Global Unicast (GUA)<a class="header-link" href="#global-unicast-gua" title="Permanent link">&para;</a></h4>
<p>Routable on the Internet (equivalent to public IPv4):</p>
<div class="highlight"><pre><span></span><code>Address Range: 2000::/3 (currently 2000:: to 3fff::)

Structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Global     â”‚   Subnet ID  â”‚  Interface   â”‚              â”‚
â”‚   Routing    â”‚              â”‚  Identifier  â”‚              â”‚
â”‚   Prefix     â”‚              â”‚  (IID)       â”‚              â”‚
â”‚  (48 bits)   â”‚  (16 bits)   â”‚  (64 bits)   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example:
2001:db8:1234:5678::1/64
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
    ISP      Subnet  Host
</code></pre></div>

<h4 id="link-local-addresses-lla">Link-Local Addresses (LLA)<a class="header-link" href="#link-local-addresses-lla" title="Permanent link">&para;</a></h4>
<p>Valid only on the local link (like 169.254.x.x in IPv4):</p>
<div class="highlight"><pre><span></span><code>Address Range: fe80::/10

Structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fe80  â”‚  0000  â”‚  Interface ID (64 bits)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example:
fe80::1
fe80::202:b3ff:fe1e:8329
</code></pre></div>

<p><strong>Mandatory on all IPv6 interfaces!</strong></p>
<h4 id="unique-local-addresses-ula">Unique Local Addresses (ULA)<a class="header-link" href="#unique-local-addresses-ula" title="Permanent link">&para;</a></h4>
<p>Private addresses (like 10.x.x.x, 192.168.x.x in IPv4):</p>
<div class="highlight"><pre><span></span><code>Address Range: fc00::/7 (fd00::/8 in practice)

Structure:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fd â”‚ 0 â”‚ Global ID  â”‚ Subnet â”‚ Interface ID â”‚
â”‚    â”‚   â”‚ (40 bits)  â”‚(16 bit)â”‚  (64 bits)   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example:
fd00:1234:5678:1::1/64
</code></pre></div>

<h3 id="multicast-addresses">Multicast Addresses<a class="header-link" href="#multicast-addresses" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">Address</span><span class="w"> </span><span class="nx">Range</span><span class="p">:</span><span class="w"> </span><span class="nx">ff00</span><span class="o">::/</span><span class="mi">8</span>

<span class="nx">Structure</span><span class="p">:</span>
<span class="err">â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nx">ff</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Flags</span><span class="w"> </span><span class="err">â”‚</span><span class="w">    </span><span class="nx">Group</span><span class="w"> </span><span class="nx">ID</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Scope</span><span class="w"> </span><span class="err">â”‚</span><span class="w">                      </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="nx">Common</span><span class="w"> </span><span class="nx">multicast</span><span class="w"> </span><span class="nx">addresses</span><span class="p">:</span>
<span class="nx">ff02</span><span class="o">::</span><span class="mi">1</span><span class="w">         </span><span class="nx">All</span><span class="w"> </span><span class="nx">nodes</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">link</span>
<span class="nx">ff02</span><span class="o">::</span><span class="mi">2</span><span class="w">         </span><span class="nx">All</span><span class="w"> </span><span class="nx">routers</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">link</span>
<span class="nx">ff02</span><span class="o">::</span><span class="mi">1</span><span class="p">:</span><span class="nx">ff00</span><span class="p">:</span><span class="mi">0</span><span class="o">/</span><span class="mi">104</span><span class="w">  </span><span class="nx">Solicited</span><span class="o">-</span><span class="nx">node</span><span class="w"> </span><span class="nx">multicast</span>
</code></pre></div>

<p><strong>Scopes:</strong>
- <code>1</code> - Interface-local
- <code>2</code> - Link-local
- <code>5</code> - Site-local
- <code>8</code> - Organization-local
- <code>e</code> - Global</p>
<h3 id="anycast-addresses">Anycast Addresses<a class="header-link" href="#anycast-addresses" title="Permanent link">&para;</a></h3>
<p>Same format as unicast, but assigned to multiple interfaces. Packet delivered to nearest interface.</p>
<div class="highlight"><pre><span></span><code><span class="n">Example</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="k">case</span><span class="o">:</span><span class="w"> </span><span class="n">DNS</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">servers</span>
<span class="mh">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">::</span><span class="mh">1</span><span class="w"> </span><span class="n">assigned</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span>
</code></pre></div>

<h3 id="special-addresses">Special Addresses<a class="header-link" href="#special-addresses" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span><span class="w">         </span><span class="nx">Loopback</span><span class="w"> </span><span class="p">(</span><span class="nx">localhost</span><span class="p">)</span>
<span class="o">::/</span><span class="mi">128</span><span class="w">          </span><span class="nx">Unspecified</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="p">(</span><span class="k">like</span><span class="w"> </span><span class="m m-Double">0.0.0.0</span><span class="p">)</span>
<span class="o">::</span><span class="nx">ffff</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="o">/</span><span class="mi">96</span><span class="w">   </span><span class="nx">IPv4</span><span class="o">-</span><span class="nx">mapped</span><span class="w"> </span><span class="nx">IPv6</span><span class="w"> </span><span class="p">(</span><span class="o">::</span><span class="nx">ffff</span><span class="p">:</span><span class="m m-Double">192.0.2.1</span><span class="p">)</span>
<span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="o">::/</span><span class="mi">32</span><span class="w">   </span><span class="nx">Documentation</span><span class="w"> </span><span class="nx">prefix</span>
</code></pre></div>

<hr />
<h2 id="4-ipv6-header">4. IPv6 Header<a class="header-link" href="#4-ipv6-header" title="Permanent link">&para;</a></h2>
<h3 id="simplified-header-structure">Simplified Header Structure<a class="header-link" href="#simplified-header-structure" title="Permanent link">&para;</a></h3>
<p>IPv6 header is simpler and fixed-length (40 bytes):</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="mi">0</span><span class="w">                   </span><span class="mi">1</span><span class="w">                   </span><span class="mi">2</span><span class="w">                   </span><span class="mi">3</span>
<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="n">Version</span><span class="o">|</span><span class="w"> </span><span class="n">Traffic</span><span class="w"> </span><span class="n">Class</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="n">Flow</span><span class="w"> </span><span class="n">Label</span><span class="w">                  </span><span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="w">         </span><span class="n">Payload</span><span class="w"> </span><span class="n">Length</span><span class="w">        </span><span class="o">|</span><span class="w">  </span><span class="n">Next</span><span class="w"> </span><span class="n">Header</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="n">Hop</span><span class="w"> </span><span class="n">Limit</span><span class="w">   </span><span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                                                               </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                         </span><span class="n">Source</span><span class="w"> </span><span class="n">Address</span><span class="w">                        </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                                                               </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                                                               </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                      </span><span class="n">Destination</span><span class="w"> </span><span class="n">Address</span><span class="w">                      </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+</span><span class="w">                                                               </span><span class="o">+</span>
<span class="o">|</span><span class="w">                                                               </span><span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</code></pre></div>

<h3 id="field-descriptions">Field Descriptions<a class="header-link" href="#field-descriptions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version</td>
<td>4 bits</td>
<td>Always 6</td>
</tr>
<tr>
<td>Traffic Class</td>
<td>8 bits</td>
<td>QoS priority (like DSCP in IPv4)</td>
</tr>
<tr>
<td>Flow Label</td>
<td>20 bits</td>
<td>QoS flow identification</td>
</tr>
<tr>
<td>Payload Length</td>
<td>16 bits</td>
<td>Length of payload (not including header)</td>
</tr>
<tr>
<td>Next Header</td>
<td>8 bits</td>
<td>Type of next header (TCP=6, UDP=17, etc.)</td>
</tr>
<tr>
<td>Hop Limit</td>
<td>8 bits</td>
<td>Decremented by each router (like TTL)</td>
</tr>
<tr>
<td>Source Address</td>
<td>128 bits</td>
<td>Source IPv6 address</td>
</tr>
<tr>
<td>Destination Address</td>
<td>128 bits</td>
<td>Destination IPv6 address</td>
</tr>
</tbody>
</table>
<h3 id="improvements-over-ipv4">Improvements Over IPv4<a class="header-link" href="#improvements-over-ipv4" title="Permanent link">&para;</a></h3>
<p><strong>Removed fields:</strong>
- Header Length (fixed at 40 bytes)
- Identification, Flags, Fragment Offset (moved to extension header)
- Header Checksum (handled by link layer and transport layer)</p>
<p><strong>Benefits:</strong>
- Faster processing (no checksum calculation)
- Fixed header size (easier hardware implementation)
- Optional features in extension headers</p>
<h3 id="extension-headers">Extension Headers<a class="header-link" href="#extension-headers" title="Permanent link">&para;</a></h3>
<p>Extension headers provide flexibility:</p>
<div class="highlight"><pre><span></span><code>IPv6 Header â†’ Ext Header 1 â†’ Ext Header 2 â†’ TCP/UDP Header â†’ Data
</code></pre></div>

<p><strong>Common extension headers:</strong>
1. <strong>Hop-by-Hop Options</strong> (0) - processed by every node
2. <strong>Routing</strong> (43) - source routing
3. <strong>Fragment</strong> (44) - fragmentation information
4. <strong>Destination Options</strong> (60) - options for destination
5. <strong>Authentication</strong> (51) - IPsec AH
6. <strong>Encapsulating Security Payload</strong> (50) - IPsec ESP</p>
<p><strong>Example with fragmentation:</strong></p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w"> </span><span class="nv">IPv6</span><span class="w"> </span><span class="nv">Header</span><span class="w"> </span>â”‚<span class="w">  </span><span class="nv">Fragment</span><span class="w">    </span>â”‚<span class="w"> </span><span class="nv">TCP</span><span class="w"> </span><span class="nv">Hdr</span><span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Data</span><span class="w"> </span>â”‚
â”‚<span class="w"> </span><span class="k">Next</span><span class="o">=</span><span class="mi">44</span><span class="w">     </span>â”‚<span class="w">  </span><span class="nv">Header</span><span class="w">      </span>â”‚<span class="w">          </span>â”‚<span class="w">      </span>â”‚
â”‚<span class="w">             </span>â”‚<span class="w">  </span><span class="k">Next</span><span class="o">=</span><span class="mi">6</span><span class="w">      </span>â”‚<span class="w">          </span>â”‚<span class="w">      </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="5-address-autoconfiguration">5. Address Autoconfiguration<a class="header-link" href="#5-address-autoconfiguration" title="Permanent link">&para;</a></h2>
<h3 id="slaac-stateless-address-autoconfiguration">SLAAC (Stateless Address Autoconfiguration)<a class="header-link" href="#slaac-stateless-address-autoconfiguration" title="Permanent link">&para;</a></h3>
<p>IPv6 devices can configure themselves without DHCP:</p>
<div class="highlight"><pre><span></span><code><span class="nl">Process:</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                           </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nf">Host</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                           </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Router</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜</span><span class="w">                           </span><span class="err">â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">1</span><span class="nf">.</span><span class="w"> </span><span class="nv">Generate</span><span class="w"> </span><span class="nv">link</span><span class="o">-</span><span class="nv">local</span><span class="w"> </span><span class="nv">address</span><span class="w">       </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">    </span><span class="err">(</span><span class="nl">fe80:</span><span class="err">:</span><span class="nf">IID</span><span class="p">)</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">2</span><span class="nf">.</span><span class="w"> </span><span class="nv">Router</span><span class="w"> </span><span class="nv">Solicitation</span><span class="w"> </span><span class="p">(</span><span class="nv">RS</span><span class="p">)</span><span class="w">          </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">(</span><span class="no">ICMPv6</span><span class="w"> </span><span class="kd">type</span><span class="w"> </span><span class="mi">133</span><span class="p">)</span><span class="w">               </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">3</span><span class="nf">.</span><span class="w"> </span><span class="nv">Router</span><span class="w"> </span><span class="nv">Advertisement</span><span class="w"> </span><span class="p">(</span><span class="nv">RA</span><span class="p">)</span><span class="w">         </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">(</span><span class="nf">prefix</span><span class="p">,</span><span class="w"> </span><span class="nv">gateway</span><span class="p">,</span><span class="w"> </span><span class="nv">flags</span><span class="p">)</span><span class="w">        </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">(</span><span class="no">ICMPv6</span><span class="w"> </span><span class="kd">type</span><span class="w"> </span><span class="mi">134</span><span class="p">)</span><span class="w">               </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">4</span><span class="nf">.</span><span class="w"> </span><span class="nv">Generate</span><span class="w"> </span><span class="nv">global</span><span class="w"> </span><span class="nv">address</span><span class="w">           </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">    </span><span class="err">(</span><span class="nf">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">IID</span><span class="p">)</span><span class="w">                    </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="err">5</span><span class="nf">.</span><span class="w"> </span><span class="nv">Duplicate</span><span class="w"> </span><span class="nv">Address</span><span class="w"> </span><span class="nv">Detection</span><span class="w"> </span><span class="p">(</span><span class="nv">DAD</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">    </span><span class="err">(</span><span class="nf">Neighbor</span><span class="w"> </span><span class="nv">Solicitation</span><span class="p">)</span><span class="w">           </span><span class="err">â”‚</span>
<span class="w">     </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span>
<span class="w">     </span><span class="err">â”‚</span><span class="w">                                      </span><span class="err">â”‚</span>
</code></pre></div>

<h3 id="interface-identifier-iid-generation">Interface Identifier (IID) Generation<a class="header-link" href="#interface-identifier-iid-generation" title="Permanent link">&para;</a></h3>
<p><strong>Method 1: EUI-64 (from MAC address)</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">MAC</span><span class="w"> </span><span class="nx">address</span><span class="p">:</span><span class="w">  </span><span class="mi">00</span><span class="p">:</span><span class="mi">1</span><span class="nx">A</span><span class="p">:</span><span class="mi">2</span><span class="nx">B</span><span class="p">:</span><span class="mi">3</span><span class="nx">C</span><span class="p">:</span><span class="mi">4</span><span class="nx">D</span><span class="p">:</span><span class="mi">5</span><span class="nx">E</span>

<span class="nx">Steps</span><span class="p">:</span>
<span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="nx">Split</span><span class="w"> </span><span class="nx">MAC</span><span class="p">:</span><span class="w">     </span><span class="mi">001</span><span class="nx">A2B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="nx">C4D5E</span>
<span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="nx">Insert</span><span class="w"> </span><span class="nx">FFFE</span><span class="p">:</span><span class="w">   </span><span class="mi">001</span><span class="nx">A2B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">FFFE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="nx">C4D5E</span>
<span class="mi">3</span><span class="p">.</span><span class="w"> </span><span class="nx">Flip</span><span class="w"> </span><span class="nx">U</span><span class="o">/</span><span class="nx">L</span><span class="w"> </span><span class="nx">bit</span><span class="p">:</span><span class="w">  </span><span class="mi">021</span><span class="nx">A2B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">FFFE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="nx">C4D5E</span>
<span class="w">   </span><span class="p">(</span><span class="mi">7</span><span class="nx">th</span><span class="w"> </span><span class="nx">bit</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">first</span><span class="w"> </span><span class="nx">byte</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="mi">02</span><span class="p">)</span>

<span class="nx">Result</span><span class="w"> </span><span class="nx">IID</span><span class="p">:</span><span class="w"> </span><span class="mi">021</span><span class="nx">a</span><span class="p">:</span><span class="mi">2</span><span class="nx">bff</span><span class="p">:</span><span class="nx">fe3c</span><span class="p">:</span><span class="mi">4</span><span class="nx">d5e</span>
</code></pre></div>

<p><strong>Method 2: Privacy Extensions (RFC 4941)</strong></p>
<p>Random IID generated periodically for privacy:</p>
<div class="highlight"><pre><span></span><code><span class="nv">Temporary</span><span class="w"> </span><span class="nv">IID</span>:<span class="w"> </span><span class="mi">1234</span>:<span class="mi">5678</span>:<span class="mi">9</span><span class="nv">abc</span>:<span class="nv">def0</span><span class="w"> </span><span class="ss">(</span><span class="k">random</span><span class="ss">)</span>
<span class="nv">Lifetime</span>:<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">day</span><span class="w"> </span><span class="ss">(</span><span class="nv">configurable</span><span class="ss">)</span>
</code></pre></div>

<h3 id="dhcpv6">DHCPv6<a class="header-link" href="#dhcpv6" title="Permanent link">&para;</a></h3>
<p><strong>Stateless DHCPv6:</strong>
- Address from SLAAC
- DNS, NTP from DHCPv6</p>
<p><strong>Stateful DHCPv6:</strong>
- Complete address from DHCPv6 server
- Like traditional DHCP</p>
<p><strong>DHCPv6 process:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">Client</span><span class="w">                              </span><span class="nx">Server</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">SOLICIT</span><span class="w"> </span><span class="p">(</span><span class="nx">multicast</span><span class="w"> </span><span class="nx">ff02</span><span class="o">::</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">ADVERTISE</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">REQUEST</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">REPLY</span><span class="w"> </span><span class="p">(</span><span class="nx">address</span><span class="p">,</span><span class="w"> </span><span class="nx">DNS</span><span class="p">,</span><span class="w"> </span><span class="nx">etc</span><span class="p">.)</span><span class="w">        </span><span class="err">â”‚</span>
<span class="w">  </span><span class="err">â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span>
</code></pre></div>

<h3 id="router-advertisement-flags">Router Advertisement Flags<a class="header-link" href="#router-advertisement-flags" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">M</span><span class="w"> </span><span class="nx">flag</span><span class="w"> </span><span class="p">(</span><span class="nx">Managed</span><span class="p">):</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Use</span><span class="w"> </span><span class="nx">DHCPv6</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">address</span>
<span class="nx">O</span><span class="w"> </span><span class="nx">flag</span><span class="w"> </span><span class="p">(</span><span class="nx">Other</span><span class="p">):</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Use</span><span class="w"> </span><span class="nx">DHCPv6</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">other</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">(</span><span class="nx">DNS</span><span class="p">)</span>

<span class="nx">Combinations</span><span class="p">:</span>
<span class="nx">M</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">O</span><span class="p">=</span><span class="mi">0</span><span class="w">  </span><span class="err">â†’</span><span class="w">  </span><span class="nx">SLAAC</span><span class="w"> </span><span class="nx">only</span>
<span class="nx">M</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">O</span><span class="p">=</span><span class="mi">1</span><span class="w">  </span><span class="err">â†’</span><span class="w">  </span><span class="nx">SLAAC</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">stateless</span><span class="w"> </span><span class="nx">DHCPv6</span>
<span class="nx">M</span><span class="p">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">O</span><span class="p">=</span><span class="mi">0</span><span class="w">  </span><span class="err">â†’</span><span class="w">  </span><span class="nx">Stateful</span><span class="w"> </span><span class="nx">DHCPv6</span>
<span class="nx">M</span><span class="p">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nx">O</span><span class="p">=</span><span class="mi">1</span><span class="w">  </span><span class="err">â†’</span><span class="w">  </span><span class="nx">Stateful</span><span class="w"> </span><span class="nx">DHCPv6</span>
</code></pre></div>

<hr />
<h2 id="6-neighbor-discovery-protocol">6. Neighbor Discovery Protocol<a class="header-link" href="#6-neighbor-discovery-protocol" title="Permanent link">&para;</a></h2>
<h3 id="ndp-vs-arp">NDP vs ARP<a class="header-link" href="#ndp-vs-arp" title="Permanent link">&para;</a></h3>
<p>NDP (Neighbor Discovery Protocol) replaces ARP in IPv6:</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>IPv4</th>
<th>IPv6</th>
</tr>
</thead>
<tbody>
<tr>
<td>Address resolution</td>
<td>ARP</td>
<td>NDP (NS/NA)</td>
</tr>
<tr>
<td>Router discovery</td>
<td>ICMP Router Discovery</td>
<td>NDP (RS/RA)</td>
</tr>
<tr>
<td>Redirect</td>
<td>ICMP Redirect</td>
<td>NDP Redirect</td>
</tr>
<tr>
<td>MTU discovery</td>
<td>-</td>
<td>NDP (RA)</td>
</tr>
</tbody>
</table>
<h3 id="ndp-message-types">NDP Message Types<a class="header-link" href="#ndp-message-types" title="Permanent link">&para;</a></h3>
<p>All NDP messages use ICMPv6:</p>
<ol>
<li><strong>Router Solicitation (RS)</strong> - Type 133</li>
<li><strong>Router Advertisement (RA)</strong> - Type 134</li>
<li><strong>Neighbor Solicitation (NS)</strong> - Type 135</li>
<li><strong>Neighbor Advertisement (NA)</strong> - Type 136</li>
<li><strong>Redirect</strong> - Type 137</li>
</ol>
<h3 id="neighbor-solicitationadvertisement-nsna">Neighbor Solicitation/Advertisement (NS/NA)<a class="header-link" href="#neighbor-solicitationadvertisement-nsna" title="Permanent link">&para;</a></h3>
<p><strong>Address resolution example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nv">Host</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span><span class="nv">wants</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">communicate</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">Host</span><span class="w"> </span><span class="nv">B</span><span class="w"> </span><span class="ss">(</span><span class="mi">2001</span>:<span class="nv">db8</span>::<span class="mi">2</span><span class="ss">)</span>

<span class="mi">1</span>.<span class="w"> </span><span class="nv">Host</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span><span class="nv">sends</span><span class="w"> </span><span class="nv">NS</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">solicited</span><span class="o">-</span><span class="nv">node</span><span class="w"> </span><span class="nv">multicast</span>:

<span class="w">   </span><span class="nv">Src</span>:<span class="w"> </span><span class="mi">2001</span>:<span class="nv">db8</span>::<span class="mi">1</span>
<span class="w">   </span><span class="nv">Dst</span>:<span class="w"> </span><span class="nv">ff02</span>::<span class="mi">1</span>:<span class="nv">ff00</span>:<span class="mi">2</span><span class="w">  </span><span class="ss">(</span><span class="nv">solicited</span><span class="o">-</span><span class="nv">node</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>::<span class="mi">2</span><span class="ss">)</span>
<span class="w">   </span><span class="s2">&quot;Who has 2001:db8::2?&quot;</span>

<span class="mi">2</span>.<span class="w"> </span><span class="nv">Host</span><span class="w"> </span><span class="nv">B</span><span class="w"> </span><span class="nv">sends</span><span class="w"> </span><span class="nv">NA</span>:

<span class="w">   </span><span class="nv">Src</span>:<span class="w"> </span><span class="mi">2001</span>:<span class="nv">db8</span>::<span class="mi">2</span>
<span class="w">   </span><span class="nv">Dst</span>:<span class="w"> </span><span class="mi">2001</span>:<span class="nv">db8</span>::<span class="mi">1</span>
<span class="w">   </span><span class="s2">&quot;I am 2001:db8::2, my MAC is 00:1A:2B:3C:4D:5E&quot;</span>
</code></pre></div>

<h3 id="solicited-node-multicast">Solicited-Node Multicast<a class="header-link" href="#solicited-node-multicast" title="Permanent link">&para;</a></h3>
<p>Efficient address resolution:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Target</span><span class="w"> </span><span class="nx">address</span><span class="p">:</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="o">::</span><span class="mi">1234</span><span class="p">:</span><span class="mi">5678</span>

<span class="nx">Solicited</span><span class="o">-</span><span class="nx">node</span><span class="w"> </span><span class="nx">multicast</span><span class="p">:</span>
<span class="nx">ff02</span><span class="o">::</span><span class="mi">1</span><span class="p">:</span><span class="nx">ff34</span><span class="p">:</span><span class="mi">5678</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w"> </span><span class="nx">prefix</span><span class="w">  </span><span class="nx">last</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="nx">bits</span>
</code></pre></div>

<h3 id="duplicate-address-detection-dad">Duplicate Address Detection (DAD)<a class="header-link" href="#duplicate-address-detection-dad" title="Permanent link">&para;</a></h3>
<p>Before using any address:</p>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">Host</span><span class="w"> </span><span class="n">sends</span><span class="w"> </span><span class="n">NS</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">address</span><span class="p">:</span>
<span class="w">   </span><span class="n">Src</span><span class="p">:</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="p">(</span><span class="n">unspecified</span><span class="p">)</span>
<span class="w">   </span><span class="n">Dst</span><span class="p">:</span><span class="w"> </span><span class="n">ff02</span><span class="p">::</span><span class="mf">1</span><span class="p">:</span><span class="n">ff00</span><span class="p">:</span><span class="mf">1</span><span class="w"> </span><span class="p">(</span><span class="n">solicited</span><span class="o">-</span><span class="n">node</span><span class="p">)</span>
<span class="w">   </span><span class="n">Target</span><span class="p">:</span><span class="w"> </span><span class="mf">2001</span><span class="p">:</span><span class="n">db8</span><span class="p">::</span><span class="mf">1</span><span class="w"> </span><span class="p">(</span><span class="n">tentative</span><span class="w"> </span><span class="n">address</span><span class="p">)</span>

<span class="mf">2.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="n">NA</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">conflict</span><span class="err">!</span>
<span class="mf">3.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unique</span>
</code></pre></div>

<h3 id="neighbor-unreachability-detection-nud">Neighbor Unreachability Detection (NUD)<a class="header-link" href="#neighbor-unreachability-detection-nud" title="Permanent link">&para;</a></h3>
<p>Verify neighbors are still reachable:</p>
<div class="highlight"><pre><span></span><code><span class="n">States</span><span class="o">:</span>
<span class="n">INCOMPLETE</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">REACHABLE</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">STALE</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">DELAY</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">PROBE</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">UNREACHABLE</span>

<span class="n">Transitions</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">REACHABLE</span><span class="o">:</span><span class="w"> </span><span class="n">confirmation</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="mi">30</span><span class="n">s</span>
<span class="o">-</span><span class="w"> </span><span class="n">STALE</span><span class="o">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">confirmation</span>
<span class="o">-</span><span class="w"> </span><span class="n">PROBE</span><span class="o">:</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">NS</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">verify</span>
</code></pre></div>

<hr />
<h2 id="7-transition-mechanisms">7. Transition Mechanisms<a class="header-link" href="#7-transition-mechanisms" title="Permanent link">&para;</a></h2>
<h3 id="dual-stack">Dual-Stack<a class="header-link" href="#dual-stack" title="Permanent link">&para;</a></h3>
<p>Run IPv4 and IPv6 simultaneously:</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Applications           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚  IPv4  â”‚        â”‚  IPv6   â”‚
â”‚  Stack â”‚        â”‚  Stack  â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚   Network   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>Configuration example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Linux interface with dual-stack</span>
ip<span class="w"> </span>addr<span class="w"> </span>show<span class="w"> </span>eth0

eth0:<span class="w"> </span>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;
<span class="w">    </span>inet<span class="w"> </span><span class="m">192</span>.0.2.1/24
<span class="w">    </span>inet6<span class="w"> </span><span class="m">2001</span>:db8::1/64
<span class="w">    </span>inet6<span class="w"> </span>fe80::1/64<span class="w"> </span>scope<span class="w"> </span>link
</code></pre></div>

<h3 id="tunneling-mechanisms">Tunneling Mechanisms<a class="header-link" href="#tunneling-mechanisms" title="Permanent link">&para;</a></h3>
<h4 id="6to4-tunnel">6to4 Tunnel<a class="header-link" href="#6to4-tunnel" title="Permanent link">&para;</a></h4>
<p>Automatic tunneling using IPv4 infrastructure:</p>
<div class="highlight"><pre><span></span><code><span class="nx">IPv6</span><span class="w"> </span><span class="nx">Packet</span>
<span class="w">    </span><span class="err">â”‚</span>
<span class="w">    </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">IPv4</span><span class="w"> </span><span class="nx">Header</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">IPv6</span><span class="w"> </span><span class="nx">Packet</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="mi">6</span><span class="nx">to4</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="nx">format</span><span class="p">:</span>
<span class="mi">2002</span><span class="p">:</span><span class="nx">WWXX</span><span class="p">:</span><span class="nx">YYZZ</span><span class="o">::/</span><span class="mi">48</span>
<span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">     </span><span class="nx">IPv4</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">hex</span>

<span class="nx">Example</span><span class="p">:</span>
<span class="nx">IPv4</span><span class="p">:</span><span class="w"> </span><span class="m m-Double">192.0.2.1</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="nx">C000</span><span class="p">:</span><span class="mi">0201</span>
<span class="mi">6</span><span class="nx">to4</span><span class="p">:</span><span class="w"> </span><span class="mi">2002</span><span class="p">:</span><span class="nx">c000</span><span class="p">:</span><span class="mi">0201</span><span class="o">::/</span><span class="mi">48</span>
</code></pre></div>

<h4 id="teredo-tunnel">Teredo Tunnel<a class="header-link" href="#teredo-tunnel" title="Permanent link">&para;</a></h4>
<p>NAT traversal for IPv6:</p>
<div class="highlight"><pre><span></span><code>Structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2001  â”‚   0     â”‚ IPv4 â”‚  Flags â”‚ Obscuredâ”‚
â”‚        â”‚         â”‚Serverâ”‚        â”‚ Client  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example:
2001:0000:4136:e378:8000:63bf:3fff:fdd2
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          Server IP       Client info
</code></pre></div>

<h4 id="isatap">ISATAP<a class="header-link" href="#isatap" title="Permanent link">&para;</a></h4>
<p>Intra-Site Automatic Tunnel Addressing Protocol:</p>
<div class="highlight"><pre><span></span><code><span class="n">Address</span><span class="w"> </span><span class="n">format</span><span class="o">:</span>
<span class="p">[</span><span class="n">prefix</span><span class="p">]</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">5</span><span class="n">efe</span><span class="o">:</span><span class="p">[</span><span class="n">IPv4</span><span class="w"> </span><span class="n">address</span><span class="p">]</span>

<span class="nl">Example</span><span class="p">:</span>
<span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="mi">5</span><span class="n">efe</span><span class="o">:</span><span class="mf">192.0.2.1</span>
<span class="w">                </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">                </span><span class="n">IPv4</span><span class="w"> </span><span class="n">address</span>
</code></pre></div>

<h3 id="translation-mechanisms">Translation Mechanisms<a class="header-link" href="#translation-mechanisms" title="Permanent link">&para;</a></h3>
<h4 id="nat64dns64">NAT64/DNS64<a class="header-link" href="#nat64dns64" title="Permanent link">&para;</a></h4>
<p>Allow IPv6-only clients to reach IPv4 servers:</p>
<div class="highlight"><pre><span></span><code>IPv6 Client                     IPv4 Server
2001:db8::1                     192.0.2.1
     â”‚                               â”‚
     â”‚ 1. DNS query (AAAA)           â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶DNS64            â”‚
     â”‚              â”‚                â”‚
     â”‚              â”‚ 2. No AAAA,    â”‚
     â”‚              â”‚    query A     â”‚
     â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚              â”‚                â”‚
     â”‚              â”‚ 3. A=192.0.2.1 â”‚
     â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚              â”‚                â”‚
     â”‚ 4. AAAA=     â”‚                â”‚
     â”‚ 64:ff9b::    â”‚                â”‚
     â”‚ c000:0201    â”‚                â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚                               â”‚
     â”‚ 5. Packet to                  â”‚
     â”‚ 64:ff9b::c000:0201            â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶NAT64â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚              Translates to    â”‚
     â”‚              192.0.2.1        â”‚
</code></pre></div>

<p><strong>Well-Known Prefix: 64:ff9b::/96</strong></p>
<hr />
<h2 id="8-ipv6-routing">8. IPv6 Routing<a class="header-link" href="#8-ipv6-routing" title="Permanent link">&para;</a></h2>
<h3 id="ospfv3">OSPFv3<a class="header-link" href="#ospfv3" title="Permanent link">&para;</a></h3>
<p>OSPF for IPv6:</p>
<div class="highlight"><pre><span></span><code><span class="nx">Differences</span><span class="w"> </span><span class="nx">from</span><span class="w"> </span><span class="nx">OSPFv2</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Runs</span><span class="w"> </span><span class="nx">directly</span><span class="w"> </span><span class="nx">over</span><span class="w"> </span><span class="nx">IPv6</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Link</span><span class="o">-</span><span class="nx">local</span><span class="w"> </span><span class="nx">addresses</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">neighbor</span><span class="w"> </span><span class="nx">discovery</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Multiple</span><span class="w"> </span><span class="nx">instances</span><span class="w"> </span><span class="nx">per</span><span class="w"> </span><span class="nx">link</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Authentication</span><span class="w"> </span><span class="nx">via</span><span class="w"> </span><span class="nx">IPsec</span><span class="w"> </span><span class="p">(</span><span class="k">not</span><span class="w"> </span><span class="nx">built</span><span class="o">-</span><span class="k">in</span><span class="p">)</span>
</code></pre></div>

<p><strong>Configuration example (Cisco):</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">ipv6</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="nx">ospf</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="nx">router</span><span class="o">-</span><span class="nx">id</span><span class="w"> </span><span class="m m-Double">1.1.1.1</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">GigabitEthernet0</span><span class="o">/</span><span class="mi">0</span>
<span class="w">  </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">ospf</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">area</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="p">:</span><span class="mi">1</span><span class="o">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">64</span>
</code></pre></div>

<h3 id="bgp-for-ipv6">BGP for IPv6<a class="header-link" href="#bgp-for-ipv6" title="Permanent link">&para;</a></h3>
<p>Multi-protocol BGP (MP-BGP):</p>
<div class="highlight"><pre><span></span><code><span class="nx">router</span><span class="w"> </span><span class="nx">bgp</span><span class="w"> </span><span class="mi">65001</span>
<span class="w">  </span><span class="nx">neighbor</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="o">::</span><span class="mi">2</span><span class="w"> </span><span class="nx">remote</span><span class="o">-</span><span class="k">as</span><span class="w"> </span><span class="mi">65002</span>

<span class="w">  </span><span class="nx">address</span><span class="o">-</span><span class="nx">family</span><span class="w"> </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">unicast</span>
<span class="w">    </span><span class="nx">neighbor</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="o">::</span><span class="mi">2</span><span class="w"> </span><span class="nx">activate</span>
<span class="w">    </span><span class="nx">network</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="p">:</span><span class="mi">1</span><span class="o">::/</span><span class="mi">48</span>
<span class="w">  </span><span class="nx">exit</span><span class="o">-</span><span class="nx">address</span><span class="o">-</span><span class="nx">family</span>
</code></pre></div>

<h3 id="route-aggregation">Route Aggregation<a class="header-link" href="#route-aggregation" title="Permanent link">&para;</a></h3>
<p>IPv6's large address space enables better aggregation:</p>
<div class="highlight"><pre><span></span><code>ISP allocation: 2001:db8::/32

Customer subnets:
2001:db8:0001::/48
2001:db8:0002::/48
2001:db8:0003::/48
...
2001:db8:ffff::/48

Advertise only: 2001:db8::/32
</code></pre></div>

<h3 id="routing-table-example">Routing Table Example<a class="header-link" href="#routing-table-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Linux routing table</span>
ip<span class="w"> </span>-6<span class="w"> </span>route<span class="w"> </span>show

<span class="m">2001</span>:db8:1::/64<span class="w"> </span>dev<span class="w"> </span>eth0<span class="w"> </span>proto<span class="w"> </span>kernel<span class="w"> </span>metric<span class="w"> </span><span class="m">256</span>
fe80::/64<span class="w"> </span>dev<span class="w"> </span>eth0<span class="w"> </span>proto<span class="w"> </span>kernel<span class="w"> </span>metric<span class="w"> </span><span class="m">256</span>
default<span class="w"> </span>via<span class="w"> </span>fe80::1<span class="w"> </span>dev<span class="w"> </span>eth0<span class="w"> </span>metric<span class="w"> </span><span class="m">1024</span>
</code></pre></div>

<hr />
<h2 id="9-ipv6-security">9. IPv6 Security<a class="header-link" href="#9-ipv6-security" title="Permanent link">&para;</a></h2>
<h3 id="built-in-ipsec">Built-in IPsec<a class="header-link" href="#built-in-ipsec" title="Permanent link">&para;</a></h3>
<p>IPv6 was designed with IPsec in mind:</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w"> </span><span class="nv">IPv6</span><span class="w"> </span><span class="nv">Hdr</span><span class="w">   </span>â”‚<span class="w"> </span><span class="nv">ESP</span><span class="w"> </span><span class="nv">Hdr</span><span class="w"> </span>â”‚<span class="w"> </span><span class="nv">TCP</span><span class="w"> </span><span class="nv">Hdr</span><span class="w"> </span>â”‚<span class="w">   </span><span class="nv">Data</span><span class="w">   </span>â”‚<span class="w"> </span><span class="nv">ESP</span><span class="w">  </span>â”‚
â”‚<span class="w">            </span>â”‚<span class="w">         </span>â”‚<span class="w">         </span>â”‚<span class="w">          </span>â”‚<span class="w"> </span><span class="nv">Auth</span><span class="w"> </span>â”‚
â”‚<span class="w"> </span><span class="k">Next</span><span class="o">=</span><span class="mi">50</span><span class="w">    </span>â”‚<span class="w"> </span><span class="k">Next</span><span class="o">=</span><span class="mi">6</span><span class="w">  </span>â”‚<span class="w">         </span>â”‚<span class="ss">(</span><span class="nv">Encrypted</span><span class="ss">)</span>â”‚<span class="w">      </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>Note:</strong> IPsec is optional in practice, but easier to deploy.</p>
<h3 id="privacy-extensions">Privacy Extensions<a class="header-link" href="#privacy-extensions" title="Permanent link">&para;</a></h3>
<p>Prevent tracking via stable IIDs:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Enable privacy extensions (Linux)</span>
sysctl<span class="w"> </span>net.ipv6.conf.all.use_tempaddr<span class="o">=</span><span class="m">2</span>

<span class="c1"># Temporary address</span>
<span class="m">2001</span>:db8::1234:5678:9abc:def0<span class="w">  </span><span class="o">(</span>changes<span class="w"> </span>daily<span class="o">)</span>

<span class="c1"># Stable address (for incoming connections)</span>
<span class="m">2001</span>:db8::21a:2bff:fe3c:4d5e<span class="w">   </span><span class="o">(</span>EUI-64<span class="o">)</span>
</code></pre></div>

<h3 id="firewall-considerations">Firewall Considerations<a class="header-link" href="#firewall-considerations" title="Permanent link">&para;</a></h3>
<p><strong>Important:</strong> Don't block all ICMPv6!</p>
<div class="highlight"><pre><span></span><code><span class="nx">Required</span><span class="w"> </span><span class="nx">ICMPv6</span><span class="w"> </span><span class="nx">types</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Type</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="nx">Destination</span><span class="w"> </span><span class="nx">Unreachable</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Type</span><span class="w"> </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="nx">Packet</span><span class="w"> </span><span class="nx">Too</span><span class="w"> </span><span class="nx">Big</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="nx">PMTUD</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Type</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="nx">Time</span><span class="w"> </span><span class="nx">Exceeded</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Type</span><span class="w"> </span><span class="mi">4</span><span class="p">:</span><span class="w"> </span><span class="nx">Parameter</span><span class="w"> </span><span class="nx">Problem</span>
<span class="o">-</span><span class="w"> </span><span class="nx">Type</span><span class="w"> </span><span class="mi">133</span><span class="o">-</span><span class="mi">137</span><span class="p">:</span><span class="w"> </span><span class="nx">NDP</span><span class="w"> </span><span class="nx">messages</span>
</code></pre></div>

<p><strong>Example iptables:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Allow essential ICMPv6</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>destination-unreachable<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>packet-too-big<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>time-exceeded<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>parameter-problem<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Allow NDP</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>router-advertisement<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>router-solicitation<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>neighbour-solicitation<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>neighbour-advertisement<span class="w"> </span>-j<span class="w"> </span>ACCEPT
</code></pre></div>

<h3 id="security-threats">Security Threats<a class="header-link" href="#security-threats" title="Permanent link">&para;</a></h3>
<p><strong>Rogue Router Advertisements:</strong>
- Attacker sends fake RAs
- Mitigation: RA Guard</p>
<p><strong>NDP Spoofing:</strong>
- Similar to ARP spoofing
- Mitigation: SEcure Neighbor Discovery (SEND)</p>
<p><strong>Address Scanning:</strong>
- Large subnet makes brute-force difficult
- But predictable IIDs (EUI-64) can be targeted
- Mitigation: Use privacy extensions</p>
<hr />
<h2 id="10-practical-configuration">10. Practical Configuration<a class="header-link" href="#10-practical-configuration" title="Permanent link">&para;</a></h2>
<h3 id="linux-configuration">Linux Configuration<a class="header-link" href="#linux-configuration" title="Permanent link">&para;</a></h3>
<p><strong>Check IPv6 connectivity:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Show IPv6 addresses</span>
ip<span class="w"> </span>-6<span class="w"> </span>addr<span class="w"> </span>show

<span class="c1"># Show IPv6 routes</span>
ip<span class="w"> </span>-6<span class="w"> </span>route<span class="w"> </span>show

<span class="c1"># Ping IPv6 address</span>
ping6<span class="w"> </span><span class="m">2001</span>:4860:4860::8888

<span class="c1"># Traceroute</span>
traceroute6<span class="w"> </span>google.com
</code></pre></div>

<p><strong>Manual address configuration:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Add IPv6 address</span>
sudo<span class="w"> </span>ip<span class="w"> </span>-6<span class="w"> </span>addr<span class="w"> </span>add<span class="w"> </span><span class="m">2001</span>:db8::1/64<span class="w"> </span>dev<span class="w"> </span>eth0

<span class="c1"># Add default route</span>
sudo<span class="w"> </span>ip<span class="w"> </span>-6<span class="w"> </span>route<span class="w"> </span>add<span class="w"> </span>default<span class="w"> </span>via<span class="w"> </span>fe80::1<span class="w"> </span>dev<span class="w"> </span>eth0

<span class="c1"># Enable IPv6 forwarding</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>net.ipv6.conf.all.forwarding<span class="o">=</span><span class="m">1</span>
</code></pre></div>

<p><strong>Static configuration (Ubuntu/Debian):</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/netplan/01-netcfg.yaml</span>
<span class="nt">network</span><span class="p">:</span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">ethernets</span><span class="p">:</span>
<span class="w">    </span><span class="nt">eth0</span><span class="p">:</span>
<span class="w">      </span><span class="nt">dhcp6</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="w">      </span><span class="nt">addresses</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001:db8::1/64</span>
<span class="w">      </span><span class="nt">gateway6</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fe80::1</span>
<span class="w">      </span><span class="nt">nameservers</span><span class="p">:</span>
<span class="w">        </span><span class="nt">addresses</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001:4860:4860::8888</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001:4860:4860::8844</span>
</code></pre></div>

<p><strong>Enable SLAAC:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Accept Router Advertisements</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>net.ipv6.conf.eth0.accept_ra<span class="o">=</span><span class="m">1</span>

<span class="c1"># Autoconf</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>net.ipv6.conf.eth0.autoconf<span class="o">=</span><span class="m">1</span>
</code></pre></div>

<h3 id="windows-configuration">Windows Configuration<a class="header-link" href="#windows-configuration" title="Permanent link">&para;</a></h3>
<p><strong>Command line:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">REM</span><span class="w"> </span><span class="nx">Show</span><span class="w"> </span><span class="nx">IPv6</span><span class="w"> </span><span class="nx">configuration</span>
<span class="nx">ipconfig</span>

<span class="nx">REM</span><span class="w"> </span><span class="nx">Show</span><span class="w"> </span><span class="nx">IPv6</span><span class="w"> </span><span class="nx">routing</span><span class="w"> </span><span class="nx">table</span>
<span class="nx">netsh</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">show</span><span class="w"> </span><span class="nx">route</span>

<span class="nx">REM</span><span class="w"> </span><span class="nx">Add</span><span class="w"> </span><span class="nx">static</span><span class="w"> </span><span class="nx">IPv6</span><span class="w"> </span><span class="nx">address</span>
<span class="nx">netsh</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="s">&quot;Ethernet&quot;</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="nx">db8</span><span class="o">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">64</span>

<span class="nx">REM</span><span class="w"> </span><span class="nx">Add</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">route</span>
<span class="nx">netsh</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">ipv6</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="nx">route</span><span class="w"> </span><span class="o">::/</span><span class="mi">0</span><span class="w"> </span><span class="s">&quot;Ethernet&quot;</span><span class="w"> </span><span class="nx">fe80</span><span class="o">::</span><span class="mi">1</span>

<span class="nx">REM</span><span class="w"> </span><span class="nx">Test</span><span class="w"> </span><span class="nx">connectivity</span>
<span class="nx">ping</span><span class="w"> </span><span class="mi">2001</span><span class="p">:</span><span class="mi">4860</span><span class="p">:</span><span class="mi">4860</span><span class="o">::</span><span class="mi">8888</span>
<span class="nx">tracert</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">com</span>
</code></pre></div>

<p><strong>PowerShell:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c"># Get IPv6 configuration</span>
<span class="nb">Get-NetIPAddress</span> <span class="n">-AddressFamily</span> <span class="n">IPv6</span>

<span class="c"># Add IPv6 address</span>
<span class="nb">New-NetIPAddress</span> <span class="n">-InterfaceAlias</span> <span class="s2">&quot;Ethernet&quot;</span> <span class="n">-IPAddress</span> <span class="s2">&quot;2001:db8::1&quot;</span> <span class="n">-PrefixLength</span> <span class="n">64</span>

<span class="c"># Add default route</span>
<span class="nb">New-NetRoute</span> <span class="n">-DestinationPrefix</span> <span class="s2">&quot;::/0&quot;</span> <span class="n">-InterfaceAlias</span> <span class="s2">&quot;Ethernet&quot;</span> <span class="n">-NextHop</span> <span class="s2">&quot;fe80::1&quot;</span>
</code></pre></div>

<h3 id="testing-connectivity">Testing Connectivity<a class="header-link" href="#testing-connectivity" title="Permanent link">&para;</a></h3>
<p><strong>Test dual-stack:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># IPv4 connectivity</span>
ping<span class="w"> </span>google.com

<span class="c1"># IPv6 connectivity</span>
ping6<span class="w"> </span>google.com

<span class="c1"># Check which protocol is used</span>
curl<span class="w"> </span>-v<span class="w"> </span>https://google.com
<span class="c1"># Look for &quot;Trying 2001:...&quot; (IPv6) or &quot;Trying 192...&quot; (IPv4)</span>

<span class="c1"># Force IPv6</span>
curl<span class="w"> </span>-6<span class="w"> </span>https://google.com

<span class="c1"># Force IPv4</span>
curl<span class="w"> </span>-4<span class="w"> </span>https://google.com
</code></pre></div>

<p><strong>Online tests:</strong>
- https://test-ipv6.com/
- https://ipv6-test.com/
- https://www.whatismyipv6.com/</p>
<h3 id="common-issues-and-troubleshooting">Common Issues and Troubleshooting<a class="header-link" href="#common-issues-and-troubleshooting" title="Permanent link">&para;</a></h3>
<p><strong>No IPv6 connectivity:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Check if IPv6 is enabled</span>
cat<span class="w"> </span>/proc/sys/net/ipv6/conf/all/disable_ipv6
<span class="c1"># Should be 0 (enabled)</span>

<span class="c1"># 2. Check for IPv6 addresses</span>
ip<span class="w"> </span>-6<span class="w"> </span>addr<span class="w"> </span>show
<span class="c1"># Should see link-local (fe80::) and possibly global</span>

<span class="c1"># 3. Check for default route</span>
ip<span class="w"> </span>-6<span class="w"> </span>route<span class="w"> </span>show
<span class="c1"># Should see default via fe80::...</span>

<span class="c1"># 4. Check Router Advertisements</span>
sudo<span class="w"> </span>rdisc6<span class="w"> </span>eth0
<span class="c1"># Should see RA from router</span>

<span class="c1"># 5. Test local connectivity</span>
ping6<span class="w"> </span>fe80::1%eth0<span class="w">  </span><span class="c1"># Ping link-local gateway</span>
</code></pre></div>

<p><strong>MTU issues:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># IPv6 minimum MTU is 1280 bytes</span>
<span class="c1"># Check current MTU</span>
ip<span class="w"> </span>link<span class="w"> </span>show<span class="w"> </span>eth0

<span class="c1"># Test PMTUD</span>
ping6<span class="w"> </span>-s<span class="w"> </span><span class="m">1500</span><span class="w"> </span><span class="m">2001</span>:4860:4860::8888
</code></pre></div>

<hr />
<h2 id="11-practice-problems">11. Practice Problems<a class="header-link" href="#11-practice-problems" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-address-shortening">Problem 1: Address Shortening<a class="header-link" href="#problem-1-address-shortening" title="Permanent link">&para;</a></h3>
<p>Shorten the following IPv6 addresses to their shortest form:</p>
<p>a) <code>2001:0db8:0000:0000:0000:0000:0000:0001</code>
b) <code>fe80:0000:0000:0000:0202:b3ff:fe1e:8329</code>
c) <code>2001:0db8:0001:0000:0000:0000:0000:0000</code>
d) <code>0000:0000:0000:0000:0000:0000:0000:0000</code></p>
<p><strong>Solutions:</strong></p>
<div class="highlight"><pre><span></span><code>a) 2001:db8::1
b) fe80::202:b3ff:fe1e:8329
c) 2001:db8:1::
d) ::
</code></pre></div>

<h3 id="problem-2-eui-64-conversion">Problem 2: EUI-64 Conversion<a class="header-link" href="#problem-2-eui-64-conversion" title="Permanent link">&para;</a></h3>
<p>Given MAC address <code>00:50:56:A1:B2:C3</code>, calculate:
- The EUI-64 interface identifier
- Complete link-local address
- Complete global address with prefix <code>2001:db8:1::/64</code></p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">MAC</span><span class="o">:</span><span class="w"> </span><span class="mi">00</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">56</span><span class="o">:</span><span class="n">A1</span><span class="o">:</span><span class="n">B2</span><span class="o">:</span><span class="n">C3</span>

<span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="n">Split</span><span class="o">:</span><span class="w"> </span><span class="mi">005056</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A1B2C3</span>
<span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="n">Insert</span><span class="w"> </span><span class="n">FFFE</span><span class="o">:</span><span class="w"> </span><span class="mi">005056</span><span class="n">FFFE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A1B2C3</span>
<span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="n">Flip</span><span class="w"> </span><span class="mi">7</span><span class="n">th</span><span class="w"> </span><span class="n">bit</span><span class="o">:</span><span class="w"> </span><span class="mi">025056</span><span class="n">FFFE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A1B2C3</span>

<span class="n">IID</span><span class="o">:</span><span class="w"> </span><span class="mi">0250</span><span class="o">:</span><span class="mi">56</span><span class="n">ff</span><span class="o">:</span><span class="n">fea1</span><span class="o">:</span><span class="n">b2c3</span>

<span class="n">Link</span><span class="o">-</span><span class="n">local</span><span class="o">:</span><span class="w"> </span><span class="n">fe80</span><span class="o">::</span><span class="mi">250</span><span class="o">:</span><span class="mi">56</span><span class="n">ff</span><span class="o">:</span><span class="n">fea1</span><span class="o">:</span><span class="n">b2c3</span>
<span class="n">Global</span><span class="o">:</span><span class="w"> </span><span class="mi">2001</span><span class="o">:</span><span class="n">db8</span><span class="o">:</span><span class="mi">1</span><span class="o">::</span><span class="mi">250</span><span class="o">:</span><span class="mi">56</span><span class="n">ff</span><span class="o">:</span><span class="n">fea1</span><span class="o">:</span><span class="n">b2c3</span>
</code></pre></div>

<h3 id="problem-3-subnetting">Problem 3: Subnetting<a class="header-link" href="#problem-3-subnetting" title="Permanent link">&para;</a></h3>
<p>You are allocated <code>2001:db8:abcd::/48</code>. Design a subnetting scheme for:
- 4 regional offices (need 256 subnets each)
- Each subnet should support /64 for end-users</p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">/</span><span class="mh">48</span><span class="w"> </span><span class="nl">prefix:</span><span class="w"> </span><span class="mh">2001</span><span class="o">:</span><span class="nl">db8:</span><span class="n">abcd</span><span class="o">::/</span><span class="mh">48</span>

<span class="n">Use</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="mh">49</span><span class="o">-</span><span class="mh">52</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">regions</span><span class="w"> </span><span class="p">(</span><span class="mh">4</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">16</span><span class="w"> </span><span class="n">regions</span><span class="p">)</span><span class="o">:</span>
<span class="n">Region</span><span class="w"> </span><span class="mh">0</span><span class="o">:</span><span class="w"> </span><span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">0000</span><span class="o">::/</span><span class="mh">52</span>
<span class="n">Region</span><span class="w"> </span><span class="mh">1</span><span class="o">:</span><span class="w"> </span><span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">1000</span><span class="o">::/</span><span class="mh">52</span>
<span class="n">Region</span><span class="w"> </span><span class="mh">2</span><span class="o">:</span><span class="w"> </span><span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">2000</span><span class="o">::/</span><span class="mh">52</span>
<span class="n">Region</span><span class="w"> </span><span class="mh">3</span><span class="o">:</span><span class="w"> </span><span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">3000</span><span class="o">::/</span><span class="mh">52</span>

<span class="n">Each</span><span class="w"> </span><span class="o">/</span><span class="mh">52</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="mh">4096</span><span class="w"> </span><span class="o">/</span><span class="mh">64</span><span class="w"> </span><span class="n">subnets</span><span class="w"> </span><span class="p">(</span><span class="mh">2</span><span class="o">^</span><span class="mh">12</span><span class="p">).</span>

<span class="n">Region</span><span class="w"> </span><span class="mh">0</span><span class="w"> </span><span class="nl">examples:</span>
<span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">0000</span><span class="o">::/</span><span class="mh">64</span>
<span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">0001</span><span class="o">::/</span><span class="mh">64</span>
<span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mh">0002</span><span class="o">::/</span><span class="mh">64</span>
<span class="p">...</span>
<span class="mh">2001</span><span class="o">:</span><span class="nl">db8:abcd:</span><span class="mf">0ff</span><span class="n">f</span><span class="o">::/</span><span class="mh">64</span>
</code></pre></div>

<h3 id="problem-4-ndp-analysis">Problem 4: NDP Analysis<a class="header-link" href="#problem-4-ndp-analysis" title="Permanent link">&para;</a></h3>
<p>Explain the sequence of NDP messages when:
1. A host boots up and gets IPv6 connectivity
2. Host A wants to send a packet to Host B on the same link</p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">Host</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">sequence</span><span class="p">:</span>
<span class="w">   </span><span class="n">a</span><span class="mf">.</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">link</span><span class="o">-</span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="n">fe80</span><span class="p">::</span><span class="n">IID</span><span class="p">)</span>
<span class="w">   </span><span class="n">b</span><span class="mf">.</span><span class="w"> </span><span class="n">DAD</span><span class="p">:</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">NS</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">address</span>
<span class="w">   </span><span class="n">c</span><span class="mf">.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">NA</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="nb">val</span><span class="n">id</span>
<span class="w">   </span><span class="n">d</span><span class="mf">.</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">RS</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">ff02</span><span class="p">::</span><span class="mf">2</span>
<span class="w">   </span><span class="n">e</span><span class="mf">.</span><span class="w"> </span><span class="n">Receive</span><span class="w"> </span><span class="n">RA</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">prefix</span><span class="p">,</span><span class="w"> </span><span class="n">M</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="n">flags</span>
<span class="w">   </span><span class="n">f</span><span class="mf">.</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">IID</span><span class="p">)</span>
<span class="w">   </span><span class="n">g</span><span class="mf">.</span><span class="w"> </span><span class="n">DAD</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">address</span>
<span class="w">   </span><span class="n">h</span><span class="mf">.</span><span class="w"> </span><span class="n">Optional</span><span class="p">:</span><span class="w"> </span><span class="n">DHCPv6</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">M</span><span class="o">=</span><span class="mf">1</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">O</span><span class="o">=</span><span class="mf">1</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">Host</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Host</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">communication</span><span class="p">:</span>
<span class="w">   </span><span class="n">a</span><span class="mf">.</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="n">neighbor</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">B</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">MAC</span>
<span class="w">   </span><span class="n">b</span><span class="mf">.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="p">,</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">NS</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">B</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">solicited</span><span class="o">-</span><span class="n">node</span><span class="w"> </span><span class="n">multicast</span>
<span class="w">   </span><span class="n">c</span><span class="mf">.</span><span class="w"> </span><span class="n">Receive</span><span class="w"> </span><span class="n">NA</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">MAC</span><span class="w"> </span><span class="n">address</span>
<span class="w">   </span><span class="n">d</span><span class="mf">.</span><span class="w"> </span><span class="n">Cache</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="p">(</span><span class="n">REACHABLE</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="w">   </span><span class="n">e</span><span class="mf">.</span><span class="w"> </span><span class="n">Send</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">B</span>
</code></pre></div>

<h3 id="problem-5-transition-mechanism-selection">Problem 5: Transition Mechanism Selection<a class="header-link" href="#problem-5-transition-mechanism-selection" title="Permanent link">&para;</a></h3>
<p>For each scenario, recommend the best IPv6 transition mechanism:</p>
<p>a) Enterprise with dual-stack routers, need to connect IPv6 islands over IPv4 backbone
b) Home user behind NAT with IPv6-only services
c) ISP wants to serve IPv6-only customers accessing IPv4 content
d) Small office with ISP providing IPv4 only, wants IPv6</p>
<p><strong>Solutions:</strong></p>
<div class="highlight"><pre><span></span><code>a) 6to4 or manual tunnels (GRE/IPsec)
   - Controlled environment, static config acceptable

b) Teredo
   - NAT traversal required
   - Automatic, no config needed

c) NAT64/DNS64
   - Translates IPv6 requests to IPv4
   - ISP-level deployment

d) 6to4 or Tunnel Broker (Hurricane Electric)
   - Automatic or semi-automatic
   - Works over any IPv4 connection
</code></pre></div>

<h3 id="problem-6-security-configuration">Problem 6: Security Configuration<a class="header-link" href="#problem-6-security-configuration" title="Permanent link">&para;</a></h3>
<p>Write ip6tables rules to:
- Allow established connections
- Allow essential ICMPv6
- Allow SSH from specific prefix
- Drop all other incoming traffic</p>
<p><strong>Solution:</strong></p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># Flush existing rules</span>
ip6tables<span class="w"> </span>-F

<span class="c1"># Default policy</span>
ip6tables<span class="w"> </span>-P<span class="w"> </span>INPUT<span class="w"> </span>DROP
ip6tables<span class="w"> </span>-P<span class="w"> </span>FORWARD<span class="w"> </span>DROP
ip6tables<span class="w"> </span>-P<span class="w"> </span>OUTPUT<span class="w"> </span>ACCEPT

<span class="c1"># Allow loopback</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-i<span class="w"> </span>lo<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Allow established/related</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>ESTABLISHED,RELATED<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Allow essential ICMPv6</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>destination-unreachable<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>packet-too-big<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>time-exceeded<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>parameter-problem<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Allow NDP</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>router-advertisement<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>router-solicitation<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>neighbour-solicitation<span class="w"> </span>-j<span class="w"> </span>ACCEPT
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmpv6<span class="w"> </span>--icmpv6-type<span class="w"> </span>neighbour-advertisement<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Allow SSH from 2001:db8::/32</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">22</span><span class="w"> </span>-s<span class="w"> </span><span class="m">2001</span>:db8::/32<span class="w"> </span>-j<span class="w"> </span>ACCEPT

<span class="c1"># Log dropped packets (optional)</span>
ip6tables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-j<span class="w"> </span>LOG<span class="w"> </span>--log-prefix<span class="w"> </span><span class="s2">&quot;IPv6-DROP: &quot;</span>

<span class="c1"># Drop everything else (already default policy)</span>
</code></pre></div>

<hr />
<h2 id="summary">Summary<a class="header-link" href="#summary" title="Permanent link">&para;</a></h2>
<p>IPv6 is the future of Internet addressing:</p>
<p><strong>Key takeaways:</strong>
1. <strong>128-bit addresses</strong> provide virtually unlimited address space
2. <strong>Simplified header</strong> improves routing efficiency
3. <strong>Autoconfiguration (SLAAC)</strong> reduces configuration overhead
4. <strong>NDP</strong> replaces ARP with improved functionality
5. <strong>Transition mechanisms</strong> enable gradual migration
6. <strong>Built-in security</strong> with IPsec support
7. <strong>No NAT required</strong> restores end-to-end connectivity</p>
<p><strong>Migration strategy:</strong>
- Start with dual-stack
- Ensure all services are IPv6-capable
- Use transition mechanisms as needed
- Monitor IPv6 traffic growth
- Eventually phase out IPv4</p>
<p>IPv6 adoption is growing, and understanding it is essential for modern network engineering.</p>
<hr />
<p><strong>Difficulty:</strong> â­â­â­</p>
<p><strong>Further Reading:</strong>
- RFC 8200: IPv6 Specification
- RFC 4862: IPv6 Stateless Address Autoconfiguration
- RFC 4861: Neighbor Discovery for IPv6
- RFC 7084: Basic Requirements for IPv6 Customer Edge Routers</p>
<hr />
<p><a href="./17_Practical_Network_Tools.md">Previous: 17_Practical_Network_Tools</a> | <a href="./19_Container_Networking.md">Next: 19_Container_Networking</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Networking/17_Practical_Network_Tools.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Practical Network Tools</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Networking/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Networking/19_Container_Networking.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Container Networking</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}