{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Process Concepts - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/OS_Theory/">OS Theory</a>
    <span class="separator">/</span>
    <span class="current">Process Concepts</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Process Concepts</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/OS_Theory/01_OS_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Operating System Overview</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/OS_Theory/03_Threads_and_Multithreading.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Threads and Multithreading</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#1-what-is-a-process">1. What is a Process?</a><ul>
<li><a href="#program-vs-process">Program vs Process</a></li>
<li><a href="#components-of-a-process">Components of a Process</a></li>
</ul>
</li>
<li><a href="#2-process-memory-structure">2. Process Memory Structure</a><ul>
<li><a href="#memory-layout">Memory Layout</a></li>
<li><a href="#section-details">Section Details</a></li>
<li><a href="#memory-region-characteristics">Memory Region Characteristics</a></li>
<li><a href="#stack-frame">Stack Frame</a></li>
</ul>
</li>
<li><a href="#3-process-control-block-pcb">3. Process Control Block (PCB)</a><ul>
<li><a href="#what-is-pcb">What is PCB?</a></li>
<li><a href="#linux-task_struct-simplified">Linux task_struct (Simplified)</a></li>
<li><a href="#process-table">Process Table</a></li>
</ul>
</li>
<li><a href="#4-process-state-transitions">4. Process State Transitions</a><ul>
<li><a href="#5-state-model">5-State Model</a></li>
<li><a href="#state-descriptions">State Descriptions</a></li>
<li><a href="#state-transition-conditions">State Transition Conditions</a></li>
<li><a href="#7-state-model-including-swapping">7-State Model (Including Swapping)</a></li>
</ul>
</li>
<li><a href="#5-context-switch">5. Context Switch</a><ul>
<li><a href="#what-is-a-context-switch">What is a Context Switch?</a></li>
<li><a href="#information-savedrestored-in-context-switch">Information Saved/Restored in Context Switch</a></li>
<li><a href="#context-switch-cost">Context Switch Cost</a></li>
</ul>
</li>
<li><a href="#6-process-creation-and-termination">6. Process Creation and Termination</a><ul>
<li><a href="#process-creation-with-fork">Process Creation with fork()</a></li>
<li><a href="#how-fork-works">How fork() Works</a></li>
<li><a href="#program-execution-with-exec">Program Execution with exec()</a></li>
<li><a href="#how-exec-works">How exec() Works</a></li>
<li><a href="#process-termination">Process Termination</a></li>
<li><a href="#zombie-and-orphan-processes">Zombie and Orphan Processes</a></li>
</ul>
</li>
<li><a href="#7-practice-problems">7. Practice Problems</a><ul>
<li><a href="#problem-1-memory-region-identification">Problem 1: Memory Region Identification</a></li>
<li><a href="#problem-2-process-state-transitions">Problem 2: Process State Transitions</a></li>
<li><a href="#problem-3-fork-output-prediction">Problem 3: fork() Output Prediction</a></li>
<li><a href="#problem-4-pcb-information">Problem 4: PCB Information</a></li>
<li><a href="#problem-5-context-switch-cost">Problem 5: Context Switch Cost</a></li>
</ul>
</li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="process-concepts">Process Concepts<a class="header-link" href="#process-concepts" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="header-link" href="#overview" title="Permanent link">&para;</a></h2>
<p>A process is a program in execution. This lesson covers process memory structure, Process Control Block (PCB), process state transitions, and context switching.</p>
<hr />
<h2 id="table-of-contents">Table of Contents<a class="header-link" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-what-is-a-process">What is a Process?</a></li>
<li><a href="#2-process-memory-structure">Process Memory Structure</a></li>
<li><a href="#3-process-control-block-pcb">Process Control Block (PCB)</a></li>
<li><a href="#4-process-state-transitions">Process State Transitions</a></li>
<li><a href="#5-context-switch">Context Switch</a></li>
<li><a href="#6-process-creation-and-termination">Process Creation and Termination</a></li>
<li><a href="#7-practice-problems">Practice Problems</a></li>
</ol>
<hr />
<h2 id="1-what-is-a-process">1. What is a Process?<a class="header-link" href="#1-what-is-a-process" title="Permanent link">&para;</a></h2>
<h3 id="program-vs-process">Program vs Process<a class="header-link" href="#program-vs-process" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                  </span><span class="n">Program</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="n">Process</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">      </span><span class="n">Program</span><span class="w">       </span><span class="err">â”‚</span><span class="w">              </span><span class="n">Process</span><span class="w">               </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Static</span><span class="w"> </span><span class="n">entity</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Dynamic</span><span class="w"> </span><span class="n">entity</span><span class="w">                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Stored</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">disk</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Loaded</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">memory</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Executable</span><span class="w"> </span><span class="n">file</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Executing</span><span class="w"> </span><span class="n">file</span><span class="w">                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Passive</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Active</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Doesn</span><span class="s1">&#39;t change     â”‚ State constantly changes          â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="n">Program</span><span class="w"> </span><span class="err">â”€â”€</span><span class="p">(</span><span class="nb">load</span><span class="p">)</span><span class="err">â”€â”€â–¶</span><span class="w"> </span><span class="n">Process</span>
<span class="w">          </span><span class="n">Load</span><span class="w"> </span><span class="n">into</span>
<span class="w">          </span><span class="n">memory</span>
</code></pre></div>

<h3 id="components-of-a-process">Components of a Process<a class="header-link" href="#components-of-a-process" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">Proc</span><span class="nv">ess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Code</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">Data</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">Stack</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">Heap</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">PCB</span>

<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">              </span><span class="k">Proc</span><span class="nv">ess</span><span class="w">                 </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nf">Text</span><span class="w"> </span><span class="p">(</span><span class="nv">Code</span><span class="p">)</span><span class="w"> </span><span class="nv">Section</span><span class="w">         </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Instructions</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">execute</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nf">Data</span><span class="w"> </span><span class="nv">Section</span><span class="w">                </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Global</span><span class="o">/</span><span class="nv">static</span><span class="w"> </span><span class="nv">variables</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nf">Heap</span><span class="w">                        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Dynamic</span><span class="w"> </span><span class="nv">allocation</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nf">Stack</span><span class="w">                       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Local</span><span class="w"> </span><span class="nv">vars</span><span class="p">,</span><span class="w"> </span><span class="nv">function</span><span class="w"> </span><span class="nv">calls</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nf">PCB</span><span class="w"> </span><span class="p">(</span><span class="nv">stored</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">kernel</span><span class="p">)</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nv">Process</span><span class="w"> </span><span class="nv">metadata</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="2-process-memory-structure">2. Process Memory Structure<a class="header-link" href="#2-process-memory-structure" title="Permanent link">&para;</a></h2>
<h3 id="memory-layout">Memory Layout<a class="header-link" href="#memory-layout" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">High</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mh">0xFFFFFFFF</span><span class="p">)</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">             </span><span class="n">Kernel</span><span class="w"> </span><span class="n">Space</span><span class="w">             </span><span class="err">â”‚</span><span class="w">  </span><span class="n">OS</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="p">(</span><span class="n">no</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">access</span><span class="p">)</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="mh">0xC0000000</span><span class="w"> </span><span class="p">(</span><span class="n">Linux</span><span class="w"> </span><span class="mi">32</span><span class="o">-</span><span class="n">bit</span><span class="p">)</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="n">Stack</span><span class="w">                   </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Local</span><span class="w"> </span><span class="n">variables</span><span class="p">,</span><span class="w"> </span><span class="n">parameters</span>
<span class="err">â”‚</span><span class="w">              </span><span class="err">â†“</span><span class="w"> </span><span class="n">Grows</span><span class="w"> </span><span class="n">downward</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Return</span><span class="w"> </span><span class="n">addresses</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”œ</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”€</span><span class="w"> </span><span class="err">â”¤</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="err">â†‘</span><span class="w"> </span><span class="n">Grows</span><span class="w"> </span><span class="n">upward</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">              </span><span class="n">Heap</span><span class="w">                    </span><span class="err">â”‚</span><span class="w">  </span><span class="n">malloc</span><span class="p">,</span><span class="w"> </span><span class="n">new</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">              </span><span class="n">BSS</span><span class="w">                     </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Uninitialized</span><span class="w"> </span><span class="n">global</span><span class="o">/</span><span class="k">static</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">              </span><span class="n">Data</span><span class="w">                    </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Initialized</span><span class="w"> </span><span class="n">global</span><span class="o">/</span><span class="k">static</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">              </span><span class="n">Text</span><span class="w"> </span><span class="p">(</span><span class="n">Code</span><span class="p">)</span><span class="w">             </span><span class="err">â”‚</span><span class="w">  </span><span class="n">Program</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p">(</span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="p">)</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="n">Low</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="mh">0x00000000</span><span class="p">)</span>
</code></pre></div>

<h3 id="section-details">Section Details<a class="header-link" href="#section-details" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>

<span class="c1">// BSS section: uninitialized global</span>
<span class="kt">int</span><span class="w"> </span><span class="n">uninit_global</span><span class="p">;</span>

<span class="c1">// Data section: initialized global</span>
<span class="kt">int</span><span class="w"> </span><span class="n">init_global</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>

<span class="c1">// Data section: static variable</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">static_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">example_function</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="c1">// param: stack</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">local_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">               </span><span class="c1">// stack</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">func_static</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">       </span><span class="c1">// Data section</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">heap_ptr</span><span class="p">;</span>

<span class="w">    </span><span class="n">heap_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w">   </span><span class="c1">// Allocate on heap</span>
<span class="w">    </span><span class="o">*</span><span class="n">heap_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;local: %d, heap: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">local_var</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">heap_ptr</span><span class="p">);</span>

<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">heap_ptr</span><span class="p">);</span><span class="w">                   </span><span class="c1">// Free heap memory</span>
<span class="p">}</span>

<span class="c1">// Text section: this code itself</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">example_function</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="memory-region-characteristics">Memory Region Characteristics<a class="header-link" href="#memory-region-characteristics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Section</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Read</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Write</span><span class="w">    </span><span class="err">â”‚</span><span class="w">         </span><span class="n">Purpose</span><span class="w">         </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Text</span><span class="w">     </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">X</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Program</span><span class="w"> </span><span class="n">code</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Data</span><span class="w">     </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Initialized</span><span class="w"> </span><span class="n">global</span><span class="o">/</span><span class="k">static</span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">BSS</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Uninitialized</span><span class="w"> </span><span class="n">global</span><span class="o">/</span><span class="k">static</span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Heap</span><span class="w">     </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Dynamic</span><span class="w"> </span><span class="n">allocation</span><span class="w">      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Stack</span><span class="w">    </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w">   </span><span class="n">O</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Local</span><span class="w"> </span><span class="n">vars</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">calls</span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="stack-frame">Stack Frame<a class="header-link" href="#stack-frame" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Function</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">structure</span><span class="p">:</span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="n">High</span><span class="w"> </span><span class="n">address</span>
<span class="err">â”‚</span><span class="w">        </span><span class="o">...</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">    </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">frame</span><span class="w">       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">local</span><span class="w"> </span><span class="n">variable</span><span class="p">)</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Previous</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="n">pointer</span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Return</span><span class="w"> </span><span class="n">address</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">    </span><span class="n">add</span><span class="p">()</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">frame</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="n">local</span><span class="w"> </span><span class="k">var</span><span class="p">)</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Previous</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="n">pointer</span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Return</span><span class="w"> </span><span class="n">address</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="n">Stack</span><span class="w"> </span><span class="n">Pointer</span><span class="w"> </span><span class="p">(</span><span class="n">SP</span><span class="p">)</span>
<span class="err">â”‚</span><span class="w">        </span><span class="o">...</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="n">Low</span><span class="w"> </span><span class="n">address</span>
</code></pre></div>

<hr />
<h2 id="3-process-control-block-pcb">3. Process Control Block (PCB)<a class="header-link" href="#3-process-control-block-pcb" title="Permanent link">&para;</a></h2>
<h3 id="what-is-pcb">What is PCB?<a class="header-link" href="#what-is-pcb" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">PCB</span><span class="w"> </span><span class="p">(</span><span class="nx">Process</span><span class="w"> </span><span class="nx">Control</span><span class="w"> </span><span class="nx">Block</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Data</span><span class="w"> </span><span class="nx">structure</span><span class="w"> </span><span class="nx">containing</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">info</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">manage</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">process</span>
<span class="w">                            </span><span class="p">=</span><span class="w"> </span><span class="nx">Maintained</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="nx">kernel</span>
<span class="w">                            </span><span class="p">=</span><span class="w"> </span><span class="nx">Stored</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">process</span><span class="w"> </span><span class="nx">table</span>

<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="nx">PCB</span><span class="w"> </span><span class="nx">Structure</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Process</span><span class="w"> </span><span class="nx">Identifier</span><span class="w"> </span><span class="p">(</span><span class="nx">PID</span><span class="p">)</span><span class="w">                         </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Process</span><span class="w"> </span><span class="nx">State</span><span class="w"> </span><span class="p">(</span><span class="nx">Ready</span><span class="p">,</span><span class="w"> </span><span class="nx">Running</span><span class="p">,</span><span class="w"> </span><span class="nx">Waiting</span><span class="o">...</span><span class="p">)</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Program</span><span class="w"> </span><span class="nx">Counter</span><span class="w"> </span><span class="p">(</span><span class="nx">PC</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">next</span><span class="w"> </span><span class="nx">instruction</span><span class="w"> </span><span class="nx">address</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">CPU</span><span class="w"> </span><span class="nx">Registers</span><span class="w"> </span><span class="p">(</span><span class="nx">general</span><span class="w"> </span><span class="nx">purpose</span><span class="p">,</span><span class="w"> </span><span class="nx">SP</span><span class="p">,</span><span class="w"> </span><span class="nx">flags</span><span class="o">...</span><span class="p">)</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">CPU</span><span class="w"> </span><span class="nx">Scheduling</span><span class="w"> </span><span class="nx">Info</span><span class="w"> </span><span class="p">(</span><span class="nx">priority</span><span class="p">,</span><span class="w"> </span><span class="nx">scheduling</span><span class="w"> </span><span class="nx">queue</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Memory</span><span class="w"> </span><span class="nx">Management</span><span class="w"> </span><span class="nx">Info</span><span class="w"> </span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="nx">table</span><span class="p">,</span><span class="w"> </span><span class="nx">segment</span><span class="w"> </span><span class="nx">table</span><span class="p">)</span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Accounting</span><span class="w"> </span><span class="nx">Info</span><span class="w"> </span><span class="p">(</span><span class="nx">CPU</span><span class="w"> </span><span class="nx">time</span><span class="w"> </span><span class="nx">used</span><span class="p">,</span><span class="w"> </span><span class="nx">start</span><span class="w"> </span><span class="nx">time</span><span class="o">...</span><span class="p">)</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">I</span><span class="o">/</span><span class="nx">O</span><span class="w"> </span><span class="nx">Status</span><span class="w"> </span><span class="nx">Info</span><span class="w"> </span><span class="p">(</span><span class="nx">open</span><span class="w"> </span><span class="nx">files</span><span class="p">,</span><span class="w"> </span><span class="nx">I</span><span class="o">/</span><span class="nx">O</span><span class="w"> </span><span class="nx">devices</span><span class="o">...</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                       </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="linux-task_struct-simplified">Linux task_struct (Simplified)<a class="header-link" href="#linux-task_struct-simplified" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Linux kernel process structure (simplified)</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">task_struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Process identification</span>
<span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="p">;</span><span class="w">                    </span><span class="c1">// Process ID</span>
<span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">tgid</span><span class="p">;</span><span class="w">                   </span><span class="c1">// Thread group ID</span>

<span class="w">    </span><span class="c1">// Process state</span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">state</span><span class="p">;</span><span class="w">          </span><span class="c1">// TASK_RUNNING, TASK_INTERRUPTIBLE...</span>

<span class="w">    </span><span class="c1">// Scheduling info</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">prio</span><span class="p">;</span><span class="w">                     </span><span class="c1">// Dynamic priority</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">static_prio</span><span class="p">;</span><span class="w">              </span><span class="c1">// Static priority</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">sched_entity</span><span class="w"> </span><span class="n">se</span><span class="p">;</span><span class="w">       </span><span class="c1">// Scheduling entity</span>

<span class="w">    </span><span class="c1">// CPU context</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">thread_struct</span><span class="w"> </span><span class="kr">thread</span><span class="p">;</span><span class="w">  </span><span class="c1">// CPU register state</span>

<span class="w">    </span><span class="c1">// Memory management</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">mm_struct</span><span class="w"> </span><span class="o">*</span><span class="n">mm</span><span class="p">;</span><span class="w">         </span><span class="c1">// Memory descriptor</span>

<span class="w">    </span><span class="c1">// File system</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">files_struct</span><span class="w"> </span><span class="o">*</span><span class="n">files</span><span class="p">;</span><span class="w">   </span><span class="c1">// Open file table</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">fs_struct</span><span class="w"> </span><span class="o">*</span><span class="n">fs</span><span class="p">;</span><span class="w">         </span><span class="c1">// File system info</span>

<span class="w">    </span><span class="c1">// Process relationships</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">task_struct</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="p">;</span><span class="w">   </span><span class="c1">// Parent process</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="w"> </span><span class="n">children</span><span class="p">;</span><span class="w">    </span><span class="c1">// Children processes list</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="w"> </span><span class="n">sibling</span><span class="p">;</span><span class="w">     </span><span class="c1">// Sibling processes list</span>

<span class="w">    </span><span class="c1">// Signals</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">signal_struct</span><span class="w"> </span><span class="o">*</span><span class="n">signal</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Timing info</span>
<span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">utime</span><span class="p">,</span><span class="w"> </span><span class="n">stime</span><span class="p">;</span><span class="w">            </span><span class="c1">// User/system CPU time</span>
<span class="w">    </span><span class="n">u64</span><span class="w"> </span><span class="n">start_time</span><span class="p">;</span><span class="w">              </span><span class="c1">// Start time</span>
<span class="p">};</span>
</code></pre></div>

<h3 id="process-table">Process Table<a class="header-link" href="#process-table" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Process Table                          â”‚
â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PID â”‚                    PCB                            â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1  â”‚ init: state=Running, priority=20, mem=4MB...     â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2  â”‚ kthreadd: state=Sleeping, priority=10...         â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 100 â”‚ bash: state=Ready, priority=20, mem=8MB...       â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 101 â”‚ vim: state=Waiting, priority=20, mem=12MB...     â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ... â”‚ ...                                              â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="4-process-state-transitions">4. Process State Transitions<a class="header-link" href="#4-process-state-transitions" title="Permanent link">&para;</a></h2>
<h3 id="5-state-model">5-State Model<a class="header-link" href="#5-state-model" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">                        </span><span class="nv">New</span>
<span class="w">                            </span>â”‚
<span class="w">                            </span>â”‚<span class="w"> </span><span class="nv">Admitted</span>
<span class="w">                            </span>â–¼
<span class="w">         </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span><span class="nv">Dispatch</span><span class="w"> </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
<span class="w">         </span>â”‚<span class="w">              </span>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚<span class="w">              </span>â”‚
<span class="w">         </span>â”‚<span class="w">   </span><span class="nv">Ready</span><span class="w">      </span>â”‚<span class="w">          </span>â”‚<span class="w">   </span><span class="nv">Running</span><span class="w">    </span>â”‚â”€â”€â”€â”€â”€â”€â”<span class="w"> </span><span class="k">Exit</span>
<span class="w">         </span>â”‚<span class="w">              </span>â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<span class="w">              </span>â”‚<span class="w">      </span>â”‚
<span class="w">         </span>â”‚<span class="w">              </span>â”‚<span class="w"> </span><span class="nv">Interrupt</span><span class="w"> </span>â”‚<span class="w">              </span>â”‚<span class="w">      </span>â”‚
<span class="w">         </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="ss">(</span><span class="nb">Timeout</span><span class="ss">)</span><span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">      </span>â”‚
<span class="w">                </span>â–²<span class="w">                         </span>â”‚<span class="w">              </span>â–¼
<span class="w">                </span>â”‚<span class="w">                         </span>â”‚<span class="w">         </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
<span class="w">                </span>â”‚<span class="w">    </span><span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">or</span><span class="w">               </span>â”‚<span class="w">         </span>â”‚<span class="nv">Terminated</span>â”‚
<span class="w">                </span>â”‚<span class="w">   </span><span class="nv">Event</span><span class="w"> </span><span class="nv">Complete</span><span class="w">        </span>â”‚<span class="w">         </span>â”‚<span class="w">          </span>â”‚
<span class="w">                </span>â”‚<span class="w">                         </span>â”‚<span class="w">         </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="w">                </span>â”‚<span class="w">                         </span>â”‚<span class="w"> </span><span class="nv">I</span><span class="o">/</span><span class="nv">O</span><span class="w"> </span><span class="nv">or</span>
<span class="w">                </span>â”‚<span class="w">                         </span>â”‚<span class="w"> </span><span class="nv">Event</span><span class="w"> </span><span class="k">Wait</span>
<span class="w">                </span>â”‚<span class="w">                         </span>â–¼
<span class="w">                </span>â”‚<span class="w">              </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
<span class="w">                </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<span class="w">   </span><span class="nv">Waiting</span><span class="w">    </span>â”‚
<span class="w">                               </span>â”‚<span class="w">              </span>â”‚
<span class="w">                               </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="state-descriptions">State Descriptions<a class="header-link" href="#state-descriptions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">      </span><span class="n">State</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                </span><span class="n">Description</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">New</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">created</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Ready</span><span class="w">          </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">assignment</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Ready</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">execute</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Running</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Executing</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">CPU</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="p">(</span><span class="n">single</span><span class="w"> </span><span class="n">CPU</span><span class="p">)</span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Waiting</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">I</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">event</span><span class="w"> </span><span class="n">completion</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Transitions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Ready</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">I</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="n">completes</span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Terminated</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Execution</span><span class="w"> </span><span class="n">completed</span><span class="p">,</span><span class="w"> </span><span class="n">releasing</span><span class="w"> </span><span class="n">resources</span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                </span><span class="err">â”‚</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="state-transition-conditions">State Transition Conditions<a class="header-link" href="#state-transition-conditions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="n">Transition</span><span class="w">     </span><span class="err">â”‚</span><span class="w">                </span><span class="n">Condition</span><span class="w">                </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">New</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Ready</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="n">admits</span><span class="w"> </span><span class="n">process</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Ready</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">assigns</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="p">(</span><span class="n">dispatch</span><span class="p">)</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Ready</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Time</span><span class="w"> </span><span class="n">slice</span><span class="w"> </span><span class="n">expired</span><span class="w"> </span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                 </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Higher</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">arrives</span><span class="w"> </span><span class="p">(</span><span class="n">preempt</span><span class="p">)</span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Wait</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">I</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="k">event</span><span class="w"> </span><span class="k">wait</span><span class="w">                 </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Wait</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Ready</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="n">I</span><span class="o">/</span><span class="n">O</span><span class="w"> </span><span class="n">complete</span><span class="p">,</span><span class="w"> </span><span class="k">event</span><span class="w"> </span><span class="n">occurs</span><span class="w">              </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Term</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">exit</span><span class="p">()</span><span class="w"> </span><span class="n">call</span><span class="p">,</span><span class="w"> </span><span class="n">normal</span><span class="o">/</span><span class="n">abnormal</span><span class="w"> </span><span class="n">termination</span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="7-state-model-including-swapping">7-State Model (Including Swapping)<a class="header-link" href="#7-state-model-including-swapping" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                                  â”‚
                           â”‚                 Swap out          â”‚
                           â–¼                   â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”‚
â”‚  New    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Ready  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Ready   â”‚        â”‚
â”‚         â”‚           â”‚         â”‚  Swap in  â”‚ Suspend â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                           â”‚                                  â”‚
                      Dispatch                                â”‚
                           â”‚                                  â”‚
                           â–¼                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  Term   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Running â”‚                             â”‚
â”‚         â”‚           â”‚         â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
                           â”‚                                  â”‚
                      I/O Request                             â”‚
                           â”‚                                  â”‚
                           â–¼                   Swap out       â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                      â”‚ Waiting â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Waiting â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚         â”‚  Swap in  â”‚ Suspend â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Suspend state: Process swapped out from memory to disk
</code></pre></div>

<hr />
<h2 id="5-context-switch">5. Context Switch<a class="header-link" href="#5-context-switch" title="Permanent link">&para;</a></h2>
<h3 id="what-is-a-context-switch">What is a Context Switch?<a class="header-link" href="#what-is-a-context-switch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Context Switch = Process of switching CPU to another process
               = Save current process state, restore new process state

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Context Switch Process                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Process P0              Operating System              Process P1
    â”‚                      â”‚                      â”‚
    â”‚  Executing            â”‚                      â”‚  Waiting
    â”‚                      â”‚                      â”‚
    â”‚â”€â”€Interrupt/Syscallâ”€â”€â–¶â”‚                      â”‚
    â”‚                      â”‚                      â”‚
    â”‚                  Save state to PCB0         â”‚
    â”‚                      â”‚                      â”‚
    â”‚                  Restore state from PCB1    â”‚
    â”‚                      â”‚                      â”‚
    â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚  Waiting             â”‚                      â”‚  Executing
    â”‚                      â”‚                      â”‚
    â”‚                      â”‚â—€â”€â”€Interrupt/Syscallâ”€â”€â”‚
    â”‚                      â”‚                      â”‚
    â”‚                  Save state to PCB1         â”‚
    â”‚                      â”‚                      â”‚
    â”‚                  Restore state from PCB0    â”‚
    â”‚                      â”‚                      â”‚
    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚
    â”‚  Executing           â”‚                      â”‚  Waiting
</code></pre></div>

<h3 id="information-savedrestored-in-context-switch">Information Saved/Restored in Context Switch<a class="header-link" href="#information-savedrestored-in-context-switch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Context                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  CPU Registers:                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Program Counter (PC)                            â”‚  â”‚
â”‚  â”‚ â€¢ Stack Pointer (SP)                             â”‚  â”‚
â”‚  â”‚ â€¢ Base Pointer (BP)                              â”‚  â”‚
â”‚  â”‚ â€¢ General Purpose Registers (RAX, RBX, RCX, RDX...)â”‚  â”‚
â”‚  â”‚ â€¢ Status Register (FLAGS)                        â”‚  â”‚
â”‚  â”‚ â€¢ Floating Point Registers                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  Memory Management Info:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Page Table Base Register                       â”‚  â”‚
â”‚  â”‚ â€¢ Segment Registers                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="context-switch-cost">Context Switch Cost<a class="header-link" href="#context-switch-cost" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">               </span><span class="nv">Context</span><span class="w"> </span><span class="nv">Switch</span><span class="w"> </span><span class="nv">Cost</span><span class="w">                       </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                        </span>â”‚
â”‚<span class="w">  </span><span class="nv">Direct</span><span class="w"> </span><span class="nv">cost</span>:<span class="w">                                          </span>â”‚
â”‚<span class="w">  </span>â€¢<span class="w"> </span><span class="nv">Register</span><span class="w"> </span><span class="nv">save</span><span class="o">/</span><span class="nv">restore</span>:<span class="w"> </span><span class="o">~</span><span class="nv">hundreds</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">nanoseconds</span><span class="w">     </span>â”‚
â”‚<span class="w">  </span>â€¢<span class="w"> </span><span class="nv">Kernel</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="nv">transition</span>:<span class="w"> </span><span class="o">~</span><span class="nv">hundreds</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">nanoseconds</span><span class="w">    </span>â”‚
â”‚<span class="w">                                                        </span>â”‚
â”‚<span class="w">  </span><span class="nv">Indirect</span><span class="w"> </span><span class="nv">cost</span><span class="w"> </span><span class="ss">(</span><span class="nv">larger</span><span class="ss">)</span>:<span class="w">                               </span>â”‚
â”‚<span class="w">  </span>â€¢<span class="w"> </span><span class="nv">TLB</span><span class="w"> </span><span class="nv">flush</span>:<span class="w"> </span><span class="nv">hundreds</span><span class="o">~</span><span class="nv">thousands</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">cycles</span><span class="w">             </span>â”‚
â”‚<span class="w">  </span>â€¢<span class="w"> </span><span class="nv">Cache</span><span class="w"> </span><span class="nv">miss</span><span class="w"> </span><span class="nv">increase</span><span class="w"> </span><span class="ss">(</span><span class="nv">cache</span><span class="w"> </span><span class="nv">pollution</span><span class="ss">)</span><span class="w">               </span>â”‚
â”‚<span class="w">  </span>â€¢<span class="w"> </span><span class="nv">Pipeline</span><span class="w"> </span><span class="nv">flush</span><span class="w">                                      </span>â”‚
â”‚<span class="w">                                                        </span>â”‚
â”‚<span class="w">  </span><span class="nv">Typical</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="nv">cost</span>:<span class="w"> </span><span class="mi">1</span><span class="o">~</span><span class="mi">10</span><span class="w"> </span><span class="nv">microseconds</span><span class="w">                 </span>â”‚
â”‚<span class="w">                                                        </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<span class="nv">Timeline</span><span class="w"> </span><span class="nv">view</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">context</span><span class="w"> </span><span class="nv">switch</span>:

<span class="nv">P0</span><span class="w"> </span><span class="k">exec</span><span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Context</span><span class="w"> </span><span class="nv">Switch</span><span class="w"> </span>â”‚<span class="w"> </span><span class="nv">P1</span><span class="w"> </span><span class="k">exec</span><span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Context</span><span class="w"> </span><span class="nv">Switch</span><span class="w"> </span>â”‚<span class="w"> </span><span class="nv">P0</span><span class="w"> </span><span class="k">exec</span>
â”â”â”â”â”â”â”â”â”‚<span class="w">     </span><span class="nv">Overhead</span><span class="w">    </span>â”‚â”â”â”â”â”â”â”â”â”‚<span class="w">     </span><span class="nv">Overhead</span><span class="w">    </span>â”‚â”â”â”â”â”â”â”
<span class="w">        </span>â”‚â†<span class="w"> </span><span class="o">~</span><span class="mi">1</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span>Î¼<span class="nv">s</span><span class="w"> </span>â†’â”‚<span class="w">        </span>â”‚â†<span class="w"> </span><span class="o">~</span><span class="mi">1</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span>Î¼<span class="nv">s</span><span class="w"> </span>â†’â”‚
<span class="w">                 </span>â†‘<span class="w"> </span><span class="nv">No</span><span class="w"> </span><span class="nv">useful</span><span class="w"> </span><span class="nv">work</span><span class="w"> </span><span class="nv">during</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">time</span>
</code></pre></div>

<hr />
<h2 id="6-process-creation-and-termination">6. Process Creation and Termination<a class="header-link" href="#6-process-creation-and-termination" title="Permanent link">&para;</a></h2>
<h3 id="process-creation-with-fork">Process Creation with fork()<a class="header-link" href="#process-creation-with-fork" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/types.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/wait.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Parent process starting, PID: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getpid</span><span class="p">());</span>

<span class="w">    </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fork</span><span class="p">();</span><span class="w">  </span><span class="c1">// Fork point</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// fork failed</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;fork failed&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Child process</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Child: PID=%d, Parent PID=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getpid</span><span class="p">(),</span><span class="w"> </span><span class="n">getppid</span><span class="p">());</span>
<span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Child: x = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Parent process</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Parent: PID=%d, Child PID=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">getpid</span><span class="p">(),</span><span class="w"> </span><span class="n">pid</span><span class="p">);</span>
<span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span><span class="w">  </span><span class="c1">// Wait for child termination</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Parent: x = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">  </span><span class="c1">// Still 10</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">Output:</span>
<span class="cm">Parent process starting, PID: 1234</span>
<span class="cm">Parent: PID=1234, Child PID=1235</span>
<span class="cm">Child: PID=1235, Parent PID=1234</span>
<span class="cm">Child: x = 20</span>
<span class="cm">Parent: x = 10</span>
<span class="cm">*/</span>
</code></pre></div>

<h3 id="how-fork-works">How fork() Works<a class="header-link" href="#how-fork-works" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Before fork():
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Parent Process (PID: 100) â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ x = 10                  â”‚    â”‚
â”‚  â”‚ Code/Data/Stack/Heap    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After fork():
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Parent Process (PID: 100) â”‚    â”‚        Child Process (PID: 101)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ x = 10                  â”‚    â”‚    â”‚  â”‚ x = 10 (copied)         â”‚    â”‚
â”‚  â”‚ Code/Data/Stack/Heap    â”‚    â”‚    â”‚  â”‚ Code/Data/Stack/Heap    â”‚    â”‚
â”‚  â”‚ fork() returns: 101     â”‚    â”‚    â”‚  â”‚ fork() returns: 0       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                       â”‚
          â”‚  Two processes are independent        â”‚
          â”‚  (separate memory spaces)             â”‚
          â–¼                                       â–¼
</code></pre></div>

<h3 id="program-execution-with-exec">Program Execution with exec()<a class="header-link" href="#program-execution-with-exec" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/types.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/wait.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fork</span><span class="p">();</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Child process: execute ls command</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Child: executing ls</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// execl: exec with list of arguments</span>
<span class="w">        </span><span class="n">execl</span><span class="p">(</span><span class="s">&quot;/bin/ls&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ls&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-l&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// If exec succeeds, this code won&#39;t execute</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;exec failed&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Parent process</span>
<span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Parent: child terminated</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="how-exec-works">How exec() Works<a class="header-link" href="#how-exec-works" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nv">Before</span><span class="w"> </span><span class="k">exec</span><span class="ss">()</span>:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">        </span><span class="nv">Child</span><span class="w"> </span><span class="nv">Process</span><span class="w">             </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Original</span><span class="w"> </span><span class="nv">program</span><span class="w"> </span><span class="nv">code</span><span class="w">    </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Original</span><span class="w"> </span><span class="nv">data</span><span class="w">            </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">Original</span><span class="w"> </span><span class="nv">stack</span><span class="o">/</span><span class="nv">heap</span><span class="w">      </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">    </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<span class="nv">After</span><span class="w"> </span><span class="k">exec</span><span class="ss">(</span><span class="s2">&quot;/bin/ls&quot;</span><span class="ss">)</span>:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">        </span><span class="nv">Child</span><span class="w"> </span><span class="nv">Process</span><span class="w">             </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="nv">program</span><span class="w"> </span><span class="nv">code</span><span class="w">          </span>â”‚<span class="w">    </span>â”‚<span class="w">  </span>â†<span class="w"> </span><span class="nv">Completely</span><span class="w"> </span><span class="nv">replaced</span>
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">ls</span><span class="w"> </span><span class="nv">data</span><span class="w">                  </span>â”‚<span class="w">    </span>â”‚<span class="w">    </span><span class="nv">with</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">program</span>
â”‚<span class="w">  </span>â”‚<span class="w"> </span><span class="nv">New</span><span class="w"> </span><span class="nv">stack</span><span class="o">/</span><span class="nv">heap</span><span class="w">           </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">    </span>â”‚
â”‚<span class="w">                                 </span>â”‚
â”‚<span class="w">  </span><span class="nv">PID</span><span class="w"> </span><span class="nv">remains</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">same</span><span class="w">            </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="process-termination">Process Termination<a class="header-link" href="#process-termination" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/wait.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fork</span><span class="p">();</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Child process terminating</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">  </span><span class="c1">// Exit with status code 42</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">status</span><span class="p">);</span><span class="w">  </span><span class="c1">// Collect child&#39;s exit status</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">WIFEXITED</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Child exit code: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">WEXITSTATUS</span><span class="p">(</span><span class="n">status</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">Output:</span>
<span class="cm">Child process terminating</span>
<span class="cm">Child exit code: 42</span>
<span class="cm">*/</span>
</code></pre></div>

<h3 id="zombie-and-orphan-processes">Zombie and Orphan Processes<a class="header-link" href="#zombie-and-orphan-processes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nv">Zombie</span><span class="w"> </span><span class="nv">Process</span>:
<span class="o">-</span><span class="w"> </span><span class="nv">Child</span><span class="w"> </span><span class="nv">has</span><span class="w"> </span><span class="nv">terminated</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">parent</span><span class="w"> </span><span class="nv">hasn</span><span class="err">&#39;t called wait()</span>
<span class="err">- PCB remains (stores exit status)</span>
<span class="err">- Resources released but process table entry maintained</span>

<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚  Parent Process (PID: 100)                   â”‚</span>
â”‚<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nv">Hasn</span><span class="err">&#39;t called wait()                      â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="err">          â”‚</span>
<span class="err">          â”‚ (Relationship maintained)</span>
<span class="err">          â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚  Zombie Process (PID: 101)                   â”‚</span>
<span class="err">â”‚  - State: Z (Zombie)                         â”‚</span>
<span class="err">â”‚  - Code/Data/Stack released                  â”‚</span>
<span class="err">â”‚  - Only PCB remains                          â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>


<span class="err">Orphan Process:</span>
<span class="err">- Parent terminated before child</span>
<span class="err">- init (PID 1) or systemd becomes new parent</span>

<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚  init (PID: 1)                               â”‚</span>
<span class="err">â”‚  - New parent of orphan processes            â”‚</span>
<span class="err">â”‚  - Periodically calls wait()                 â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="err">          â”‚</span>
<span class="err">          â”‚ (Adoption)</span>
<span class="err">          â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚  Orphan Process (PID: 102)                   â”‚</span>
<span class="err">â”‚  - Original parent (PID: 100) terminated     â”‚</span>
<span class="err">â”‚  - PPID changed to 1                         â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="7-practice-problems">7. Practice Problems<a class="header-link" href="#7-practice-problems" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-memory-region-identification">Problem 1: Memory Region Identification<a class="header-link" href="#problem-1-memory-region-identification" title="Permanent link">&para;</a></h3>
<p>Identify the memory region where each variable is stored.</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">global_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">        </span><span class="c1">// (   )</span>
<span class="kt">int</span><span class="w"> </span><span class="n">uninitialized</span><span class="p">;</span><span class="w">           </span><span class="c1">// (   )</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span><span class="w">   </span><span class="c1">// (   )</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">          </span><span class="c1">// (   )</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">    </span><span class="c1">// (   )</span>
<span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">    </span><span class="c1">// ptr: (   ), *ptr: (   )</span>
<span class="p">}</span>
</code></pre></div>

<p>Options: Text, Data, BSS, Stack, Heap</p>
<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">global_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="p">(</span><span class="n">Data</span><span class="p">)</span>
<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">uninitialized</span><span class="p">;</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="p">(</span><span class="n">BSS</span><span class="p">)</span>
<span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="o">*</span><span class="w"> </span><span class="nb">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">;</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nb">str</span><span class="p">:</span><span class="w"> </span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">:</span><span class="w"> </span><span class="n">Text</span><span class="w"> </span><span class="p">(</span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="p">)</span>

<span class="nb nb-Type">void</span><span class="w"> </span><span class="k">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">          </span><span class="o">//</span><span class="w"> </span><span class="p">(</span><span class="n">Stack</span><span class="p">)</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="p">(</span><span class="n">Data</span><span class="p">)</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">ptr</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">Stack</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">Heap</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>



</details>

<h3 id="problem-2-process-state-transitions">Problem 2: Process State Transitions<a class="header-link" href="#problem-2-process-state-transitions" title="Permanent link">&para;</a></h3>
<p>Explain the process state transitions in the following situations.</p>
<ol>
<li>Process A is using CPU, time slice expires</li>
<li>Process B requests file read</li>
<li>Process C's file read completes</li>
<li>Scheduler selects process D</li>
</ol>
<details>
<summary>Show Answer</summary>

1. A: Running â†’ Ready (timeout/interrupt)
2. B: Running â†’ Waiting (I/O request)
3. C: Waiting â†’ Ready (I/O complete)
4. D: Ready â†’ Running (dispatch)

</details>

<h3 id="problem-3-fork-output-prediction">Problem 3: fork() Output Prediction<a class="header-link" href="#problem-3-fork-output-prediction" title="Permanent link">&para;</a></h3>
<p>Predict the output of the following code.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;A</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">fork</span><span class="p">();</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;B</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">fork</span><span class="p">();</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;C</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code>A       (1 output - original process)
B       (2 outputs - 2 processes after first fork)
B
C       (4 outputs - 4 processes after second fork)
C
C
C

Total: A 1 time, B 2 times, C 4 times

Process branching:
        main
          â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚  fork()   â”‚
    â”‚           â”‚
  main        child1
    â”‚           â”‚
 â”Œâ”€â”€â”´â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”
 â”‚fork()â”‚    â”‚fork()â”‚
 â”‚     â”‚    â”‚     â”‚
main  c2   c1    c3

4 processes each print &quot;C&quot;
</code></pre></div>



</details>

<h3 id="problem-4-pcb-information">Problem 4: PCB Information<a class="header-link" href="#problem-4-pcb-information" title="Permanent link">&para;</a></h3>
<p>Explain the changes to PCB information in the following situations.</p>
<ol>
<li>When a process transitions from Running to Waiting</li>
<li>When a context switch occurs</li>
</ol>
<details>
<summary>Show Answer</summary>

1. Running â†’ Waiting transition:
   - PCB's state field changes from Running to Waiting
   - I/O status info records the waiting I/O operation
   - Process moves to waiting queue

2. Context switch:
   - Save current process's PC, registers, stack pointer to PCB
   - Restore PC, registers, stack pointer from new process's PCB
   - Update memory management info (page table)
   - Change new process's state to Running

</details>

<h3 id="problem-5-context-switch-cost">Problem 5: Context Switch Cost<a class="header-link" href="#problem-5-context-switch-cost" title="Permanent link">&para;</a></h3>
<p>Describe two direct costs and two indirect costs of context switching.</p>
<details>
<summary>Show Answer</summary>

**Direct costs:**
1. Register save/restore: Time to save current process's registers to PCB and restore new process's registers
2. Kernel mode transition: Overhead of transitioning from user mode to kernel mode and back

**Indirect costs:**
1. Cache pollution: New process's data not in cache, increasing cache misses
2. TLB flush: New process uses different virtual address space, invalidating TLB entries

</details>

<hr />
<h2 id="next-steps">Next Steps<a class="header-link" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./03_Threads_and_Multithreading.md">03_Threads_and_Multithreading.md</a> - Thread concepts and multithreading models</li>
</ul>
<hr />
<h2 id="references">References<a class="header-link" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://pages.cs.wisc.edu/~remzi/OSTEP/cpu-intro.pdf">OSTEP - Processes</a></li>
<li><a href="https://man7.org/linux/man-pages/man2/fork.2.html">Linux man pages - fork</a></li>
<li><a href="https://elixir.bootlin.com/linux/latest/source/include/linux/sched.h">Linux Kernel - task_struct</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/OS_Theory/01_OS_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Operating System Overview</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/OS_Theory/03_Threads_and_Multithreading.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Threads and Multithreading</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}