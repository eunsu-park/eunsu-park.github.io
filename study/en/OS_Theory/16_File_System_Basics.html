{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File System Basics â­â­â­ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/OS_Theory/">OS Theory</a>
    <span class="separator">/</span>
    <span class="current">File System Basics â­â­â­</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>File System Basics â­â­â­</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/OS_Theory/15_Page_Replacement.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Page Replacement â­â­â­â­</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/OS_Theory/17_File_System_Implementation.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">File System Implementation â­â­â­â­</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#1-file-concept">1. File Concept</a><ul>
<li><a href="#11-what-is-a-file">1.1 What is a File?</a></li>
<li><a href="#12-file-types">1.2 File Types</a></li>
</ul>
</li>
<li><a href="#2-file-attributes">2. File Attributes</a><ul>
<li><a href="#21-basic-attributes-metadata">2.1 Basic Attributes (Metadata)</a></li>
<li><a href="#22-unixlinux-stat-structure">2.2 Unix/Linux stat Structure</a></li>
<li><a href="#23-interpreting-ls-l-output">2.3 Interpreting ls -l Output</a></li>
</ul>
</li>
<li><a href="#3-file-operations-and-system-calls">3. File Operations and System Calls</a><ul>
<li><a href="#31-basic-file-operations">3.1 Basic File Operations</a></li>
<li><a href="#32-system-call-examples">3.2 System Call Examples</a></li>
<li><a href="#33-open-file-table">3.3 Open File Table</a></li>
</ul>
</li>
<li><a href="#4-directory-structures">4. Directory Structures</a><ul>
<li><a href="#41-single-level-directory">4.1 Single-Level Directory</a></li>
<li><a href="#42-two-level-directory">4.2 Two-Level Directory</a></li>
<li><a href="#43-tree-structured-directory">4.3 Tree-Structured Directory</a></li>
<li><a href="#44-acyclic-graph-directory">4.4 Acyclic Graph Directory</a></li>
</ul>
</li>
<li><a href="#5-file-access-methods">5. File Access Methods</a><ul>
<li><a href="#51-sequential-access">5.1 Sequential Access</a></li>
<li><a href="#52-directrandom-access">5.2 Direct/Random Access</a></li>
<li><a href="#53-indexed-access">5.3 Indexed Access</a></li>
</ul>
</li>
<li><a href="#6-file-system-mounting">6. File System Mounting</a><ul>
<li><a href="#61-mount-concept">6.1 Mount Concept</a></li>
<li><a href="#62-mount-commands">6.2 Mount Commands</a></li>
</ul>
</li>
<li><a href="#practice-problems">Practice Problems</a><ul>
<li><a href="#problem-1-file-attribute-interpretation">Problem 1: File Attribute Interpretation</a></li>
<li><a href="#problem-2-system-call-sequence">Problem 2: System Call Sequence</a></li>
<li><a href="#problem-3-hard-link-vs-symbolic-link">Problem 3: Hard Link vs Symbolic Link</a></li>
<li><a href="#problem-4-directory-navigation">Problem 4: Directory Navigation</a></li>
<li><a href="#problem-5-open-file-table">Problem 5: Open File Table</a></li>
</ul>
</li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="file-system-basics">File System Basics â­â­â­<a class="header-link" href="#file-system-basics" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="header-link" href="#overview" title="Permanent link">&para;</a></h2>
<p>File systems define how operating systems store and manage data on disks. Learn core concepts including file concepts, attributes, operations, directory structures, and access methods.</p>
<hr />
<h2 id="table-of-contents">Table of Contents<a class="header-link" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-file-concept">File Concept</a></li>
<li><a href="#2-file-attributes">File Attributes</a></li>
<li><a href="#3-file-operations-and-system-calls">File Operations and System Calls</a></li>
<li><a href="#4-directory-structures">Directory Structures</a></li>
<li><a href="#5-file-access-methods">File Access Methods</a></li>
<li><a href="#6-file-system-mounting">File System Mounting</a></li>
<li><a href="#practice-problems">Practice Problems</a></li>
</ol>
<hr />
<h2 id="1-file-concept">1. File Concept<a class="header-link" href="#1-file-concept" title="Permanent link">&para;</a></h2>
<h3 id="11-what-is-a-file">1.1 What is a File?<a class="header-link" href="#11-what-is-a-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         File Definition                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   File = Named collection of related information                        â”‚
â”‚                                                                          â”‚
â”‚   Operating System Perspective:                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚   Disk (Physical Storage Device)                                â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚   â”‚   â”‚Block0â”‚Block1â”‚Block2â”‚Block3â”‚Block4â”‚Block5â”‚Block6â”‚Block7â”‚    â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚   â”‚       â†‘         â†‘     â†‘         â†‘     â†‘     â†‘                   â”‚   â”‚
â”‚   â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜                   â”‚   â”‚
â”‚   â”‚            â”‚               â”‚             â”‚                       â”‚   â”‚
â”‚   â”‚         File A          File B        File C                     â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚   User Perspective:                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚   Logical Storage Units                                          â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚   â”‚   â”‚ report.docx  â”‚  â”‚ photo.jpg    â”‚  â”‚ program.exe  â”‚          â”‚   â”‚
â”‚   â”‚   â”‚ (Document)   â”‚  â”‚ (Image)      â”‚  â”‚ (Executable) â”‚          â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚   File System: Abstraction layer connecting these two views             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="12-file-types">1.2 File Types<a class="header-link" href="#12-file-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                          </span><span class="nx">File</span><span class="w"> </span><span class="nx">Types</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">     </span><span class="nx">Type</span><span class="w">      </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Extension</span><span class="w">   </span><span class="err">â”‚</span><span class="w">            </span><span class="nx">Description</span><span class="w">          </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Executable</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">exe</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">com</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Machine</span><span class="w"> </span><span class="nx">code</span><span class="w">                    </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">bin</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">none</span><span class="p">)</span><span class="w"> </span><span class="err">â”‚</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Object</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">o</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">obj</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Compiled</span><span class="w"> </span><span class="nx">object</span><span class="w"> </span><span class="nx">code</span><span class="w">            </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Source</span><span class="w"> </span><span class="nx">Code</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">c</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">py</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">js</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Programming</span><span class="w"> </span><span class="nx">language</span><span class="w"> </span><span class="nx">source</span><span class="w">     </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Text</span><span class="w">          </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">txt</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">md</span><span class="w">    </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Plain</span><span class="w"> </span><span class="nx">text</span><span class="w">                      </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Library</span><span class="w">       </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">so</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Static</span><span class="o">/</span><span class="nx">dynamic</span><span class="w"> </span><span class="kn">library</span><span class="w">          </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">lib</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">dll</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Image</span><span class="w">         </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">jpg</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">png</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Graphics</span><span class="w"> </span><span class="nx">data</span><span class="w">                   </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">gif</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">bmp</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Archive</span><span class="w">       </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">zip</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="nx">tar</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Compressed</span><span class="w"> </span><span class="nx">archive</span><span class="w">              </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="p">.</span><span class="nx">gz</span><span class="p">,</span><span class="w"> </span><span class="m m-Double">.7</span><span class="nx">z</span><span class="w">     </span><span class="err">â”‚</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">Unix</span><span class="w"> </span><span class="nx">doesn</span><span class="err">&#39;</span><span class="nx">t</span><span class="w"> </span><span class="nx">require</span><span class="w"> </span><span class="nx">extensions</span><span class="w"> </span><span class="p">(</span><span class="nx">convention</span><span class="w"> </span><span class="nx">only</span><span class="p">)</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">Type</span><span class="w"> </span><span class="nx">detection</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="nx">content</span><span class="p">:</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="nx">command</span><span class="w">                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">$</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">ls</span><span class="w">                                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">ls</span><span class="p">:</span><span class="w"> </span><span class="nx">ELF</span><span class="w"> </span><span class="mi">64</span><span class="o">-</span><span class="nx">bit</span><span class="w"> </span><span class="nx">LSB</span><span class="w"> </span><span class="nx">shared</span><span class="w"> </span><span class="nx">object</span><span class="p">,</span><span class="w"> </span><span class="nx">x86</span><span class="o">-</span><span class="mi">64</span><span class="o">...</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">$</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="nx">report</span><span class="p">.</span><span class="nx">pdf</span><span class="w">                                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">report</span><span class="p">.</span><span class="nx">pdf</span><span class="p">:</span><span class="w"> </span><span class="nx">PDF</span><span class="w"> </span><span class="nx">document</span><span class="p">,</span><span class="w"> </span><span class="nx">version</span><span class="w"> </span><span class="m m-Double">1.4</span><span class="w">                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="2-file-attributes">2. File Attributes<a class="header-link" href="#2-file-attributes" title="Permanent link">&para;</a></h2>
<h3 id="21-basic-attributes-metadata">2.1 Basic Attributes (Metadata)<a class="header-link" href="#21-basic-attributes-metadata" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         File Attributes                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚    Attribute    â”‚                  Description                  â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Name            â”‚ Human-readable file name                      â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Identifier      â”‚ Unique number in file system (inode number)   â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Type            â”‚ Regular file, directory, symlink, device, etc â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Location        â”‚ Storage location on disk (block pointers)     â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Size            â”‚ File size in bytes                            â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Protection      â”‚ Access permissions (rwxrwxrwx)                â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Owner           â”‚ File owner (UID)                              â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Group           â”‚ File group (GID)                              â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ Timestamps      â”‚ Creation, modification, access time           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="22-unixlinux-stat-structure">2.2 Unix/Linux stat Structure<a class="header-link" href="#22-unixlinux-stat-structure" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/stat.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;time.h&gt;</span>

<span class="c1">// stat structure (stores file attributes)</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">stat</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">dev_t</span><span class="w">     </span><span class="n">st_dev</span><span class="p">;</span><span class="w">      </span><span class="c1">// Device ID</span>
<span class="w">    </span><span class="kt">ino_t</span><span class="w">     </span><span class="n">st_ino</span><span class="p">;</span><span class="w">      </span><span class="c1">// inode number</span>
<span class="w">    </span><span class="kt">mode_t</span><span class="w">    </span><span class="n">st_mode</span><span class="p">;</span><span class="w">     </span><span class="c1">// File mode (type + permissions)</span>
<span class="w">    </span><span class="n">nlink_t</span><span class="w">   </span><span class="n">st_nlink</span><span class="p">;</span><span class="w">    </span><span class="c1">// Number of hard links</span>
<span class="w">    </span><span class="kt">uid_t</span><span class="w">     </span><span class="n">st_uid</span><span class="p">;</span><span class="w">      </span><span class="c1">// Owner UID</span>
<span class="w">    </span><span class="kt">gid_t</span><span class="w">     </span><span class="n">st_gid</span><span class="p">;</span><span class="w">      </span><span class="c1">// Group GID</span>
<span class="w">    </span><span class="kt">dev_t</span><span class="w">     </span><span class="n">st_rdev</span><span class="p">;</span><span class="w">     </span><span class="c1">// Device ID (special files)</span>
<span class="w">    </span><span class="kt">off_t</span><span class="w">     </span><span class="n">st_size</span><span class="p">;</span><span class="w">     </span><span class="c1">// Total size in bytes</span>
<span class="w">    </span><span class="n">blksize_t</span><span class="w"> </span><span class="n">st_blksize</span><span class="p">;</span><span class="w">  </span><span class="c1">// I/O block size</span>
<span class="w">    </span><span class="n">blkcnt_t</span><span class="w">  </span><span class="n">st_blocks</span><span class="p">;</span><span class="w">   </span><span class="c1">// Number of 512B blocks allocated</span>

<span class="w">    </span><span class="c1">// Timestamps</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">timespec</span><span class="w"> </span><span class="n">st_atim</span><span class="p">;</span><span class="w">  </span><span class="c1">// Last access time</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">timespec</span><span class="w"> </span><span class="n">st_mtim</span><span class="p">;</span><span class="w">  </span><span class="c1">// Last modification time</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">timespec</span><span class="w"> </span><span class="n">st_ctim</span><span class="p">;</span><span class="w">  </span><span class="c1">// Last status change time</span>
<span class="p">};</span>

<span class="c1">// File attribute query example</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">print_file_info</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">stat</span><span class="w"> </span><span class="n">sb</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sb</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;stat&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;File: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;inode: %lu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_ino</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Size: %ld bytes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_size</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Blocks: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_blocks</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Permissions: %o</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mo">0777</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Owner: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_uid</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Links: %lu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="n">st_nlink</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// File type</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">S_ISREG</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="p">))</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Type: Regular file</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">S_ISDIR</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="p">))</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Type: Directory</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">S_ISLNK</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="p">))</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Type: Symbolic link</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">S_ISCHR</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="p">))</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Type: Character device</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">S_ISBLK</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mode</span><span class="p">))</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Type: Block device</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Modified: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ctime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sb</span><span class="p">.</span><span class="n">st_mtime</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="23-interpreting-ls-l-output">2.3 Interpreting ls -l Output<a class="header-link" href="#23-interpreting-ls-l-output" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                     </span><span class="nx">ls</span><span class="w"> </span><span class="o">-</span><span class="nx">l</span><span class="w"> </span><span class="nx">Output</span><span class="w"> </span><span class="nx">Analysis</span><span class="w">                                </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">$</span><span class="w"> </span><span class="nx">ls</span><span class="w"> </span><span class="o">-</span><span class="nx">l</span><span class="w">                                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="nx">rw</span><span class="o">-</span><span class="nx">r</span><span class="o">--</span><span class="nx">r</span><span class="o">--</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="nx">group</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="nx">Jan</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="w"> </span><span class="nx">document</span><span class="p">.</span><span class="nx">txt</span><span class="w">               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”œâ”€â”€â”¤â”œâ”€â”¤â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Filename</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Time</span><span class="w">                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Date</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Size</span><span class="w"> </span><span class="p">(</span><span class="nx">bytes</span><span class="p">)</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Group</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Owner</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Hard</span><span class="w"> </span><span class="nx">link</span><span class="w"> </span><span class="nx">count</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Others</span><span class="w"> </span><span class="nx">permissions</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Group</span><span class="w"> </span><span class="nx">permissions</span><span class="w">                                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â”‚</span><span class="w">  </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="nx">Owner</span><span class="w"> </span><span class="nx">permissions</span><span class="w">                                             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚â””â”€â”€</span><span class="w"> </span><span class="nx">File</span><span class="w"> </span><span class="k">type</span><span class="w">                                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">regular</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="nx">directory</span><span class="p">,</span><span class="w"> </span><span class="nx">l</span><span class="w"> </span><span class="nx">link</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="nx">char</span><span class="w"> </span><span class="nx">device</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="nx">block</span><span class="w"> </span><span class="nx">device</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">Permissions</span><span class="p">:</span><span class="w">                                                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">r</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">read</span><span class="w">                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">w</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">write</span><span class="w">                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">x</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">execute</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="nx">directory</span><span class="p">:</span><span class="w"> </span><span class="nx">access</span><span class="p">)</span><span class="w">                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nx">Example</span><span class="p">:</span><span class="w"> </span><span class="nx">rw</span><span class="o">-</span><span class="nx">r</span><span class="o">--</span><span class="nx">r</span><span class="o">--</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">644</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Owner</span><span class="p">:</span><span class="w"> </span><span class="nx">rw</span><span class="p">,</span><span class="w"> </span><span class="nx">Group</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">Others</span><span class="p">:</span><span class="w"> </span><span class="nx">r</span><span class="w">            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="3-file-operations-and-system-calls">3. File Operations and System Calls<a class="header-link" href="#3-file-operations-and-system-calls" title="Permanent link">&para;</a></h2>
<h3 id="31-basic-file-operations">3.1 Basic File Operations<a class="header-link" href="#31-basic-file-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                        </span><span class="nv">File</span><span class="w"> </span><span class="nv">Operations</span><span class="w">                                   </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                          </span>â”‚
â”‚<span class="w">   </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w">   </span><span class="nv">Operation</span><span class="w">     </span>â”‚<span class="w">                  </span><span class="nv">Description</span><span class="w">                  </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Create</span><span class="w">          </span>â”‚<span class="w"> </span><span class="nv">Create</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">file</span>,<span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="nv">entry</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">directory</span><span class="w">      </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Open</span><span class="w">            </span>â”‚<span class="w"> </span><span class="nv">Prepare</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">access</span>,<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">descriptor</span><span class="w">  </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Read</span><span class="w">            </span>â”‚<span class="w"> </span><span class="nv">Read</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">position</span><span class="w">              </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Write</span><span class="w">           </span>â”‚<span class="w"> </span><span class="nv">Write</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">at</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">position</span><span class="w">               </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Seek</span><span class="w">            </span>â”‚<span class="w"> </span><span class="nv">Change</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">position</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">file</span><span class="w">              </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Close</span><span class="w">           </span>â”‚<span class="w"> </span><span class="k">End</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">access</span>,<span class="w"> </span><span class="nv">release</span><span class="w"> </span><span class="nv">resources</span><span class="w">           </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Delete</span><span class="w">          </span>â”‚<span class="w"> </span><span class="nv">Remove</span><span class="w"> </span><span class="nv">file</span>,<span class="w"> </span><span class="nv">delete</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">entry</span><span class="w">          </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Truncate</span><span class="w">        </span>â”‚<span class="w"> </span><span class="nv">Set</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ss">(</span><span class="nv">delete</span><span class="w"> </span><span class="nv">content</span><span class="ss">)</span><span class="w">          </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">   </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">   </span>â”‚
â”‚<span class="w">                                                                          </span>â”‚
â”‚<span class="w">   </span><span class="nv">Additional</span><span class="w"> </span><span class="nv">operations</span>:<span class="w">                                                 </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Append</span>:<span class="w"> </span><span class="nv">Add</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">file</span><span class="w">                                     </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Rename</span>:<span class="w"> </span><span class="nv">Change</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">name</span><span class="w">                                            </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Get</span><span class="o">/</span><span class="nv">Set</span><span class="w"> </span><span class="nv">Attributes</span>:<span class="w"> </span><span class="nv">Query</span><span class="o">/</span><span class="nv">modify</span><span class="w"> </span><span class="nv">attributes</span><span class="w">                         </span>â”‚
â”‚<span class="w">                                                                          </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="32-system-call-examples">3.2 System Call Examples<a class="header-link" href="#32-system-call-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;fcntl.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;errno.h&gt;</span>

<span class="c1">// Create and write file</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">create_and_write</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// O_CREAT: create if doesn&#39;t exist</span>
<span class="w">    </span><span class="c1">// O_WRONLY: write-only</span>
<span class="w">    </span><span class="c1">// O_TRUNC: delete existing content</span>
<span class="w">    </span><span class="c1">// 0644: permissions (rw-r--r--)</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">O_CREAT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_WRONLY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_TRUNC</span><span class="p">,</span><span class="w"> </span><span class="mo">0644</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;open&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, File System!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kt">ssize_t</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">data</span><span class="p">));</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">written</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;write&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%zd bytes written</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">written</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Read file</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">read_file</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">O_RDONLY</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;open&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
<span class="w">    </span><span class="kt">ssize_t</span><span class="w"> </span><span class="n">bytes_read</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// read() returns bytes read, 0 is EOF</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">bytes_read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">buffer</span><span class="p">[</span><span class="n">bytes_read</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bytes_read</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;read&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// File position seek</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">seek_example</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">O_RDONLY</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Seek to end to check size</span>
<span class="w">    </span><span class="kt">off_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lseek</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_END</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;File size: %ld bytes</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Return to beginning</span>
<span class="w">    </span><span class="n">lseek</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_SET</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Move forward 10 bytes</span>
<span class="w">    </span><span class="n">lseek</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">SEEK_CUR</span><span class="p">);</span>

<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="n">buffer</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;10 chars from offset 10: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">);</span>

<span class="w">    </span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// File copy implementation</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">copy_file</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">dst</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">src_fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="w"> </span><span class="n">O_RDONLY</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">src_fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dst_fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">O_WRONLY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_CREAT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_TRUNC</span><span class="p">,</span><span class="w"> </span><span class="mo">0644</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dst_fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">close</span><span class="p">(</span><span class="n">src_fd</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="mi">4096</span><span class="p">];</span>
<span class="w">    </span><span class="kt">ssize_t</span><span class="w"> </span><span class="n">bytes</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">src_fd</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">buffer</span><span class="p">)))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">ssize_t</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="n">dst_fd</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">written</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">bytes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">close</span><span class="p">(</span><span class="n">src_fd</span><span class="p">);</span>
<span class="w">            </span><span class="n">close</span><span class="p">(</span><span class="n">dst_fd</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">close</span><span class="p">(</span><span class="n">src_fd</span><span class="p">);</span>
<span class="w">    </span><span class="n">close</span><span class="p">(</span><span class="n">dst_fd</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">create_and_write</span><span class="p">(</span><span class="s">&quot;test.txt&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">read_file</span><span class="p">(</span><span class="s">&quot;test.txt&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">seek_example</span><span class="p">(</span><span class="s">&quot;test.txt&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">copy_file</span><span class="p">(</span><span class="s">&quot;test.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test_copy.txt&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="33-open-file-table">3.3 Open File Table<a class="header-link" href="#33-open-file-table" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Open File Table Structure                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Process A                Process B                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚ fd table         â”‚      â”‚ fd table         â”‚                       â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚   â”‚ 0: stdin         â”‚      â”‚ 0: stdin         â”‚                       â”‚
â”‚   â”‚ 1: stdout        â”‚      â”‚ 1: stdout        â”‚                       â”‚
â”‚   â”‚ 2: stderr        â”‚      â”‚ 2: stderr        â”‚                       â”‚
â”‚   â”‚ 3: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚      â”‚ 3: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                       â”‚
â”‚   â”‚ 4: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”˜                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”¼â”˜                        â”‚                        â”‚
â”‚                    â”‚â”‚                         â”‚                        â”‚
â”‚                    â–¼â–¼                         â”‚                        â”‚
â”‚   System-wide Open File Table                 â”‚                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                        â”‚
â”‚   â”‚ Entry 1:                                â”‚ â”‚                        â”‚
â”‚   â”‚   - File offset: 100                    â”‚â—€â”˜                        â”‚
â”‚   â”‚   - Access mode: O_RDONLY               â”‚                          â”‚
â”‚   â”‚   - Reference count: 2                  â”‚                          â”‚
â”‚   â”‚   - inode pointer: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”                      â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚                      â”‚
â”‚   â”‚ Entry 2:                                â”‚   â”‚                      â”‚
â”‚   â”‚   - File offset: 500                    â”‚   â”‚                      â”‚
â”‚   â”‚   - Access mode: O_RDWR                 â”‚   â”‚                      â”‚
â”‚   â”‚   - Reference count: 1                  â”‚   â”‚                      â”‚
â”‚   â”‚   - inode pointer: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚                  â”‚
â”‚                                                 â”‚   â”‚                  â”‚
â”‚   In-Memory inode Table                         â”‚   â”‚                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚                  â”‚
â”‚   â”‚ inode 1234:                             â”‚â—€â”€â”€â”˜   â”‚                  â”‚
â”‚   â”‚   - File size: 4096                     â”‚       â”‚                  â”‚
â”‚   â”‚   - Disk block locations                â”‚       â”‚                  â”‚
â”‚   â”‚   - Permissions, owner, etc.            â”‚       â”‚                  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚                  â”‚
â”‚   â”‚ inode 5678:                             â”‚â—€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚   â”‚   - File size: 8192                     â”‚                          â”‚
â”‚   â”‚   - ...                                 â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                          â”‚
â”‚   After fork(): fd table copied, open file entry shared (offset shared!)â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="4-directory-structures">4. Directory Structures<a class="header-link" href="#4-directory-structures" title="Permanent link">&para;</a></h2>
<h3 id="41-single-level-directory">4.1 Single-Level Directory<a class="header-link" href="#41-single-level-directory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Single-Level Directory                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                         Root Directory                           â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ cat â”‚ bo â”‚ a â”‚ test â”‚ data â”‚ mail â”‚ cont â”‚ hex â”‚ records â”‚     â”‚   â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”¬â”€â”´â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚      â”‚     â”‚    â”‚     â”‚      â”‚      â”‚      â”‚     â”‚       â”‚           â”‚   â”‚
â”‚      â–¼     â–¼    â–¼     â–¼      â–¼      â–¼      â–¼     â–¼       â–¼           â”‚   â”‚
â”‚     file  file file  file   file   file   file  file    file         â”‚   â”‚
â”‚                                                                          â”‚
â”‚   Problems:                                                              â”‚
â”‚   - Name collision: All users cannot use same names                     â”‚
â”‚   - Management difficulty: Hard to find files as count grows            â”‚
â”‚   - No grouping: Cannot organize related files                          â”‚
â”‚                                                                          â”‚
â”‚   Used in early OS (CP/M)                                                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="42-two-level-directory">4.2 Two-Level Directory<a class="header-link" href="#42-two-level-directory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Two-Level Directory                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚                    Master File Directory (MFD)                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚            user1              user2              user3          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                   â”‚                â”‚                 â”‚                  â”‚
â”‚                   â–¼                â–¼                 â–¼                  â”‚
â”‚        User File Directory (UFD)                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ cat   test  a   â”‚ â”‚ cat   data  b   â”‚ â”‚ hex   mail     â”‚          â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚      â”‚      â”‚    â”‚       â”‚      â”‚    â”‚       â”‚      â”‚                  â”‚
â”‚      â–¼      â–¼    â–¼       â–¼      â–¼    â–¼       â–¼      â–¼                  â”‚
â”‚                                                                          â”‚
â”‚   Advantages:                                                            â”‚
â”‚   - Independent namespace per user                                       â”‚
â”‚   - user1&#39;s cat â‰  user2&#39;s cat                                           â”‚
â”‚                                                                          â”‚
â”‚   Disadvantages:                                                         â”‚
â”‚   - Difficult to share files between users                              â”‚
â”‚   - No subdirectories                                                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="43-tree-structured-directory">4.3 Tree-Structured Directory<a class="header-link" href="#43-tree-structured-directory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Tree-Structured Directory                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚                              /                                           â”‚
â”‚                              â”‚                                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚           â”‚                  â”‚                  â”‚                       â”‚
â”‚          bin               home               etc                       â”‚
â”‚           â”‚                  â”‚                  â”‚                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                  â”‚
â”‚    ls          cat   â”‚       â”‚       â”‚   passwd   hosts                â”‚
â”‚                    user1   user2   user3                                â”‚
â”‚                      â”‚       â”‚       â”‚                                  â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”‚    documents                             â”‚
â”‚               docs     code  data     â”‚                                  â”‚
â”‚                â”‚         â”‚    â”‚    â”Œâ”€â”€â”´â”€â”€â”                              â”‚
â”‚            â”Œâ”€â”€â”€â”¼â”€â”€â”€â”   main.c  â”‚   report  notes                        â”‚
â”‚          a.txt b.txt         file.txt                                   â”‚
â”‚                                                                          â”‚
â”‚   Features:                                                              â”‚
â”‚   - Arbitrary depth subdirectories allowed                               â”‚
â”‚   - Absolute path: /home/user1/docs/a.txt                               â”‚
â”‚   - Relative path: ./docs/a.txt (from current directory)                â”‚
â”‚   - Current directory (.), parent directory (..)                        â”‚
â”‚                                                                          â”‚
â”‚   Used by most modern operating systems                                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="44-acyclic-graph-directory">4.4 Acyclic Graph Directory<a class="header-link" href="#44-acyclic-graph-directory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Acyclic Graph Directory                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚                              /                                           â”‚
â”‚                              â”‚                                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚           â”‚                  â”‚                  â”‚                       â”‚
â”‚          home              shared              â”‚                        â”‚
â”‚           â”‚                  â”‚                 â”‚                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           project â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚   user1       user2          â”‚ â–²                                        â”‚
â”‚     â”‚           â”‚      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  myproj â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚                                    â”‚
â”‚                        â”‚      shared file                                â”‚
â”‚                   ourproj â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                          â”‚
â”‚   File/directory sharing methods:                                       â”‚
â”‚                                                                          â”‚
â”‚   1. Hard Link:                                                          â”‚
â”‚      - Different name pointing to same inode                            â”‚
â”‚      - ln target link_name                                              â”‚
â”‚      - On delete, only link count decreases                             â”‚
â”‚      - Cannot use on directories (prevents cycles)                      â”‚
â”‚                                                                          â”‚
â”‚   2. Symbolic Link:                                                      â”‚
â”‚      - Stores path to another file                                      â”‚
â”‚      - ln -s target link_name                                           â”‚
â”‚      - Broken link if original deleted (dangling link)                  â”‚
â”‚      - Can use on directories                                           â”‚
â”‚                                                                          â”‚
â”‚   $ ln /shared/project myproj          # Hard link                      â”‚
â”‚   $ ln -s /shared/project myproj       # Symbolic link                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="5-file-access-methods">5. File Access Methods<a class="header-link" href="#5-file-access-methods" title="Permanent link">&para;</a></h2>
<h3 id="51-sequential-access">5.1 Sequential Access<a class="header-link" href="#51-sequential-access" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                        </span><span class="nt">Sequential</span><span class="w"> </span><span class="nt">Access</span><span class="w">                                 </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">File</span><span class="w">                                                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">A</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">B</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">C</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">D</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">E</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">F</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">G</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">H</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">I</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">J</span><span class="w"> </span><span class="err">â”‚</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">             </span><span class="err">â†‘</span><span class="w">                                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">          </span><span class="nt">Current</span><span class="w"> </span><span class="nt">position</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Operations</span><span class="o">:</span><span class="w">                                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">read</span><span class="o">():</span><span class="w"> </span><span class="nt">read</span><span class="w"> </span><span class="nt">from</span><span class="w"> </span><span class="nt">current</span><span class="w"> </span><span class="nt">position</span><span class="o">,</span><span class="w"> </span><span class="nt">advance</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">write</span><span class="o">():</span><span class="w"> </span><span class="nt">write</span><span class="w"> </span><span class="nt">at</span><span class="w"> </span><span class="nt">current</span><span class="w"> </span><span class="nt">position</span><span class="o">,</span><span class="w"> </span><span class="nt">advance</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">reset</span><span class="o">():</span><span class="w"> </span><span class="nt">return</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">beginning</span><span class="w">                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Features</span><span class="o">:</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Originated</span><span class="w"> </span><span class="nt">from</span><span class="w"> </span><span class="nt">tape-based</span><span class="w"> </span><span class="nt">systems</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Commonly</span><span class="w"> </span><span class="nt">used</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">editors</span><span class="o">,</span><span class="w"> </span><span class="nt">compilers</span><span class="w">                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Suitable</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">log</span><span class="w"> </span><span class="nt">file</span><span class="w"> </span><span class="nt">processing</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Example</span><span class="o">:</span><span class="w"> </span><span class="nt">Sequential</span><span class="w"> </span><span class="nt">read</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">end</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">file</span><span class="w">                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">while</span><span class="w"> </span><span class="o">(</span><span class="nt">read</span><span class="o">(</span><span class="nt">fd</span><span class="o">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">buf</span><span class="o">,</span><span class="w"> </span><span class="nt">size</span><span class="o">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">0</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">process(buf)</span><span class="p">;</span><span class="w">                                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="p">}</span><span class="w">                                                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="52-directrandom-access">5.2 Direct/Random Access<a class="header-link" href="#52-directrandom-access" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                        </span><span class="nt">Direct</span><span class="w"> </span><span class="nt">Access</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">File</span><span class="w"> </span><span class="o">(</span><span class="nt">logical</span><span class="w"> </span><span class="nt">blocks</span><span class="o">)</span><span class="w">                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Block</span><span class="o">:</span><span class="w">  </span><span class="nt">0</span><span class="w">     </span><span class="nt">1</span><span class="w">     </span><span class="nt">2</span><span class="w">     </span><span class="nt">3</span><span class="w">     </span><span class="nt">4</span><span class="w">     </span><span class="nt">5</span><span class="w">     </span><span class="nt">6</span><span class="w">     </span><span class="nt">7</span><span class="w">     </span><span class="nt">8</span><span class="w">     </span><span class="nt">9</span><span class="w">       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">           </span><span class="err">â†‘</span><span class="w">                       </span><span class="err">â†‘</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="nt">Block</span><span class="w"> </span><span class="nt">1</span><span class="w">                  </span><span class="nt">Block</span><span class="w"> </span><span class="nt">5</span><span class="w">                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">         </span><span class="nt">read</span><span class="w">                    </span><span class="nt">read</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Operations</span><span class="o">:</span><span class="w">                                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">read</span><span class="o">(</span><span class="nt">n</span><span class="o">):</span><span class="w"> </span><span class="nt">read</span><span class="w"> </span><span class="nt">block</span><span class="w"> </span><span class="nt">n</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">write</span><span class="o">(</span><span class="nt">n</span><span class="o">):</span><span class="w"> </span><span class="nt">write</span><span class="w"> </span><span class="nt">block</span><span class="w"> </span><span class="nt">n</span><span class="w">                                             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">seek</span><span class="o">(</span><span class="nt">n</span><span class="o">):</span><span class="w"> </span><span class="nt">move</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">block</span><span class="w"> </span><span class="nt">n</span><span class="w">                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Features</span><span class="o">:</span><span class="w">                                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Disk-based</span><span class="w"> </span><span class="nt">systems</span><span class="w">                                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Suitable</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">databases</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">-</span><span class="w"> </span><span class="nt">Random</span><span class="w"> </span><span class="nt">position</span><span class="w"> </span><span class="nt">access</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">Example</span><span class="o">:</span><span class="w"> </span><span class="nt">Direct</span><span class="w"> </span><span class="nt">record</span><span class="w"> </span><span class="nt">access</span><span class="w">                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="p">#</span><span class="nn">define</span><span class="w"> </span><span class="nt">RECORD_SIZE</span><span class="w"> </span><span class="nt">100</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">lseek</span><span class="o">(</span><span class="nt">fd</span><span class="o">,</span><span class="w"> </span><span class="nt">record_num</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">RECORD_SIZE</span><span class="o">,</span><span class="w"> </span><span class="nt">SEEK_SET</span><span class="o">);</span><span class="w">                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">read</span><span class="o">(</span><span class="nt">fd</span><span class="o">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">record</span><span class="o">,</span><span class="w"> </span><span class="nt">RECORD_SIZE</span><span class="o">);</span><span class="w">                                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="53-indexed-access">5.3 Indexed Access<a class="header-link" href="#53-indexed-access" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                       </span><span class="nv">Indexed</span><span class="w"> </span><span class="nv">Access</span><span class="w">                                     </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                          </span>â”‚
â”‚<span class="w">   </span><span class="nv">Index</span><span class="w"> </span><span class="nv">File</span><span class="w">                          </span><span class="nv">Data</span><span class="w"> </span><span class="nv">File</span><span class="w">                          </span>â”‚
â”‚<span class="w">   </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">                 </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Key</span><span class="w">     </span>â”‚<span class="nv">Block</span><span class="w"> </span><span class="nv">Ptr</span><span class="w"> </span>â”‚<span class="w">                 </span>â”‚<span class="w"> </span><span class="nv">Block</span><span class="w"> </span><span class="mi">0</span><span class="w">                  </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<span class="w">                 </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="s2">&quot;Apple&quot;</span><span class="w"> </span>â”‚<span class="w">     </span><span class="mi">7</span><span class="w">    </span>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚<span class="w"> </span><span class="nv">Block</span><span class="w"> </span><span class="mi">7</span>:<span class="w"> </span><span class="nv">Apple</span><span class="w"> </span><span class="nv">data</span><span class="w">     </span>â”‚<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="s2">&quot;Banana&quot;</span>â”‚<span class="w">     </span><span class="mi">3</span><span class="w">    </span>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">   </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="s2">&quot;Cherry&quot;</span>â”‚<span class="w">    </span><span class="mi">12</span><span class="w">    </span>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span>â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Block</span><span class="w"> </span><span class="mi">3</span>:<span class="w"> </span><span class="nv">Banana</span><span class="w"> </span><span class="nv">data</span><span class="w">    </span>â”‚â—€â”€â”€â”¤
â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="s2">&quot;Date&quot;</span><span class="w">  </span>â”‚<span class="w">     </span><span class="mi">5</span><span class="w">    </span>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span>â”‚<span class="w"> </span>â”‚<span class="w">   </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤<span class="w">    </span>â”‚
â”‚<span class="w">   </span>â”‚<span class="w">  </span>...<span class="w">    </span>â”‚<span class="w">   </span>...<span class="w">    </span>â”‚<span class="w">        </span>â”‚<span class="w"> </span>â”‚<span class="w"> </span>â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Block</span><span class="w"> </span><span class="mi">12</span>:<span class="w"> </span><span class="nv">Cherry</span><span class="w"> </span><span class="nv">data</span><span class="w">   </span>â”‚â—€â”€â”€â”˜
â”‚<span class="w">   </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">        </span>â”‚<span class="w"> </span>â”‚<span class="w"> </span>â”‚<span class="w">   </span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                  </span>â”‚<span class="w"> </span>â”‚<span class="w"> </span>â”‚<span class="w">   </span>â”‚<span class="w"> </span><span class="nv">Block</span><span class="w"> </span><span class="mi">5</span>:<span class="w"> </span><span class="nv">Date</span><span class="w"> </span><span class="nv">data</span><span class="w">      </span>â”‚â—€â”€â”€â”
â”‚<span class="w">                                  </span>â”‚<span class="w"> </span>â”‚<span class="w"> </span>â””â”€â”€â–¶â”‚<span class="w">                         </span>â”‚<span class="w">   </span>â”‚
â”‚<span class="w">                                  </span>â”‚<span class="w"> </span>â”‚<span class="w">     </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">   </span>â”‚
â”‚<span class="w">                                  </span>â”‚<span class="w"> </span>â”‚<span class="w">                                    </span>â”‚
â”‚<span class="w">                                  </span>â””â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚<span class="w">                                    </span>â”‚
â”‚<span class="w">                                    </span>â””â”€â”€<span class="w"> </span><span class="ss">(</span><span class="nv">Find</span><span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">index</span>,<span class="w"> </span><span class="nv">direct</span><span class="w"> </span><span class="nv">access</span><span class="ss">)</span>
â”‚
â”‚<span class="w">   </span><span class="nv">Features</span>:<span class="w">                                                              </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Fast</span><span class="w"> </span><span class="nv">search</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">large</span><span class="w"> </span><span class="nv">files</span><span class="w">                                          </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Multi</span><span class="o">-</span><span class="nv">level</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">index</span><span class="w"> </span><span class="nv">itself</span><span class="w"> </span><span class="nv">too</span><span class="w"> </span><span class="nv">large</span><span class="w">                         </span>â”‚
â”‚<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nv">Database</span><span class="w"> </span><span class="nv">B</span><span class="o">+</span><span class="nv">tree</span><span class="w"> </span><span class="nv">index</span><span class="w">                                               </span>â”‚
â”‚<span class="w">                                                                          </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="6-file-system-mounting">6. File System Mounting<a class="header-link" href="#6-file-system-mounting" title="Permanent link">&para;</a></h2>
<h3 id="61-mount-concept">6.1 Mount Concept<a class="header-link" href="#61-mount-concept" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         File System Mounting                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Before mount:                                                          â”‚
â”‚                                                                          â”‚
â”‚   Root file system (/)          USB drive                               â”‚
â”‚           /                          Independent tree                    â”‚
â”‚          â•±â”‚â•²                              â”‚                             â”‚
â”‚        bin home etc                      â•± â•²                            â”‚
â”‚             â”‚                         photo  doc                         â”‚
â”‚           user1                                                          â”‚
â”‚            â”‚                                                             â”‚
â”‚          mnt (empty directory)                                           â”‚
â”‚                                                                          â”‚
â”‚   After mount (mount /dev/sdb1 /home/user1/mnt):                        â”‚
â”‚                                                                          â”‚
â”‚           /                                                              â”‚
â”‚          â•±â”‚â•²                                                            â”‚
â”‚        bin home etc                                                      â”‚
â”‚             â”‚                                                            â”‚
â”‚           user1                                                          â”‚
â”‚            â”‚                                                             â”‚
â”‚          mnt â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mount point                                   â”‚
â”‚          â•± â•²                                                            â”‚
â”‚       photo  doc   â† USB drive contents visible here                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="62-mount-commands">6.2 Mount Commands<a class="header-link" href="#62-mount-commands" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check mount status</span>
$<span class="w"> </span>mount
/dev/sda1<span class="w"> </span>on<span class="w"> </span>/<span class="w"> </span><span class="nb">type</span><span class="w"> </span>ext4<span class="w"> </span><span class="o">(</span>rw,relatime<span class="o">)</span>
/dev/sdb1<span class="w"> </span>on<span class="w"> </span>/mnt/usb<span class="w"> </span><span class="nb">type</span><span class="w"> </span>vfat<span class="w"> </span><span class="o">(</span>rw,user<span class="o">)</span>

<span class="c1"># Mount USB drive</span>
$<span class="w"> </span>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/sdb1<span class="w"> </span>/mnt/usb

<span class="c1"># Mount with options</span>
$<span class="w"> </span>sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>-o<span class="w"> </span>ro,noexec<span class="w"> </span>/dev/sdc1<span class="w"> </span>/mnt/backup

<span class="c1"># Mount options:</span>
<span class="c1"># ro: read-only</span>
<span class="c1"># rw: read/write</span>
<span class="c1"># noexec: cannot execute programs</span>
<span class="c1"># nosuid: ignore setuid</span>
<span class="c1"># user: allow normal users to mount</span>

<span class="c1"># Unmount</span>
$<span class="w"> </span>sudo<span class="w"> </span>umount<span class="w"> </span>/mnt/usb

<span class="c1"># /etc/fstab - automatic mount at boot</span>
<span class="c1"># Device            Mount point     Type    Options            Dump Pass</span>
/dev/sda1<span class="w">          </span>/<span class="w">               </span>ext4<span class="w">    </span>defaults<span class="w">           </span><span class="m">1</span><span class="w">    </span><span class="m">1</span>
/dev/sda2<span class="w">          </span>/home<span class="w">           </span>ext4<span class="w">    </span>defaults<span class="w">           </span><span class="m">1</span><span class="w">    </span><span class="m">2</span>
/dev/sdb1<span class="w">          </span>/mnt/data<span class="w">       </span>ext4<span class="w">    </span>defaults,nofail<span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">2</span>
<span class="nv">UUID</span><span class="o">=</span>xxxx-xxxx<span class="w">     </span>/mnt/usb<span class="w">        </span>vfat<span class="w">    </span>user,noauto<span class="w">        </span><span class="m">0</span><span class="w">    </span><span class="m">0</span>
</code></pre></div>

<hr />
<h2 id="practice-problems">Practice Problems<a class="header-link" href="#practice-problems" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-file-attribute-interpretation">Problem 1: File Attribute Interpretation<a class="header-link" href="#problem-1-file-attribute-interpretation" title="Permanent link">&para;</a></h3>
<p>Interpret each field from the following <code>ls -l</code> output:</p>
<div class="highlight"><pre><span></span><code>-rwxr-x--- 2 alice developers 8192 Mar 15 14:30 script.sh
</code></pre></div>

<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code><span class="o">-</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Regular</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="ss">(</span><span class="nv">d</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">directory</span>,<span class="w"> </span><span class="nv">l</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">link</span><span class="ss">)</span>
<span class="nv">rwx</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Owner</span><span class="w"> </span><span class="ss">(</span><span class="nv">alice</span><span class="ss">)</span><span class="w"> </span><span class="nv">permissions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">read</span><span class="o">/</span><span class="nv">write</span><span class="o">/</span><span class="nv">execute</span>
<span class="nv">r</span><span class="o">-</span><span class="nv">x</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Group</span><span class="w"> </span><span class="ss">(</span><span class="nv">developers</span><span class="ss">)</span><span class="w"> </span><span class="nv">permissions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">read</span><span class="o">/</span><span class="nv">execute</span>
<span class="o">---</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Others</span><span class="w"> </span><span class="nv">permissions</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">none</span>
<span class="mi">2</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Hard</span><span class="w"> </span><span class="nv">link</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="ss">(</span><span class="mi">2</span><span class="w"> </span><span class="nv">names</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">file</span><span class="ss">)</span>
<span class="nv">alice</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Owner</span>
<span class="nv">developers</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Owner</span><span class="w"> </span><span class="nv">group</span>
<span class="mi">8192</span><span class="w"> </span>:<span class="w"> </span><span class="nv">File</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="ss">(</span><span class="mi">8</span><span class="nv">KB</span><span class="ss">)</span>
<span class="nv">Mar</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">14</span>:<span class="mi">30</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Last</span><span class="w"> </span><span class="nv">modification</span><span class="w"> </span><span class="nv">time</span>
<span class="nv">script</span>.<span class="nv">sh</span><span class="w"> </span>:<span class="w"> </span><span class="nv">File</span><span class="w"> </span><span class="nv">name</span>

<span class="nv">Numeric</span><span class="w"> </span><span class="nv">permissions</span>:<span class="w"> </span><span class="mi">750</span><span class="w"> </span><span class="ss">(</span><span class="mi">7</span><span class="o">=</span><span class="nv">rwx</span>,<span class="w"> </span><span class="mi">5</span><span class="o">=</span><span class="nv">r</span><span class="o">-</span><span class="nv">x</span>,<span class="w"> </span><span class="mi">0</span><span class="o">=---</span><span class="ss">)</span>
</code></pre></div>



</details>

<h3 id="problem-2-system-call-sequence">Problem 2: System Call Sequence<a class="header-link" href="#problem-2-system-call-sequence" title="Permanent link">&para;</a></h3>
<p>Write the system call sequence to append "Hello World" to <code>/tmp/log.txt</code>.</p>
<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="s">&quot;/tmp/log.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">O_WRONLY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_APPEND</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">O_CREAT</span><span class="p">,</span><span class="w"> </span><span class="mo">0644</span><span class="p">);</span>
<span class="c1">// O_APPEND: always write at end of file</span>
<span class="c1">// O_CREAT: create if doesn&#39;t exist</span>
<span class="c1">// 0644: permission setting</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;open failed&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello World</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="kt">ssize_t</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">msg</span><span class="p">));</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">written</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">perror</span><span class="p">(</span><span class="s">&quot;write failed&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
</code></pre></div>



</details>

<h3 id="problem-3-hard-link-vs-symbolic-link">Problem 3: Hard Link vs Symbolic Link<a class="header-link" href="#problem-3-hard-link-vs-symbolic-link" title="Permanent link">&para;</a></h3>
<p>Explain the behavior of each link type in this scenario:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;original&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>file.txt
$<span class="w"> </span>ln<span class="w"> </span>file.txt<span class="w"> </span>hardlink.txt<span class="w">       </span><span class="c1"># Hard link</span>
$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>file.txt<span class="w"> </span>symlink.txt<span class="w">     </span><span class="c1"># Symbolic link</span>
$<span class="w"> </span>rm<span class="w"> </span>file.txt
$<span class="w"> </span>cat<span class="w"> </span>hardlink.txt
$<span class="w"> </span>cat<span class="w"> </span>symlink.txt
</code></pre></div>

<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>hardlink.txt
original
â†’<span class="w"> </span>Hard<span class="w"> </span>link<span class="w"> </span>points<span class="w"> </span>to<span class="w"> </span>same<span class="w"> </span>inode
â†’<span class="w"> </span>Data<span class="w"> </span>still<span class="w"> </span>exists<span class="w"> </span>even<span class="w"> </span>after<span class="w"> </span>file.txt<span class="w"> </span>deleted
â†’<span class="w"> </span>Link<span class="w"> </span>count<span class="w"> </span>just<span class="w"> </span>decreased<span class="w"> </span>by<span class="w"> </span><span class="m">1</span>

$<span class="w"> </span>cat<span class="w"> </span>symlink.txt
cat:<span class="w"> </span>symlink.txt:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
â†’<span class="w"> </span>Symbolic<span class="w"> </span>link<span class="w"> </span>stores<span class="w"> </span>path<span class="w"> </span><span class="s2">&quot;file.txt&quot;</span>
â†’<span class="w"> </span>Broken<span class="w"> </span>link<span class="w"> </span><span class="o">(</span>dangling<span class="w"> </span>link<span class="o">)</span><span class="w"> </span>after<span class="w"> </span>file.txt<span class="w"> </span>deleted
â†’<span class="w"> </span>Target<span class="w"> </span>doesn<span class="err">&#39;</span>t<span class="w"> </span>exist,<span class="w"> </span>so<span class="w"> </span>error

Hard<span class="w"> </span>link<span class="w"> </span>characteristics:
-<span class="w"> </span>Shares<span class="w"> </span>same<span class="w"> </span>inode<span class="w"> </span>number
-<span class="w"> </span>Equal<span class="w"> </span>status<span class="w"> </span>with<span class="w"> </span>original
-<span class="w"> </span>Cannot<span class="w"> </span>use<span class="w"> </span>on<span class="w"> </span>directories

Symbolic<span class="w"> </span>link<span class="w"> </span>characteristics:
-<span class="w"> </span>Separate<span class="w"> </span>inode<span class="w"> </span><span class="o">(</span>stores<span class="w"> </span>path<span class="w"> </span>string<span class="o">)</span>
-<span class="w"> </span>Dependent<span class="w"> </span>on<span class="w"> </span>original
-<span class="w"> </span>Can<span class="w"> </span>use<span class="w"> </span>on<span class="w"> </span>directories
-<span class="w"> </span>Can<span class="w"> </span>point<span class="w"> </span>to<span class="w"> </span>different<span class="w"> </span>file<span class="w"> </span>systems
</code></pre></div>



</details>

<h3 id="problem-4-directory-navigation">Problem 4: Directory Navigation<a class="header-link" href="#problem-4-directory-navigation" title="Permanent link">&para;</a></h3>
<p>Canonicalize the path <code>/home/user/docs/../code/./main.c</code>.</p>
<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code>/home/user/docs/../code/./main.c

1. Navigate to /home/user/docs
2. .. goes up: /home/user
3. Navigate to code: /home/user/code
4. . is current directory (ignore): /home/user/code
5. main.c file: /home/user/code/main.c

Canonicalized path: /home/user/code/main.c

Verify in Linux:
$ realpath /home/user/docs/../code/./main.c
/home/user/code/main.c
</code></pre></div>



</details>

<h3 id="problem-5-open-file-table">Problem 5: Open File Table<a class="header-link" href="#problem-5-open-file-table" title="Permanent link">&para;</a></h3>
<p>Process A opens a file and creates process B via fork(). If both processes write 100 bytes each to the same file, what is the final file size?</p>
<details>
<summary>Show Answer</summary>


<div class="highlight"><pre><span></span><code><span class="n">After</span><span class="w"> </span><span class="n">fork</span><span class="p">(),</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">copies</span><span class="w"> </span><span class="n">parent</span><span class="s1">&#39;s fd table.</span>
<span class="n">Both</span><span class="w"> </span><span class="n">processes</span><span class="s1">&#39; fds share the same open file entry.</span>
<span class="n">Therefore</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">offset</span><span class="o">!</span>

<span class="n">Scenario</span><span class="p">:</span>
<span class="mf">1.</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="n">open</span><span class="p">(),</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">fork</span><span class="p">(),</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">shares</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">entry</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">(</span><span class="n">continues</span><span class="w"> </span><span class="n">writing</span><span class="p">)</span>

<span class="n">Final</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">bytes</span>

<span class="n">If</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">separately</span><span class="w"> </span><span class="n">open</span><span class="p">()</span><span class="n">ed</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Separate</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">created</span>
<span class="o">-</span><span class="w"> </span><span class="n">Separate</span><span class="w"> </span><span class="n">offset</span>
<span class="o">-</span><span class="w"> </span><span class="n">Both</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">overwrite</span><span class="o">!</span>
<span class="o">-</span><span class="w"> </span><span class="n">Final</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">bytes</span>

<span class="n">Note</span><span class="p">:</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">reality</span><span class="p">,</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">vary</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">write</span><span class="p">()</span><span class="w"> </span><span class="n">atomicity</span>
<span class="ow">and</span><span class="w"> </span><span class="n">buffering</span><span class="o">.</span><span class="w"> </span><span class="n">O_APPEND</span><span class="w"> </span><span class="n">usage</span><span class="w"> </span><span class="n">recommended</span><span class="o">.</span>
</code></pre></div>



</details>

<hr />
<h2 id="next-steps">Next Steps<a class="header-link" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Continue to <a href="./17_File_System_Implementation.md">17_File_System_Implementation.md</a> to learn file system internals!</p>
<hr />
<h2 id="references">References<a class="header-link" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li>Silberschatz, "Operating System Concepts" Chapter 13</li>
<li>Linux man pages: <code>open(2)</code>, <code>read(2)</code>, <code>write(2)</code>, <code>stat(2)</code></li>
<li>POSIX file system standards</li>
<li>The Linux Programming Interface by Michael Kerrisk</li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/OS_Theory/15_Page_Replacement.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Page Replacement â­â­â­â­</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/OS_Theory/17_File_System_Implementation.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">File System Implementation â­â­â­â­</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}