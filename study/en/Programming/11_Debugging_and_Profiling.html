{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging & Profiling - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        ÌïúÍµ≠Ïñ¥
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Programming/">Programming</a>
    <span class="separator">/</span>
    <span class="current">Debugging & Profiling</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Debugging & Profiling</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Programming/10_Testing_Fundamentals.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Testing Fundamentals</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Programming/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Programming/12_Concurrency_and_Parallelism.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Concurrency & Parallelism</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-debugging-mindset">The Debugging Mindset</a><ul>
<li><a href="#systematic-approach-not-random-changes">Systematic Approach, Not Random Changes</a></li>
<li><a href="#the-scientific-method-of-debugging">The Scientific Method of Debugging</a></li>
</ul>
</li>
<li><a href="#reproducing-bugs">Reproducing Bugs</a><ul>
<li><a href="#recording-steps-to-reproduce">Recording Steps to Reproduce</a></li>
<li><a href="#minimal-reproducible-example">Minimal Reproducible Example</a></li>
</ul>
</li>
<li><a href="#printlog-debugging">Print/Log Debugging</a><ul>
<li><a href="#strategic-print-statements">Strategic Print Statements</a></li>
<li><a href="#structured-logging-vs-print">Structured Logging vs Print</a></li>
</ul>
</li>
<li><a href="#interactive-debuggers">Interactive Debuggers</a><ul>
<li><a href="#common-debugger-operations">Common Debugger Operations</a></li>
<li><a href="#gdb-cc">GDB (C/C++)</a></li>
<li><a href="#pdb-python">pdb (Python)</a></li>
<li><a href="#chrome-devtools-javascript">Chrome DevTools (JavaScript)</a></li>
<li><a href="#ide-debuggers">IDE Debuggers</a></li>
</ul>
</li>
<li><a href="#common-bug-patterns">Common Bug Patterns</a><ul>
<li><a href="#1-off-by-one-errors">1. Off-by-One Errors</a></li>
<li><a href="#2-nullundefined-reference">2. Null/Undefined Reference</a></li>
<li><a href="#3-race-conditions">3. Race Conditions</a></li>
<li><a href="#4-integer-overflow">4. Integer Overflow</a></li>
<li><a href="#5-wrong-operator">5. Wrong Operator</a></li>
<li><a href="#6-scope-issues-closures">6. Scope Issues (Closures)</a></li>
</ul>
</li>
<li><a href="#advanced-debugging-techniques">Advanced Debugging Techniques</a><ul>
<li><a href="#rubber-duck-debugging">Rubber Duck Debugging</a></li>
<li><a href="#binary-search-debugging">Binary Search Debugging</a></li>
<li><a href="#git-bisect">Git Bisect</a></li>
<li><a href="#divide-and-conquer">Divide and Conquer</a></li>
</ul>
</li>
<li><a href="#memory-debugging">Memory Debugging</a><ul>
<li><a href="#memory-leaks-symptoms-and-detection">Memory Leaks: Symptoms and Detection</a></li>
<li><a href="#valgrind-cc">Valgrind (C/C++)</a></li>
<li><a href="#memory_profiler-python">memory_profiler (Python)</a></li>
<li><a href="#chrome-devtools-memory-profiler-javascript">Chrome DevTools Memory Profiler (JavaScript)</a></li>
</ul>
</li>
<li><a href="#performance-profiling">Performance Profiling</a><ul>
<li><a href="#cpu-profiling-hotspots-and-call-graphs">CPU Profiling: Hotspots and Call Graphs</a></li>
<li><a href="#cprofile-python">cProfile (Python)</a></li>
<li><a href="#chrome-devtools-performance-tab-javascript">Chrome DevTools Performance Tab (JavaScript)</a></li>
<li><a href="#perf-linux">perf (Linux)</a></li>
</ul>
</li>
<li><a href="#benchmarking">Benchmarking</a><ul>
<li><a href="#micro-benchmarks-vs-realistic-workloads">Micro-benchmarks vs Realistic Workloads</a></li>
<li><a href="#big-o-in-practice-when-constant-factors-matter">Big-O in Practice: When Constant Factors Matter</a></li>
</ul>
</li>
<li><a href="#common-performance-issues">Common Performance Issues</a><ul>
<li><a href="#1-n1-query-problem">1. N+1 Query Problem</a></li>
<li><a href="#2-unnecessary-re-renders-ui">2. Unnecessary Re-renders (UI)</a></li>
<li><a href="#3-algorithmic-inefficiency">3. Algorithmic Inefficiency</a></li>
<li><a href="#4-io-bottlenecks">4. I/O Bottlenecks</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
<li><a href="#exercises">Exercises</a><ul>
<li><a href="#exercise-1-debug-buggy-code">Exercise 1: Debug Buggy Code</a></li>
<li><a href="#exercise-2-profile-and-optimize">Exercise 2: Profile and Optimize</a></li>
<li><a href="#exercise-3-memory-leak-detection">Exercise 3: Memory Leak Detection</a></li>
<li><a href="#exercise-4-fix-race-condition">Exercise 4: Fix Race Condition</a></li>
</ul>
</li>
<li><a href="#navigation">Navigation</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="debugging-profiling">Debugging &amp; Profiling<a class="header-link" href="#debugging-profiling" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Topic</strong>: Programming
<strong>Lesson</strong>: 11 of 16
<strong>Prerequisites</strong>: Error Handling, Testing Fundamentals, Program Flow Control
<strong>Objective</strong>: Develop systematic debugging skills, master debugging tools across languages, understand profiling techniques, and learn to identify and fix performance bottlenecks.</p>
</blockquote>
<hr />
<h2 id="introduction">Introduction<a class="header-link" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Debugging is an essential programming skill. Every developer spends significant time debugging ‚Äì finding and fixing bugs is often harder than writing code in the first place. The difference between novice and expert developers isn't how many bugs they create (everyone creates bugs), but how efficiently they find and fix them.</p>
<p>This lesson teaches you systematic debugging techniques, introduces debugging tools across multiple languages, covers performance profiling, and helps you develop a debugging mindset that will serve you throughout your career.</p>
<hr />
<h2 id="the-debugging-mindset">The Debugging Mindset<a class="header-link" href="#the-debugging-mindset" title="Permanent link">&para;</a></h2>
<h3 id="systematic-approach-not-random-changes">Systematic Approach, Not Random Changes<a class="header-link" href="#systematic-approach-not-random-changes" title="Permanent link">&para;</a></h3>
<p><strong>Bad debugging:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Something&#39;s wrong... let me just try changing things randomly</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">calculate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># Doesn&#39;t work</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">calculate</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># Try swapping parameters</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">calculate</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># Try adding 1</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">calculate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># Try multiplying by 2</span>
<span class="c1"># Eventually, something might work, but you don&#39;t understand WHY</span>
</code></pre></div>

<p><strong>Good debugging:</strong></p>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">Observe</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bug</span><span class="p">:</span><span class="w"> </span><span class="n">What</span><span class="w"> </span><span class="n">exactly</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">happening</span><span class="err">?</span>
<span class="mf">2.</span><span class="w"> </span><span class="kr">For</span><span class="n">m</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hypothesis</span><span class="p">:</span><span class="w"> </span><span class="n">Why</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">happening</span><span class="err">?</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">Test</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hypothesis</span><span class="p">:</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="nb">log</span><span class="n">ging</span><span class="p">,</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">debugger</span><span class="p">,</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">test</span>
<span class="mf">4.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="n">hypothesis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">wrong</span><span class="p">,</span><span class="w"> </span><span class="kr">for</span><span class="n">m</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">new</span><span class="w"> </span><span class="kr">on</span><span class="n">e</span>
<span class="mf">5.</span><span class="w"> </span><span class="kr">If</span><span class="w"> </span><span class="n">hypothesis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">fix</span><span class="w"> </span><span class="n">it</span>
<span class="mf">6.</span><span class="w"> </span><span class="kr">Verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">fix</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">tests</span>
</code></pre></div>

<h3 id="the-scientific-method-of-debugging">The Scientific Method of Debugging<a class="header-link" href="#the-scientific-method-of-debugging" title="Permanent link">&para;</a></h3>
<p>Debugging is like scientific investigation:</p>
<p><strong>1. Observe the bug (Reproduce it!)</strong></p>
<p>Before you can fix a bug, you must be able to reproduce it reliably.</p>
<div class="highlight"><pre><span></span><code>Bug report: &quot;The app crashes sometimes when I click the button&quot;

Questions to ask:
- Which button?
- What were you doing before clicking?
- Does it happen every time or randomly?
- What browser/OS/version?
- What error message appears?
</code></pre></div>

<p><strong>Minimal reproducible example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Complex scenario (hard to debug)</span>
<span class="c1"># &quot;After logging in as admin, navigating to the dashboard,</span>
<span class="c1">#  clicking reports, filtering by date, and clicking export,</span>
<span class="c1">#  the app crashes&quot;</span>

<span class="c1"># Minimal reproduction (easier to debug)</span>
<span class="c1"># &quot;Calling export_report(start_date=None) crashes&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">export_report</span><span class="p">(</span><span class="n">start_date</span><span class="p">):</span>
    <span class="c1"># Crashes here because start_date is None</span>
    <span class="k">return</span> <span class="n">start_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># AttributeError</span>
</code></pre></div>

<p><strong>2. Form a hypothesis</strong></p>
<p>Based on symptoms, what could be causing this?</p>
<div class="highlight"><pre><span></span><code><span class="n">Symptom</span><span class="o">:</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">login</span><span class="w"> </span><span class="n">fails</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s2">&quot;Invalid password&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">password</span>

<span class="n">Hypotheses</span><span class="o">:</span>
<span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">case</span><span class="o">-</span><span class="n">sensitive</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">entering</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="k">case</span>
<span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="n">Password</span><span class="w"> </span><span class="n">hashing</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">changed</span>
<span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="n">Database</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">hash</span>
<span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="n">Whitespace</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">field</span>
</code></pre></div>

<p><strong>3. Test the hypothesis</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Hypothesis: Whitespace in password field</span>
<span class="c1"># Test: Log the password length and content</span>
<span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Password length: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Password repr: </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">password</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Shows whitespace</span>
    <span class="c1"># ...rest of login logic</span>
</code></pre></div>

<p><strong>4. Fix and verify</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Fix: Strip whitespace</span>
<span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c1"># ...rest of login logic</span>

<span class="c1"># Verify: Write a test</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_login_with_whitespace</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">login</span><span class="p">(</span><span class="s2">&quot;alice&quot;</span><span class="p">,</span> <span class="s2">&quot;  secret123  &quot;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span>
</code></pre></div>

<hr />
<h2 id="reproducing-bugs">Reproducing Bugs<a class="header-link" href="#reproducing-bugs" title="Permanent link">&para;</a></h2>
<p><strong>The most critical step in debugging is reproducing the bug reliably.</strong></p>
<h3 id="recording-steps-to-reproduce">Recording Steps to Reproduce<a class="header-link" href="#recording-steps-to-reproduce" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Steps to reproduce:
1. Navigate to http://localhost:3000/login
2. Enter username: &quot;alice&quot;
3. Enter password: &quot;secret123&quot;
4. Click &quot;Login&quot; button
5. Error appears: &quot;Invalid password&quot;

Expected: User should be logged in
Actual: &quot;Invalid password&quot; error
</code></pre></div>

<h3 id="minimal-reproducible-example">Minimal Reproducible Example<a class="header-link" href="#minimal-reproducible-example" title="Permanent link">&para;</a></h3>
<p>Strip away everything unnecessary:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Original code (too complex to debug)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">process_user_data</span><span class="p">(</span><span class="n">users</span><span class="p">):</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">fetch_profile</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">load_settings</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
        <span class="n">preferences</span> <span class="o">=</span> <span class="n">parse_preferences</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">format_output</span><span class="p">(</span><span class="n">preferences</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">results</span>

<span class="c1"># Bug: Sometimes returns empty list</span>

<span class="c1"># Minimal reproduction:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_bug</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">process_user_data</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>  <span class="c1"># Fails! Returns empty list</span>

<span class="c1"># Now debug why the loop doesn&#39;t produce results</span>
</code></pre></div>

<hr />
<h2 id="printlog-debugging">Print/Log Debugging<a class="header-link" href="#printlog-debugging" title="Permanent link">&para;</a></h2>
<p>The simplest debugging technique: add print statements to see what's happening.</p>
<h3 id="strategic-print-statements">Strategic Print Statements<a class="header-link" href="#strategic-print-statements" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">customer_tier</span><span class="p">,</span> <span class="n">promo_code</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Input: price=</span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">, tier=</span><span class="si">{</span><span class="n">customer_tier</span><span class="si">}</span><span class="s2">, code=</span><span class="si">{</span><span class="n">promo_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">base_discount</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">customer_tier</span> <span class="o">==</span> <span class="s2">&quot;gold&quot;</span><span class="p">:</span>
        <span class="n">base_discount</span> <span class="o">=</span> <span class="mf">0.2</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Gold tier: base_discount=</span><span class="si">{</span><span class="n">base_discount</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">customer_tier</span> <span class="o">==</span> <span class="s2">&quot;silver&quot;</span><span class="p">:</span>
        <span class="n">base_discount</span> <span class="o">=</span> <span class="mf">0.1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Silver tier: base_discount=</span><span class="si">{</span><span class="n">base_discount</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">promo_discount</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">promo_code</span> <span class="o">==</span> <span class="s2">&quot;SAVE20&quot;</span><span class="p">:</span>
        <span class="n">promo_discount</span> <span class="o">=</span> <span class="mf">0.2</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Promo code applied: promo_discount=</span><span class="si">{</span><span class="n">promo_discount</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">total_discount</span> <span class="o">=</span> <span class="n">base_discount</span> <span class="o">+</span> <span class="n">promo_discount</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Total discount: </span><span class="si">{</span><span class="n">total_discount</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">final_price</span> <span class="o">=</span> <span class="n">price</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">total_discount</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] Final price: </span><span class="si">{</span><span class="n">final_price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">final_price</span>
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="k">Input</span><span class="err">:</span><span class="w"> </span><span class="n">price</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">tier</span><span class="o">=</span><span class="n">gold</span><span class="p">,</span><span class="w"> </span><span class="n">code</span><span class="o">=</span><span class="n">SAVE20</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Gold</span><span class="w"> </span><span class="nl">tier</span><span class="p">:</span><span class="w"> </span><span class="n">base_discount</span><span class="o">=</span><span class="mf">0.2</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Promo</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="nl">applied</span><span class="p">:</span><span class="w"> </span><span class="n">promo_discount</span><span class="o">=</span><span class="mf">0.2</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Total</span><span class="w"> </span><span class="nl">discount</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Final</span><span class="w"> </span><span class="nl">price</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span>
</code></pre></div>

<h3 id="structured-logging-vs-print">Structured Logging vs Print<a class="header-link" href="#structured-logging-vs-print" title="Permanent link">&para;</a></h3>
<p>Print statements are quick but limited. Use logging for production code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(name)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span>
<span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">process_order</span><span class="p">(</span><span class="n">order_id</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing order </span><span class="si">{</span><span class="n">order_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="n">fetch_order</span><span class="p">(</span><span class="n">order_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Order details: </span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">validate_order</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Order </span><span class="si">{</span><span class="n">order_id</span><span class="si">}</span><span class="s2"> validated successfully&quot;</span><span class="p">)</span>

        <span class="n">process_payment</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Payment processed for order </span><span class="si">{</span><span class="n">order_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Order </span><span class="si">{</span><span class="n">order_id</span><span class="si">}</span><span class="s2"> validation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="n">PaymentError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Payment failed for order </span><span class="si">{</span><span class="n">order_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="highlight"><pre><span></span><code><span class="mf">2024</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">15</span><span class="w"> </span><span class="mf">10</span><span class="p">:</span><span class="mf">30</span><span class="p">:</span><span class="mf">15</span><span class="p">,</span><span class="mf">123</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__main__</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="ow">or</span><span class="n">der</span><span class="w"> </span><span class="mf">12345</span>
<span class="mf">2024</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">15</span><span class="w"> </span><span class="mf">10</span><span class="p">:</span><span class="mf">30</span><span class="p">:</span><span class="mf">15</span><span class="p">,</span><span class="mf">156</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__main__</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ow">Or</span><span class="n">der</span><span class="w"> </span><span class="n">details</span><span class="p">:</span><span class="w"> </span><span class="ow">Or</span><span class="n">der</span><span class="p">(</span><span class="n">id</span><span class="o">=</span><span class="mf">12345</span><span class="p">,</span><span class="w"> </span><span class="kr">to</span><span class="n">tal</span><span class="o">=</span><span class="mf">99.99</span><span class="p">)</span>
<span class="mf">2024</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">15</span><span class="w"> </span><span class="mf">10</span><span class="p">:</span><span class="mf">30</span><span class="p">:</span><span class="mf">15</span><span class="p">,</span><span class="mf">200</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__main__</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ow">Or</span><span class="n">der</span><span class="w"> </span><span class="mf">12345</span><span class="w"> </span><span class="nb">val</span><span class="n">idated</span><span class="w"> </span><span class="n">successfully</span>
<span class="mf">2024</span><span class="o">-</span><span class="mf">01</span><span class="o">-</span><span class="mf">15</span><span class="w"> </span><span class="mf">10</span><span class="p">:</span><span class="mf">30</span><span class="p">:</span><span class="mf">15</span><span class="p">,</span><span class="mf">450</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__main__</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Payment</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="ow">or</span><span class="n">der</span><span class="w"> </span><span class="mf">12345</span>
</code></pre></div>

<hr />
<h2 id="interactive-debuggers">Interactive Debuggers<a class="header-link" href="#interactive-debuggers" title="Permanent link">&para;</a></h2>
<p>Debuggers let you pause execution, inspect variables, and step through code line by line.</p>
<h3 id="common-debugger-operations">Common Debugger Operations<a class="header-link" href="#common-debugger-operations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Breakpoint</strong>: Pause execution at a specific line</li>
<li><strong>Step Over</strong>: Execute current line, move to next line</li>
<li><strong>Step Into</strong>: Enter function calls to debug them</li>
<li><strong>Step Out</strong>: Finish current function, return to caller</li>
<li><strong>Continue</strong>: Resume execution until next breakpoint</li>
<li><strong>Watch/Inspect</strong>: View variable values</li>
<li><strong>Conditional Breakpoint</strong>: Pause only when condition is true</li>
</ul>
<h3 id="gdb-cc">GDB (C/C++)<a class="header-link" href="#gdb-cc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// debug_example.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">factorial</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Result: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Compile with debug symbols:</strong></p>
<div class="highlight"><pre><span></span><code>gcc<span class="w"> </span>-g<span class="w"> </span>debug_example.c<span class="w"> </span>-o<span class="w"> </span>debug_example
</code></pre></div>

<p><strong>Debug with GDB:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gdb<span class="w"> </span>debug_example
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span><span class="k">break</span><span class="w"> </span>factorial<span class="w">      </span><span class="c1"># Set breakpoint at factorial function</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>run<span class="w">                  </span><span class="c1"># Start execution</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>print<span class="w"> </span>n<span class="w">              </span><span class="c1"># Print value of n</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>next<span class="w">                 </span><span class="c1"># Execute next line (step over)</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>step<span class="w">                 </span><span class="c1"># Step into function call</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span><span class="k">continue</span><span class="w">             </span><span class="c1"># Continue to next breakpoint</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>backtrace<span class="w">            </span><span class="c1"># Show call stack</span>
<span class="o">(</span>gdb<span class="o">)</span><span class="w"> </span>quit
</code></pre></div>

<h3 id="pdb-python">pdb (Python)<a class="header-link" href="#pdb-python" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># debug_example.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pdb</span>

<span class="k">def</span><span class="w"> </span><span class="nf">calculate_average</span><span class="p">(</span><span class="n">numbers</span><span class="p">):</span>
    <span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>  <span class="c1"># Debugger will pause here</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">average</span> <span class="o">=</span> <span class="n">total</span> <span class="o">/</span> <span class="n">count</span>
    <span class="k">return</span> <span class="n">average</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">calculate_average</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Run and debug:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>debug_example.py
&gt;<span class="w"> </span>debug_example.py<span class="o">(</span><span class="m">5</span><span class="o">)</span>calculate_average<span class="o">()</span>
-&gt;<span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>sum<span class="o">(</span>numbers<span class="o">)</span>
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>p<span class="w"> </span>numbers<span class="w">           </span><span class="c1"># Print numbers</span>
<span class="o">[</span><span class="m">10</span>,<span class="w"> </span><span class="m">20</span>,<span class="w"> </span><span class="m">30</span>,<span class="w"> </span><span class="m">40</span>,<span class="w"> </span><span class="m">50</span><span class="o">]</span>
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>n<span class="w">                   </span><span class="c1"># Next line</span>
&gt;<span class="w"> </span>debug_example.py<span class="o">(</span><span class="m">6</span><span class="o">)</span>calculate_average<span class="o">()</span>
-&gt;<span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>numbers<span class="o">)</span>
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>p<span class="w"> </span>total
<span class="m">150</span>
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>n
&gt;<span class="w"> </span>debug_example.py<span class="o">(</span><span class="m">7</span><span class="o">)</span>calculate_average<span class="o">()</span>
-&gt;<span class="w"> </span><span class="nv">average</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>total<span class="w"> </span>/<span class="w"> </span>count
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>p<span class="w"> </span>count
<span class="m">5</span>
<span class="o">(</span>Pdb<span class="o">)</span><span class="w"> </span>c<span class="w">                   </span><span class="c1"># Continue</span>
Average:<span class="w"> </span><span class="m">30</span>.0
</code></pre></div>

<p><strong>Modern alternative: breakpoint() (Python 3.7+)</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_average</span><span class="p">(</span><span class="n">numbers</span><span class="p">):</span>
    <span class="nb">breakpoint</span><span class="p">()</span>  <span class="c1"># Automatically invokes debugger</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
    <span class="n">average</span> <span class="o">=</span> <span class="n">total</span> <span class="o">/</span> <span class="n">count</span>
    <span class="k">return</span> <span class="n">average</span>
</code></pre></div>

<h3 id="chrome-devtools-javascript">Chrome DevTools (JavaScript)<a class="header-link" href="#chrome-devtools-javascript" title="Permanent link">&para;</a></h3>
<p><strong>HTML:</strong></p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;calculate&quot;</span><span class="p">&gt;</span>Calculate<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;result&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;app.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p><strong>JavaScript:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// app.js</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">calculateFactorial</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">debugger</span><span class="p">;</span><span class="w">  </span><span class="c1">// Debugger will pause here when DevTools is open</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">calculateFactorial</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;calculate&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculateFactorial</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">).</span><span class="nx">textContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`Result: </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>How to debug:</strong>
1. Open Chrome DevTools (F12)
2. Go to "Sources" tab
3. Open app.js
4. Click line number to set breakpoint (or use <code>debugger;</code> statement)
5. Trigger the code (click button)
6. Debugger pauses at breakpoint
7. Inspect variables in "Scope" panel
8. Use controls to step through code</p>
<h3 id="ide-debuggers">IDE Debuggers<a class="header-link" href="#ide-debuggers" title="Permanent link">&para;</a></h3>
<p>Most IDEs (Visual Studio Code, PyCharm, IntelliJ IDEA) have built-in visual debuggers:
- Click in margin to set breakpoints
- Press F5 to start debugging
- See variables in side panel
- Step through code with toolbar buttons</p>
<p><strong>Visual Studio Code (launch.json):</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python: Current File&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;program&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${file}&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;console&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integratedTerminal&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="common-bug-patterns">Common Bug Patterns<a class="header-link" href="#common-bug-patterns" title="Permanent link">&para;</a></h2>
<p>Recognizing these patterns saves hours of debugging:</p>
<h3 id="1-off-by-one-errors">1. Off-by-One Errors<a class="header-link" href="#1-off-by-one-errors" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># BUG: Misses last element</span>
<span class="k">def</span><span class="w"> </span><span class="nf">print_array</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># Should be len(arr)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># BUG: Array index out of bounds</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_last_element</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)]</span>  <span class="c1"># Should be len(arr) - 1</span>

<span class="c1"># BUG: Fence post problem</span>
<span class="k">def</span><span class="w"> </span><span class="nf">count_numbers</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
    <span class="c1"># Count numbers from start to end inclusive</span>
    <span class="k">return</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span>  <span class="c1"># Should be end - start + 1</span>
    <span class="c1"># If start=1, end=5, there are 5 numbers (1,2,3,4,5), not 4</span>
</code></pre></div>

<h3 id="2-nullundefined-reference">2. Null/Undefined Reference<a class="header-link" href="#2-nullundefined-reference" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// BUG: user might be null</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">getUserEmail</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">findUser</span><span class="p">(</span><span class="nx">userId</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span><span class="w">  </span><span class="c1">// TypeError if user is null</span>
<span class="p">}</span>

<span class="c1">// FIX: Check for null</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">getUserEmail</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">findUser</span><span class="p">(</span><span class="nx">userId</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// FIX: Optional chaining (ES2020)</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">getUserEmail</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">findUser</span><span class="p">(</span><span class="nx">userId</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">user</span><span class="o">?</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span><span class="w">  </span><span class="c1">// Returns undefined if user is null</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="3-race-conditions">3. Race Conditions<a class="header-link" href="#3-race-conditions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// BUG: Race condition</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">incrementCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">counter</span><span class="p">;</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">delay</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="w">  </span><span class="c1">// Simulate async operation</span>
<span class="w">    </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// If two calls run concurrently:</span>
<span class="c1">// Call 1: reads counter=0</span>
<span class="c1">// Call 2: reads counter=0</span>
<span class="c1">// Call 1: sets counter=1</span>
<span class="c1">// Call 2: sets counter=1</span>
<span class="c1">// Expected: 2, Actual: 1</span>

<span class="c1">// FIX: Use atomic operations or locks</span>
</code></pre></div>

<h3 id="4-integer-overflow">4. Integer Overflow<a class="header-link" href="#4-integer-overflow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// BUG: Integer overflow</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000000000</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000000000</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// Overflow! Wraps to negative number</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span><span class="w">  </span><span class="c1">// -294967296</span>

<span class="c1">// FIX: Use long</span>
<span class="kt">long</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000000000</span><span class="p">;</span>
<span class="kt">long</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000000000</span><span class="p">;</span>
<span class="kt">long</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// 4000000000</span>
</code></pre></div>

<h3 id="5-wrong-operator">5. Wrong Operator<a class="header-link" href="#5-wrong-operator" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># BUG: Assignment instead of comparison</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">:</span>  <span class="c1"># SyntaxError in Python (good!)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x is 5&quot;</span><span class="p">)</span>

<span class="c1"># In C/C++/Java, this compiles but is wrong:</span>
<span class="c1"># if (x = 5) { ... }  // Assigns 5 to x, then checks if 5 is truthy (always true)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// BUG: == vs ===</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">);</span><span class="w">   </span><span class="c1">// true (type coercion)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">0</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// false (strict equality)</span>

<span class="c1">// Always use === in JavaScript</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">userId</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// Correct</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">userId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w">   </span><span class="c1">// Dangerous (matches 0, &#39;0&#39;, false, &#39;&#39;, ...)</span>
</code></pre></div>

<h3 id="6-scope-issues-closures">6. Scope Issues (Closures)<a class="header-link" href="#6-scope-issues-closures" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// BUG: All buttons alert &quot;5&quot;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="sb">`button</span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="w">  </span><span class="c1">// All closures reference the same &#39;i&#39;, which is 5 after loop</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// FIX 1: Use let (block scope)</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="sb">`button</span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="w">  </span><span class="c1">// Each closure gets its own &#39;i&#39;</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// FIX 2: IIFE (Immediately Invoked Function Expression)</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="sb">`button</span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">alert</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">})(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="advanced-debugging-techniques">Advanced Debugging Techniques<a class="header-link" href="#advanced-debugging-techniques" title="Permanent link">&para;</a></h2>
<h3 id="rubber-duck-debugging">Rubber Duck Debugging<a class="header-link" href="#rubber-duck-debugging" title="Permanent link">&para;</a></h3>
<p>Explain your code to a rubber duck (or any inanimate object). Often, the act of explaining forces you to think clearly and spot the bug.</p>
<div class="highlight"><pre><span></span><code><span class="nv">Developer</span>:<span class="w"> </span><span class="err">&quot;So this function takes a list of numbers and returns the average.</span>
<span class="err">           First, I sum the numbers... oh wait, if the list is empty,</span>
<span class="w">           </span><span class="nv">I</span><span class="s1">&#39;ll divide by zero! That&#39;</span><span class="nv">s</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">bug</span><span class="o">!</span><span class="err">&quot;</span>
</code></pre></div>

<h3 id="binary-search-debugging">Binary Search Debugging<a class="header-link" href="#binary-search-debugging" title="Permanent link">&para;</a></h3>
<p>When you know a bug was introduced between two points in time, use binary search to find when:</p>
<div class="highlight"><pre><span></span><code>Commit A (working) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ Commit Z (broken)
                 ‚ñ≤
                 Test middle commit
                 Is it working or broken?
</code></pre></div>

<p>Keep dividing the range until you find the exact commit that introduced the bug.</p>
<h3 id="git-bisect">Git Bisect<a class="header-link" href="#git-bisect" title="Permanent link">&para;</a></h3>
<p>Automate binary search debugging:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Start bisect</span>
git<span class="w"> </span>bisect<span class="w"> </span>start

<span class="c1"># Mark current commit as bad</span>
git<span class="w"> </span>bisect<span class="w"> </span>bad

<span class="c1"># Mark a known good commit</span>
git<span class="w"> </span>bisect<span class="w"> </span>good<span class="w"> </span>v1.2.0

<span class="c1"># Git checks out middle commit</span>
<span class="c1"># Test it, then mark as good or bad</span>
git<span class="w"> </span>bisect<span class="w"> </span>good<span class="w">   </span><span class="c1"># or git bisect bad</span>

<span class="c1"># Repeat until bug is found</span>
<span class="c1"># Git will identify the exact commit</span>

<span class="c1"># End bisect</span>
git<span class="w"> </span>bisect<span class="w"> </span>reset
</code></pre></div>

<h3 id="divide-and-conquer">Divide and Conquer<a class="header-link" href="#divide-and-conquer" title="Permanent link">&para;</a></h3>
<p>Isolate the problem by commenting out code sections:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">complex_function</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># Step 1</span>
    <span class="n">processed</span> <span class="o">=</span> <span class="n">preprocess</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After preprocess: </span><span class="si">{</span><span class="n">processed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Check if this is correct</span>

    <span class="c1"># Step 2</span>
    <span class="c1"># transformed = transform(processed)</span>
    <span class="c1"># print(f&quot;After transform: {transformed}&quot;)</span>

    <span class="c1"># Step 3</span>
    <span class="c1"># result = aggregate(transformed)</span>
    <span class="c1"># print(f&quot;After aggregate: {result}&quot;)</span>

    <span class="c1"># return result</span>
    <span class="k">return</span> <span class="n">processed</span>  <span class="c1"># Temporarily return early</span>

<span class="c1"># If preprocess output is wrong, debug preprocess()</span>
<span class="c1"># If preprocess output is correct, uncomment transform() and debug that</span>
</code></pre></div>

<hr />
<h2 id="memory-debugging">Memory Debugging<a class="header-link" href="#memory-debugging" title="Permanent link">&para;</a></h2>
<h3 id="memory-leaks-symptoms-and-detection">Memory Leaks: Symptoms and Detection<a class="header-link" href="#memory-leaks-symptoms-and-detection" title="Permanent link">&para;</a></h3>
<p><strong>Symptoms:</strong>
- Application memory usage grows over time
- Eventually runs out of memory or crashes
- Performance degrades over time</p>
<p><strong>Common causes:</strong>
- Objects not being freed/garbage collected
- Event listeners not removed
- File handles not closed
- Circular references (in languages without GC)</p>
<h3 id="valgrind-cc">Valgrind (C/C++)<a class="header-link" href="#valgrind-cc" title="Permanent link">&para;</a></h3>
<p>Detect memory leaks and invalid memory access:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// leak.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// Bug: forgot to free</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Run Valgrind:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>-g<span class="w"> </span>leak.c<span class="w"> </span>-o<span class="w"> </span>leak
$<span class="w"> </span>valgrind<span class="w"> </span>--leak-check<span class="o">=</span>full<span class="w"> </span>./leak

<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w"> </span>HEAP<span class="w"> </span>SUMMARY:
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w">     </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>at<span class="w"> </span>exit:<span class="w"> </span><span class="m">400</span><span class="w"> </span>bytes<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nv">blocks</span>
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w">   </span>total<span class="w"> </span>heap<span class="w"> </span>usage:<span class="w"> </span><span class="m">1</span><span class="w"> </span>allocs,<span class="w"> </span><span class="m">0</span><span class="w"> </span>frees,<span class="w"> </span><span class="m">400</span><span class="w"> </span>bytes<span class="w"> </span><span class="nv">allocated</span>
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span>
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w"> </span><span class="m">400</span><span class="w"> </span>bytes<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>blocks<span class="w"> </span>are<span class="w"> </span>definitely<span class="w"> </span><span class="nv">lost</span>
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w">    </span>at<span class="w"> </span>0x4C2FB0F:<span class="w"> </span>malloc<span class="w"> </span><span class="o">(</span><span class="k">in</span><span class="w"> </span>/usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so<span class="o">)</span>
<span class="o">==</span><span class="nv">12345</span><span class="o">==</span><span class="w">    </span>by<span class="w"> </span>0x40053E:<span class="w"> </span>main<span class="w"> </span><span class="o">(</span>leak.c:4<span class="o">)</span>
</code></pre></div>

<p><strong>Fix:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span><span class="w">  </span><span class="c1">// Free allocated memory</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="memory_profiler-python">memory_profiler (Python)<a class="header-link" href="#memory_profiler-python" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># memory_test.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">memory_profiler</span><span class="w"> </span><span class="kn">import</span> <span class="n">profile</span>

<span class="nd">@profile</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_large_list</span><span class="p">():</span>
    <span class="n">large_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">large_list</span>

<span class="nd">@profile</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">create_large_list</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">result</span>  <span class="c1"># Explicitly delete to free memory</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>

<p><strong>Run:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>memory_profiler<span class="w"> </span>memory_test.py

Line<span class="w"> </span><span class="c1">#    Mem usage    Increment   Line Contents</span>
<span class="o">================================================</span>
<span class="w">     </span><span class="m">4</span><span class="w">   </span><span class="m">38</span>.7<span class="w"> </span>MiB<span class="w">     </span><span class="m">38</span>.7<span class="w"> </span>MiB<span class="w">   </span>@profile
<span class="w">     </span><span class="m">5</span><span class="w">                             </span>def<span class="w"> </span>create_large_list<span class="o">()</span>:
<span class="w">     </span><span class="m">6</span><span class="w">   </span><span class="m">76</span>.3<span class="w"> </span>MiB<span class="w">     </span><span class="m">37</span>.6<span class="w"> </span>MiB<span class="w">       </span><span class="nv">large_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>i<span class="w"> </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span>range<span class="o">(</span><span class="m">1000000</span><span class="o">)]</span>
<span class="w">     </span><span class="m">7</span><span class="w">   </span><span class="m">76</span>.3<span class="w"> </span>MiB<span class="w">      </span><span class="m">0</span>.0<span class="w"> </span>MiB<span class="w">       </span><span class="k">return</span><span class="w"> </span>large_list
</code></pre></div>

<h3 id="chrome-devtools-memory-profiler-javascript">Chrome DevTools Memory Profiler (JavaScript)<a class="header-link" href="#chrome-devtools-memory-profiler-javascript" title="Permanent link">&para;</a></h3>
<ol>
<li>Open Chrome DevTools ‚Üí Memory tab</li>
<li>Take heap snapshot</li>
<li>Perform actions in your app</li>
<li>Take another heap snapshot</li>
<li>Compare snapshots to see what objects were created and not freed</li>
</ol>
<p><strong>Common leak pattern:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// BUG: Event listener leak</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">handleClick</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clicked&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Bug: No cleanup when component is destroyed</span>
<span class="p">}</span>

<span class="c1">// FIX: Remove listener in cleanup</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">handleClick</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clicked&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">destroy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="performance-profiling">Performance Profiling<a class="header-link" href="#performance-profiling" title="Permanent link">&para;</a></h2>
<p>Profiling identifies performance bottlenecks: which functions are slow, which are called most often.</p>
<h3 id="cpu-profiling-hotspots-and-call-graphs">CPU Profiling: Hotspots and Call Graphs<a class="header-link" href="#cpu-profiling-hotspots-and-call-graphs" title="Permanent link">&para;</a></h3>
<p><strong>Hotspot:</strong> A function that consumes a lot of CPU time.</p>
<h3 id="cprofile-python">cProfile (Python)<a class="header-link" href="#cprofile-python" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># slow_program.py</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="k">def</span><span class="w"> </span><span class="nf">find_primes</span><span class="p">(</span><span class="n">max_num</span><span class="p">):</span>
    <span class="n">primes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_num</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">primes</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">find_primes</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">}</span><span class="s2"> primes&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Profile it:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span>-s<span class="w"> </span>cumulative<span class="w"> </span>slow_program.py

<span class="w">         </span><span class="m">54235</span><span class="w"> </span><span class="k">function</span><span class="w"> </span>calls<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">2</span>.841<span class="w"> </span>seconds

<span class="w">   </span>Ordered<span class="w"> </span>by:<span class="w"> </span>cumulative<span class="w"> </span><span class="nb">time</span>

<span class="w">   </span>ncalls<span class="w">  </span>tottime<span class="w">  </span>percall<span class="w">  </span>cumtime<span class="w">  </span>percall<span class="w"> </span>filename:lineno<span class="o">(</span><span class="k">function</span><span class="o">)</span>
<span class="w">        </span><span class="m">1</span><span class="w">    </span><span class="m">0</span>.000<span class="w">    </span><span class="m">0</span>.000<span class="w">    </span><span class="m">2</span>.841<span class="w">    </span><span class="m">2</span>.841<span class="w"> </span>slow_program.py:1<span class="o">(</span>&lt;module&gt;<span class="o">)</span>
<span class="w">        </span><span class="m">1</span><span class="w">    </span><span class="m">0</span>.010<span class="w">    </span><span class="m">0</span>.010<span class="w">    </span><span class="m">2</span>.841<span class="w">    </span><span class="m">2</span>.841<span class="w"> </span>slow_program.py:9<span class="o">(</span>find_primes<span class="o">)</span>
<span class="w">     </span><span class="m">9998</span><span class="w">    </span><span class="m">2</span>.831<span class="w">    </span><span class="m">0</span>.000<span class="w">    </span><span class="m">2</span>.831<span class="w">    </span><span class="m">0</span>.000<span class="w"> </span>slow_program.py:1<span class="o">(</span>is_prime<span class="o">)</span>
</code></pre></div>

<p><strong>Optimization:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># Only check odd numbers up to sqrt(n)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mf">0.5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>

<p><strong>After optimization:</strong></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span>-s<span class="w"> </span>cumulative<span class="w"> </span>slow_program.py

<span class="w">         </span><span class="m">10235</span><span class="w"> </span><span class="k">function</span><span class="w"> </span>calls<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.051<span class="w"> </span>seconds
<span class="c1"># 55x faster!</span>
</code></pre></div>

<h3 id="chrome-devtools-performance-tab-javascript">Chrome DevTools Performance Tab (JavaScript)<a class="header-link" href="#chrome-devtools-performance-tab-javascript" title="Permanent link">&para;</a></h3>
<ol>
<li>Open DevTools ‚Üí Performance tab</li>
<li>Click Record</li>
<li>Perform the slow operation</li>
<li>Stop recording</li>
<li>Analyze the flame graph</li>
</ol>
<p><strong>Flame graph:</strong> Shows which functions take the most time. Wider bars = more time.</p>
<h3 id="perf-linux">perf (Linux)<a class="header-link" href="#perf-linux" title="Permanent link">&para;</a></h3>
<p>System-wide profiling tool:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Profile a program</span>
$<span class="w"> </span>perf<span class="w"> </span>record<span class="w"> </span>./my_program

<span class="c1"># View results</span>
$<span class="w"> </span>perf<span class="w"> </span>report

<span class="c1"># Generate flame graph (with FlameGraph scripts)</span>
$<span class="w"> </span>perf<span class="w"> </span>script<span class="w"> </span><span class="p">|</span><span class="w"> </span>stackcollapse-perf.pl<span class="w"> </span><span class="p">|</span><span class="w"> </span>flamegraph.pl<span class="w"> </span>&gt;<span class="w"> </span>flamegraph.svg
</code></pre></div>

<hr />
<h2 id="benchmarking">Benchmarking<a class="header-link" href="#benchmarking" title="Permanent link">&para;</a></h2>
<h3 id="micro-benchmarks-vs-realistic-workloads">Micro-benchmarks vs Realistic Workloads<a class="header-link" href="#micro-benchmarks-vs-realistic-workloads" title="Permanent link">&para;</a></h3>
<p><strong>Micro-benchmark:</strong> Testing a single function in isolation</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">timeit</span>

<span class="c1"># Micro-benchmark: Which is faster, list comprehension or map?</span>
<span class="n">list_comp</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;[x*2 for x in range(1000)]&#39;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">map_func</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;list(map(lambda x: x*2, range(1000)))&#39;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;List comprehension: </span><span class="si">{</span><span class="n">list_comp</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Map function: </span><span class="si">{</span><span class="n">map_func</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Realistic workload:</strong> Testing with real data and usage patterns</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load actual user data from database</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">load_users_from_db</span><span class="p">()</span>

<span class="c1"># Measure time for realistic operation</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">process_all_users</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processed </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">users</span><span class="p">)</span><span class="si">}</span><span class="s2"> users in </span><span class="si">{</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Pitfall:</strong> Micro-benchmarks can be misleading. Optimizing for micro-benchmarks may not improve real-world performance.</p>
<h3 id="big-o-in-practice-when-constant-factors-matter">Big-O in Practice: When Constant Factors Matter<a class="header-link" href="#big-o-in-practice-when-constant-factors-matter" title="Permanent link">&para;</a></h3>
<p><strong>Theory:</strong> O(n log n) is better than O(n¬≤)</p>
<p><strong>Practice:</strong> For small n, O(n¬≤) with small constant factor may be faster than O(n log n) with large constant factor.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Insertion sort: O(n¬≤), but simple and fast for small lists</span>
<span class="k">def</span><span class="w"> </span><span class="nf">insertion_sort</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>

<span class="c1"># Quicksort: O(n log n), but overhead for small lists</span>
<span class="k">def</span><span class="w"> </span><span class="nf">quicksort</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arr</span>
    <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">left</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arr</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">pivot</span><span class="p">]</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arr</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">pivot</span><span class="p">]</span>
    <span class="n">right</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arr</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">pivot</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">left</span><span class="p">)</span> <span class="o">+</span> <span class="n">middle</span> <span class="o">+</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>

<span class="c1"># Benchmark</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="n">small_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>

<span class="c1"># For small lists, insertion sort may be faster despite worse Big-O</span>
</code></pre></div>

<hr />
<h2 id="common-performance-issues">Common Performance Issues<a class="header-link" href="#common-performance-issues" title="Permanent link">&para;</a></h2>
<h3 id="1-n1-query-problem">1. N+1 Query Problem<a class="header-link" href="#1-n1-query-problem" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Making N database queries when 1 would suffice</p>
<div class="highlight"><pre><span></span><code><span class="c1"># BAD: N+1 queries</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_users_with_posts</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM users&quot;</span><span class="p">)</span>  <span class="c1"># 1 query</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
        <span class="n">user</span><span class="o">.</span><span class="n">posts</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SELECT * FROM posts WHERE user_id=</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># N queries</span>
    <span class="k">return</span> <span class="n">users</span>

<span class="c1"># GOOD: 1 query with JOIN</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_users_with_posts</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT users.*, posts.*</span>
<span class="s2">        FROM users</span>
<span class="s2">        LEFT JOIN posts ON users.id = posts.user_id</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="2-unnecessary-re-renders-ui">2. Unnecessary Re-renders (UI)<a class="header-link" href="#2-unnecessary-re-renders-ui" title="Permanent link">&para;</a></h3>
<p><strong>React example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// BAD: Re-creates function on every render</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">TodoList</span><span class="p">({</span><span class="w"> </span><span class="nx">todos</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">todo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">TodoItem</span>
<span class="w">                    </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                    </span><span class="nx">todo</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">}</span>
<span class="w">                    </span><span class="nx">onDelete</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">deleteTodo</span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span><span class="w">  </span><span class="c1">// New function every render!</span>
<span class="w">                </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="p">))}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/ul&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// GOOD: Memoized callback</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">TodoList</span><span class="p">({</span><span class="w"> </span><span class="nx">todos</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleDelete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">((</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">deleteTodo</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">todo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">TodoItem</span>
<span class="w">                    </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">                    </span><span class="nx">todo</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">}</span>
<span class="w">                    </span><span class="nx">onDelete</span><span class="o">=</span><span class="p">{</span><span class="nx">handleDelete</span><span class="p">}</span>
<span class="w">                </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="p">))}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/ul&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="3-algorithmic-inefficiency">3. Algorithmic Inefficiency<a class="header-link" href="#3-algorithmic-inefficiency" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># BAD: O(n¬≤) for finding duplicates</span>
<span class="k">def</span><span class="w"> </span><span class="nf">has_duplicates</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># GOOD: O(n) using a set</span>
<span class="k">def</span><span class="w"> </span><span class="nf">has_duplicates</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>
</code></pre></div>

<h3 id="4-io-bottlenecks">4. I/O Bottlenecks<a class="header-link" href="#4-io-bottlenecks" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Synchronous I/O blocks the entire program</p>
<div class="highlight"><pre><span></span><code><span class="c1">// BAD: Synchronous, blocks the event loop</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;large-file.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// Blocks!</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

<span class="c1">// GOOD: Asynchronous</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">).</span><span class="nx">promises</span><span class="p">;</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">readFile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;large-file.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Python example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># BAD: Sequential API calls (slow)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fetch_all_users</span><span class="p">(</span><span class="n">user_ids</span><span class="p">):</span>
    <span class="n">users</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">user_id</span> <span class="ow">in</span> <span class="n">user_ids</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">fetch_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>  <span class="c1"># Each call waits for previous</span>
        <span class="n">users</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">users</span>

<span class="c1"># GOOD: Concurrent API calls (fast)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_all_users</span><span class="p">(</span><span class="n">user_ids</span><span class="p">):</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">fetch_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">user_id</span> <span class="ow">in</span> <span class="n">user_ids</span><span class="p">]</span>
    <span class="n">users</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">)</span>  <span class="c1"># All calls run concurrently</span>
    <span class="k">return</span> <span class="n">users</span>
</code></pre></div>

<hr />
<h2 id="summary">Summary<a class="header-link" href="#summary" title="Permanent link">&para;</a></h2>
<p><strong>Debugging Principles:</strong>
1. <strong>Reproduce first</strong> ‚Äì Can't fix what you can't reproduce
2. <strong>Minimal example</strong> ‚Äì Strip away complexity
3. <strong>Form hypotheses</strong> ‚Äì Don't change things randomly
4. <strong>Use the right tool</strong> ‚Äì Debugger for complex flow, logs for production, profiler for performance
5. <strong>Understand before fixing</strong> ‚Äì Know why it's broken, not just how to make it work
6. <strong>Verify the fix</strong> ‚Äì Write a test to ensure it stays fixed</p>
<p><strong>Performance Principles:</strong>
1. <strong>Measure first</strong> ‚Äì Don't optimize without profiling
2. <strong>Focus on hotspots</strong> ‚Äì 90% of time is spent in 10% of code
3. <strong>Algorithm beats micro-optimization</strong> ‚Äì O(n log n) vs O(n¬≤) matters more than loop unrolling
4. <strong>Real workloads</strong> ‚Äì Benchmark with realistic data and usage patterns
5. <strong>Know when to stop</strong> ‚Äì "Fast enough" is good enough</p>
<hr />
<h2 id="exercises">Exercises<a class="header-link" href="#exercises" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-debug-buggy-code">Exercise 1: Debug Buggy Code<a class="header-link" href="#exercise-1-debug-buggy-code" title="Permanent link">&para;</a></h3>
<p>Find and fix the bugs in this code:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_transactions</span><span class="p">(</span><span class="n">transactions</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">transaction</span> <span class="ow">in</span> <span class="n">transactions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">transaction</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;debit&#39;</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">-=</span> <span class="n">transaction</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="n">transaction</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">total</span>

<span class="n">transactions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;credit&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;debit&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;credit&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">process_transactions</span><span class="p">(</span><span class="n">transactions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Bugs to find:</strong>
- Syntax error
- Logic error (if any)</p>
<h3 id="exercise-2-profile-and-optimize">Exercise 2: Profile and Optimize<a class="header-link" href="#exercise-2-profile-and-optimize" title="Permanent link">&para;</a></h3>
<p>Profile this code and optimize it:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_common_elements</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">):</span>
    <span class="n">common</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item1</span> <span class="ow">in</span> <span class="n">list1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">item2</span> <span class="ow">in</span> <span class="n">list2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item1</span> <span class="o">==</span> <span class="n">item2</span> <span class="ow">and</span> <span class="n">item1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">common</span><span class="p">:</span>
                <span class="n">common</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">common</span>

<span class="c1"># Test with large lists</span>
<span class="n">list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
<span class="n">list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">15000</span><span class="p">))</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">find_common_elements</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="n">list2</span><span class="p">)</span>
</code></pre></div>

<p><strong>Tasks:</strong>
1. Profile the code to identify bottlenecks
2. Optimize it (hint: use sets)
3. Measure the performance improvement</p>
<h3 id="exercise-3-memory-leak-detection">Exercise 3: Memory Leak Detection<a class="header-link" href="#exercise-3-memory-leak-detection" title="Permanent link">&para;</a></h3>
<p>This JavaScript code has a memory leak. Find and fix it:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">DataStore</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">addData</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">notifySubscribers</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">notifySubscribers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">subscribers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">callback</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">callback</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">DataStore</span><span class="p">();</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">createComponent</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">render</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Rendering with&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;items&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">component</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">component</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Create and destroy components repeatedly</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">100</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createComponent</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Component is no longer used, but...</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Tasks:</strong>
1. Explain why this leaks memory
2. Implement an <code>unsubscribe</code> method
3. Ensure components are properly cleaned up</p>
<h3 id="exercise-4-fix-race-condition">Exercise 4: Fix Race Condition<a class="header-link" href="#exercise-4-fix-race-condition" title="Permanent link">&para;</a></h3>
<p>Fix the race condition in this code:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">100</span><span class="p">;</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">withdraw</span><span class="p">(</span><span class="nx">amount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">balance</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">amount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Simulate network delay</span>
<span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">));</span>
<span class="w">        </span><span class="nx">balance</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="nx">amount</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Two withdrawals happen concurrently</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
<span class="w">    </span><span class="nx">withdraw</span><span class="p">(</span><span class="mf">60</span><span class="p">),</span>
<span class="w">    </span><span class="nx">withdraw</span><span class="p">(</span><span class="mf">60</span><span class="p">)</span>
<span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="nx">results</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Withdrawals:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">results</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Final balance:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">balance</span><span class="p">);</span><span class="w">  </span><span class="c1">// Should be 100 or 40, never negative!</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Tasks:</strong>
1. Explain the race condition
2. Fix it using a lock/mutex pattern
3. Verify it works correctly with concurrent operations</p>
<hr />
<h2 id="navigation">Navigation<a class="header-link" href="#navigation" title="Permanent link">&para;</a></h2>
<p><strong>Previous Lesson</strong>: <a href="10_Testing_Fundamentals.md">10_Testing_Fundamentals.md</a>
<strong>Next Lesson</strong>: <a href="12_Concurrency_and_Parallelism.md">12_Concurrency_and_Parallelism.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Programming/10_Testing_Fundamentals.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Testing Fundamentals</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Programming/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Programming/12_Concurrency_and_Parallelism.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Concurrency & Parallelism</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">‚Üë</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}