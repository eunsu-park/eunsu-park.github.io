{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 14: Technical Documentation - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        ÌïúÍµ≠Ïñ¥
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/Software_Engineering/">Software Engineering</a>
    <span class="separator">/</span>
    <span class="current">Lesson 14: Technical Documentation</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Lesson 14: Technical Documentation</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Software_Engineering/13_DevOps_and_CICD.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Lesson 13: DevOps and CI/CD</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Software_Engineering/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Software_Engineering/15_Team_Dynamics_and_Communication.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 15: Team Dynamics and Communication</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-why-documentation-matters">1. Why Documentation Matters</a><ul>
<li><a href="#the-cost-of-poor-documentation">The Cost of Poor Documentation</a></li>
</ul>
</li>
<li><a href="#2-types-of-technical-documentation">2. Types of Technical Documentation</a><ul>
<li><a href="#requirements-documents">Requirements Documents</a></li>
<li><a href="#design-documents">Design Documents</a></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#user-guides-and-tutorials">User Guides and Tutorials</a></li>
<li><a href="#operational-documentation">Operational Documentation</a></li>
<li><a href="#architecture-decision-records">Architecture Decision Records</a></li>
</ul>
</li>
<li><a href="#3-documentation-as-code">3. Documentation as Code</a><ul>
<li><a href="#why-docs-as-code-works">Why Docs as Code Works</a></li>
<li><a href="#formats">Formats</a></li>
<li><a href="#documentation-generators">Documentation Generators</a></li>
<li><a href="#ci-checks-for-documentation">CI Checks for Documentation</a></li>
</ul>
</li>
<li><a href="#4-architecture-decision-records">4. Architecture Decision Records</a><ul>
<li><a href="#why-adrs">Why ADRs?</a></li>
<li><a href="#adr-format-nygard-format">ADR Format (Nygard Format)</a></li>
<li><a href="#adr-lifecycle">ADR Lifecycle</a></li>
<li><a href="#where-to-store-adrs">Where to Store ADRs</a></li>
</ul>
</li>
<li><a href="#5-api-documentation">5. API Documentation</a><ul>
<li><a href="#openapi-swagger">OpenAPI / Swagger</a></li>
<li><a href="#code-level-documentation">Code-Level Documentation</a></li>
</ul>
</li>
<li><a href="#6-readme-files">6. README Files</a><ul>
<li><a href="#essential-sections">Essential Sections</a></li>
</ul>
</li>
<li><a href="#7-diagrams">7. Diagrams</a><ul>
<li><a href="#diagrams-as-code">Diagrams as Code</a></li>
<li><a href="#the-c4-model">The C4 Model</a></li>
</ul>
</li>
<li><a href="#8-documentation-maintenance">8. Documentation Maintenance</a><ul>
<li><a href="#documentation-rot">Documentation Rot</a></li>
<li><a href="#strategies-to-combat-rot">Strategies to Combat Rot</a></li>
</ul>
</li>
<li><a href="#9-runbooks-and-playbooks">9. Runbooks and Playbooks</a><ul>
<li><a href="#runbooks">Runbooks</a></li>
<li><a href="#playbooks">Playbooks</a></li>
</ul>
</li>
<li><a href="#10-internal-knowledge-bases">10. Internal Knowledge Bases</a><ul>
<li><a href="#wiki-platforms">Wiki Platforms</a></li>
<li><a href="#common-pitfalls-of-wikis">Common Pitfalls of Wikis</a></li>
</ul>
</li>
<li><a href="#11-documentation-review-process">11. Documentation Review Process</a><ul>
<li><a href="#review-checklist">Review Checklist</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
<li><a href="#practice-exercises">Practice Exercises</a></li>
<li><a href="#further-reading">Further Reading</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="lesson-14-technical-documentation">Lesson 14: Technical Documentation<a class="header-link" href="#lesson-14-technical-documentation" title="Permanent link">&para;</a></h1>
<p><strong>Previous</strong>: <a href="./13_DevOps_and_CICD.md">DevOps and CI/CD</a> | <strong>Next</strong>: <a href="./15_Team_Dynamics_and_Communication.md">Team Dynamics and Communication</a></p>
<hr />
<p>Documentation is code's memory. Code tells you <em>what</em> a system does; documentation tells you <em>why</em> it does it that way, <em>how</em> to use it, and <em>what</em> decisions were made along the road. Good documentation multiplies a team's effectiveness ‚Äî it reduces the time spent answering repeated questions, enables faster onboarding, and preserves institutional knowledge that would otherwise leave when engineers move on. This lesson covers the types of documentation that matter in software engineering, how to write them well, and how to keep them from decaying into uselessness.</p>
<p><strong>Difficulty</strong>: ‚≠ê‚≠ê</p>
<p><strong>Prerequisites</strong>:
- <a href="./01_What_Is_Software_Engineering.md">What Is Software Engineering</a> ‚Äî understanding the software lifecycle
- Basic familiarity with Markdown syntax</p>
<p><strong>Learning Objectives</strong>:
- Identify the distinct types of technical documentation and their audiences
- Apply the docs-as-code workflow to maintain documentation alongside source code
- Write an Architecture Decision Record (ADR) in standard format
- Describe the OpenAPI specification and how it enables API documentation
- Structure a README file effectively for a software project
- Apply the C4 model to create layered architecture diagrams
- Diagnose and address documentation rot
- Distinguish between runbooks and playbooks and know when to use each</p>
<hr />
<h2 id="1-why-documentation-matters">1. Why Documentation Matters<a class="header-link" href="#1-why-documentation-matters" title="Permanent link">&para;</a></h2>
<p>The classic excuse is "the code is the documentation." This is true only if:
- The reader already understands the domain
- The reader has unlimited time to read all the code
- The code perfectly expresses all design intent and tradeoffs
- The system never needs to be operated, diagnosed, or evolved</p>
<p>In reality, none of these conditions hold. Documentation serves needs that code cannot:</p>
<p><strong>Audience expansion</strong>: Not everyone who needs to understand a system can or should read its source code. Product managers, security auditors, new hires, and API consumers need structured, accessible descriptions.</p>
<p><strong>Preserving decisions</strong>: Code shows the decision that was made; it cannot show the alternatives that were considered and rejected, or the constraints that ruled them out. Without that context, future engineers will repeat the same investigation or accidentally reverse a deliberate choice.</p>
<p><strong>Reducing bus factor</strong>: The bus factor (or lottery factor) is the number of team members who could be "hit by a bus" before a project is in serious trouble. Documentation distributes knowledge that would otherwise be locked in individual heads.</p>
<p><strong>Accelerating onboarding</strong>: A new team member with good documentation can become productive in days rather than weeks.</p>
<h3 id="the-cost-of-poor-documentation">The Cost of Poor Documentation<a class="header-link" href="#the-cost-of-poor-documentation" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Repeated interruptions</strong>: "Where do I find X?" ‚Äî the same question answered five times a week by five different people</li>
<li><strong>Incorrect assumptions</strong>: Developers working on adjacent systems misunderstand boundaries and build on faulty assumptions</li>
<li><strong>Fear of change</strong>: Nobody wants to touch code they don't understand; well-documented code gets improved, undocumented code accumulates technical debt</li>
<li><strong>Incidents that last longer</strong>: When a system fails at 2 AM, an undocumented system requires hours of forensic archaeology; a documented system has a runbook</li>
</ul>
<hr />
<h2 id="2-types-of-technical-documentation">2. Types of Technical Documentation<a class="header-link" href="#2-types-of-technical-documentation" title="Permanent link">&para;</a></h2>
<p>Different audiences need different documents. Confusing these types leads to documents that serve no audience well.</p>
<h3 id="requirements-documents">Requirements Documents<a class="header-link" href="#requirements-documents" title="Permanent link">&para;</a></h3>
<p>Capture <em>what</em> the system must do. Audiences: product managers, developers, testers, customers. Examples: Product Requirements Documents (PRDs), functional specifications, user story backlogs.</p>
<h3 id="design-documents">Design Documents<a class="header-link" href="#design-documents" title="Permanent link">&para;</a></h3>
<p>Capture <em>how</em> the system will be built. Audiences: engineers working on or adjacent to the system. Examples: high-level design documents, low-level design documents, architecture diagrams.</p>
<p>Design documents are most valuable <em>before</em> implementation ‚Äî they enable review of decisions before they are expensive to change ‚Äî and <em>during</em> maintenance ‚Äî they explain why a system was built a particular way.</p>
<h3 id="api-documentation">API Documentation<a class="header-link" href="#api-documentation" title="Permanent link">&para;</a></h3>
<p>Describe how to use an interface programmatically. Audiences: developers consuming the API (internal or external). Examples: OpenAPI/Swagger specifications, generated reference docs, SDK guides.</p>
<h3 id="user-guides-and-tutorials">User Guides and Tutorials<a class="header-link" href="#user-guides-and-tutorials" title="Permanent link">&para;</a></h3>
<p>Explain how to use the software to accomplish tasks. Audiences: end users or developers new to the system. Examples: getting started guides, how-to articles, reference manuals.</p>
<p>The distinction between tutorial (learning-oriented), how-to guide (task-oriented), explanation (understanding-oriented), and reference (information-oriented) ‚Äî called the Di√°taxis framework ‚Äî helps structure these documents correctly.</p>
<h3 id="operational-documentation">Operational Documentation<a class="header-link" href="#operational-documentation" title="Permanent link">&para;</a></h3>
<p>Explain how to run the system. Audiences: operations engineers, on-call developers. Examples: runbooks, playbooks, architecture overviews, capacity planning guides.</p>
<h3 id="architecture-decision-records">Architecture Decision Records<a class="header-link" href="#architecture-decision-records" title="Permanent link">&para;</a></h3>
<p>Capture <em>why</em> a specific decision was made at a point in time. Audiences: current and future engineers. See Section 4 for full coverage.</p>
<hr />
<h2 id="3-documentation-as-code">3. Documentation as Code<a class="header-link" href="#3-documentation-as-code" title="Permanent link">&para;</a></h2>
<p>"Docs as code" is the practice of treating documentation with the same discipline as source code:
- Documentation files live in the same repository as the code they describe
- Documentation changes are reviewed via pull requests
- Documentation is built and checked by CI pipelines (broken links, missing sections, outdated API references)
- Docs are versioned alongside releases</p>
<h3 id="why-docs-as-code-works">Why Docs as Code Works<a class="header-link" href="#why-docs-as-code-works" title="Permanent link">&para;</a></h3>
<p>When documentation is separate from code ‚Äî in a wiki, a shared drive, or a separate repository ‚Äî it inevitably falls out of sync. The friction of switching contexts means updates to docs happen "later," and "later" often means never.</p>
<p>When documentation is in the same repository:
- Code and docs are reviewed together in the same pull request
- Automated checks can flag when code changes without corresponding doc updates
- Documentation history is linked to code history (git blame shows who wrote what and when)</p>
<h3 id="formats">Formats<a class="header-link" href="#formats" title="Permanent link">&para;</a></h3>
<p><strong>Markdown</strong> (<code>.md</code>): Most common for software projects. Widely supported by GitHub, GitLab, documentation generators, and rendering tools. Simple, readable in raw form.</p>
<p><strong>AsciiDoc</strong> (<code>.adoc</code>): Richer feature set than Markdown ‚Äî better support for tables, cross-references, and complex structures. Used by many open-source projects (Spring, Git documentation).</p>
<p><strong>reStructuredText</strong> (<code>.rst</code>): Python community standard; used by Sphinx documentation generator.</p>
<h3 id="documentation-generators">Documentation Generators<a class="header-link" href="#documentation-generators" title="Permanent link">&para;</a></h3>
<p>Static site generators transform Markdown/AsciiDoc files into navigable documentation websites:
- <strong>MkDocs</strong> (Python ecosystem) ‚Äî simple, good for software documentation, Material theme is widely used
- <strong>Sphinx</strong> (Python) ‚Äî powerful, excellent for API reference generation
- <strong>Docusaurus</strong> (JavaScript) ‚Äî React-based, good for developer portals
- <strong>Hugo / Jekyll</strong> ‚Äî general-purpose static site generators</p>
<h3 id="ci-checks-for-documentation">CI Checks for Documentation<a class="header-link" href="#ci-checks-for-documentation" title="Permanent link">&para;</a></h3>
<p>A documentation pipeline can check:
- <strong>Broken links</strong>: Links to other pages or external URLs that no longer exist
- <strong>Spell checking</strong>: Common misspellings and typos
- <strong>Required sections</strong>: Does every public API have a description?
- <strong>Freshness markers</strong>: Documentation older than N months is flagged for review
- <strong>Code sample validity</strong>: Extract code blocks and run them; ensure they compile/execute without errors</p>
<hr />
<h2 id="4-architecture-decision-records">4. Architecture Decision Records<a class="header-link" href="#4-architecture-decision-records" title="Permanent link">&para;</a></h2>
<p>An Architecture Decision Record (ADR) is a short document that captures an important architectural decision, the context in which it was made, the options considered, and the rationale for the choice.</p>
<h3 id="why-adrs">Why ADRs?<a class="header-link" href="#why-adrs" title="Permanent link">&para;</a></h3>
<p>Code shows what was built. Design documents show how. ADRs capture <em>why</em> ‚Äî specifically, why option A was chosen over options B and C, what constraints existed at the time, and what the known trade-offs are.</p>
<p>Without ADRs, teams repeatedly rediscover the same debates. A new engineer asks "why don't we use X instead?" The institutional answer is locked in the head of the engineer who made the original decision, who may have left the company. With an ADR, the answer is findable.</p>
<h3 id="adr-format-nygard-format">ADR Format (Nygard Format)<a class="header-link" href="#adr-format-nygard-format" title="Permanent link">&para;</a></h3>
<p>The most common ADR format, introduced by Michael Nygard:</p>
<div class="highlight"><pre><span></span><code><span class="gh"># ADR-0012: Use PostgreSQL as the primary database</span>

<span class="gu">## Status</span>
Accepted

<span class="gu">## Context</span>
We need a relational database to store user data, orders, and transaction history.
The system must support ACID transactions, complex queries, and full-text search.
The team has strong SQL experience but limited NoSQL experience. We are deploying
to AWS and want managed database support.

<span class="gu">## Decision</span>
We will use PostgreSQL (version 15+), hosted on AWS RDS.

<span class="gu">## Consequences</span>
<span class="gs">**Positive:**</span>
<span class="k">-</span><span class="w"> </span>Full ACID compliance for financial transactions
<span class="k">-</span><span class="w"> </span>Rich query capabilities including JSON, full-text search, and window functions
<span class="k">-</span><span class="w"> </span>Excellent AWS RDS support with automated backups and Multi-AZ failover
<span class="k">-</span><span class="w"> </span>Team familiarity reduces onboarding time

<span class="gs">**Negative:**</span>
<span class="k">-</span><span class="w"> </span>Horizontal write scaling requires additional complexity (read replicas, sharding)
<span class="k">-</span><span class="w"> </span>Not optimal for document-heavy workloads; MongoDB would be simpler for
  unstructured data if that becomes dominant
<span class="k">-</span><span class="w"> </span>RDS costs more than self-managed PostgreSQL for high I/O workloads

<span class="gu">## Alternatives Considered</span>
<span class="k">-</span><span class="w"> </span><span class="gs">**MySQL**</span>: Rejected because team lacked familiarity and PostgreSQL has richer feature set
<span class="k">-</span><span class="w"> </span><span class="gs">**DynamoDB**</span>: Rejected because our data has complex relational queries; NoSQL would require
  significant application-level join logic
<span class="k">-</span><span class="w"> </span><span class="gs">**MongoDB**</span>: Rejected because our data is strongly relational; document model would not fit well
</code></pre></div>

<h3 id="adr-lifecycle">ADR Lifecycle<a class="header-link" href="#adr-lifecycle" title="Permanent link">&para;</a></h3>
<p>ADRs have a <strong>Status</strong> field that evolves:
- <strong>Proposed</strong>: Under discussion, not yet adopted
- <strong>Accepted</strong>: The decision has been made and implemented
- <strong>Deprecated</strong>: The decision is no longer current but records historical context
- <strong>Superseded by ADR-XXXX</strong>: A newer ADR has replaced this one</p>
<p>ADRs are never deleted or retroactively edited to look correct. They are historical records. If a decision changes, write a new ADR and mark the old one as superseded.</p>
<h3 id="where-to-store-adrs">Where to Store ADRs<a class="header-link" href="#where-to-store-adrs" title="Permanent link">&para;</a></h3>
<p>The most common location is <code>docs/adr/</code> or <code>doc/architecture/decisions/</code> within the repository. Some teams use a dedicated repository for organization-wide decisions. Tools like <code>adr-tools</code> (command-line) and the ADR GitHub Action automate ADR creation and indexing.</p>
<hr />
<h2 id="5-api-documentation">5. API Documentation<a class="header-link" href="#5-api-documentation" title="Permanent link">&para;</a></h2>
<p>APIs ‚Äî whether REST, GraphQL, gRPC, or library interfaces ‚Äî are contracts. Documentation of that contract is essential for anyone consuming it.</p>
<h3 id="openapi-swagger">OpenAPI / Swagger<a class="header-link" href="#openapi-swagger" title="Permanent link">&para;</a></h3>
<p>OpenAPI is the industry-standard specification format for REST APIs. An OpenAPI document (YAML or JSON) describes:
- Available endpoints and operations (GET /users/{id})
- Request parameters, headers, and body schemas
- Response schemas and status codes
- Authentication schemes
- Examples</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example OpenAPI 3.0 fragment</span>
<span class="nt">openapi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0.3</span>
<span class="nt">info</span><span class="p">:</span>
<span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">User Service API</span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>

<span class="nt">paths</span><span class="p">:</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">/users/{userId}</span><span class="p p-Indicator">:</span>
<span class="w">    </span><span class="nt">get</span><span class="p">:</span>
<span class="w">      </span><span class="nt">summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Retrieve a user by ID</span>
<span class="w">      </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">userId</span>
<span class="w">          </span><span class="nt">in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path</span>
<span class="w">          </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">      </span><span class="nt">responses</span><span class="p">:</span>
<span class="w">        </span><span class="s">&#39;200&#39;</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">User found</span>
<span class="w">          </span><span class="nt">content</span><span class="p">:</span>
<span class="w">            </span><span class="nt">application/json</span><span class="p">:</span>
<span class="w">              </span><span class="nt">schema</span><span class="p">:</span>
<span class="w">                </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;#/components/schemas/User&#39;</span>
<span class="w">              </span><span class="nt">example</span><span class="p">:</span>
<span class="w">                </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="w">                </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alice@example.com&quot;</span>
<span class="w">                </span><span class="nt">createdAt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2024-01-15T09:30:00Z&quot;</span>
<span class="w">        </span><span class="s">&#39;404&#39;</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">User not found</span>

<span class="nt">components</span><span class="p">:</span>
<span class="w">  </span><span class="nt">schemas</span><span class="p">:</span>
<span class="w">    </span><span class="nt">User</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">      </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">        </span><span class="nt">email</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">          </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">email</span>
<span class="w">        </span><span class="nt">createdAt</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">          </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">date-time</span>
</code></pre></div>

<p>Tools like Swagger UI and Redoc render OpenAPI specs as interactive documentation, allowing developers to explore endpoints and make test calls directly from the browser.</p>
<h3 id="code-level-documentation">Code-Level Documentation<a class="header-link" href="#code-level-documentation" title="Permanent link">&para;</a></h3>
<p>For library APIs, documentation lives in the source code as docstrings or doc comments:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">retry</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">max_attempts</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">backoff_base</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">exceptions</span><span class="o">=</span><span class="p">(</span><span class="ne">Exception</span><span class="p">,)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retry a function call with exponential backoff on failure.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: Callable to retry. Must be idempotent.</span>
<span class="sd">        max_attempts: Maximum number of attempts before raising. Default: 3.</span>
<span class="sd">        backoff_base: Multiplier for wait time between attempts. Default: 2.0.</span>
<span class="sd">            Wait times: 1s, 2s, 4s, ... up to max_attempts.</span>
<span class="sd">        exceptions: Tuple of exception types that trigger a retry. Default: all exceptions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The return value of func() on success.</span>

<span class="sd">    Raises:</span>
<span class="sd">        The last exception raised by func() after max_attempts failures.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; result = retry(lambda: fetch_data(url), max_attempts=5)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>

<p>Tools like Sphinx (Python), Javadoc (Java), and godoc (Go) extract these comments to generate reference documentation automatically.</p>
<hr />
<h2 id="6-readme-files">6. README Files<a class="header-link" href="#6-readme-files" title="Permanent link">&para;</a></h2>
<p>The README is the front door of a project. It is often the first ‚Äî and sometimes the only ‚Äî document a new user or contributor reads. A good README answers: "What is this? Can I use it? How do I start?"</p>
<h3 id="essential-sections">Essential Sections<a class="header-link" href="#essential-sections" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="gh"># Project Name</span>

One or two sentence description of what this project does and who it is for.

<span class="gu">## Features</span>
<span class="k">-</span><span class="w"> </span>Bullet list of key capabilities

<span class="gu">## Getting Started</span>

<span class="gu">### Prerequisites</span>
<span class="k">-</span><span class="w"> </span>Node.js 18+
<span class="k">-</span><span class="w"> </span>PostgreSQL 15

<span class="gu">### Installation</span>
\`\`\`bash
git clone https://github.com/org/project
cd project
npm install
cp .env.example .env
npm run db:migrate
npm start
\`\`\`

<span class="gu">## Usage</span>
Brief example of the most common use case.

<span class="gu">## Configuration</span>
Table of environment variables and their defaults.

<span class="gu">## Contributing</span>
Link to CONTRIBUTING.md or brief contribution guide.

<span class="gu">## License</span>
MIT License ‚Äî see LICENSE file.
</code></pre></div>

<p><strong>Common README mistakes</strong>:
- Missing installation steps (assumes readers know the ecosystem)
- No examples (describes what it does but not how to use it)
- Outdated installation steps (README written once and never updated)
- Extremely long (trying to put everything in one file ‚Äî use separate docs instead)
- No badges (build status, coverage, version ‚Äî signal project health at a glance)</p>
<hr />
<h2 id="7-diagrams">7. Diagrams<a class="header-link" href="#7-diagrams" title="Permanent link">&para;</a></h2>
<p>A well-chosen diagram communicates in seconds what paragraphs struggle to express. But diagrams have a maintenance problem: they are stored as binary files (PNG, SVG from a GUI tool), cannot be diff'd or reviewed in pull requests, and are expensive to update.</p>
<h3 id="diagrams-as-code">Diagrams as Code<a class="header-link" href="#diagrams-as-code" title="Permanent link">&para;</a></h3>
<p>Diagrams as code tools accept text input and render diagrams, enabling version control and review:</p>
<p><strong>Mermaid</strong>: Embedded in Markdown on GitHub, GitLab, and many wikis. Supports flowcharts, sequence diagrams, class diagrams, ER diagrams.</p>
<div class="highlight"><pre><span></span><code><span class="n">sequenceDiagram</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">Client</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">Auth</span><span class="w"> </span><span class="kr">Service</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="kr">Service</span>

<span class="w">    </span><span class="n">Client</span><span class="o">-&gt;&gt;</span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">:</span><span class="w"> </span><span class="n">POST</span><span class="w"> </span><span class="o">/</span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">with</span><span class="w"> </span><span class="n">JWT</span><span class="p">)</span>
<span class="w">    </span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">-&gt;&gt;</span><span class="n">Auth</span><span class="w"> </span><span class="kr">Service</span><span class="o">:</span><span class="w"> </span><span class="kr">Validate</span><span class="w"> </span><span class="kt">token</span>
<span class="w">    </span><span class="n">Auth</span><span class="w"> </span><span class="kr">Service</span><span class="o">--&gt;&gt;</span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">:</span><span class="w"> </span><span class="kt">Token</span><span class="w"> </span><span class="n">valid</span><span class="p">,</span><span class="w"> </span><span class="n">userId</span><span class="o">=</span><span class="mi">42</span>
<span class="w">    </span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">-&gt;&gt;</span><span class="n">User</span><span class="w"> </span><span class="kr">Service</span><span class="o">:</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="mi">42</span>
<span class="w">    </span><span class="n">User</span><span class="w"> </span><span class="kr">Service</span><span class="o">--&gt;&gt;</span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">:</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="kt">data</span>
<span class="w">    </span><span class="n">API</span><span class="w"> </span><span class="n">Gateway</span><span class="o">--&gt;&gt;</span><span class="n">Client</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">object</span>
</code></pre></div>

<p><strong>PlantUML</strong>: More feature-rich than Mermaid; widely used in enterprise documentation. Supports UML diagrams, C4 architecture diagrams.</p>
<p><strong>Structurizr</strong>: Purpose-built for the C4 model (see below).</p>
<h3 id="the-c4-model">The C4 Model<a class="header-link" href="#the-c4-model" title="Permanent link">&para;</a></h3>
<p>The C4 model (Simon Brown) provides four levels of abstraction for architecture documentation, each targeting a different audience:</p>
<table>
<thead>
<tr>
<th>Level</th>
<th>Diagram Type</th>
<th>Audience</th>
<th>Shows</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>System Context</td>
<td>Non-technical stakeholders</td>
<td>How the system fits into the wider environment (users, external systems)</td>
</tr>
<tr>
<td>2</td>
<td>Container</td>
<td>Technical team</td>
<td>High-level components: web app, API, database, message queue</td>
</tr>
<tr>
<td>3</td>
<td>Component</td>
<td>Developers</td>
<td>Components inside a container and their interactions</td>
</tr>
<tr>
<td>4</td>
<td>Code</td>
<td>Developers</td>
<td>Class/package level (usually auto-generated; only for complex components)</td>
</tr>
</tbody>
</table>
<p>The power of C4 is its hierarchy: you can show a stakeholder the Level 1 diagram and zoom into Level 2 or 3 for technical discussions, using consistent notation throughout.</p>
<hr />
<h2 id="8-documentation-maintenance">8. Documentation Maintenance<a class="header-link" href="#8-documentation-maintenance" title="Permanent link">&para;</a></h2>
<p>Documentation that is not maintained becomes misleading ‚Äî which is worse than no documentation. A reader who follows an outdated runbook and takes incorrect action can cause an incident.</p>
<h3 id="documentation-rot">Documentation Rot<a class="header-link" href="#documentation-rot" title="Permanent link">&para;</a></h3>
<p>Documentation rot refers to the gradual decay of documentation as the system it describes changes without the documentation being updated. Signs of rot:
- Installation steps that no longer work
- API endpoints that have been renamed or removed
- Architecture diagrams showing components that were deprecated
- "TODO: fill this in" sections that were never completed</p>
<h3 id="strategies-to-combat-rot">Strategies to Combat Rot<a class="header-link" href="#strategies-to-combat-rot" title="Permanent link">&para;</a></h3>
<p><strong>Ownership</strong>: Every document has an owner responsible for keeping it accurate. Teams that share ownership of documentation with nobody accountable end up with no one updating it.</p>
<p><strong>Living documentation</strong>: Wherever possible, generate documentation from the source of truth. API docs generated from code annotations are always in sync with the code. This is not always possible, but reducing manually-maintained documentation reduces rot.</p>
<p><strong>Docs review in PRs</strong>: When code changes, the PR description should include documentation updates. Code reviewers should ask: "Does this change require a documentation update?"</p>
<p><strong>Scheduled reviews</strong>: Set calendar reminders to review critical documentation (runbooks, architectural overviews) quarterly. Mark documents with <code>Last Reviewed: YYYY-MM-DD</code> to make staleness visible.</p>
<p><strong>Feedback links</strong>: Every documentation page should have a simple mechanism for readers to signal that something is wrong ‚Äî a GitHub issue link, a "Was this helpful?" button, or a Slack channel. Readers often discover rot before authors do.</p>
<hr />
<h2 id="9-runbooks-and-playbooks">9. Runbooks and Playbooks<a class="header-link" href="#9-runbooks-and-playbooks" title="Permanent link">&para;</a></h2>
<p>Operational documentation is arguably the highest-value documentation investment because its consumers are under pressure (something is broken) and its absence has a direct cost (longer incidents).</p>
<h3 id="runbooks">Runbooks<a class="header-link" href="#runbooks" title="Permanent link">&para;</a></h3>
<p>A runbook is a set of step-by-step instructions for performing a specific operational procedure. It is designed to be followed by an on-call engineer who may be unfamiliar with the system.</p>
<p><strong>Characteristics of a good runbook</strong>:
- <strong>Specific</strong>: Covers exactly one scenario or alert
- <strong>Actionable</strong>: Every step has a concrete action (run this command, check this URL, escalate to this person)
- <strong>Verified</strong>: The steps have been tested and confirmed to work
- <strong>Safe</strong>: Steps that could cause harm are clearly marked; steps are ordered from safe to escalating risk</p>
<div class="highlight"><pre><span></span><code><span class="gh"># Runbook: High Database Connection Count Alert</span>

<span class="gu">## Alert</span>
Alert Name: <span class="sb">`db_connection_count_high`</span>
Triggers when: PostgreSQL connection count &gt; 80% of max_connections

<span class="gu">## Impact</span>
<span class="k">-</span><span class="w"> </span>New connections may be rejected
<span class="k">-</span><span class="w"> </span>Application may start returning 503 errors

<span class="gu">## Diagnosis Steps</span>

<span class="k">1.</span> Check current connections:
   \`\`\`sql
   SELECT count(*), state FROM pg_stat_activity GROUP BY state;
   \`\`\`

<span class="k">2.</span> Identify long-running queries:
   \`\`\`sql
   SELECT pid, now() - query_start AS duration, query
   FROM pg_stat_activity
   WHERE state = &#39;active&#39; AND query_start &lt; now() - interval &#39;5 minutes&#39;
   ORDER BY duration DESC;
   \`\`\`

<span class="k">3.</span> Check application logs for connection pool errors:
   \`\`\`bash
   kubectl logs -l app=api-server --since=15m | grep -i &quot;connection pool&quot;
   \`\`\`

<span class="gu">## Mitigation</span>

<span class="gs">**If long-running queries are the cause**</span>: Terminate the blocking query (confirm impact first):
\`\`\`sql
SELECT pg_terminate_backend(pid);  -- pid from step 2
\`\`\`

<span class="gs">**If connection pool misconfiguration is the cause**</span>: Restart the affected pod:
\`\`\`bash
kubectl rollout restart deployment/api-server
\`\`\`

<span class="gu">## Escalation</span>
If not resolved within 15 minutes, escalate to the database team (#db-oncall).
File a postmortem if &gt; 5 minutes of user-facing impact occurred.

<span class="gu">## Related</span>
<span class="k">-</span><span class="w"> </span>[<span class="nt">ADR-0012: PostgreSQL as primary database</span>](<span class="na">../architecture/decisions/0012-postgresql.md</span>)
<span class="k">-</span><span class="w"> </span>[<span class="nt">Connection pool configuration</span>](<span class="na">../configuration.md#connection-pool</span>)
</code></pre></div>

<h3 id="playbooks">Playbooks<a class="header-link" href="#playbooks" title="Permanent link">&para;</a></h3>
<p>A playbook is broader than a runbook. Where a runbook handles a specific alert, a playbook describes how to handle a class of incidents (e.g., "Major Outage Playbook," "Security Breach Playbook"). Playbooks define roles (Incident Commander, Communications Lead), communication templates, escalation paths, and decision trees.</p>
<hr />
<h2 id="10-internal-knowledge-bases">10. Internal Knowledge Bases<a class="header-link" href="#10-internal-knowledge-bases" title="Permanent link">&para;</a></h2>
<p>Beyond code repositories, teams accumulate knowledge in wikis and knowledge management systems.</p>
<h3 id="wiki-platforms">Wiki Platforms<a class="header-link" href="#wiki-platforms" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Confluence</strong> (Atlassian): Widely used in enterprise; integrates with Jira; rich formatting but can become a dumping ground</li>
<li><strong>Notion</strong>: Flexible structure; popular in startups; good for lightweight documentation</li>
<li><strong>GitHub/GitLab Wiki</strong>: Attached to repositories; Markdown-based; simple but limited structure</li>
<li><strong>Docusaurus / MkDocs</strong>: For documentation that needs a structured, navigable website</li>
</ul>
<h3 id="common-pitfalls-of-wikis">Common Pitfalls of Wikis<a class="header-link" href="#common-pitfalls-of-wikis" title="Permanent link">&para;</a></h3>
<p><strong>Discoverability problem</strong>: Content in wikis is only useful if people can find it. Without consistent naming, tagging, and organization, wikis become graveyards of outdated pages that nobody reads.</p>
<p><strong>Duplicate content</strong>: The same information in multiple places; when one is updated but others are not, readers get inconsistent answers. Apply the DRY principle to documentation: one authoritative source, link rather than duplicate.</p>
<p><strong>Formatting inconsistency</strong>: Without templates and standards, every page looks different, making the wiki feel unprofessional and harder to parse.</p>
<hr />
<h2 id="11-documentation-review-process">11. Documentation Review Process<a class="header-link" href="#11-documentation-review-process" title="Permanent link">&para;</a></h2>
<p>Documentation should be reviewed like code ‚Äî before it is merged, not after.</p>
<h3 id="review-checklist">Review Checklist<a class="header-link" href="#review-checklist" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Accuracy</strong>: Is the information correct? Does it match the current behavior of the system?</li>
<li><strong>Completeness</strong>: Are all necessary steps, parameters, or exceptions covered?</li>
<li><strong>Clarity</strong>: Would someone unfamiliar with this system understand it? Avoid jargon that is not explained.</li>
<li><strong>Examples</strong>: Are there concrete examples for the key use cases?</li>
<li><strong>Structure</strong>: Is the content organized logically? Can a reader find what they need quickly?</li>
<li><strong>Links</strong>: Do all links work? Do they point to the current version of referenced documents?</li>
<li><strong>Audience</strong>: Is the document written for the right audience? (A runbook written for a domain expert is useless to a general on-call engineer)</li>
</ul>
<hr />
<h2 id="summary">Summary<a class="header-link" href="#summary" title="Permanent link">&para;</a></h2>
<p>Technical documentation is a first-class engineering artifact, not an afterthought. The types of documentation ‚Äî requirements, design, API, operational, and ADRs ‚Äî serve different audiences and different phases of the software lifecycle.</p>
<p>Key practices:
- <strong>Docs as code</strong>: Documentation lives in the repository, is reviewed in PRs, and is checked by CI
- <strong>ADRs</strong> preserve the <em>why</em> behind architectural decisions, preventing teams from rehashing the same debates
- <strong>OpenAPI</strong> provides a machine-readable API contract that enables auto-generated interactive documentation
- <strong>C4 model</strong> provides a consistent, layered approach to architecture diagrams
- <strong>Runbooks</strong> reduce incident duration by giving on-call engineers clear, step-by-step guidance
- <strong>Documentation rot</strong> is inevitable without ownership, scheduled reviews, and integration into the development workflow</p>
<hr />
<h2 id="practice-exercises">Practice Exercises<a class="header-link" href="#practice-exercises" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>ADR Writing</strong>: Choose a technology decision you have made or are familiar with (e.g., "use Redis for caching," "use REST instead of GraphQL"). Write a complete ADR for that decision in Nygard format, including context, the decision, at least two rejected alternatives with reasons, and concrete positive and negative consequences.</p>
</li>
<li>
<p><strong>README Audit</strong>: Find an open-source project on GitHub with a README you think is poor. Identify specifically what is missing or unclear. Write a revised README outline for the project, with section headings and brief notes on what each section should contain.</p>
</li>
<li>
<p><strong>Runbook Creation</strong>: Pick a common failure mode you have encountered (database connection error, disk full, service restart loop). Write a complete runbook for that alert, including diagnosis steps with actual commands, mitigation steps ordered by risk, and escalation criteria.</p>
</li>
<li>
<p><strong>API Documentation</strong>: Design the OpenAPI specification for a simple bookmarking API with three endpoints: create bookmark, list bookmarks (with tag filtering), and delete bookmark. Include request/response schemas and at least one example per operation.</p>
</li>
<li>
<p><strong>Documentation Rot Analysis</strong>: Examine a documentation source you have access to (your team's wiki, a project's README, API docs). Identify three specific examples of documentation rot. For each, describe: what is wrong, how a reader would be misled, and what process change would prevent the rot from recurring.</p>
</li>
</ol>
<hr />
<h2 id="further-reading">Further Reading<a class="header-link" href="#further-reading" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Books</strong>:</li>
<li><em>Docs for Developers</em> ‚Äî Jared Bhatti, Zachary Sarah Corleissen, Jen Lambourne, David Nunez, Heidi Waterhouse (practical guide for technical writers and developers)</li>
<li>
<p><em>The Documentation System</em> ‚Äî Di√°taxis (diataxis.fr, free online) ‚Äî framework distinguishing tutorials, how-tos, explanations, and references</p>
</li>
<li>
<p><strong>Specifications and Standards</strong>:</p>
</li>
<li>OpenAPI Specification ‚Äî spec.openapis.org</li>
<li>C4 Model ‚Äî c4model.com (Simon Brown)</li>
<li>
<p>ADR format ‚Äî adr.github.io</p>
</li>
<li>
<p><strong>Articles</strong>:</p>
</li>
<li>"Architectural Decision Records" ‚Äî Michael Nygard (thinkrelevance.com)</li>
<li>"Docs as Code" ‚Äî Write the Docs community (writethedocs.org)</li>
<li>"The 12 Factor App Documentation" ‚Äî 12factor.net (brief, influential operational documentation)</li>
<li>"Documentation Maturity Model" ‚Äî Splunk blog</li>
</ul>
<hr />
<p><strong>Previous</strong>: <a href="./13_DevOps_and_CICD.md">DevOps and CI/CD</a> | <strong>Next</strong>: <a href="./15_Team_Dynamics_and_Communication.md">Team Dynamics and Communication</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/Software_Engineering/13_DevOps_and_CICD.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Lesson 13: DevOps and CI/CD</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/Software_Engineering/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/Software_Engineering/15_Team_Dynamics_and_Communication.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 15: Team Dynamics and Communication</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">‚Üë</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}