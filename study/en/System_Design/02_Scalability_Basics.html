{% raw %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalability Basics - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/en/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/en/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/en/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" selected>
                        English
                    </option>
                    
                    <option value="ko" >
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/en/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/en/System_Design/">System Design</a>
    <span class="separator">/</span>
    <span class="current">Scalability Basics</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Scalability Basics</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/System_Design/01_System_Design_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">System Design Overview</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/System_Design/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/System_Design/03_Network_Fundamentals_Review.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Network Fundamentals Review</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#1-what-is-scalability">1. What is Scalability?</a><ul>
<li><a href="#11-definition">1.1 Definition</a></li>
<li><a href="#12-measuring-load">1.2 Measuring Load</a></li>
</ul>
</li>
<li><a href="#2-vertical-scaling-vs-horizontal-scaling">2. Vertical Scaling vs Horizontal Scaling</a><ul>
<li><a href="#21-vertical-scaling-scale-up">2.1 Vertical Scaling (Scale Up)</a></li>
<li><a href="#22-horizontal-scaling-scale-out">2.2 Horizontal Scaling (Scale Out)</a></li>
<li><a href="#23-comparison-summary">2.3 Comparison Summary</a></li>
<li><a href="#24-practical-application-examples">2.4 Practical Application Examples</a></li>
</ul>
</li>
<li><a href="#3-stateless-vs-stateful">3. Stateless vs Stateful</a><ul>
<li><a href="#31-stateful-architecture">3.1 Stateful Architecture</a></li>
<li><a href="#32-stateless-architecture">3.2 Stateless Architecture</a></li>
<li><a href="#33-comparison">3.3 Comparison</a></li>
</ul>
</li>
<li><a href="#4-session-management-methods">4. Session Management Methods</a><ul>
<li><a href="#41-session-management-options">4.1 Session Management Options</a></li>
<li><a href="#42-session-management-method-comparison">4.2 Session Management Method Comparison</a></li>
</ul>
</li>
<li><a href="#5-cap-theorem">5. CAP Theorem</a><ul>
<li><a href="#51-what-is-cap-theorem">5.1 What is CAP Theorem?</a></li>
<li><a href="#52-meaning-of-each-property">5.2 Meaning of Each Property</a></li>
<li><a href="#53-cp-vs-ap-choice">5.3 CP vs AP Choice</a></li>
<li><a href="#54-real-system-classification">5.4 Real System Classification</a></li>
</ul>
</li>
<li><a href="#6-pacelc-theory">6. PACELC Theory</a><ul>
<li><a href="#61-what-is-pacelc">6.1 What is PACELC?</a></li>
<li><a href="#62-pacelc-system-classification">6.2 PACELC System Classification</a></li>
<li><a href="#63-selection-guide">6.3 Selection Guide</a></li>
</ul>
</li>
<li><a href="#7-practice-problems">7. Practice Problems</a><ul>
<li><a href="#problem-1-choose-scaling-method">Problem 1: Choose Scaling Method</a></li>
<li><a href="#problem-2-stateless-design">Problem 2: Stateless Design</a></li>
<li><a href="#problem-3-cap-choice">Problem 3: CAP Choice</a></li>
<li><a href="#problem-4-pacelc-analysis">Problem 4: PACELC Analysis</a></li>
</ul>
</li>
<li><a href="#answers">Answers</a><ul>
<li><a href="#problem-1-answer">Problem 1 Answer</a></li>
<li><a href="#problem-2-answer">Problem 2 Answer</a></li>
<li><a href="#problem-3-answer">Problem 3 Answer</a></li>
<li><a href="#problem-4-answer">Problem 4 Answer</a></li>
</ul>
</li>
<li><a href="#8-next-steps">8. Next Steps</a><ul>
<li><a href="#next-lesson">Next Lesson</a></li>
<li><a href="#related-lessons">Related Lessons</a></li>
<li><a href="#recommended-practice">Recommended Practice</a></li>
</ul>
</li>
<li><a href="#9-references">9. References</a><ul>
<li><a href="#books">Books</a></li>
<li><a href="#papers">Papers</a></li>
<li><a href="#online-resources">Online Resources</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="scalability-basics">Scalability Basics<a class="header-link" href="#scalability-basics" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="header-link" href="#overview" title="Permanent link">&para;</a></h2>
<p>This document covers the core concepts of system Scalability. You'll learn the differences between vertical and horizontal scaling, Stateless vs Stateful architectures, and important theories for distributed systems like CAP theorem and PACELC.</p>
<p><strong>Difficulty</strong>: â­â­
<strong>Estimated Study Time</strong>: 2-3 hours
<strong>Prerequisites</strong>: <a href="./01_System_Design_Overview.md">01_System_Design_Overview.md</a></p>
<hr />
<h2 id="table-of-contents">Table of Contents<a class="header-link" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-what-is-scalability">What is Scalability?</a></li>
<li><a href="#2-vertical-scaling-vs-horizontal-scaling">Vertical Scaling vs Horizontal Scaling</a></li>
<li><a href="#3-stateless-vs-stateful">Stateless vs Stateful</a></li>
<li><a href="#4-session-management-methods">Session Management Methods</a></li>
<li><a href="#5-cap-theorem">CAP Theorem</a></li>
<li><a href="#6-pacelc-theory">PACELC Theory</a></li>
<li><a href="#7-practice-problems">Practice Problems</a></li>
<li><a href="#8-next-steps">Next Steps</a></li>
<li><a href="#9-references">References</a></li>
</ol>
<hr />
<h2 id="1-what-is-scalability">1. What is Scalability?<a class="header-link" href="#1-what-is-scalability" title="Permanent link">&para;</a></h2>
<h3 id="11-definition">1.1 Definition<a class="header-link" href="#11-definition" title="Permanent link">&para;</a></h3>
<p>Scalability is a system's ability to add resources to handle increasing load.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                    </span><span class="nv">What</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">Scalability</span>?<span class="w">                          </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="s2">&quot;The ability for a system to grow&quot;</span><span class="w">                             </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">Traffic</span><span class="w"> </span><span class="nv">Growth</span><span class="w">                                                 </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”<span class="w">  </span>â”Œâ”€â”€â”€â”€â”<span class="w">  </span>â”Œâ”€â”€â”€â”€â”<span class="w">  </span>â”Œâ”€â”€â”€â”€â”<span class="w">  </span>â”Œâ”€â”€â”€â”€â”<span class="w">                        </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="mi">1000</span>â”‚<span class="w">  </span>â”‚<span class="mi">10</span><span class="nv">K</span><span class="w"> </span>â”‚<span class="w">  </span>â”‚<span class="mi">100</span><span class="nv">K</span>â”‚<span class="w">  </span>â”‚<span class="mi">1</span><span class="nv">M</span><span class="w">  </span>â”‚<span class="w">  </span>â”‚<span class="mi">10</span><span class="nv">M</span><span class="w"> </span>â”‚<span class="w">   </span><span class="nv">User</span><span class="w"> </span><span class="nv">Count</span><span class="w">           </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”¬â”€â”˜<span class="w">  </span>â””â”€â”€â”¬â”€â”˜<span class="w">  </span>â””â”€â”€â”¬â”€â”˜<span class="w">  </span>â””â”€â”€â”¬â”€â”˜<span class="w">  </span>â””â”€â”€â”¬â”€â”˜<span class="w">                        </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w">       </span>â”‚<span class="w">       </span>â”‚<span class="w">       </span>â”‚<span class="w">       </span>â”‚<span class="w">                           </span>â”‚
â”‚<span class="w">     </span>â–¼<span class="w">       </span>â–¼<span class="w">       </span>â–¼<span class="w">       </span>â–¼<span class="w">       </span>â–¼<span class="w">                           </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">                     </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">      </span><span class="nv">Can</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">system</span><span class="w"> </span><span class="nv">handle</span><span class="w"> </span><span class="nv">this</span>?<span class="w">       </span>â”‚<span class="w">                     </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">                     </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">Good</span><span class="w"> </span><span class="nv">Scalability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Linear</span><span class="w"> </span><span class="nv">performance</span><span class="w"> </span><span class="nv">improvement</span><span class="w"> </span><span class="nv">with</span><span class="w">         </span>â”‚
â”‚<span class="w">                     </span><span class="nv">resource</span><span class="w"> </span><span class="nv">addition</span><span class="w">                            </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="12-measuring-load">1.2 Measuring Load<a class="header-link" href="#12-measuring-load" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                    </span><span class="nv">Load</span><span class="w"> </span><span class="nv">Measurement</span><span class="w"> </span><span class="nv">Metrics</span><span class="w">                      </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="mi">1</span>.<span class="w"> </span><span class="nv">Requests</span><span class="w"> </span><span class="nv">Per</span><span class="w"> </span><span class="nv">Second</span><span class="w">                                         </span>â”‚
â”‚<span class="w">     </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Web</span><span class="w"> </span><span class="nv">server</span>:<span class="w"> </span><span class="nv">HTTP</span><span class="w"> </span><span class="nv">requests</span><span class="o">/</span><span class="nv">sec</span><span class="w">                        </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Database</span>:<span class="w"> </span><span class="nv">Queries</span><span class="o">/</span><span class="nv">sec</span><span class="w"> </span><span class="ss">(</span><span class="nv">QPS</span><span class="ss">)</span><span class="w">                          </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">API</span>:<span class="w"> </span><span class="nv">API</span><span class="w"> </span><span class="nv">calls</span><span class="o">/</span><span class="nv">sec</span><span class="w">                                   </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">  </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="mi">2</span>.<span class="w"> </span><span class="nv">Concurrent</span><span class="w"> </span><span class="nv">Users</span><span class="w">                                            </span>â”‚
â”‚<span class="w">     </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Number</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">simultaneously</span><span class="w"> </span><span class="nv">connected</span><span class="w"> </span><span class="nv">users</span><span class="w">             </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Important</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">WebSocket</span>,<span class="w"> </span><span class="nv">streaming</span><span class="w"> </span><span class="nv">services</span><span class="w">          </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">  </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="mi">3</span>.<span class="w"> </span><span class="nv">Data</span><span class="w"> </span><span class="nv">Volume</span><span class="w">                                                 </span>â”‚
â”‚<span class="w">     </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Amount</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">store</span><span class="w">                              </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Read</span><span class="o">/</span><span class="nv">write</span><span class="w"> </span><span class="nv">ratio</span><span class="w">                                     </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">  </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="mi">4</span>.<span class="w"> </span><span class="nv">Complexity</span><span class="w">                                                  </span>â”‚
â”‚<span class="w">     </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Processing</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="nv">per</span><span class="w"> </span><span class="nv">request</span><span class="w">                          </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â”‚<span class="w"> </span>â€¢<span class="w"> </span><span class="nv">Number</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">dependencies</span><span class="w">                               </span>â”‚<span class="w">  </span>â”‚
â”‚<span class="w">     </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">  </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="2-vertical-scaling-vs-horizontal-scaling">2. Vertical Scaling vs Horizontal Scaling<a class="header-link" href="#2-vertical-scaling-vs-horizontal-scaling" title="Permanent link">&para;</a></h2>
<h3 id="21-vertical-scaling-scale-up">2.1 Vertical Scaling (Scale Up)<a class="header-link" href="#21-vertical-scaling-scale-up" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                  </span><span class="nx">Vertical</span><span class="w"> </span><span class="nx">Scaling</span><span class="w"> </span><span class="p">(</span><span class="nx">Scale</span><span class="w"> </span><span class="nx">Up</span><span class="p">)</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="s">&quot;Upgrade to more powerful hardware&quot;</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">Before</span><span class="w">                    </span><span class="nx">After</span><span class="w">                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">        </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nx">Server</span><span class="w">      </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">    </span><span class="nx">Server</span><span class="w">      </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">CPU</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="nx">cores</span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”€â”€â–¶</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">CPU</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="nx">cores</span><span class="err">â”‚</span><span class="w">                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">RAM</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="nx">GB</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">RAM</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="nx">GB</span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">SSD</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="nx">GB</span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">SSD</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="nx">TB</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span><span class="w">        </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">        </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">Pros</span><span class="p">:</span><span class="w">                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Simple</span><span class="w"> </span><span class="nx">implementation</span><span class="w"> </span><span class="p">(</span><span class="nx">no</span><span class="w"> </span><span class="nx">code</span><span class="w"> </span><span class="nx">changes</span><span class="p">)</span><span class="w">                  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Easy</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">maintain</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="nx">consistency</span><span class="w">                        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Simple</span><span class="w"> </span><span class="nx">management</span><span class="w">                                        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">Cons</span><span class="p">:</span><span class="w">                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Hardware</span><span class="w"> </span><span class="nx">limits</span><span class="w"> </span><span class="nx">exist</span><span class="w"> </span><span class="p">(</span><span class="nx">can</span><span class="err">&#39;</span><span class="nx">t</span><span class="w"> </span><span class="nx">scale</span><span class="w"> </span><span class="nx">infinitely</span><span class="p">)</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Costs</span><span class="w"> </span><span class="nx">increase</span><span class="w"> </span><span class="nx">rapidly</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="nx">x</span><span class="w"> </span><span class="nx">performance</span><span class="w"> </span><span class="err">â‰ </span><span class="w"> </span><span class="mi">2</span><span class="nx">x</span><span class="w"> </span><span class="nx">cost</span><span class="p">)</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Single</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">failure</span><span class="w"> </span><span class="p">(</span><span class="nx">SPOF</span><span class="p">)</span><span class="w">                           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="nx">Downtime</span><span class="w"> </span><span class="nx">during</span><span class="w"> </span><span class="nx">upgrades</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="22-horizontal-scaling-scale-out">2.2 Horizontal Scaling (Scale Out)<a class="header-link" href="#22-horizontal-scaling-scale-out" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Horizontal Scaling (Scale Out)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  &quot;Add more servers&quot;                                             â”‚
â”‚                                                                  â”‚
â”‚  Before                    After                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚Serverâ”‚                  â”‚Serverâ”‚ â”‚Serverâ”‚ â”‚Serverâ”‚          â”‚
â”‚  â”‚  1   â”‚           â”€â”€â–¶    â”‚  1   â”‚ â”‚  2   â”‚ â”‚  3   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                   â”‚     â”‚     â”‚                 â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                         â”‚                       â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                                  â”‚Load Balancer â”‚               â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                  â”‚
â”‚  Pros:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Theoretically infinite scaling                           â”‚ â”‚
â”‚  â”‚ â€¢ Cost effective (use commodity hardware)                  â”‚ â”‚
â”‚  â”‚ â€¢ High availability (failure â†’ other servers handle)       â”‚ â”‚
â”‚  â”‚ â€¢ Zero-downtime scaling possible                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Cons:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Increased architecture complexity                        â”‚ â”‚
â”‚  â”‚ â€¢ Difficult data consistency management                    â”‚ â”‚
â”‚  â”‚ â€¢ Session/state management required                        â”‚ â”‚
â”‚  â”‚ â€¢ Complex operations/monitoring                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="23-comparison-summary">2.3 Comparison Summary<a class="header-link" href="#23-comparison-summary" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Item</th>
<th>Vertical Scaling</th>
<th>Horizontal Scaling</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method</td>
<td>More powerful server</td>
<td>More servers</td>
</tr>
<tr>
<td>Scaling Limit</td>
<td>Hardware limits</td>
<td>Theoretically infinite</td>
</tr>
<tr>
<td>Cost</td>
<td>Exponential increase</td>
<td>Linear increase</td>
</tr>
<tr>
<td>Complexity</td>
<td>Low</td>
<td>High</td>
</tr>
<tr>
<td>Availability</td>
<td>SPOF risk</td>
<td>High availability</td>
</tr>
<tr>
<td>Downtime</td>
<td>Required for upgrades</td>
<td>Zero-downtime possible</td>
</tr>
<tr>
<td>Suitable For</td>
<td>Early stage, small scale</td>
<td>Large scale, distributed</td>
</tr>
</tbody>
</table>
<h3 id="24-practical-application-examples">2.4 Practical Application Examples<a class="header-link" href="#24-practical-application-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                  </span><span class="n">Choosing</span><span class="w"> </span><span class="n">Scaling</span><span class="w"> </span><span class="n">Strategy</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Vertical</span><span class="w"> </span><span class="n">Scaling</span><span class="p">:</span><span class="w">                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Startup</span><span class="w"> </span><span class="n">early</span><span class="w"> </span><span class="n">stage</span><span class="w">                                      </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Single</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="p">(</span><span class="n">RDB</span><span class="p">)</span><span class="w">                                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Legacy</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">complex</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">management</span><span class="w">             </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">architecture</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">difficult</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">cost</span><span class="o">/</span><span class="n">time</span><span class="w"> </span><span class="n">constraints</span><span class="w">                                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Horizontal</span><span class="w"> </span><span class="n">Scaling</span><span class="p">:</span><span class="w">                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Large</span><span class="o">-</span><span class="n">scale</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">handling</span><span class="w">                             </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Stateless</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="n">servers</span><span class="w">                                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Microservices</span><span class="w"> </span><span class="n">architecture</span><span class="w">                               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Cloud</span><span class="w"> </span><span class="n">environments</span><span class="w"> </span><span class="p">(</span><span class="n">Auto</span><span class="w"> </span><span class="n">Scaling</span><span class="p">)</span><span class="w">                        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Hybrid</span><span class="w"> </span><span class="n">Approach</span><span class="p">:</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Web</span><span class="w"> </span><span class="n">servers</span><span class="p">:</span><span class="w"> </span><span class="n">Horizontal</span><span class="w"> </span><span class="n">scaling</span><span class="w">                          </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Database</span><span class="p">:</span><span class="w"> </span><span class="n">Vertical</span><span class="w"> </span><span class="n">scaling</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Replication</span><span class="w">                 </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Cache</span><span class="p">:</span><span class="w"> </span><span class="n">Horizontal</span><span class="w"> </span><span class="n">scaling</span><span class="w"> </span><span class="p">(</span><span class="n">Redis</span><span class="w"> </span><span class="n">Cluster</span><span class="p">)</span><span class="w">                </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<hr />
<h2 id="3-stateless-vs-stateful">3. Stateless vs Stateful<a class="header-link" href="#3-stateless-vs-stateful" title="Permanent link">&para;</a></h2>
<h3 id="31-stateful-architecture">3.1 Stateful Architecture<a class="header-link" href="#31-stateful-architecture" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                   </span><span class="nv">Stateful</span><span class="w"> </span><span class="nv">Architecture</span><span class="w">                          </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="s2">&quot;Server stores client state&quot;</span><span class="w">                                   </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span>â”€â”€â”€â–¶<span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ss">(</span><span class="nv">Stores</span><span class="w"> </span><span class="nv">session</span><span class="w"> </span><span class="nv">A</span><span class="ss">)</span><span class="w">                        </span>â”‚
â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">B</span><span class="w"> </span>â”€â”€â”€â–¶<span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ss">(</span><span class="nv">Stores</span><span class="w"> </span><span class="nv">session</span><span class="w"> </span><span class="nv">B</span><span class="ss">)</span><span class="w">                        </span>â”‚
â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">C</span><span class="w"> </span>â”€â”€â”€â–¶<span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ss">(</span><span class="nv">Stores</span><span class="w"> </span><span class="nv">session</span><span class="w"> </span><span class="nv">C</span><span class="ss">)</span><span class="w">                        </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">Problem</span><span class="w"> </span><span class="nv">scenarios</span>:<span class="w">                                             </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="mi">1</span>.<span class="w"> </span><span class="nv">What</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">User</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">routed</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">2</span>?<span class="w">                 </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span>â”€â”€â”€â–¶<span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span>â”€â”€â–¶<span class="w">  </span><span class="s2">&quot;No session!&quot;</span><span class="w"> </span><span class="ss">(</span><span class="nv">Logged</span><span class="w"> </span><span class="nv">out</span><span class="ss">)</span><span class="w">    </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="mi">2</span>.<span class="w"> </span><span class="nv">What</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">goes</span><span class="w"> </span><span class="nv">down</span>?<span class="w">                           </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">A</span>,<span class="w"> </span><span class="nv">C</span><span class="w"> </span>â”€â”€â”€â–¶<span class="w"> </span>???<span class="w">  </span>â”€â”€â–¶<span class="w">  </span><span class="s2">&quot;Session lost!&quot;</span><span class="w"> </span><span class="ss">(</span><span class="nv">Logged</span><span class="w"> </span><span class="nv">out</span><span class="ss">)</span><span class="w">    </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w"> </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">Sticky</span><span class="w"> </span><span class="nv">Session</span><span class="w"> </span><span class="nv">needed</span>:<span class="w">                                         </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w">                                            </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">Load</span><span class="w"> </span><span class="nv">Balancer</span><span class="w">  </span>â”‚<span class="w">                                            </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="ss">(</span><span class="nv">Sticky</span><span class="ss">)</span><span class="w">       </span>â”‚<span class="w">                                            </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">A</span><span class="w"> </span>â†’<span class="w"> </span><span class="nv">S1</span><span class="w">    </span>â”‚<span class="w">                                            </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">User</span><span class="w"> </span><span class="nv">B</span><span class="w"> </span>â†’<span class="w"> </span><span class="nv">S2</span><span class="w">    </span>â”‚<span class="w">                                            </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w">                                            </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="32-stateless-architecture">3.2 Stateless Architecture<a class="header-link" href="#32-stateless-architecture" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                   </span><span class="n">Stateless</span><span class="w"> </span><span class="n">Architecture</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="s">&quot;Server doesn&#39;t store state&quot;</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="n">All</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="n">storage</span><span class="o">!</span><span class="w">                           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">   </span><span class="n">Users</span><span class="w"> </span><span class="err">â”€â”€â”€â–¶</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Load</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”€â”€â”€â–¶</span><span class="w"> </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">              </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Balancer</span><span class="w">    </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="n">Server1</span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”€â”€â”€â–¶</span><span class="w"> </span><span class="err">â”‚</span><span class="n">Server2</span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                </span><span class="err">â”€â”€â”€â–¶â”‚</span><span class="n">Server3</span><span class="err">â”‚</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                    </span><span class="err">â””â”€â”€â”€â”¬â”€â”€â”€â”˜</span><span class="w">               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                        </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                        </span><span class="err">â–¼</span><span class="w">                   </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                              </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                              </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Session</span><span class="w"> </span><span class="n">Store</span><span class="w">  </span><span class="err">â”‚</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                              </span><span class="err">â”‚</span><span class="w"> </span><span class="p">(</span><span class="n">Redis</span><span class="o">/</span><span class="n">DB</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                              </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nl">Pros:</span><span class="w">                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Same</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">regardless</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">server</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Free</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">add</span><span class="o">/</span><span class="n">remove</span><span class="w"> </span><span class="n">servers</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Server</span><span class="w"> </span><span class="n">failures</span><span class="w"> </span><span class="n">don</span><span class="p">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">affect</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">users</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â€¢</span><span class="w"> </span><span class="n">Suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Auto</span><span class="w"> </span><span class="n">Scaling</span><span class="w">                                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="33-comparison">3.3 Comparison<a class="header-link" href="#33-comparison" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Item</th>
<th>Stateful</th>
<th>Stateless</th>
</tr>
</thead>
<tbody>
<tr>
<td>State Storage</td>
<td>Server memory</td>
<td>External storage</td>
</tr>
<tr>
<td>Scalability</td>
<td>Limited</td>
<td>Excellent</td>
</tr>
<tr>
<td>Complexity</td>
<td>Low</td>
<td>External storage management needed</td>
</tr>
<tr>
<td>Failure Recovery</td>
<td>Session loss</td>
<td>Quick recovery</td>
</tr>
<tr>
<td>Load Balancing</td>
<td>Sticky Session needed</td>
<td>Free distribution</td>
</tr>
<tr>
<td>Suitable For</td>
<td>Simple systems</td>
<td>Large-scale distributed systems</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="4-session-management-methods">4. Session Management Methods<a class="header-link" href="#4-session-management-methods" title="Permanent link">&para;</a></h2>
<h3 id="41-session-management-options">4.1 Session Management Options<a class="header-link" href="#41-session-management-options" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                   </span><span class="nx">Session</span><span class="w"> </span><span class="nx">Management</span><span class="w"> </span><span class="nx">Methods</span><span class="w">                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="nx">Sticky</span><span class="w"> </span><span class="nx">Session</span><span class="w"> </span><span class="p">(</span><span class="nx">Session</span><span class="w"> </span><span class="nx">Affinity</span><span class="p">)</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                          </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">User</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span><span class="w"> </span><span class="nx">LB</span><span class="p">:</span><span class="w"> </span><span class="nx">A</span><span class="err">â†’</span><span class="nx">S1</span><span class="w">   </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">1</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="nx">Cookie</span><span class="p">:</span><span class="w"> </span><span class="nx">S1</span><span class="p">)</span><span class="w">     </span><span class="err">â”‚</span><span class="w">     </span><span class="nx">B</span><span class="err">â†’</span><span class="nx">S2</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                          </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">User</span><span class="w"> </span><span class="nx">B</span><span class="w"> </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚</span><span class="w">     </span><span class="nx">C</span><span class="err">â†’</span><span class="nx">S1</span><span class="w">   </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">2</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="p">(</span><span class="nx">Cookie</span><span class="p">:</span><span class="w"> </span><span class="nx">S2</span><span class="p">)</span><span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                          </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Pros</span><span class="p">:</span><span class="w"> </span><span class="nx">Simple</span><span class="w"> </span><span class="nx">implementation</span><span class="w">                               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Cons</span><span class="p">:</span><span class="w"> </span><span class="nx">Load</span><span class="w"> </span><span class="nx">imbalance</span><span class="p">,</span><span class="w"> </span><span class="nx">session</span><span class="w"> </span><span class="nx">loss</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="nx">failure</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="nx">Session</span><span class="w"> </span><span class="nx">Replication</span><span class="w">                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">     </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">     </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">â”‚â—€â”€â”€â”€â–¶â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">â”‚â—€â”€â”€â”€â–¶â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Ses</span><span class="w"> </span><span class="nx">A</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="nx">C</span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Ses</span><span class="w"> </span><span class="nx">A</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="nx">C</span><span class="err">â”‚</span><span class="w">     </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Ses</span><span class="w"> </span><span class="nx">A</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="nx">C</span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">     </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">         </span><span class="err">â–²</span><span class="w">              </span><span class="err">â–²</span><span class="w">              </span><span class="err">â–²</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">         </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                  </span><span class="p">(</span><span class="nx">Synchronization</span><span class="p">)</span><span class="w">                         </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Pros</span><span class="p">:</span><span class="w"> </span><span class="nx">Easy</span><span class="w"> </span><span class="nx">failure</span><span class="w"> </span><span class="nx">recovery</span><span class="w">                               </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Cons</span><span class="p">:</span><span class="w"> </span><span class="nx">Sync</span><span class="w"> </span><span class="nx">overhead</span><span class="p">,</span><span class="w"> </span><span class="nx">limited</span><span class="w"> </span><span class="nx">scalability</span><span class="w">                  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">3</span><span class="p">.</span><span class="w"> </span><span class="nx">Centralized</span><span class="w"> </span><span class="nx">Session</span><span class="w"> </span><span class="nx">Store</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                                              </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">â”‚â”€â”€â”</span><span class="w">                                           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”œâ”€â”€â”€â”€â”€â–¶â”‚</span><span class="w"> </span><span class="nx">Redis</span><span class="o">/</span><span class="w">        </span><span class="err">â”‚</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">â”‚â”€â”€â”¤</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Memcached</span><span class="w">     </span><span class="err">â”‚</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="p">(</span><span class="nx">Sessions</span><span class="p">)</span><span class="w">    </span><span class="err">â”‚</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">  </span><span class="err">â”‚</span><span class="w">      </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                    </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">â”‚â”€â”€â”˜</span><span class="w">                                           </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                              </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Pros</span><span class="p">:</span><span class="w"> </span><span class="nx">Excellent</span><span class="w"> </span><span class="nx">scalability</span><span class="p">,</span><span class="w"> </span><span class="nx">stateless</span><span class="w"> </span><span class="nx">servers</span><span class="w">            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Cons</span><span class="p">:</span><span class="w"> </span><span class="nx">Additional</span><span class="w"> </span><span class="nx">infrastructure</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="w"> </span><span class="nx">latency</span><span class="w">          </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">4</span><span class="p">.</span><span class="w"> </span><span class="nx">Client</span><span class="o">-</span><span class="nx">Side</span><span class="w"> </span><span class="nx">Session</span><span class="w"> </span><span class="p">(</span><span class="nx">JWT</span><span class="p">)</span><span class="w">                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Client</span><span class="w"> </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â–¶</span><span class="w"> </span><span class="nx">JWT</span><span class="w"> </span><span class="nx">Token</span><span class="w"> </span><span class="p">(</span><span class="nx">contains</span><span class="w"> </span><span class="nx">session</span><span class="w"> </span><span class="nx">info</span><span class="p">)</span><span class="w">        </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â”‚</span><span class="w">                                                       </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="err">â””â”€â”€â–¶</span><span class="w"> </span><span class="nx">Send</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">each</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="err">â”€â”€â–¶</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="nx">verifies</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">                                                            </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Pros</span><span class="p">:</span><span class="w"> </span><span class="nx">No</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="nx">storage</span><span class="p">,</span><span class="w"> </span><span class="nx">best</span><span class="w"> </span><span class="nx">scalability</span><span class="w">                 </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nx">Cons</span><span class="p">:</span><span class="w"> </span><span class="nx">Token</span><span class="w"> </span><span class="nx">size</span><span class="w"> </span><span class="nx">limit</span><span class="p">,</span><span class="w"> </span><span class="nx">difficult</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="nx">invalidation</span><span class="w">      </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="42-session-management-method-comparison">4.2 Session Management Method Comparison<a class="header-link" href="#42-session-management-method-comparison" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Scalability</th>
<th>Complexity</th>
<th>Failure Recovery</th>
<th>Recommended Situation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sticky Session</td>
<td>Low</td>
<td>Low</td>
<td>Difficult</td>
<td>Small scale</td>
</tr>
<tr>
<td>Session Replication</td>
<td>Medium</td>
<td>High</td>
<td>Good</td>
<td>Medium scale</td>
</tr>
<tr>
<td>Centralized Store</td>
<td>High</td>
<td>Medium</td>
<td>Good</td>
<td>Large scale</td>
</tr>
<tr>
<td>JWT</td>
<td>Highest</td>
<td>Medium</td>
<td>N/A</td>
<td>API servers</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="5-cap-theorem">5. CAP Theorem<a class="header-link" href="#5-cap-theorem" title="Permanent link">&para;</a></h2>
<h3 id="51-what-is-cap-theorem">5.1 What is CAP Theorem?<a class="header-link" href="#51-what-is-cap-theorem" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       CAP Theorem                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Distributed systems cannot simultaneously satisfy all 3:       â”‚
â”‚                                                                  â”‚
â”‚                       Consistency                                â”‚
â”‚                           C                                      â”‚
â”‚                          /\                                      â”‚
â”‚                         /  \                                     â”‚
â”‚                        /    \                                    â”‚
â”‚                       /Cannot \                                  â”‚
â”‚                      /  have 3 \                                 â”‚
â”‚                     /____________\                               â”‚
â”‚                    A              P                              â”‚
â”‚              Availability    Partition                           â”‚
â”‚                             Tolerance                            â”‚
â”‚                                                                  â”‚
â”‚  Since network partitions (P) are unavoidable:                  â”‚
â”‚  In reality, must choose between C and A!                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="52-meaning-of-each-property">5.2 Meaning of Each Property<a class="header-link" href="#52-meaning-of-each-property" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAP Properties Detail                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Consistency                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ &quot;All nodes see the same data&quot;                              â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Client â”€â”€â–¶ Write X=5 â”€â”€â–¶ Node A                           â”‚ â”‚
â”‚  â”‚                               â”‚                             â”‚ â”‚
â”‚  â”‚                         (Synchronize)                       â”‚ â”‚
â”‚  â”‚                               â–¼                             â”‚ â”‚
â”‚  â”‚  Client â”€â”€â–¶ Read X â”€â”€â”€â–¶ Node B â”€â”€â–¶ X=5 (always)            â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Example: Bank account balance                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Availability                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ &quot;All requests receive a response&quot; (success/failure)        â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Client â”€â”€â–¶ Request â”€â”€â–¶ System â”€â”€â–¶ Response (always)       â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Must respond even during failures                         â”‚ â”‚
â”‚  â”‚  Example: Social media feed                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Partition Tolerance                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ &quot;System operates despite network partitions&quot;              â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”          X          â”Œâ”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚Node Aâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚Node Bâ”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜   (Network split)    â””â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Service continues even when partitioned                   â”‚ â”‚
â”‚  â”‚  Can&#39;t give up P in distributed systems!                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="53-cp-vs-ap-choice">5.3 CP vs AP Choice<a class="header-link" href="#53-cp-vs-ap-choice" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CP vs AP Systems                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  CP (Consistency + Partition Tolerance)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  During network partition:                                 â”‚ â”‚
â”‚  â”‚  â€¢ Make some nodes unavailable to ensure consistency       â”‚ â”‚
â”‚  â”‚  â€¢ Sacrifice availability                                  â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Examples:                                                 â”‚ â”‚
â”‚  â”‚  â€¢ Banking systems (balance accuracy critical)            â”‚ â”‚
â”‚  â”‚  â€¢ MongoDB, HBase, Redis (single)                          â”‚ â”‚
â”‚  â”‚  â€¢ Zookeeper, etcd                                         â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  AP (Availability + Partition Tolerance)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  During network partition:                                 â”‚ â”‚
â”‚  â”‚  â€¢ All nodes can respond                                   â”‚ â”‚
â”‚  â”‚  â€¢ Some data may temporarily be inconsistent               â”‚ â”‚
â”‚  â”‚  â€¢ Eventual Consistency                                    â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Examples:                                                 â”‚ â”‚
â”‚  â”‚  â€¢ Social media (like counts)                              â”‚ â”‚
â”‚  â”‚  â€¢ DNS                                                     â”‚ â”‚
â”‚  â”‚  â€¢ Cassandra, DynamoDB, CouchDB                            â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="54-real-system-classification">5.4 Real System Classification<a class="header-link" href="#54-real-system-classification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                  </span><span class="nv">CAP</span><span class="w"> </span><span class="nv">Classification</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">System</span><span class="w">                    </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">              </span><span class="nv">Consistency</span><span class="w">                                        </span>â”‚
â”‚<span class="w">                  </span>â–²<span class="w">                                              </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">     </span><span class="nv">MongoDB</span><span class="w"> </span>â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€<span class="w"> </span><span class="nv">MySQL</span><span class="w">                                   </span>â”‚
â”‚<span class="w">     </span><span class="nv">HBase</span><span class="w">        </span>â”‚<span class="w">      </span><span class="nv">PostgreSQL</span><span class="w">                              </span>â”‚
â”‚<span class="w">     </span><span class="nv">Redis</span><span class="w">        </span>â”‚<span class="w">      </span><span class="ss">(</span><span class="nv">Single</span><span class="w"> </span><span class="nv">node</span>:<span class="w"> </span><span class="nv">CA</span><span class="ss">)</span><span class="w">                       </span>â”‚
â”‚<span class="w">     </span><span class="nv">Zookeeper</span><span class="w">    </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">     </span><span class="nv">etcd</span><span class="w">         </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">  </span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<span class="w"> </span>â”¼<span class="w"> </span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶<span class="w"> </span><span class="nv">Availability</span><span class="w">          </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">      </span><span class="nv">Cassandra</span><span class="w">                               </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">      </span><span class="nv">DynamoDB</span><span class="w">                                </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">      </span><span class="nv">CouchDB</span><span class="w">                                 </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">      </span><span class="nv">Riak</span><span class="w">                                    </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">                  </span>â”‚<span class="w">                                              </span>â”‚
â”‚<span class="w">               </span><span class="nv">Partition</span><span class="w"> </span><span class="nv">Tolerance</span><span class="w">                               </span>â”‚
â”‚<span class="w">               </span><span class="ss">(</span><span class="nv">Required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">distributed</span><span class="w"> </span><span class="nv">systems</span><span class="ss">)</span><span class="w">                </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="6-pacelc-theory">6. PACELC Theory<a class="header-link" href="#6-pacelc-theory" title="Permanent link">&para;</a></h2>
<h3 id="61-what-is-pacelc">6.1 What is PACELC?<a class="header-link" href="#61-what-is-pacelc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚<span class="w">                       </span><span class="nv">PACELC</span><span class="w"> </span><span class="nv">Theory</span><span class="w">                              </span>â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">CAP</span><span class="w"> </span><span class="nv">extension</span>:<span class="w"> </span><span class="nv">Also</span><span class="w"> </span><span class="nv">considers</span><span class="w"> </span><span class="nv">trade</span><span class="o">-</span><span class="nv">offs</span><span class="w"> </span><span class="nv">during</span><span class="w"> </span><span class="nv">normal</span><span class="w"> </span><span class="nv">state</span><span class="w">   </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="k">IF</span><span class="w"> </span><span class="nv">Partition</span>:<span class="w">                                             </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">      </span><span class="nv">Choose</span><span class="w"> </span><span class="nv">between</span><span class="w"> </span><span class="nv">Availability</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">Consistency</span><span class="w">           </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">      </span><span class="ss">(</span><span class="nv">P</span><span class="w"> </span>â†’<span class="w"> </span><span class="nv">A</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">C</span><span class="ss">)</span><span class="w">                                          </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="k">ELSE</span><span class="w"> </span><span class="ss">(</span><span class="nv">normal</span><span class="w"> </span><span class="nv">state</span><span class="ss">)</span>:<span class="w">                                      </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">      </span><span class="nv">Choose</span><span class="w"> </span><span class="nv">between</span><span class="w"> </span><span class="nv">Latency</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">Consistency</span><span class="w">                </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">      </span><span class="ss">(</span><span class="nv">E</span><span class="w"> </span>â†’<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">C</span><span class="ss">)</span><span class="w">                                          </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w"> </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span><span class="nv">PACELC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">P</span><span class="ss">)</span><span class="nv">artition</span><span class="w"> </span>â†’<span class="w"> </span><span class="ss">(</span><span class="nv">A</span><span class="ss">)</span><span class="nv">vailability</span><span class="w"> </span><span class="nv">vs</span><span class="w"> </span><span class="ss">(</span><span class="nv">C</span><span class="ss">)</span><span class="nv">onsistency</span><span class="w">        </span>â”‚
â”‚<span class="w">           </span><span class="ss">(</span><span class="nv">E</span><span class="ss">)</span><span class="nv">lse</span><span class="w"> </span>â†’<span class="w"> </span><span class="ss">(</span><span class="nv">L</span><span class="ss">)</span><span class="nv">atency</span><span class="w"> </span><span class="nv">vs</span><span class="w"> </span><span class="ss">(</span><span class="nv">C</span><span class="ss">)</span><span class="nv">onsistency</span><span class="w">                   </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â”‚<span class="w">  </span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">Network</span><span class="w"> </span><span class="nv">partition</span>?<span class="w">                                        </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">        </span>â”‚<span class="w">                                                   </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">    </span>â”Œâ”€â”€â”€â”´â”€â”€â”€â”<span class="w">                                               </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">    </span>â”‚<span class="w">       </span>â”‚<span class="w">                                               </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">   </span><span class="nv">Yes</span><span class="w">      </span><span class="nv">No</span><span class="w">                                              </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">    </span>â”‚<span class="w">       </span>â”‚<span class="w">                                               </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">    </span>â–¼<span class="w">       </span>â–¼<span class="w">                                               </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">  </span><span class="nv">A</span><span class="w"> </span><span class="nv">vs</span><span class="w"> </span><span class="nv">C</span><span class="w">   </span><span class="nv">L</span><span class="w"> </span><span class="nv">vs</span><span class="w"> </span><span class="nv">C</span><span class="w">                                           </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â”‚<span class="w">                                                            </span>â”‚<span class="w"> </span>â”‚
â”‚<span class="w">  </span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<span class="w"> </span>â”‚
â”‚<span class="w">                                                                  </span>â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="62-pacelc-system-classification">6.2 PACELC System Classification<a class="header-link" href="#62-pacelc-system-classification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PACELC System Classification                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  PA/EL (Availability + Low latency preference)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Cassandra (without Quorum)                               â”‚ â”‚
â”‚  â”‚ â€¢ DynamoDB                                                 â”‚ â”‚
â”‚  â”‚ Partition: maintain availability, Normal: fast response    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  PC/EC (Consistency priority)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ MongoDB (default)                                        â”‚ â”‚
â”‚  â”‚ â€¢ HBase                                                    â”‚ â”‚
â”‚  â”‚ â€¢ Zookeeper                                                â”‚ â”‚
â”‚  â”‚ Partition: maintain consistency, Normal: maintain          â”‚ â”‚
â”‚  â”‚ consistency (accept latency)                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  PA/EC (Availability + Consistency)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ PNUTS (Yahoo)                                            â”‚ â”‚
â”‚  â”‚ Partition: maintain availability, Normal: maintain         â”‚ â”‚
â”‚  â”‚ consistency                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  PC/EL (Consistency + Low latency)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Cassandra (with Quorum)                                  â”‚ â”‚
â”‚  â”‚ Partition: maintain consistency, Normal: fast response     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="63-selection-guide">6.3 Selection Guide<a class="header-link" href="#63-selection-guide" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Recommended</th>
<th>Example Systems</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data accuracy critical</td>
<td>PC/EC</td>
<td>Finance, inventory management</td>
</tr>
<tr>
<td>Fast response critical</td>
<td>PA/EL</td>
<td>Social media, games</td>
</tr>
<tr>
<td>Balanced</td>
<td>PA/EC or PC/EL</td>
<td>General web services</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="7-practice-problems">7. Practice Problems<a class="header-link" href="#7-practice-problems" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-choose-scaling-method">Problem 1: Choose Scaling Method<a class="header-link" href="#problem-1-choose-scaling-method" title="Permanent link">&para;</a></h3>
<p>Choose appropriate scaling method for these scenarios.</p>
<p>a) Early startup, 1,000 daily users
b) Large e-commerce, 10x traffic on Black Friday
c) Database handling complex analytics queries
d) CDN edge servers</p>
<h3 id="problem-2-stateless-design">Problem 2: Stateless Design<a class="header-link" href="#problem-2-stateless-design" title="Permanent link">&para;</a></h3>
<p>Design shopping cart feature for stateless architecture. Where to store sessions and why?</p>
<h3 id="problem-3-cap-choice">Problem 3: CAP Choice<a class="header-link" href="#problem-3-cap-choice" title="Permanent link">&para;</a></h3>
<p>Should you choose CP or AP for these services? Explain why.</p>
<p>a) Bank transfer system
b) Facebook like count
c) Online booking system
d) DNS server</p>
<h3 id="problem-4-pacelc-analysis">Problem 4: PACELC Analysis<a class="header-link" href="#problem-4-pacelc-analysis" title="Permanent link">&para;</a></h3>
<p>Which PACELC combination would you choose for a system with these requirements?</p>
<p>Conditions:
- Global service (multiple regions)
- Read latency &lt; 100ms required
- Data loss unacceptable</p>
<hr />
<h2 id="answers">Answers<a class="header-link" href="#answers" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-answer">Problem 1 Answer<a class="header-link" href="#problem-1-answer" title="Permanent link">&para;</a></h3>
<p>a) <strong>Vertical scaling</strong> - Small scale, so simple approach is efficient
b) <strong>Horizontal scaling</strong> - Elastic response with Auto Scaling
c) <strong>Vertical scaling</strong> - Analytics queries are efficient on single node
d) <strong>Horizontal scaling</strong> - Geographic distribution needed</p>
<h3 id="problem-2-answer">Problem 2 Answer<a class="header-link" href="#problem-2-answer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Recommendation</span><span class="o">:</span><span class="w"> </span><span class="n">Redis</span><span class="w"> </span><span class="o">(</span><span class="n">Centralized</span><span class="w"> </span><span class="n">Session</span><span class="w"> </span><span class="n">Store</span><span class="o">)</span>

<span class="n">Reasons</span><span class="o">:</span>
<span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="n">Stateless</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">regardless</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span>
<span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="n">Fast</span><span class="w"> </span><span class="n">read</span><span class="sr">/write - frequent cart lookups/</span><span class="n">updates</span>
<span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="n">TTL</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">cart</span><span class="w"> </span><span class="n">expiration</span>
<span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="n">Easy</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="n">recovery</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Redis</span><span class="w"> </span><span class="n">Sentinel</span><span class="o">/</span><span class="n">Cluster</span>

<span class="n">Alternatives</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">JWT</span><span class="o">:</span><span class="w"> </span><span class="n">Cart</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">limit</span><span class="o">,</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">update</span>
<span class="o">-</span><span class="w"> </span><span class="n">DB</span><span class="o">:</span><span class="w"> </span><span class="n">Possible</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">slower</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">Redis</span>
</code></pre></div>

<h3 id="problem-3-answer">Problem 3 Answer<a class="header-link" href="#problem-3-answer" title="Permanent link">&para;</a></h3>
<p>a) <strong>CP</strong> - Balance accuracy more important than availability
b) <strong>AP</strong> - Service must continue even if like counts differ temporarily
c) <strong>CP</strong> - Prevent double booking (strong consistency)
d) <strong>AP</strong> - Responding with stale info better than not responding</p>
<h3 id="problem-4-answer">Problem 4 Answer<a class="header-link" href="#problem-4-answer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Recommendation</span><span class="o">:</span><span class="w"> </span><span class="n">PC</span><span class="sr">/EL or PA/</span><span class="n">EC</span>

<span class="n">Analysis</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">P</span><span class="w"> </span><span class="n">required</span>
<span class="o">-</span><span class="w"> </span><span class="n">Read</span><span class="w"> </span><span class="n">latency</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="n">ms</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">(</span><span class="n">low</span><span class="w"> </span><span class="n">latency</span><span class="o">)</span><span class="w"> </span><span class="n">important</span>
<span class="o">-</span><span class="w"> </span><span class="n">Data</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">unacceptable</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">(</span><span class="n">consistency</span><span class="o">)</span><span class="w"> </span><span class="n">important</span>

<span class="n">PC</span><span class="o">/</span><span class="n">EL</span><span class="w"> </span><span class="n">choice</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Partition</span><span class="o">:</span><span class="w"> </span><span class="n">maintain</span><span class="w"> </span><span class="n">consistency</span><span class="w"> </span><span class="o">(</span><span class="n">some</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">fail</span><span class="o">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Normal</span><span class="o">:</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">reads</span>

<span class="n">PA</span><span class="o">/</span><span class="n">EC</span><span class="w"> </span><span class="n">choice</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Partition</span><span class="o">:</span><span class="w"> </span><span class="n">maintain</span><span class="w"> </span><span class="n">availability</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">later</span>
<span class="o">-</span><span class="w"> </span><span class="n">Normal</span><span class="o">:</span><span class="w"> </span><span class="n">strong</span><span class="w"> </span><span class="n">consistency</span>

<span class="n">Practical</span><span class="w"> </span><span class="n">implementation</span><span class="o">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">Reads</span><span class="o">:</span><span class="w"> </span><span class="n">Local</span><span class="w"> </span><span class="n">replicas</span><span class="w"> </span><span class="o">(</span><span class="n">L</span><span class="o">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Writes</span><span class="o">:</span><span class="w"> </span><span class="n">Synchronous</span><span class="w"> </span><span class="n">replication</span><span class="w"> </span><span class="o">(</span><span class="n">C</span><span class="o">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Cassandra</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">LOCAL_QUORUM</span>
</code></pre></div>

<hr />
<h2 id="8-next-steps">8. Next Steps<a class="header-link" href="#8-next-steps" title="Permanent link">&para;</a></h2>
<p>Now that you understand scalability basics, learn about network-related system design elements.</p>
<h3 id="next-lesson">Next Lesson<a class="header-link" href="#next-lesson" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="./03_Network_Fundamentals_Review.md">03_Network_Fundamentals_Review.md</a> - DNS, CDN, HTTP/2/3</li>
</ul>
<h3 id="related-lessons">Related Lessons<a class="header-link" href="#related-lessons" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="./04_Load_Balancing.md">04_Load_Balancing.md</a> - Core of horizontal scaling</li>
<li><a href="./07_Distributed_Cache_Systems.md">07_Distributed_Cache_Systems.md</a> - Session storage</li>
</ul>
<h3 id="recommended-practice">Recommended Practice<a class="header-link" href="#recommended-practice" title="Permanent link">&para;</a></h3>
<ol>
<li>Run multiple server instances locally</li>
<li>Set up Redis as session store</li>
<li>Analyze whether services you use are CP or AP</li>
</ol>
<hr />
<h2 id="9-references">9. References<a class="header-link" href="#9-references" title="Permanent link">&para;</a></h2>
<h3 id="books">Books<a class="header-link" href="#books" title="Permanent link">&para;</a></h3>
<ul>
<li>Designing Data-Intensive Applications - Martin Kleppmann (Chapter 5, 9)</li>
</ul>
<h3 id="papers">Papers<a class="header-link" href="#papers" title="Permanent link">&para;</a></h3>
<ul>
<li>"Brewer's Conjecture and the Feasibility of Consistent, Available, Partition-Tolerant Web Services" (2002)</li>
<li>"Consistency Tradeoffs in Modern Distributed Database System Design" (PACELC)</li>
</ul>
<h3 id="online-resources">Online Resources<a class="header-link" href="#online-resources" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed/">CAP Theorem Revisited</a></li>
<li><a href="https://en.wikipedia.org/wiki/PACELC_theorem">PACELC Wikipedia</a></li>
</ul>
<hr />
<p><strong>Document Information</strong>
- Last Updated: 2024
- Difficulty: â­â­
- Estimated Study Time: 2-3 hours</p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/en/System_Design/01_System_Design_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">System Design Overview</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/en/System_Design/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/en/System_Design/03_Network_Fundamentals_Review.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Network Fundamentals Review</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'en';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}