{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹„íŠ¸ ì—°ì‚° ì‹¬í™” - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/C_Programming/">C Programming</a>
    <span class="separator">/</span>
    <span class="current">ë¹„íŠ¸ ì—°ì‚° ì‹¬í™”</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ë¹„íŠ¸ ì—°ì‚° ì‹¬í™”</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/C_Programming/14_Embedded_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ì„ë² ë””ë“œ í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/C_Programming/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/C_Programming/16_Project_GPIO_Control.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">í”„ë¡œì íŠ¸ 15: GPIO ì œì–´</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">í•™ìŠµ ëª©í‘œ</a></li>
<li><a href="#_3">ì‚¬ì „ ì§€ì‹</a></li>
<li><a href="#1">1. ì™œ ë¹„íŠ¸ ì—°ì‚°ì´ ì¤‘ìš”í•œê°€?</a><ul>
<li><a href="#_4">ì„ë² ë””ë“œì—ì„œ ë¹„íŠ¸ ì—°ì‚°ì´ í•„ìˆ˜ì¸ ì´ìœ </a></li>
<li><a href="#led">ì˜ˆì‹œ: LED ì œì–´ ë ˆì§€ìŠ¤í„°</a></li>
</ul>
</li>
<li><a href="#2">2. ë¹„íŠ¸ ì—°ì‚°ì ë³µìŠµ</a><ul>
<li><a href="#_5">ê¸°ë³¸ ë¹„íŠ¸ ì—°ì‚°ì</a></li>
<li><a href="#_6">ì—°ì‚°ì ì§„ë¦¬í‘œ</a></li>
</ul>
</li>
<li><a href="#3">3. ë¹„íŠ¸ ë§ˆìŠ¤í‚¹ ê¸°ë²•</a><ul>
<li><a href="#31-get">3.1 íŠ¹ì • ë¹„íŠ¸ ì½ê¸° (GET)</a></li>
<li><a href="#32-set">3.2 íŠ¹ì • ë¹„íŠ¸ ì„¤ì • (SET)</a></li>
<li><a href="#33-clear">3.3 íŠ¹ì • ë¹„íŠ¸ í•´ì œ (CLEAR)</a></li>
<li><a href="#34-toggle">3.4 íŠ¹ì • ë¹„íŠ¸ í† ê¸€ (TOGGLE)</a></li>
<li><a href="#35">3.5 ë¹„íŠ¸ ë§ˆìŠ¤í¬ ìœ í‹¸ë¦¬í‹° í—¤ë”</a></li>
</ul>
</li>
<li><a href="#4">4. í”Œë˜ê·¸ ê´€ë¦¬</a><ul>
<li><a href="#_7">í”Œë˜ê·¸ ì •ì˜</a></li>
<li><a href="#arduino">Arduinoì—ì„œ í”Œë˜ê·¸ ì‚¬ìš© ì˜ˆ</a></li>
</ul>
</li>
<li><a href="#5">5. ë ˆì§€ìŠ¤í„° ê°œë…</a><ul>
<li><a href="#mcu">MCU ë ˆì§€ìŠ¤í„°ë€?</a></li>
<li><a href="#arduino-vs">Arduino í•¨ìˆ˜ vs ì§ì ‘ ë ˆì§€ìŠ¤í„° ì œì–´</a></li>
<li><a href="#_8">ì†ë„ ë¹„êµ</a></li>
<li><a href="#_9">ë ˆì§€ìŠ¤í„° ì§ì ‘ ì ‘ê·¼ ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#6-volatile">6. volatile í‚¤ì›Œë“œ</a><ul>
<li><a href="#volatile">volatileì´ í•„ìš”í•œ ì´ìœ </a></li>
<li><a href="#volatile_1">volatile ì‚¬ìš©</a></li>
<li><a href="#volatile_2">volatileì˜ ì˜ë¯¸</a></li>
<li><a href="#arduino-volatile">Arduinoì—ì„œ volatile ì‚¬ìš©</a></li>
<li><a href="#volatile_3">ë ˆì§€ìŠ¤í„°ì™€ volatile</a></li>
</ul>
</li>
<li><a href="#7">7. ì‹¤ìŠµ: ë¹„íŠ¸ ì¡°ì‘ ìœ í‹¸ë¦¬í‹°</a><ul>
<li><a href="#_10">ë¹„íŠ¸ ì¹´ìš´í„°</a></li>
<li><a href="#reverse">ë¹„íŠ¸ ë°˜ì „ (Reverse)</a></li>
<li><a href="#_11">ë¹„íŠ¸ ìŠ¤ì™‘</a></li>
<li><a href="#arduino_1">Arduino ë¹„íŠ¸ ì¡°ì‘ ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#_12">ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1_1">ì—°ìŠµ 1: ë¹„íŠ¸ í•„ë“œ ì¶”ì¶œ</a></li>
<li><a href="#2-2">ì—°ìŠµ 2: 2ì˜ ê±°ë“­ì œê³± í™•ì¸</a></li>
<li><a href="#3_1">ì—°ìŠµ 3: íŒ¨ë¦¬í‹° ë¹„íŠ¸</a></li>
<li><a href="#4-arduino-led">ì—°ìŠµ 4: Arduino LED ë°”</a></li>
</ul>
</li>
<li><a href="#_13">í•µì‹¬ ê°œë… ì •ë¦¬</a></li>
<li><a href="#_14">ë‹¤ìŒ ë‹¨ê³„</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">ë¹„íŠ¸ ì—°ì‚° ì‹¬í™”<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<p>ì„ë² ë””ë“œ í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ì¸ ë¹„íŠ¸ ë‹¨ìœ„ ì¡°ì‘ì„ ì™„ë²½í•˜ê²Œ ìµí™ë‹ˆë‹¤.</p>
<h2 id="_2">í•™ìŠµ ëª©í‘œ<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li>ë¹„íŠ¸ ì—°ì‚°ì ì™„ë²½ ì´í•´</li>
<li>ë¹„íŠ¸ ë§ˆìŠ¤í‚¹ ê¸°ë²• ìŠµë“</li>
<li>ë ˆì§€ìŠ¤í„° ì œì–´ ê°œë… ì´í•´</li>
<li>volatile í‚¤ì›Œë“œ ì´í•´</li>
</ul>
<h2 id="_3">ì‚¬ì „ ì§€ì‹<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li>C ì–¸ì–´ ê¸°ë³¸ ë¬¸ë²•</li>
<li>2ì§„ìˆ˜, 16ì§„ìˆ˜ í‘œí˜„</li>
</ul>
<hr />
<h2 id="1">1. ì™œ ë¹„íŠ¸ ì—°ì‚°ì´ ì¤‘ìš”í•œê°€?<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="_4">ì„ë² ë””ë“œì—ì„œ ë¹„íŠ¸ ì—°ì‚°ì´ í•„ìˆ˜ì¸ ì´ìœ <a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">ë ˆì§€ìŠ¤í„°</span><span class="w"> </span><span class="n">ì œì–´</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">MCUì˜</span><span class="w"> </span><span class="n">ëª¨ë“ </span><span class="w"> </span><span class="n">ê¸°ëŠ¥ì€</span><span class="w"> </span><span class="n">ë ˆì§€ìŠ¤í„°</span><span class="p">(</span><span class="n">íŠ¹ìˆ˜</span><span class="w"> </span><span class="n">ë©”ëª¨ë¦¬</span><span class="p">)</span><span class="n">ë¡œ</span><span class="w"> </span><span class="n">ì œì–´</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ë ˆì§€ìŠ¤í„°ì˜</span><span class="w"> </span><span class="n">ê°</span><span class="w"> </span><span class="n">ë¹„íŠ¸ê°€</span><span class="w"> </span><span class="n">íŠ¹ì •</span><span class="w"> </span><span class="n">ê¸°ëŠ¥</span><span class="w"> </span><span class="n">ë‹´ë‹¹</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">ë©”ëª¨ë¦¬</span><span class="w"> </span><span class="n">ì ˆì•½</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ì„ë² ë””ë“œëŠ”</span><span class="w"> </span><span class="n">ë©”ëª¨ë¦¬ê°€</span><span class="w"> </span><span class="n">ì œí•œì </span><span class="w"> </span><span class="p">(</span><span class="n">KB</span><span class="w"> </span><span class="n">ë‹¨ìœ„</span><span class="p">)</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="mf">8</span><span class="n">ê°œ</span><span class="w"> </span><span class="n">í”Œë˜ê·¸ë¥¼</span><span class="w"> </span><span class="mf">1</span><span class="n">ë°”ì´íŠ¸ë¡œ</span><span class="w"> </span><span class="n">ì €ì¥</span><span class="w"> </span><span class="n">ê°€ëŠ¥</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">í†µì‹ </span><span class="w"> </span><span class="n">í”„ë¡œí† ì½œ</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ë°ì´í„°</span><span class="w"> </span><span class="n">íŒ¨í‚·ì˜</span><span class="w"> </span><span class="n">ë¹„íŠ¸ë³„</span><span class="w"> </span><span class="n">í•´ì„</span><span class="w"> </span><span class="n">í•„ìš”</span>

<span class="mf">4.</span><span class="w"> </span><span class="n">ì„±ëŠ¥</span><span class="w"> </span><span class="n">ìµœì í™”</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ë¹„íŠ¸</span><span class="w"> </span><span class="n">ì—°ì‚°ì€</span><span class="w"> </span><span class="n">CPUì—ì„œ</span><span class="w"> </span><span class="n">ê°€ì¥</span><span class="w"> </span><span class="n">ë¹ ë¥¸</span><span class="w"> </span><span class="n">ì—°ì‚°</span>
</code></pre></div>

<h3 id="led">ì˜ˆì‹œ: LED ì œì–´ ë ˆì§€ìŠ¤í„°<a class="header-link" href="#led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Arduino Unoì˜ í¬íŠ¸ B ë ˆì§€ìŠ¤í„° (í•€ 8~13)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PORTB = 0b00100000                        â”‚
â”‚                                             â”‚
â”‚  ë¹„íŠ¸:  7    6    5    4    3    2    1    0â”‚
â”‚        [ ]  [ ]  [1]  [ ]  [ ]  [ ]  [ ]  [ ]â”‚
â”‚              â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚ â”‚
â”‚              â”‚   í•€13 í•€12 í•€11 í•€10 í•€9  í•€8â”‚
â”‚              â”‚    â†“                         â”‚
â”‚              â”‚   LED ON (í•€ 13)             â”‚
â”‚              â”‚                              â”‚
â”‚  ë¹„íŠ¸ 5 = 1 â†’ í•€ 13ì— HIGH ì¶œë ¥            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="2">2. ë¹„íŠ¸ ì—°ì‚°ì ë³µìŠµ<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="_5">ê¸°ë³¸ ë¹„íŠ¸ ì—°ì‚°ì<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bitwise_operators.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">print_binary</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê°€ë…ì„±ì„ ìœ„í•œ ê³µë°±</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b11001010</span><span class="p">;</span><span class="w">  </span><span class="c1">// 202</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10110011</span><span class="p">;</span><span class="w">  </span><span class="c1">// 179</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a        = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">  </span><span class="c1">// 1100 1010</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;b        = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="w">  </span><span class="c1">// 1011 0011</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// AND (&amp;): ë‘˜ ë‹¤ 1ì¼ ë•Œë§Œ 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a &amp; b    = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">   </span><span class="c1">// 1000 0010</span>

<span class="w">    </span><span class="c1">// OR (|): ë‘˜ ì¤‘ í•˜ë‚˜ë¼ë„ 1ì´ë©´ 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a | b    = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">   </span><span class="c1">// 1111 1011</span>

<span class="w">    </span><span class="c1">// XOR (^): ì„œë¡œ ë‹¤ë¥´ë©´ 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a ^ b    = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">   </span><span class="c1">// 0111 1001</span>

<span class="w">    </span><span class="c1">// NOT (~): ë¹„íŠ¸ ë°˜ì „</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;~a       = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="o">~</span><span class="n">a</span><span class="p">);</span><span class="w">      </span><span class="c1">// 0011 0101</span>

<span class="w">    </span><span class="c1">// Left Shift (&lt;&lt;): ì™¼ìª½ìœ¼ë¡œ ì´ë™, ë¹ˆ ìë¦¬ëŠ” 0</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a &lt;&lt; 2   = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">  </span><span class="c1">// 0010 1000</span>

<span class="w">    </span><span class="c1">// Right Shift (&gt;&gt;): ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a &gt;&gt; 2   = &quot;</span><span class="p">);</span><span class="w"> </span><span class="n">print_binary</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">  </span><span class="c1">// 0011 0010</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_6">ì—°ì‚°ì ì§„ë¦¬í‘œ<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>AND (&amp;)          OR (|)           XOR (^)
A  B  A&amp;B        A  B  A|B        A  B  A^B
0  0   0         0  0   0         0  0   0
0  1   0         0  1   1         0  1   1
1  0   0         1  0   1         1  0   1
1  1   1         1  1   1         1  1   0
</code></pre></div>

<hr />
<h2 id="3">3. ë¹„íŠ¸ ë§ˆìŠ¤í‚¹ ê¸°ë²•<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31-get">3.1 íŠ¹ì • ë¹„íŠ¸ ì½ê¸° (GET)<a class="header-link" href="#31-get" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// íŠ¹ì • ë¹„íŠ¸ì˜ ê°’ í™•ì¸</span>
<span class="c1">// ë°©ë²•: (value &gt;&gt; bit) &amp; 1</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10110100</span><span class="p">;</span>

<span class="c1">// ë¹„íŠ¸ 2ì˜ ê°’ ì½ê¸°</span>
<span class="kt">int</span><span class="w"> </span><span class="n">bit2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">reg</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 1</span>

<span class="c1">// ë¹„íŠ¸ 3ì˜ ê°’ ì½ê¸°</span>
<span class="kt">int</span><span class="w"> </span><span class="n">bit3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">reg</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 0</span>

<span class="c1">// ë§¤í¬ë¡œë¡œ ì •ì˜</span>
<span class="cp">#define GET_BIT(value, bit) (((value) &gt;&gt; (bit)) &amp; 1)</span>

<span class="c1">// ì‚¬ìš© ì˜ˆ</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">GET_BIT</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë¹„íŠ¸ 5ê°€ ì„¤ì •ë¨</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="32-set">3.2 íŠ¹ì • ë¹„íŠ¸ ì„¤ì • (SET)<a class="header-link" href="#32-set" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// íŠ¹ì • ë¹„íŠ¸ë¥¼ 1ë¡œ ì„¤ì •</span>
<span class="c1">// ë°©ë²•: value |= (1 &lt;&lt; bit)</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10100000</span><span class="p">;</span>

<span class="c1">// ë¹„íŠ¸ 3ì„ 1ë¡œ ì„¤ì •</span>
<span class="n">reg</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 0b10101000</span>

<span class="c1">// ì—¬ëŸ¬ ë¹„íŠ¸ ë™ì‹œ ì„¤ì •</span>
<span class="n">reg</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// ë¹„íŠ¸ 1, 4 ì„¤ì •</span>

<span class="c1">// ë§¤í¬ë¡œë¡œ ì •ì˜</span>
<span class="cp">#define SET_BIT(value, bit) ((value) |= (1 &lt;&lt; (bit)))</span>

<span class="c1">// ì‚¬ìš© ì˜ˆ</span>
<span class="n">SET_BIT</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span><span class="w">  </span><span class="c1">// ë¹„íŠ¸ 6 ì„¤ì •</span>
</code></pre></div>

<p><strong>ë™ì‘ ì›ë¦¬:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">reg</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">1010</span><span class="w"> </span><span class="mh">0000</span>
<span class="mh">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">3</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mh">0000</span><span class="w"> </span><span class="mh">1000</span>
<span class="w">           </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="w"> </span><span class="n">OR</span>
<span class="err">ê²°ê³¼</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">1010</span><span class="w"> </span><span class="mh">1000</span>
</code></pre></div>

<h3 id="33-clear">3.3 íŠ¹ì • ë¹„íŠ¸ í•´ì œ (CLEAR)<a class="header-link" href="#33-clear" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// íŠ¹ì • ë¹„íŠ¸ë¥¼ 0ìœ¼ë¡œ í•´ì œ</span>
<span class="c1">// ë°©ë²•: value &amp;= ~(1 &lt;&lt; bit)</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b11111111</span><span class="p">;</span>

<span class="c1">// ë¹„íŠ¸ 5ë¥¼ 0ìœ¼ë¡œ í•´ì œ</span>
<span class="n">reg</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 0b11011111</span>

<span class="c1">// ë§¤í¬ë¡œë¡œ ì •ì˜</span>
<span class="cp">#define CLEAR_BIT(value, bit) ((value) &amp;= ~(1 &lt;&lt; (bit)))</span>

<span class="c1">// ì‚¬ìš© ì˜ˆ</span>
<span class="n">CLEAR_BIT</span><span class="p">(</span><span class="n">reg</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">  </span><span class="c1">// ë¹„íŠ¸ 2 í•´ì œ</span>
</code></pre></div>

<p><strong>ë™ì‘ ì›ë¦¬:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">reg</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">1111</span><span class="w"> </span><span class="mh">1111</span>
<span class="mh">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">5</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mh">0010</span><span class="w"> </span><span class="mh">0000</span>
<span class="o">~</span><span class="p">(</span><span class="mh">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">5</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1101</span><span class="w"> </span><span class="mh">1111</span>
<span class="w">           </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="w"> </span><span class="n">AND</span>
<span class="err">ê²°ê³¼</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">1101</span><span class="w"> </span><span class="mh">1111</span>
</code></pre></div>

<h3 id="34-toggle">3.4 íŠ¹ì • ë¹„íŠ¸ í† ê¸€ (TOGGLE)<a class="header-link" href="#34-toggle" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// íŠ¹ì • ë¹„íŠ¸ ë°˜ì „ (0â†’1, 1â†’0)</span>
<span class="c1">// ë°©ë²•: value ^= (1 &lt;&lt; bit)</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10101010</span><span class="p">;</span>

<span class="c1">// ë¹„íŠ¸ 4 í† ê¸€</span>
<span class="n">reg</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 0b10111010 (0â†’1)</span>
<span class="n">reg</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê²°ê³¼: 0b10101010 (1â†’0)</span>

<span class="c1">// ë§¤í¬ë¡œë¡œ ì •ì˜</span>
<span class="cp">#define TOGGLE_BIT(value, bit) ((value) ^= (1 &lt;&lt; (bit)))</span>

<span class="c1">// ì‚¬ìš© ì˜ˆ: LED í† ê¸€</span>
<span class="n">TOGGLE_BIT</span><span class="p">(</span><span class="n">PORTB</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// í•€ 13 LED í† ê¸€</span>
</code></pre></div>

<h3 id="35">3.5 ë¹„íŠ¸ ë§ˆìŠ¤í¬ ìœ í‹¸ë¦¬í‹° í—¤ë”<a class="header-link" href="#35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bit_utils.h</span>
<span class="cp">#ifndef BIT_UTILS_H</span>
<span class="cp">#define BIT_UTILS_H</span>

<span class="c1">// ë¹„íŠ¸ ì¡°ì‘ ë§¤í¬ë¡œ</span>
<span class="cp">#define BIT(n)                  (1 &lt;&lt; (n))</span>
<span class="cp">#define SET_BIT(reg, bit)       ((reg) |= BIT(bit))</span>
<span class="cp">#define CLEAR_BIT(reg, bit)     ((reg) &amp;= ~BIT(bit))</span>
<span class="cp">#define TOGGLE_BIT(reg, bit)    ((reg) ^= BIT(bit))</span>
<span class="cp">#define GET_BIT(reg, bit)       (((reg) &gt;&gt; (bit)) &amp; 1)</span>
<span class="cp">#define CHECK_BIT(reg, bit)     ((reg) &amp; BIT(bit))</span>

<span class="c1">// ì—¬ëŸ¬ ë¹„íŠ¸ ì¡°ì‘</span>
<span class="cp">#define SET_BITS(reg, mask)     ((reg) |= (mask))</span>
<span class="cp">#define CLEAR_BITS(reg, mask)   ((reg) &amp;= ~(mask))</span>
<span class="cp">#define TOGGLE_BITS(reg, mask)  ((reg) ^= (mask))</span>

<span class="c1">// ë¹„íŠ¸ í•„ë“œ ì¡°ì‘</span>
<span class="cp">#define GET_FIELD(reg, mask, shift)     (((reg) &amp; (mask)) &gt;&gt; (shift))</span>
<span class="cp">#define SET_FIELD(reg, mask, shift, val) \</span>
<span class="cp">    ((reg) = ((reg) &amp; ~(mask)) | (((val) &lt;&lt; (shift)) &amp; (mask)))</span>

<span class="cp">#endif</span>
</code></pre></div>

<hr />
<h2 id="4">4. í”Œë˜ê·¸ ê´€ë¦¬<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<p>ì—¬ëŸ¬ ìƒíƒœë¥¼ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
<h3 id="_7">í”Œë˜ê·¸ ì •ì˜<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// flags.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="c1">// ê° ë¹„íŠ¸ì— ì˜ë¯¸ ë¶€ì—¬</span>
<span class="cp">#define FLAG_RUNNING    (1 &lt;&lt; 0)  </span><span class="c1">// ë¹„íŠ¸ 0: ì‹¤í–‰ ì¤‘</span>
<span class="cp">#define FLAG_ERROR      (1 &lt;&lt; 1)  </span><span class="c1">// ë¹„íŠ¸ 1: ì—ëŸ¬ ë°œìƒ</span>
<span class="cp">#define FLAG_CONNECTED  (1 &lt;&lt; 2)  </span><span class="c1">// ë¹„íŠ¸ 2: ì—°ê²°ë¨</span>
<span class="cp">#define FLAG_READY      (1 &lt;&lt; 3)  </span><span class="c1">// ë¹„íŠ¸ 3: ì¤€ë¹„ ì™„ë£Œ</span>
<span class="cp">#define FLAG_BUSY       (1 &lt;&lt; 4)  </span><span class="c1">// ë¹„íŠ¸ 4: ì‚¬ìš© ì¤‘</span>
<span class="cp">#define FLAG_TIMEOUT    (1 &lt;&lt; 5)  </span><span class="c1">// ë¹„íŠ¸ 5: íƒ€ì„ì•„ì›ƒ</span>

<span class="c1">// ì „ì—­ ìƒíƒœ í”Œë˜ê·¸</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">system_flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="c1">// í”Œë˜ê·¸ ì„¤ì •</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set_flag</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">system_flags</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">flag</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// í”Œë˜ê·¸ í•´ì œ</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">clear_flag</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">system_flags</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="n">flag</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// í”Œë˜ê·¸ í™•ì¸</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">is_flag_set</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">system_flags</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// í”Œë˜ê·¸ í† ê¸€</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">toggle_flag</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">system_flags</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">flag</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ì‹œìŠ¤í…œ ì‹œì‘</span>
<span class="w">    </span><span class="n">set_flag</span><span class="p">(</span><span class="n">FLAG_RUNNING</span><span class="p">);</span>
<span class="w">    </span><span class="n">set_flag</span><span class="p">(</span><span class="n">FLAG_READY</span><span class="p">);</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;FLAGS: 0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">system_flags</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ìƒíƒœ í™•ì¸</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_flag_set</span><span class="p">(</span><span class="n">FLAG_RUNNING</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì‹œìŠ¤í…œ ì‹¤í–‰ ì¤‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_flag_set</span><span class="p">(</span><span class="n">FLAG_ERROR</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì—ëŸ¬ ë°œìƒ!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì •ìƒ ë™ì‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ì—ëŸ¬ ë°œìƒ</span>
<span class="w">    </span><span class="n">set_flag</span><span class="p">(</span><span class="n">FLAG_ERROR</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì—ëŸ¬ í”Œë˜ê·¸ ì„¤ì • í›„: 0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">system_flags</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ì—ëŸ¬ í•´ê²°</span>
<span class="w">    </span><span class="n">clear_flag</span><span class="p">(</span><span class="n">FLAG_ERROR</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì—ëŸ¬ í”Œë˜ê·¸ í•´ì œ í›„: 0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">system_flags</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="arduino">Arduinoì—ì„œ í”Œë˜ê·¸ ì‚¬ìš© ì˜ˆ<a class="header-link" href="#arduino" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// arduino_flags.ino</span>

<span class="c1">// ìƒíƒœ í”Œë˜ê·¸</span>
<span class="cp">#define STATE_IDLE      0x00</span>
<span class="cp">#define STATE_RUNNING   0x01</span>
<span class="cp">#define STATE_PAUSED    0x02</span>
<span class="cp">#define STATE_ERROR     0x04</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">deviceState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STATE_IDLE</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ì‹œë¦¬ì–¼ ëª…ë ¹ ì²˜ë¦¬</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>

<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;r&#39;</span><span class="p">:</span><span class="w">  </span><span class="c1">// Run</span>
<span class="w">                </span><span class="n">deviceState</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">STATE_RUNNING</span><span class="p">;</span>
<span class="w">                </span><span class="n">deviceState</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="n">STATE_PAUSED</span><span class="p">;</span>
<span class="w">                </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Running&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>

<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;p&#39;</span><span class="p">:</span><span class="w">  </span><span class="c1">// Pause</span>
<span class="w">                </span><span class="n">deviceState</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">STATE_PAUSED</span><span class="p">;</span>
<span class="w">                </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Paused&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>

<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;s&#39;</span><span class="p">:</span><span class="w">  </span><span class="c1">// Stop</span>
<span class="w">                </span><span class="n">deviceState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STATE_IDLE</span><span class="p">;</span>
<span class="w">                </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Stopped&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>

<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;e&#39;</span><span class="p">:</span><span class="w">  </span><span class="c1">// Error toggle</span>
<span class="w">                </span><span class="n">deviceState</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">STATE_ERROR</span><span class="p">;</span>
<span class="w">                </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Error toggled&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ìƒíƒœ ì¶œë ¥</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;State: 0x&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">deviceState</span><span class="p">,</span><span class="w"> </span><span class="n">HEX</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ìƒíƒœì— ë”°ë¥¸ LED ì œì–´</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deviceState</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">STATE_ERROR</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ì—ëŸ¬: ë¹ ë¥¸ ê¹œë¹¡ì„</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deviceState</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">STATE_RUNNING</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">deviceState</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">STATE_PAUSED</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ì‹¤í–‰ ì¤‘: ëŠë¦° ê¹œë¹¡ì„</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">            </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">            </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ëŒ€ê¸°: LED êº¼ì§</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="5">5. ë ˆì§€ìŠ¤í„° ê°œë…<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="mcu">MCU ë ˆì§€ìŠ¤í„°ë€?<a class="header-link" href="#mcu" title="Permanent link">&para;</a></h3>
<p>ë ˆì§€ìŠ¤í„°ëŠ” MCU ë‚´ë¶€ì˜ íŠ¹ìˆ˜í•œ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œ, í•˜ë“œì›¨ì–´ë¥¼ ì œì–´í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>Arduino Uno (ATmega328P) GPIO ê´€ë ¨ ë ˆì§€ìŠ¤í„°:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DDRx (Data Direction Register)                      â”‚
â”‚ - í•€ì˜ ì…/ì¶œë ¥ ë°©í–¥ ì„¤ì •                            â”‚
â”‚ - 0 = ì…ë ¥ (INPUT)                                  â”‚
â”‚ - 1 = ì¶œë ¥ (OUTPUT)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PORTx (Port Output Register)                        â”‚
â”‚ - ì¶œë ¥ ëª¨ë“œ: HIGH/LOW ì¶œë ¥                          â”‚
â”‚ - ì…ë ¥ ëª¨ë“œ: í’€ì—… ì €í•­ í™œì„±í™”                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PINx (Port Input Register)                          â”‚
â”‚ - í•€ì˜ í˜„ì¬ ìƒíƒœ ì½ê¸°                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

x = B (í•€ 8~13), C (ì•„ë‚ ë¡œê·¸ í•€), D (í•€ 0~7)
</code></pre></div>

<h3 id="arduino-vs">Arduino í•¨ìˆ˜ vs ì§ì ‘ ë ˆì§€ìŠ¤í„° ì œì–´<a class="header-link" href="#arduino-vs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Arduino ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (í¸ë¦¬í•˜ì§€ë§Œ ëŠë¦¼)</span>
<span class="n">pinMode</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>

<span class="c1">// ì§ì ‘ ë ˆì§€ìŠ¤í„° ì œì–´ (ë¹ ë¦„)</span>
<span class="n">DDRB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">   </span><span class="c1">// í•€ 13ì„ ì¶œë ¥ìœ¼ë¡œ ì„¤ì •</span>
<span class="n">PORTB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// í•€ 13 HIGH</span>
<span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// í•€ 13 LOW</span>
</code></pre></div>

<h3 id="_8">ì†ë„ ë¹„êµ<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// speed_compare.ino</span>
<span class="c1">// digitalWrite vs ì§ì ‘ ë ˆì§€ìŠ¤í„°</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="w">    </span><span class="n">DDRB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// í•€ 13 ì¶œë ¥ ì„¤ì •</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// digitalWrite ì†ë„ ì¸¡ì •</span>
<span class="w">    </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">micros</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">micros</span><span class="p">();</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;digitalWrite: &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; us&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ì§ì ‘ ë ˆì§€ìŠ¤í„° ì†ë„ ì¸¡ì •</span>
<span class="w">    </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">micros</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100000</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">PORTB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w">        </span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">micros</span><span class="p">();</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Direct register: &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; us&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ê²°ê³¼ ì˜ˆì‹œ:</span>
<span class="c1">// digitalWrite: 625000 us</span>
<span class="c1">// Direct register: 12500 us</span>
<span class="c1">// â†’ ì§ì ‘ ì œì–´ê°€ ì•½ 50ë°° ë¹ ë¦„!</span>
</code></pre></div>

<h3 id="_9">ë ˆì§€ìŠ¤í„° ì§ì ‘ ì ‘ê·¼ ì˜ˆì œ<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// register_access.ino</span>
<span class="c1">// ë ˆì§€ìŠ¤í„°ë¡œ LED ì œì–´</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// DDRB: Data Direction Register B</span>
<span class="w">    </span><span class="c1">// ë¹„íŠ¸ 5 = 1 â†’ í•€ 13 ì¶œë ¥ ëª¨ë“œ</span>
<span class="w">    </span><span class="n">DDRB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">DDB5</span><span class="p">);</span>

<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Register control demo&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// PORTB ë ˆì§€ìŠ¤í„°ì˜ ë¹„íŠ¸ 5ë¥¼ í† ê¸€</span>
<span class="w">    </span><span class="n">PORTB</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">PORTB5</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// PINB ë ˆì§€ìŠ¤í„°ë¡œ í˜„ì¬ ìƒíƒœ ì½ê¸°</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PINB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">PINB5</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;LED ON&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;LED OFF&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="6-volatile">6. volatile í‚¤ì›Œë“œ<a class="header-link" href="#6-volatile" title="Permanent link">&para;</a></h2>
<h3 id="volatile">volatileì´ í•„ìš”í•œ ì´ìœ <a class="header-link" href="#volatile" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// ë¬¸ì œ ìƒí™©: ì»´íŒŒì¼ëŸ¬ ìµœì í™”</span>

<span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="c1">// ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ (í•˜ë“œì›¨ì–´ì— ì˜í•´ í˜¸ì¶œ)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">interrupt_handler</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ëŒ€ê¸°</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// flagê°€ 1ì´ ë˜ë©´ ì—¬ê¸° ì‹¤í–‰</span>
<span class="p">}</span>
</code></pre></div>

<p>ì»´íŒŒì¼ëŸ¬ëŠ” <code>flag</code>ê°€ ë£¨í”„ ì•ˆì—ì„œ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  íŒë‹¨í•˜ì—¬ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”í•œ ì½”ë“œ (ë¬¸ì œ!)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// ë¬´í•œ ë£¨í”„ë¡œ ë³€í™˜</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="volatile_1">volatile ì‚¬ìš©<a class="header-link" href="#volatile_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// í•´ê²°: volatile í‚¤ì›Œë“œ ì‚¬ìš©</span>
<span class="k">volatile</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">interrupt_handler</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ë§¤ë²ˆ ë©”ëª¨ë¦¬ì—ì„œ flag ê°’ì„ ì½ìŒ</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// ì •ìƒ ë™ì‘</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="volatile_2">volatileì˜ ì˜ë¯¸<a class="header-link" href="#volatile_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>volatile = &quot;ë³€ë•ìŠ¤ëŸ¬ìš´&quot;

ì»´íŒŒì¼ëŸ¬ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ê²ƒ:
1. ì´ ë³€ìˆ˜ëŠ” ì–¸ì œë“  ì™¸ë¶€ì—ì„œ ë³€ê²½ë  ìˆ˜ ìˆìŒ
2. ìµœì í™”í•˜ì§€ ë§ê³  í•­ìƒ ë©”ëª¨ë¦¬ì—ì„œ ì½ì–´ë¼
3. ë ˆì§€ìŠ¤í„°ì— ìºì‹±í•˜ì§€ ë§ˆë¼
</code></pre></div>

<h3 id="arduino-volatile">Arduinoì—ì„œ volatile ì‚¬ìš©<a class="header-link" href="#arduino-volatile" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// volatile_example.ino</span>
<span class="c1">// ì¸í„°ëŸ½íŠ¸ì™€ volatile</span>

<span class="k">volatile</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">buttonPressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">BUTTON_PIN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">LED_PIN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span>

<span class="c1">// ì¸í„°ëŸ½íŠ¸ ì„œë¹„ìŠ¤ ë£¨í‹´ (ISR)</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">buttonISR</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">buttonPressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT_PULLUP</span><span class="p">);</span>
<span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// í•€ 2ì— ì¸í„°ëŸ½íŠ¸ ì—°ê²° (FALLING = HIGHâ†’LOW)</span>
<span class="w">    </span><span class="n">attachInterrupt</span><span class="p">(</span><span class="n">digitalPinToInterrupt</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">),</span><span class="w"> </span><span class="n">buttonISR</span><span class="p">,</span><span class="w"> </span><span class="n">FALLING</span><span class="p">);</span>

<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonPressed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Button pressed!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">));</span><span class="w">  </span><span class="c1">// LED í† ê¸€</span>

<span class="w">        </span><span class="n">buttonPressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w">  </span><span class="c1">// í”Œë˜ê·¸ ë¦¬ì…‹</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w">  </span><span class="c1">// ë””ë°”ìš´ìŠ¤</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="volatile_3">ë ˆì§€ìŠ¤í„°ì™€ volatile<a class="header-link" href="#volatile_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// MCU ë ˆì§€ìŠ¤í„°ëŠ” í•­ìƒ volatile</span>
<span class="c1">// í•˜ë“œì›¨ì–´ê°€ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ</span>

<span class="c1">// ì‹¤ì œ Arduino í—¤ë” íŒŒì¼ ì •ì˜ (avr/io.h)</span>
<span class="cp">#define PORTB (*(volatile uint8_t *)0x25)</span>
<span class="cp">#define DDRB  (*(volatile uint8_t *)0x24)</span>
<span class="cp">#define PINB  (*(volatile uint8_t *)0x23)</span>

<span class="c1">// ì„¤ëª…:</span>
<span class="c1">// 0x25 = PORTB ë ˆì§€ìŠ¤í„°ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œ</span>
<span class="c1">// (volatile uint8_t *) = í•´ë‹¹ ì£¼ì†Œë¥¼ volatile í¬ì¸í„°ë¡œ ìºìŠ¤íŒ…</span>
<span class="c1">// * = í•´ë‹¹ ì£¼ì†Œì˜ ê°’ì— ì ‘ê·¼</span>
</code></pre></div>

<hr />
<h2 id="7">7. ì‹¤ìŠµ: ë¹„íŠ¸ ì¡°ì‘ ìœ í‹¸ë¦¬í‹°<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="_10">ë¹„íŠ¸ ì¹´ìš´í„°<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bit_counter.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="c1">// 1ì¸ ë¹„íŠ¸ ê°œìˆ˜ ì„¸ê¸° (popcount)</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">count_ones</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ë” ë¹ ë¥¸ ë°©ë²•: Brian Kernighan ì•Œê³ ë¦¬ì¦˜</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">count_ones_fast</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// ê°€ì¥ ì˜¤ë¥¸ìª½ 1 ë¹„íŠ¸ ì œê±°</span>
<span class="w">        </span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">test</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mh">0xABCD</span><span class="p">};</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;0x%04X (%5u): %d ones</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="n">test</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">test</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">count_ones</span><span class="p">(</span><span class="n">test</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="reverse">ë¹„íŠ¸ ë°˜ì „ (Reverse)<a class="header-link" href="#reverse" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bit_reverse.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="c1">// 8ë¹„íŠ¸ ë°˜ì „</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">reverse_bits</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b10110001</span><span class="p">;</span><span class="w">  </span><span class="c1">// 177</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì›ë³¸:   &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (0x%02X)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>

<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">reversed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reverse_bits</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë°˜ì „:   &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">reversed</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (0x%02X)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">reversed</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_11">ë¹„íŠ¸ ìŠ¤ì™‘<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bit_swap.c</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="c1">// ë‘ ë¹„íŠ¸ ìœ„ì¹˜ì˜ ê°’ êµí™˜</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">swap_bits</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// iì™€ j ìœ„ì¹˜ì˜ ë¹„íŠ¸ê°€ ë‹¤ë¥¼ ë•Œë§Œ êµí™˜</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="p">((</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">j</span><span class="p">);</span><span class="w">  </span><span class="c1">// ë‘˜ ë‹¤ í† ê¸€</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ìƒìœ„ 4ë¹„íŠ¸ì™€ í•˜ìœ„ 4ë¹„íŠ¸ êµí™˜</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">swap_nibbles</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="n">n</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0x0F</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">((</span><span class="n">n</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xF0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b11001010</span><span class="p">;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì›ë³¸: 0x%02X (0b%d%d%d%d%d%d%d%d)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span>
<span class="w">           </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">7</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">5</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">4</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span>
<span class="w">           </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">3</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">2</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ë¹„íŠ¸ 1ê³¼ 6 êµí™˜</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">swapped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">swap_bits</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë¹„íŠ¸ 1,6 êµí™˜: 0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">swapped</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ë‹ˆë¸” êµí™˜</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">nibble_swapped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">swap_nibbles</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë‹ˆë¸” êµí™˜: 0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nibble_swapped</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="arduino_1">Arduino ë¹„íŠ¸ ì¡°ì‘ ì˜ˆì œ<a class="header-link" href="#arduino_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// bit_manipulation.ino</span>
<span class="c1">// ë¹„íŠ¸ ì¡°ì‘ìœ¼ë¡œ ì—¬ëŸ¬ LED ì œì–´</span>

<span class="c1">// LED ì—°ê²°: í•€ 8, 9, 10, 11 (PORTB ë¹„íŠ¸ 0~3)</span>
<span class="cp">#define LED_MASK 0x0F  </span><span class="c1">// í•˜ìœ„ 4ë¹„íŠ¸</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// í•€ 8~11ì„ ì¶œë ¥ìœ¼ë¡œ ì„¤ì •</span>
<span class="w">    </span><span class="n">DDRB</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">LED_MASK</span><span class="p">;</span>
<span class="w">    </span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">~</span><span class="n">LED_MASK</span><span class="p">;</span><span class="w">  </span><span class="c1">// ëª¨ë“  LED ë„ê¸°</span>

<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Bit manipulation demo&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Commands: 0-F (hex), r (rotate), i (invert)&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;9&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ìˆ«ì 0-9: í•´ë‹¹ íŒ¨í„´ í‘œì‹œ</span>
<span class="w">            </span><span class="n">PORTB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">LED_MASK</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;f&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// a-f: 10-15 íŒ¨í„´ í‘œì‹œ</span>
<span class="w">            </span><span class="n">PORTB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">LED_MASK</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="sc">&#39;F&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// A-F: 10-15 íŒ¨í„´ í‘œì‹œ</span>
<span class="w">            </span><span class="n">PORTB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">LED_MASK</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;r&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;R&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ì™¼ìª½ ìˆœí™˜ ì‹œí”„íŠ¸</span>
<span class="w">            </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">leds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">LED_MASK</span><span class="p">;</span>
<span class="w">            </span><span class="n">leds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">leds</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">leds</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">LED_MASK</span><span class="p">;</span>
<span class="w">            </span><span class="n">PORTB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PORTB</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">LED_MASK</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">leds</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;i&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">cmd</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;I&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ë°˜ì „</span>
<span class="w">            </span><span class="n">PORTB</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">LED_MASK</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// í˜„ì¬ ìƒíƒœ ì¶œë ¥</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;LED pattern: 0b&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">((</span><span class="n">PORTB</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="_12">ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#_12" title="Permanent link">&para;</a></h2>
<h3 id="1_1">ì—°ìŠµ 1: ë¹„íŠ¸ í•„ë“œ ì¶”ì¶œ<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>8ë¹„íŠ¸ ê°’ì—ì„œ ë¹„íŠ¸ 2~5 (4ë¹„íŠ¸)ë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>
<div class="highlight"><pre><span></span><code><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">extract_bits</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>
<span class="c1">// extract_bits(0b11010110, 2, 4) â†’ 0b0101 (5)</span>
</code></pre></div>

<h3 id="2-2">ì—°ìŠµ 2: 2ì˜ ê±°ë“­ì œê³± í™•ì¸<a class="header-link" href="#2-2" title="Permanent link">&para;</a></h3>
<p>ì£¼ì–´ì§„ ìˆ«ìê°€ 2ì˜ ê±°ë“­ì œê³±ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë¹„íŠ¸ ì—°ì‚°ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">is_power_of_two</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<span class="c1">// is_power_of_two(8) â†’ 1 (true)</span>
<span class="c1">// is_power_of_two(6) â†’ 0 (false)</span>
</code></pre></div>

<h3 id="3_1">ì—°ìŠµ 3: íŒ¨ë¦¬í‹° ë¹„íŠ¸<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<p>8ë¹„íŠ¸ ê°’ì˜ 1ì¸ ë¹„íŠ¸ ê°œìˆ˜ê°€ í™€ìˆ˜ë©´ 1, ì§ìˆ˜ë©´ 0ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">parity</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<span class="c1">// parity(0b10110001) â†’ 0 (1ì´ 4ê°œ = ì§ìˆ˜)</span>
<span class="c1">// parity(0b10110011) â†’ 1 (1ì´ 5ê°œ = í™€ìˆ˜)</span>
</code></pre></div>

<h3 id="4-arduino-led">ì—°ìŠµ 4: Arduino LED ë°”<a class="header-link" href="#4-arduino-led" title="Permanent link">&para;</a></h3>
<p>4ê°œì˜ LEDë¡œ 0~15 ê°’ì„ 2ì§„ìˆ˜ë¡œ í‘œì‹œí•˜ê³ , ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ê°’ì´ 1ì”© ì¦ê°€í•˜ë„ë¡ ë§Œë“œì„¸ìš”.</p>
<hr />
<h2 id="_13">í•µì‹¬ ê°œë… ì •ë¦¬<a class="header-link" href="#_13" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>ì—°ì‚°</th>
<th>ì½”ë“œ</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody>
<tr>
<td>ë¹„íŠ¸ ì„¤ì •</td>
<td><code>val \|= (1 &lt;&lt; n)</code></td>
<td>në²ˆì§¸ ë¹„íŠ¸ë¥¼ 1ë¡œ</td>
</tr>
<tr>
<td>ë¹„íŠ¸ í•´ì œ</td>
<td><code>val &amp;= ~(1 &lt;&lt; n)</code></td>
<td>në²ˆì§¸ ë¹„íŠ¸ë¥¼ 0ìœ¼ë¡œ</td>
</tr>
<tr>
<td>ë¹„íŠ¸ í† ê¸€</td>
<td><code>val ^= (1 &lt;&lt; n)</code></td>
<td>në²ˆì§¸ ë¹„íŠ¸ ë°˜ì „</td>
</tr>
<tr>
<td>ë¹„íŠ¸ í™•ì¸</td>
<td><code>(val &gt;&gt; n) &amp; 1</code></td>
<td>në²ˆì§¸ ë¹„íŠ¸ ê°’</td>
</tr>
<tr>
<td>í•˜ìœ„ në¹„íŠ¸</td>
<td><code>val &amp; ((1 &lt;&lt; n) - 1)</code></td>
<td>í•˜ìœ„ nê°œ ë¹„íŠ¸ë§Œ</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>í‚¤ì›Œë“œ</th>
<th>ì˜ë¯¸</th>
</tr>
</thead>
<tbody>
<tr>
<td>volatile</td>
<td>ì»´íŒŒì¼ëŸ¬ ìµœì í™” ë°©ì§€, í•­ìƒ ë©”ëª¨ë¦¬ì—ì„œ ì½ê¸°</td>
</tr>
<tr>
<td>register</td>
<td>ë ˆì§€ìŠ¤í„°ì— ì €ì¥ ìš”ì²­ (íŒíŠ¸)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="_14">ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#_14" title="Permanent link">&para;</a></h2>
<p>ë¹„íŠ¸ ì—°ì‚°ì„ ìµí˜”ë‹¤ë©´ ë‹¤ìŒ ë¬¸ì„œë¡œ ë„˜ì–´ê°€ì„¸ìš”:
- <a href="15_í”„ë¡œì íŠ¸_GPIOì œì–´.md">15. GPIO ì œì–´</a> - LEDì™€ ë²„íŠ¼ìœ¼ë¡œ ì‹¤ìŠµ</p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/C_Programming/14_Embedded_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ì„ë² ë””ë“œ í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/C_Programming/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/C_Programming/16_Project_GPIO_Control.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">í”„ë¡œì íŠ¸ 15: GPIO ì œì–´</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}