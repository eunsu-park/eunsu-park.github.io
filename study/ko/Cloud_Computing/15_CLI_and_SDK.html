{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI & SDK - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Cloud_Computing/">Cloud Computing</a>
    <span class="separator">/</span>
    <span class="current">CLI & SDK</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>CLI & SDK</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Cloud_Computing/14_Security_Services.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë³´ì•ˆ ì„œë¹„ìŠ¤</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Cloud_Computing/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Cloud_Computing/16_Infrastructure_as_Code.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Infrastructure as Code (Terraform)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-cli">1. CLI ê°œìš”</a><ul>
<li><a href="#11-aws-cli-vs-gcloud-cli">1.1 AWS CLI vs gcloud CLI</a></li>
</ul>
</li>
<li><a href="#2-aws-cli">2. AWS CLI</a><ul>
<li><a href="#21">2.1 ì„¤ì¹˜</a></li>
<li><a href="#22">2.2 êµ¬ì„±</a></li>
<li><a href="#23">2.3 ì£¼ìš” ëª…ë ¹ì–´</a></li>
<li><a href="#24-query">2.4 ì¶œë ¥ í•„í„°ë§ (--query)</a></li>
</ul>
</li>
<li><a href="#3-gcloud-cli">3. gcloud CLI</a><ul>
<li><a href="#31">3.1 ì„¤ì¹˜</a></li>
<li><a href="#32">3.2 êµ¬ì„±</a></li>
<li><a href="#33">3.3 ì£¼ìš” ëª…ë ¹ì–´</a></li>
<li><a href="#34-filter-format">3.4 ì¶œë ¥ í•„í„°ë§ (--filter, --format)</a></li>
</ul>
</li>
<li><a href="#4-python-sdk">4. Python SDK</a><ul>
<li><a href="#41-aws-sdk-boto3">4.1 AWS SDK (boto3)</a></li>
<li><a href="#42-gcp-sdk-google-cloud">4.2 GCP SDK (google-cloud)</a></li>
</ul>
</li>
<li><a href="#5">5. ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ</a><ul>
<li><a href="#51">5.1 ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸</a></li>
<li><a href="#52">5.2 ë°°í¬ ìŠ¤í¬ë¦½íŠ¸</a></li>
<li><a href="#53">5.3 ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸</a></li>
</ul>
</li>
<li><a href="#6">6. í˜ì´ì§€ë„¤ì´ì…˜ ì²˜ë¦¬</a><ul>
<li><a href="#61-aws-cli">6.1 AWS CLI í˜ì´ì§€ë„¤ì´ì…˜</a></li>
<li><a href="#62-gcloud">6.2 gcloud í˜ì´ì§€ë„¤ì´ì…˜</a></li>
</ul>
</li>
<li><a href="#7">7. ì—ëŸ¬ ì²˜ë¦¬</a><ul>
<li><a href="#71-boto3">7.1 boto3 ì—ëŸ¬ ì²˜ë¦¬</a></li>
<li><a href="#72-gcp">7.2 GCP ì—ëŸ¬ ì²˜ë¦¬</a></li>
</ul>
</li>
<li><a href="#8">8. ë‹¤ìŒ ë‹¨ê³„</a></li>
<li><a href="#_1">ì°¸ê³  ìë£Œ</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="cli-sdk">CLI &amp; SDK<a class="header-link" href="#cli-sdk" title="Permanent link">&para;</a></h1>
<h2 id="1-cli">1. CLI ê°œìš”<a class="header-link" href="#1-cli" title="Permanent link">&para;</a></h2>
<h3 id="11-aws-cli-vs-gcloud-cli">1.1 AWS CLI vs gcloud CLI<a class="header-link" href="#11-aws-cli-vs-gcloud-cli" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>í•­ëª©</th>
<th>AWS CLI</th>
<th>gcloud CLI</th>
</tr>
</thead>
<tbody>
<tr>
<td>ì„¤ì¹˜ íŒ¨í‚¤ì§€</td>
<td>awscli</td>
<td>google-cloud-sdk</td>
</tr>
<tr>
<td>êµ¬ì„± ëª…ë ¹</td>
<td>aws configure</td>
<td>gcloud init</td>
</tr>
<tr>
<td>í”„ë¡œí•„</td>
<td>--profile</td>
<td>--configuration</td>
</tr>
<tr>
<td>ì¶œë ¥ í˜•ì‹</td>
<td>json, text, table, yaml</td>
<td>json, text, yaml, csv</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-aws-cli">2. AWS CLI<a class="header-link" href="#2-aws-cli" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 ì„¤ì¹˜<a class="header-link" href="#21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># macOS</span>
curl<span class="w"> </span><span class="s2">&quot;https://awscli.amazonaws.com/AWSCLIV2.pkg&quot;</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;AWSCLIV2.pkg&quot;</span>
sudo<span class="w"> </span>installer<span class="w"> </span>-pkg<span class="w"> </span>AWSCLIV2.pkg<span class="w"> </span>-target<span class="w"> </span>/

<span class="c1"># Linux</span>
curl<span class="w"> </span><span class="s2">&quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot;</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;awscliv2.zip&quot;</span>
unzip<span class="w"> </span>awscliv2.zip
sudo<span class="w"> </span>./aws/install

<span class="c1"># pip</span>
pip<span class="w"> </span>install<span class="w"> </span>awscli

<span class="c1"># ë²„ì „ í™•ì¸</span>
aws<span class="w"> </span>--version
</code></pre></div>

<h3 id="22">2.2 êµ¬ì„±<a class="header-link" href="#22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ê¸°ë³¸ êµ¬ì„±</span>
aws<span class="w"> </span>configure
<span class="c1"># AWS Access Key ID: AKIAIOSFODNN7EXAMPLE</span>
<span class="c1"># AWS Secret Access Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</span>
<span class="c1"># Default region name: ap-northeast-2</span>
<span class="c1"># Default output format: json</span>

<span class="c1"># í”„ë¡œí•„ ì¶”ê°€</span>
aws<span class="w"> </span>configure<span class="w"> </span>--profile<span class="w"> </span>production
aws<span class="w"> </span>configure<span class="w"> </span>--profile<span class="w"> </span>development

<span class="c1"># í”„ë¡œí•„ ëª©ë¡</span>
aws<span class="w"> </span>configure<span class="w"> </span>list-profiles

<span class="c1"># í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_ACCESS_KEY_ID</span><span class="o">=</span>AKIAIOSFODNN7EXAMPLE
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span>wJalrXUtnFEMI...
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_DEFAULT_REGION</span><span class="o">=</span>ap-northeast-2
<span class="nb">export</span><span class="w"> </span><span class="nv">AWS_PROFILE</span><span class="o">=</span>production
</code></pre></div>

<p><strong>~/.aws/credentials:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">AKIAIOSFODNN7EXAMPLE</span>
<span class="na">aws_secret_access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">wJalrXUtnFEMI...</span>

<span class="k">[production]</span>
<span class="na">aws_access_key_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">AKIAI44QH8DHBEXAMPLE</span>
<span class="na">aws_secret_access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">je7MtGbClwBF/2Zp9Utk...</span>
</code></pre></div>

<p><strong>~/.aws/config:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">[default]</span>
<span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">ap-northeast-2</span>
<span class="na">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">json</span>

<span class="k">[profile production]</span>
<span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">ap-northeast-1</span>
<span class="na">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">table</span>
</code></pre></div>

<h3 id="23">2.3 ì£¼ìš” ëª…ë ¹ì–´<a class="header-link" href="#23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># EC2</span>
aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances
aws<span class="w"> </span>ec2<span class="w"> </span>run-instances<span class="w"> </span>--image-id<span class="w"> </span>ami-xxx<span class="w"> </span>--instance-type<span class="w"> </span>t3.micro
aws<span class="w"> </span>ec2<span class="w"> </span>start-instances<span class="w"> </span>--instance-ids<span class="w"> </span>i-xxx
aws<span class="w"> </span>ec2<span class="w"> </span>stop-instances<span class="w"> </span>--instance-ids<span class="w"> </span>i-xxx
aws<span class="w"> </span>ec2<span class="w"> </span>terminate-instances<span class="w"> </span>--instance-ids<span class="w"> </span>i-xxx

<span class="c1"># S3</span>
aws<span class="w"> </span>s3<span class="w"> </span>ls
aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>file.txt<span class="w"> </span>s3://bucket/
aws<span class="w"> </span>s3<span class="w"> </span>sync<span class="w"> </span>./folder<span class="w"> </span>s3://bucket/folder
aws<span class="w"> </span>s3<span class="w"> </span>rm<span class="w"> </span>s3://bucket/file.txt

<span class="c1"># IAM</span>
aws<span class="w"> </span>iam<span class="w"> </span>list-users
aws<span class="w"> </span>iam<span class="w"> </span>create-user<span class="w"> </span>--user-name<span class="w"> </span>john
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>john<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/ReadOnlyAccess

<span class="c1"># Lambda</span>
aws<span class="w"> </span>lambda<span class="w"> </span>list-functions
aws<span class="w"> </span>lambda<span class="w"> </span>invoke<span class="w"> </span>--function-name<span class="w"> </span>my-func<span class="w"> </span>output.json

<span class="c1"># RDS</span>
aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances
aws<span class="w"> </span>rds<span class="w"> </span>create-db-snapshot<span class="w"> </span>--db-instance-identifier<span class="w"> </span>mydb<span class="w"> </span>--db-snapshot-identifier<span class="w"> </span>mysnap
</code></pre></div>

<h3 id="24-query">2.4 ì¶œë ¥ í•„í„°ë§ (--query)<a class="header-link" href="#24-query" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># JMESPath ì¿¼ë¦¬ ì‚¬ìš©</span>
aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query<span class="w"> </span><span class="s1">&#39;Reservations[*].Instances[*].[InstanceId,State.Name,PublicIpAddress]&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="w"> </span>table

<span class="c1"># íŠ¹ì • íƒœê·¸ë¡œ í•„í„°</span>
aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--filters<span class="w"> </span><span class="s2">&quot;Name=tag:Environment,Values=Production&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query<span class="w"> </span><span class="s1">&#39;Reservations[*].Instances[*].InstanceId&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="w"> </span>text

<span class="c1"># ì •ë ¬</span>
aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query<span class="w"> </span><span class="s1">&#39;sort_by(Reservations[].Instances[], &amp;LaunchTime)[*].[InstanceId,LaunchTime]&#39;</span>

<span class="c1"># ì¡°ê±´ í•„í„°</span>
aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query<span class="w"> </span><span class="s1">&#39;Reservations[].Instances[?State.Name==`running`].InstanceId&#39;</span>
</code></pre></div>

<hr />
<h2 id="3-gcloud-cli">3. gcloud CLI<a class="header-link" href="#3-gcloud-cli" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 ì„¤ì¹˜<a class="header-link" href="#31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># macOS</span>
brew<span class="w"> </span>install<span class="w"> </span>--cask<span class="w"> </span>google-cloud-sdk

<span class="c1"># ë˜ëŠ” ì§ì ‘ ì„¤ì¹˜</span>
curl<span class="w"> </span>https://sdk.cloud.google.com<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
<span class="nb">exec</span><span class="w"> </span>-l<span class="w"> </span><span class="nv">$SHELL</span>

<span class="c1"># Linux</span>
curl<span class="w"> </span>-O<span class="w"> </span>https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-cli-linux-x86_64.tar.gz
tar<span class="w"> </span>-xf<span class="w"> </span>google-cloud-cli-linux-x86_64.tar.gz
./google-cloud-sdk/install.sh

<span class="c1"># ë²„ì „ í™•ì¸</span>
gcloud<span class="w"> </span>--version
</code></pre></div>

<h3 id="32">3.2 êµ¬ì„±<a class="header-link" href="#32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ì´ˆê¸°í™” (ë¸Œë¼ìš°ì € ì¸ì¦)</span>
gcloud<span class="w"> </span>init

<span class="c1"># ë¡œê·¸ì¸</span>
gcloud<span class="w"> </span>auth<span class="w"> </span>login

<span class="c1"># ì„œë¹„ìŠ¤ ê³„ì • ì¸ì¦</span>
gcloud<span class="w"> </span>auth<span class="w"> </span>activate-service-account<span class="w"> </span>--key-file<span class="o">=</span>key.json

<span class="c1"># í”„ë¡œì íŠ¸ ì„¤ì •</span>
gcloud<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>project<span class="w"> </span>PROJECT_ID

<span class="c1"># ë¦¬ì „/ì¡´ ì„¤ì •</span>
gcloud<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>compute/region<span class="w"> </span>asia-northeast3
gcloud<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>compute/zone<span class="w"> </span>asia-northeast3-a

<span class="c1"># í˜„ì¬ êµ¬ì„± í™•ì¸</span>
gcloud<span class="w"> </span>config<span class="w"> </span>list

<span class="c1"># êµ¬ì„± í”„ë¡œí•„</span>
gcloud<span class="w"> </span>config<span class="w"> </span>configurations<span class="w"> </span>create<span class="w"> </span>production
gcloud<span class="w"> </span>config<span class="w"> </span>configurations<span class="w"> </span>activate<span class="w"> </span>production
gcloud<span class="w"> </span>config<span class="w"> </span>configurations<span class="w"> </span>list
</code></pre></div>

<h3 id="33">3.3 ì£¼ìš” ëª…ë ¹ì–´<a class="header-link" href="#33" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Compute Engine</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>create<span class="w"> </span>my-vm<span class="w"> </span>--machine-type<span class="o">=</span>e2-medium
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>start<span class="w"> </span>my-vm
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>stop<span class="w"> </span>my-vm
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>delete<span class="w"> </span>my-vm
gcloud<span class="w"> </span>compute<span class="w"> </span>ssh<span class="w"> </span>my-vm

<span class="c1"># Cloud Storage</span>
gsutil<span class="w"> </span>ls
gsutil<span class="w"> </span>cp<span class="w"> </span>file.txt<span class="w"> </span>gs://bucket/
gsutil<span class="w"> </span>rsync<span class="w"> </span>-r<span class="w"> </span>./folder<span class="w"> </span>gs://bucket/folder
gsutil<span class="w"> </span>rm<span class="w"> </span>gs://bucket/file.txt

<span class="c1"># IAM</span>
gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>list
gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>create<span class="w"> </span>my-sa
gcloud<span class="w"> </span>projects<span class="w"> </span>add-iam-policy-binding<span class="w"> </span>PROJECT<span class="w"> </span>--member<span class="o">=</span>user:john@example.com<span class="w"> </span>--role<span class="o">=</span>roles/viewer

<span class="c1"># Cloud Functions</span>
gcloud<span class="w"> </span>functions<span class="w"> </span>list
gcloud<span class="w"> </span>functions<span class="w"> </span>deploy<span class="w"> </span>my-func<span class="w"> </span>--runtime<span class="o">=</span>python312<span class="w"> </span>--trigger-http

<span class="c1"># Cloud SQL</span>
gcloud<span class="w"> </span>sql<span class="w"> </span>instances<span class="w"> </span>list
gcloud<span class="w"> </span>sql<span class="w"> </span>instances<span class="w"> </span>create<span class="w"> </span>mydb<span class="w"> </span>--database-version<span class="o">=</span>MYSQL_8_0
</code></pre></div>

<h3 id="34-filter-format">3.4 ì¶œë ¥ í•„í„°ë§ (--filter, --format)<a class="header-link" href="#34-filter-format" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># í•„í„°ë§</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--filter<span class="o">=</span><span class="s2">&quot;status=RUNNING AND zone:asia-northeast3&quot;</span>

<span class="c1"># ì¶œë ¥ í˜•ì‹</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--format<span class="o">=</span><span class="s2">&quot;table(name,zone.basename(),status,networkInterfaces[0].accessConfigs[0].natIP)&quot;</span>

<span class="c1"># JSON ì¶œë ¥</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>describe<span class="w"> </span>my-vm<span class="w"> </span>--format<span class="o">=</span>json

<span class="c1"># íŠ¹ì • í•„ë“œë§Œ</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--format<span class="o">=</span><span class="s2">&quot;value(name,networkInterfaces[0].accessConfigs[0].natIP)&quot;</span>

<span class="c1"># CSV</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--format<span class="o">=</span><span class="s2">&quot;csv(name,zone,status)&quot;</span>
</code></pre></div>

<hr />
<h2 id="4-python-sdk">4. Python SDK<a class="header-link" href="#4-python-sdk" title="Permanent link">&para;</a></h2>
<h3 id="41-aws-sdk-boto3">4.1 AWS SDK (boto3)<a class="header-link" href="#41-aws-sdk-boto3" title="Permanent link">&para;</a></h3>
<p><strong>ì„¤ì¹˜:</strong></p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>boto3
</code></pre></div>

<p><strong>ê¸°ë³¸ ì‚¬ìš©:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>

<span class="c1"># í´ë¼ì´ì–¸íŠ¸ ë°©ì‹</span>
<span class="n">ec2_client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ec2&#39;</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">ec2_client</span><span class="o">.</span><span class="n">describe_instances</span><span class="p">()</span>

<span class="c1"># ë¦¬ì†ŒìŠ¤ ë°©ì‹ (ê³ ìˆ˜ì¤€)</span>
<span class="n">ec2</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s1">&#39;ec2&#39;</span><span class="p">)</span>
<span class="n">instances</span> <span class="o">=</span> <span class="n">ec2</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">Filters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;instance-state-name&#39;</span><span class="p">,</span> <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;running&#39;</span><span class="p">]}]</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">public_ip_address</span><span class="p">)</span>
</code></pre></div>

<p><strong>ì„œë¹„ìŠ¤ë³„ ì˜ˆì‹œ:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>

<span class="c1"># S3</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">s3</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;my-bucket&#39;</span><span class="p">,</span> <span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="n">s3</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">,</span> <span class="s1">&#39;file.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;downloaded.txt&#39;</span><span class="p">)</span>

<span class="c1"># DynamoDB</span>
<span class="n">dynamodb</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s1">&#39;dynamodb&#39;</span><span class="p">)</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;Users&#39;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">put_item</span><span class="p">(</span><span class="n">Item</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;userId&#39;</span><span class="p">:</span> <span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">})</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;userId&#39;</span><span class="p">:</span> <span class="s1">&#39;001&#39;</span><span class="p">})</span>

<span class="c1"># Lambda</span>
<span class="n">lambda_client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;lambda&#39;</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">lambda_client</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span>
    <span class="n">FunctionName</span><span class="o">=</span><span class="s1">&#39;my-function&#39;</span><span class="p">,</span>
    <span class="n">Payload</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># SQS</span>
<span class="n">sqs</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;sqs&#39;</span><span class="p">)</span>
<span class="n">sqs</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span>
    <span class="n">QueueUrl</span><span class="o">=</span><span class="s1">&#39;https://sqs.../my-queue&#39;</span><span class="p">,</span>
    <span class="n">MessageBody</span><span class="o">=</span><span class="s1">&#39;Hello&#39;</span>
<span class="p">)</span>

<span class="c1"># Secrets Manager</span>
<span class="n">secrets</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;secretsmanager&#39;</span><span class="p">)</span>
<span class="n">secret</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span><span class="n">SecretId</span><span class="o">=</span><span class="s1">&#39;my-secret&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="42-gcp-sdk-google-cloud">4.2 GCP SDK (google-cloud)<a class="header-link" href="#42-gcp-sdk-google-cloud" title="Permanent link">&para;</a></h3>
<p><strong>ì„¤ì¹˜:</strong></p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>google-cloud-storage
pip<span class="w"> </span>install<span class="w"> </span>google-cloud-compute
pip<span class="w"> </span>install<span class="w"> </span>google-cloud-firestore
<span class="c1"># í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë³„ ì„¤ì¹˜</span>
</code></pre></div>

<p><strong>ê¸°ë³¸ ì‚¬ìš©:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">storage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">compute_v1</span>

<span class="c1"># ì¸ì¦ (ì„œë¹„ìŠ¤ ê³„ì •)</span>
<span class="c1"># export GOOGLE_APPLICATION_CREDENTIALS=&quot;key.json&quot;</span>

<span class="c1"># Cloud Storage</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
<span class="n">bucket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">bucket</span><span class="p">(</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="n">blob</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="n">blob</span><span class="o">.</span><span class="n">upload_from_filename</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="n">blob</span><span class="o">.</span><span class="n">download_to_filename</span><span class="p">(</span><span class="s1">&#39;downloaded.txt&#39;</span><span class="p">)</span>

<span class="c1"># Compute Engine</span>
<span class="n">instance_client</span> <span class="o">=</span> <span class="n">compute_v1</span><span class="o">.</span><span class="n">InstancesClient</span><span class="p">()</span>
<span class="n">instances</span> <span class="o">=</span> <span class="n">instance_client</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;my-project&#39;</span><span class="p">,</span> <span class="n">zone</span><span class="o">=</span><span class="s1">&#39;asia-northeast3-a&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>

<p><strong>ì„œë¹„ìŠ¤ë³„ ì˜ˆì‹œ:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Firestore</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">firestore</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">firestore</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
<span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="s1">&#39;001&#39;</span><span class="p">)</span>
<span class="n">doc_ref</span><span class="o">.</span><span class="n">set</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">})</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>

<span class="c1"># Pub/Sub</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">pubsub_v1</span>

<span class="n">publisher</span> <span class="o">=</span> <span class="n">pubsub_v1</span><span class="o">.</span><span class="n">PublisherClient</span><span class="p">()</span>
<span class="n">topic_path</span> <span class="o">=</span> <span class="n">publisher</span><span class="o">.</span><span class="n">topic_path</span><span class="p">(</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;topic&#39;</span><span class="p">)</span>
<span class="n">publisher</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">topic_path</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>

<span class="c1"># Secret Manager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">secretmanager</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">secretmanager</span><span class="o">.</span><span class="n">SecretManagerServiceClient</span><span class="p">()</span>
<span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;projects/PROJECT/secrets/my-secret/versions/latest&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">access_secret_version</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">})</span>
<span class="n">secret</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">)</span>

<span class="c1"># BigQuery</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">bigquery</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">bigquery</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM `project.dataset.table` LIMIT 10&quot;</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="5">5. ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸<a class="header-link" href="#51" title="Permanent link">&para;</a></h3>
<p><strong>AWS - ë¯¸ì‚¬ìš© EBS ë³¼ë¥¨ ì‚­ì œ:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>

<span class="n">ec2</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ec2&#39;</span><span class="p">)</span>

<span class="c1"># ë¯¸ì‚¬ìš© ë³¼ë¥¨ ì°¾ê¸°</span>
<span class="n">volumes</span> <span class="o">=</span> <span class="n">ec2</span><span class="o">.</span><span class="n">describe_volumes</span><span class="p">(</span>
    <span class="n">Filters</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;available&#39;</span><span class="p">]}]</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">vol</span> <span class="ow">in</span> <span class="n">volumes</span><span class="p">[</span><span class="s1">&#39;Volumes&#39;</span><span class="p">]:</span>
    <span class="n">vol_id</span> <span class="o">=</span> <span class="n">vol</span><span class="p">[</span><span class="s1">&#39;VolumeId&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting unused volume: </span><span class="si">{</span><span class="n">vol_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># ec2.delete_volume(VolumeId=vol_id)  # ì£¼ì„ í•´ì œí•˜ì—¬ ì‹¤ì œ ì‚­ì œ</span>
</code></pre></div>

<p><strong>GCP - ì˜¤ë˜ëœ ìŠ¤ëƒ…ìƒ· ì‚­ì œ:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">compute_v1</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">compute_v1</span><span class="o">.</span><span class="n">SnapshotsClient</span><span class="p">()</span>
<span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;my-project&#39;</span>

<span class="n">snapshots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">)</span>
<span class="n">cutoff</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="k">for</span> <span class="n">snapshot</span> <span class="ow">in</span> <span class="n">snapshots</span><span class="p">:</span>
    <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="n">snapshot</span><span class="o">.</span><span class="n">creation_timestamp</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;+00:00&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">created</span> <span class="o">&lt;</span> <span class="n">cutoff</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">created</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting old snapshot: </span><span class="si">{</span><span class="n">snapshot</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># client.delete(project=project, snapshot=snapshot.name)</span>
</code></pre></div>

<h3 id="52">5.2 ë°°í¬ ìŠ¤í¬ë¦½íŠ¸<a class="header-link" href="#52" title="Permanent link">&para;</a></h3>
<p><strong>AWS Lambda ë°°í¬:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">def</span><span class="w"> </span><span class="nf">deploy_lambda</span><span class="p">(</span><span class="n">function_name</span><span class="p">,</span> <span class="n">source_dir</span><span class="p">):</span>
    <span class="c1"># ì½”ë“œ ì••ì¶•</span>
    <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;function.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zf</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">source_dir</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">zf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span>

    <span class="c1"># Lambda ì—…ë°ì´íŠ¸</span>
    <span class="n">lambda_client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;lambda&#39;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;function.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lambda_client</span><span class="o">.</span><span class="n">update_function_code</span><span class="p">(</span>
            <span class="n">FunctionName</span><span class="o">=</span><span class="n">function_name</span><span class="p">,</span>
            <span class="n">ZipFile</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deployed </span><span class="si">{</span><span class="n">function_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">deploy_lambda</span><span class="p">(</span><span class="s1">&#39;my-function&#39;</span><span class="p">,</span> <span class="s1">&#39;./src&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="53">5.3 ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸<a class="header-link" href="#53" title="Permanent link">&para;</a></h3>
<p><strong>AWS ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸:</strong></p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># check-instances.sh</span>

<span class="nv">instances</span><span class="o">=</span><span class="k">$(</span>aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--filters<span class="w"> </span><span class="s2">&quot;Name=tag:Environment,Values=Production&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--query<span class="w"> </span><span class="s1">&#39;Reservations[].Instances[].[InstanceId,State.Name]&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="w"> </span>text<span class="k">)</span>

<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>instance_id<span class="w"> </span>state<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$state</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;WARNING: </span><span class="nv">$instance_id</span><span class="s2"> is </span><span class="nv">$state</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="c1"># ì•Œë¦¼ ì „ì†¡</span>
<span class="w">        </span>aws<span class="w"> </span>sns<span class="w"> </span>publish<span class="w"> </span><span class="se">\</span>
<span class="w">            </span>--topic-arn<span class="w"> </span>arn:aws:sns:...:alerts<span class="w"> </span><span class="se">\</span>
<span class="w">            </span>--message<span class="w"> </span><span class="s2">&quot;Instance </span><span class="nv">$instance_id</span><span class="s2"> is </span><span class="nv">$state</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$instances</span><span class="s2">&quot;</span>
</code></pre></div>

<hr />
<h2 id="6">6. í˜ì´ì§€ë„¤ì´ì…˜ ì²˜ë¦¬<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61-aws-cli">6.1 AWS CLI í˜ì´ì§€ë„¤ì´ì…˜<a class="header-link" href="#61-aws-cli" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ìë™ í˜ì´ì§€ë„¤ì´ì…˜</span>
aws<span class="w"> </span>s3api<span class="w"> </span>list-objects-v2<span class="w"> </span>--bucket<span class="w"> </span>my-bucket

<span class="c1"># ìˆ˜ë™ í˜ì´ì§€ë„¤ì´ì…˜</span>
aws<span class="w"> </span>s3api<span class="w"> </span>list-objects-v2<span class="w"> </span>--bucket<span class="w"> </span>my-bucket<span class="w"> </span>--max-items<span class="w"> </span><span class="m">100</span>

<span class="c1"># ë‹¤ìŒ í˜ì´ì§€</span>
aws<span class="w"> </span>s3api<span class="w"> </span>list-objects-v2<span class="w"> </span>--bucket<span class="w"> </span>my-bucket<span class="w"> </span>--starting-token<span class="w"> </span>TOKEN
</code></pre></div>

<p><strong>boto3 Paginator:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>

<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">paginator</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">get_paginator</span><span class="p">(</span><span class="s1">&#39;list_objects_v2&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">paginator</span><span class="o">.</span><span class="n">paginate</span><span class="p">(</span><span class="n">Bucket</span><span class="o">=</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Contents&#39;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;Key&#39;</span><span class="p">])</span>
</code></pre></div>

<h3 id="62-gcloud">6.2 gcloud í˜ì´ì§€ë„¤ì´ì…˜<a class="header-link" href="#62-gcloud" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ìë™ í˜ì´ì§€ë„¤ì´ì…˜</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list

<span class="c1"># ìˆ˜ë™</span>
gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>list<span class="w"> </span>--limit<span class="o">=</span><span class="m">100</span><span class="w"> </span>--page-token<span class="o">=</span>TOKEN
</code></pre></div>

<p><strong>Python:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">storage</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
<span class="n">blobs</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_blobs</span><span class="p">(</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">)</span>  <span class="c1"># ìë™ í˜ì´ì§€ë„¤ì´ì…˜</span>

<span class="k">for</span> <span class="n">blob</span> <span class="ow">in</span> <span class="n">blobs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">blob</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="7">7. ì—ëŸ¬ ì²˜ë¦¬<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71-boto3">7.1 boto3 ì—ëŸ¬ ì²˜ë¦¬<a class="header-link" href="#71-boto3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">botocore.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClientError</span><span class="p">,</span> <span class="n">NoCredentialsError</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
    <span class="n">s3</span><span class="o">.</span><span class="n">head_object</span><span class="p">(</span><span class="n">Bucket</span><span class="o">=</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">,</span> <span class="n">Key</span><span class="o">=</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">NoCredentialsError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Credentials not found&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">error_code</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;Error&#39;</span><span class="p">][</span><span class="s1">&#39;Code&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">error_code</span> <span class="o">==</span> <span class="s1">&#39;404&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Object not found&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">error_code</span> <span class="o">==</span> <span class="s1">&#39;403&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Access denied&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span>
</code></pre></div>

<h3 id="72-gcp">7.2 GCP ì—ëŸ¬ ì²˜ë¦¬<a class="header-link" href="#72-gcp" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">google.cloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">storage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">google.api_core.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">NotFound</span><span class="p">,</span> <span class="n">Forbidden</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
    <span class="n">bucket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s1">&#39;my-bucket&#39;</span><span class="p">)</span>
    <span class="n">blob</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
    <span class="n">blob</span><span class="o">.</span><span class="n">download_to_filename</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">NotFound</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bucket or object not found&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">Forbidden</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Access denied&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="8">8. ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#8" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./16_Infrastructure_as_Code.md">16_Infrastructure_as_Code.md</a> - Terraform</li>
<li><a href="./17_Monitoring_Logging_Cost.md">17_Monitoring_Logging_Cost.md</a> - ëª¨ë‹ˆí„°ë§</li>
</ul>
<hr />
<h2 id="_1">ì°¸ê³  ìë£Œ<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.aws.amazon.com/cli/">AWS CLI Documentation</a></li>
<li><a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/index.html">AWS CLI Command Reference</a></li>
<li><a href="https://cloud.google.com/sdk/gcloud/reference">gcloud CLI Documentation</a></li>
<li><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">boto3 Documentation</a></li>
<li><a href="https://googleapis.dev/python/google-api-core/latest/">Google Cloud Python Client</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Cloud_Computing/14_Security_Services.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë³´ì•ˆ ì„œë¹„ìŠ¤</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Cloud_Computing/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Cloud_Computing/16_Infrastructure_as_Code.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Infrastructure as Code (Terraform)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}