{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>순차 논리 회로 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Computer_Architecture/">Computer Architecture</a>
    <span class="separator">/</span>
    <span class="current">순차 논리 회로</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>순차 논리 회로</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/05_Combinational_Logic.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">조합 논리 회로</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/07_CPU_Architecture_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">CPU 구조 기초</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">개요</a></li>
<li><a href="#_3">목차</a></li>
<li><a href="#1">1. 순차 논리 회로의 특성</a><ul>
<li><a href="#vs">조합 회로 vs 순차 회로</a></li>
<li><a href="#_4">순차 회로의 특성</a></li>
<li><a href="#vs_1">동기식 vs 비동기식</a></li>
</ul>
</li>
<li><a href="#2-sr">2. SR 래치</a><ul>
<li><a href="#sr">SR 래치 개념</a></li>
<li><a href="#nor-sr">NOR 게이트 SR 래치</a></li>
<li><a href="#nand-sr">NAND 게이트 SR 래치</a></li>
<li><a href="#sr_1">SR 래치 진리표</a></li>
<li><a href="#sr_2">SR 래치 타이밍 다이어그램</a></li>
</ul>
</li>
<li><a href="#3-d">3. D 래치</a><ul>
<li><a href="#d">D 래치 개념</a></li>
<li><a href="#d_1">D 래치 회로</a></li>
<li><a href="#d_2">D 래치 진리표</a></li>
<li><a href="#d_3">D 래치 기호</a></li>
<li><a href="#d_4">D 래치 타이밍</a></li>
</ul>
</li>
<li><a href="#4-d">4. D 플립플롭</a><ul>
<li><a href="#vs_2">플립플롭 vs 래치</a></li>
<li><a href="#d_5">D 플립플롭 개념</a></li>
<li><a href="#-">마스터-슬레이브 구조</a></li>
<li><a href="#d_6">D 플립플롭 기호</a></li>
<li><a href="#d_7">D 플립플롭 진리표</a></li>
<li><a href="#d_8">D 플립플롭 타이밍</a></li>
<li><a href="#_5">리셋/프리셋 기능</a></li>
</ul>
</li>
<li><a href="#5-jk">5. JK 플립플롭</a><ul>
<li><a href="#jk">JK 플립플롭 개념</a></li>
<li><a href="#jk_1">JK 플립플롭 진리표</a></li>
<li><a href="#jk_2">JK 플립플롭 기호</a></li>
<li><a href="#jk_3">JK 플립플롭 회로</a></li>
</ul>
</li>
<li><a href="#6-t">6. T 플립플롭</a><ul>
<li><a href="#t">T 플립플롭 개념</a></li>
<li><a href="#t_1">T 플립플롭 진리표</a></li>
<li><a href="#t_2">T 플립플롭 구현</a></li>
<li><a href="#_6">플립플롭 비교</a></li>
</ul>
</li>
<li><a href="#7">7. 레지스터</a><ul>
<li><a href="#_7">레지스터 개념</a></li>
<li><a href="#4">4비트 병렬 레지스터</a></li>
<li><a href="#_8">로드 기능이 있는 레지스터</a></li>
<li><a href="#_9">시프트 레지스터</a></li>
<li><a href="#_10">양방향 시프트 레지스터</a></li>
</ul>
</li>
<li><a href="#8">8. 카운터</a><ul>
<li><a href="#_11">카운터 개념</a></li>
<li><a href="#_12">비동기 카운터 (리플 카운터)</a></li>
<li><a href="#_13">비동기 카운터의 문제점</a></li>
<li><a href="#_14">동기 카운터</a></li>
<li><a href="#mod-n">MOD-N 카운터</a></li>
<li><a href="#_15">업/다운 카운터</a></li>
</ul>
</li>
<li><a href="#9">9. 클럭과 타이밍</a><ul>
<li><a href="#_16">클럭 신호</a></li>
<li><a href="#_17">셋업 타임과 홀드 타임</a></li>
<li><a href="#_18">타이밍 위반</a></li>
<li><a href="#_19">최대 클럭 주파수</a></li>
<li><a href="#_20">메타스테이블리티</a></li>
</ul>
</li>
<li><a href="#10">10. 연습 문제</a><ul>
<li><a href="#_21">기초 문제</a></li>
<li><a href="#_22">분석 문제</a></li>
<li><a href="#_23">설계 문제</a></li>
<li><a href="#_24">타이밍 문제</a></li>
</ul>
</li>
<li><a href="#_25">다음 단계</a></li>
<li><a href="#_26">참고 자료</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">순차 논리 회로<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">개요<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>순차 논리 회로는 현재 입력뿐만 아니라 이전 상태(메모리)에 따라 출력이 결정되는 디지털 회로입니다. 이 레슨에서는 기본 기억 소자인 래치와 플립플롭, 그리고 이를 활용한 레지스터와 카운터를 학습합니다. 이들은 CPU 레지스터, 메모리, 상태 기계 등 컴퓨터 핵심 구성 요소의 기반입니다.</p>
<p><strong>난이도</strong>: ⭐⭐ (중급)</p>
<hr />
<h2 id="_3">목차<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-순차-논리-회로의-특성">순차 논리 회로의 특성</a></li>
<li><a href="#2-sr-래치">SR 래치</a></li>
<li><a href="#3-d-래치">D 래치</a></li>
<li><a href="#4-d-플립플롭">D 플립플롭</a></li>
<li><a href="#5-jk-플립플롭">JK 플립플롭</a></li>
<li><a href="#6-t-플립플롭">T 플립플롭</a></li>
<li><a href="#7-레지스터">레지스터</a></li>
<li><a href="#8-카운터">카운터</a></li>
<li><a href="#9-클럭과-타이밍">클럭과 타이밍</a></li>
<li><a href="#10-연습-문제">연습 문제</a></li>
</ol>
<hr />
<h2 id="1">1. 순차 논리 회로의 특성<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="vs">조합 회로 vs 순차 회로<a class="header-link" href="#vs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────┐
│                     회로 유형 비교                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  조합 논리 회로:                                            │
│  ┌────────┐                                                │
│  │        │                                                │
│  │ 입력 ──┤ 조합회로 ├── 출력                               │
│  │        │                                                │
│  └────────┘                                                │
│  출력 = f(현재 입력)                                        │
│                                                             │
│  순차 논리 회로:                                            │
│  ┌────────────────────────────────────────────┐            │
│  │                                            │            │
│  │ 입력 ──┤ 조합회로 ├── 출력                  │            │
│  │            │                               │            │
│  │            ▼                               │            │
│  │        ┌───────┐                           │            │
│  │        │ 메모리 │                           │            │
│  │        │ (상태) │◄───────────────────────── │           │
│  │        └───────┘        피드백              │            │
│  │                                            │            │
│  └────────────────────────────────────────────┘            │
│  출력 = f(현재 입력, 현재 상태)                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_4">순차 회로의 특성<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────┐
│                  순차 논리 회로의 특성                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 기억 소자 (Memory Element) 포함                         │
│     - 래치, 플립플롭                                        │
│     - 이전 상태를 저장                                      │
│                                                             │
│  2. 피드백 경로 존재                                        │
│     - 출력이 다시 입력에 영향                               │
│                                                             │
│  3. 시간에 따른 동작                                        │
│     - 동기식: 클럭에 의해 상태 변화                         │
│     - 비동기식: 입력 변화에 의해 즉시 상태 변화             │
│                                                             │
│  4. 상태 천이 (State Transition)                            │
│     - 현재 상태 + 입력 → 다음 상태                         │
│     - 상태도(State Diagram)로 표현                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="vs_1">동기식 vs 비동기식<a class="header-link" href="#vs_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>동기식 순차 회로 (Synchronous):

        입력 ────┐
                 │    ┌──────────┐
                 ├────┤          ├──── 출력
                 │    │  조합    │
        상태 ────┼────┤  회로    │
           ▲     │    └──────────┘
           │     │
           │     │    ┌──────────┐
           └─────┴────┤ 플립플롭 │
                 │    │  (상태)  │
        CLK ─────┴────┤          │
                      └──────────┘

  - 클럭 엣지에서만 상태 변화
  - 예측 가능한 동작
  - 설계와 분석이 용이


비동기식 순차 회로 (Asynchronous):

        입력 ────┐
                 │    ┌──────────┐
                 ├────┤          ├──── 출력
                 │    │  조합    │
        상태 ────┼────┤  회로    │
           ▲     │    └──────────┘
           │     │
           │     │    ┌──────────┐
           └─────┴────┤  래치    │
                      │  (상태)  │
                      └──────────┘

  - 입력 변화에 즉시 반응
  - 글리치(Glitch) 발생 가능
  - 분석이 복잡
</code></pre></div>

<hr />
<h2 id="2-sr">2. SR 래치<a class="header-link" href="#2-sr" title="Permanent link">&para;</a></h2>
<h3 id="sr">SR 래치 개념<a class="header-link" href="#sr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>SR 래치 (Set-Reset Latch):
가장 기본적인 기억 소자, 1비트 저장

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  S (Set):   Q를 1로 설정                                    │
│  R (Reset): Q를 0으로 설정                                  │
│  Q:         현재 상태 (출력)                                │
│  Q&#39;:        Q의 보수                                        │
│                                                             │
│  동작:                                                      │
│  - S=1, R=0: Q=1 (Set)                                      │
│  - S=0, R=1: Q=0 (Reset)                                    │
│  - S=0, R=0: Q 유지 (저장)                                  │
│  - S=1, R=1: 금지 (Forbidden)                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="nor-sr">NOR 게이트 SR 래치<a class="header-link" href="#nor-sr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>NOR 게이트로 구현한 SR 래치:

                    ┌───────┐
        R ──────────┤       │
                    │  NOR  ├──────┬───── Q
              ┌─────┤       │      │
              │     └───────┘      │
              │                    │
              │     ┌───────┐      │
              │     │       │      │
              └─────┤  NOR  ├──────┼───── Q&#39;
                    │       │      │
        S ──────────┤       │      │
                    └───────┘      │
                         │         │
                         └─────────┘
                          피드백

논리식:
Q  = (R + Q&#39;)&#39; = R&#39; · Q
Q&#39; = (S + Q)&#39;  = S&#39; · Q&#39;
</code></pre></div>

<h3 id="nand-sr">NAND 게이트 SR 래치<a class="header-link" href="#nand-sr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>NAND 게이트로 구현한 SR 래치 (Active-Low):

                    ┌───────┐
        S&#39; ─────────┤       │
                    │ NAND  ├──────┬───── Q
              ┌─────┤       │      │
              │     └───────┘      │
              │                    │
              │     ┌───────┐      │
              │     │       │      │
              └─────┤ NAND  ├──────┼───── Q&#39;
                    │       │      │
        R&#39; ─────────┤       │      │
                    └───────┘      │
                         │         │
                         └─────────┘

NAND SR 래치는 Active-Low:
- S&#39;=0, R&#39;=1: Q=1 (Set)
- S&#39;=1, R&#39;=0: Q=0 (Reset)
- S&#39;=1, R&#39;=1: Q 유지 (저장)
- S&#39;=0, R&#39;=0: 금지 (Forbidden)
</code></pre></div>

<h3 id="sr_1">SR 래치 진리표<a class="header-link" href="#sr_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>NOR 게이트 SR 래치 진리표:

┌───┬───┬────────┬───────────────────────────────┐
│ S │ R │  Q(t+1)│            동작               │
├───┼───┼────────┼───────────────────────────────┤
│ 0 │ 0 │  Q(t)  │  유지 (No change)             │
│ 0 │ 1 │   0    │  리셋 (Reset)                 │
│ 1 │ 0 │   1    │  셋 (Set)                     │
│ 1 │ 1 │   ?    │  금지 (Forbidden/Invalid)     │
└───┴───┴────────┴───────────────────────────────┘

금지 상태 (S=R=1)의 문제:
1. Q와 Q&#39;가 모두 0이 됨 (Q ≠ Q&#39;)
2. S, R이 동시에 0으로 돌아가면 경쟁 상태 발생
3. 최종 상태가 불확정
</code></pre></div>

<h3 id="sr_2">SR 래치 타이밍 다이어그램<a class="header-link" href="#sr_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>        │
   S ───┼──┐   ┌───┐       ┌───┐
        │  └───┘   └───────┘   └───────────
        │
   R ───┼──────────┐   ┌───┐
        │          └───┘   └───────────────
        │
   Q ───┼──────┐       ┌───────────┐
        │      └───────┘           └───────
        │
   Q&#39;───┼──┐       ┌───┐       ┌───────────
        │  └───────┘   └───────┘
        │
        └─────────────────────────────────────→ 시간
            Set   Reset  Set   Reset
</code></pre></div>

<hr />
<h2 id="3-d">3. D 래치<a class="header-link" href="#3-d" title="Permanent link">&para;</a></h2>
<h3 id="d">D 래치 개념<a class="header-link" href="#d" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D 래치 (Data Latch / Gated D Latch):
SR 래치의 금지 상태를 해결, 단일 데이터 입력

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  D (Data):   저장할 데이터                                  │
│  EN (Enable): 게이트 제어 신호                              │
│                                                             │
│  동작:                                                      │
│  - EN=1: Q = D (투명, Transparent)                          │
│  - EN=0: Q 유지 (래치, Latched)                             │
│                                                             │
│  D 래치는 Enable이 1일 때 입력을 그대로 통과               │
│  &quot;투명 래치(Transparent Latch)&quot;라고도 불림                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="d_1">D 래치 회로<a class="header-link" href="#d_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">D</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">회로</span><span class="w"> </span><span class="p">(</span><span class="n">SR</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">기반</span><span class="p">)</span><span class="err">:</span>

<span class="w">                       </span><span class="err">┌───────┐</span>
<span class="w">        </span><span class="n">D</span><span class="w"> </span><span class="err">──────┬──────┤</span><span class="w">       </span><span class="err">│</span>
<span class="w">                </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">  </span><span class="ow">AND</span><span class="w">  </span><span class="err">├────────</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="err">───┐</span>
<span class="w">        </span><span class="n">EN</span><span class="w"> </span><span class="err">─────┼──────┤</span><span class="w">       </span><span class="err">│</span><span class="w">              </span><span class="err">│</span>
<span class="w">                </span><span class="err">│</span><span class="w">      </span><span class="err">└───────┘</span><span class="w">              </span><span class="err">│</span>
<span class="w">                </span><span class="err">│</span><span class="w">                             </span><span class="err">│</span>
<span class="w">                </span><span class="err">│</span><span class="w">      </span><span class="err">┌───────┐</span><span class="w">         </span><span class="err">┌────┴────┐</span>
<span class="w">                </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w">         </span><span class="err">│</span>
<span class="w">                </span><span class="err">└─</span><span class="o">[</span><span class="n">NOT</span><span class="o">]</span><span class="err">┤</span><span class="w">  </span><span class="ow">AND</span><span class="w">  </span><span class="err">├────────</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">SR</span><span class="w">    </span><span class="err">├──</span><span class="w"> </span><span class="n">Q</span>
<span class="w">                       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="n">Latch</span><span class="w">  </span><span class="err">│</span>
<span class="w">        </span><span class="n">EN</span><span class="w"> </span><span class="err">────────────┤</span><span class="w">       </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">        </span><span class="err">├──</span><span class="w"> </span><span class="n">Q</span><span class="s1">&#39;</span>
<span class="s1">                       └───────┘           └────────┘</span>

<span class="s1">논리식:</span>
<span class="s1">S = D · EN</span>
<span class="s1">R = D&#39;</span><span class="w"> </span><span class="err">·</span><span class="w"> </span><span class="n">EN</span>

<span class="n">EN</span><span class="o">=</span><span class="mi">1</span><span class="n">일</span><span class="w"> </span><span class="nl">때</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">D</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">S</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Q</span><span class="o">=</span><span class="mi">1</span>
<span class="o">-</span><span class="w"> </span><span class="n">D</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Q</span><span class="o">=</span><span class="mi">0</span>
<span class="o">-</span><span class="w"> </span><span class="n">즉</span><span class="p">,</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">D</span>

<span class="n">EN</span><span class="o">=</span><span class="mi">0</span><span class="n">일</span><span class="w"> </span><span class="nl">때</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="n">유지</span>
</code></pre></div>

<h3 id="d_2">D 래치 진리표<a class="header-link" href="#d_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D 래치 진리표:

┌────┬───┬────────┬───────────────────────────────┐
│ EN │ D │  Q(t+1)│            동작               │
├────┼───┼────────┼───────────────────────────────┤
│ 0  │ 0 │  Q(t)  │  유지                         │
│ 0  │ 1 │  Q(t)  │  유지                         │
│ 1  │ 0 │   0    │  D 저장 (Q=0)                 │
│ 1  │ 1 │   1    │  D 저장 (Q=1)                 │
└────┴───┴────────┴───────────────────────────────┘

간단히:
EN=0: Q(t+1) = Q(t)    (유지)
EN=1: Q(t+1) = D       (통과)
</code></pre></div>

<h3 id="d_3">D 래치 기호<a class="header-link" href="#d_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D 래치 기호:

        ┌───────────┐
   D ───┤ D       Q ├─── Q
        │           │
   EN ──┤ EN     Q&#39; ├─── Q&#39;
        └───────────┘

또는:

        ┌───────────┐
   D ───┤ D       Q ├─── Q
        │    &gt;o     │
   EN ──┤           ├─── Q&#39;
        └───────────┘
        (레벨 트리거)
</code></pre></div>

<h3 id="d_4">D 래치 타이밍<a class="header-link" href="#d_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>        │
   EN ──┼──┐       ┌───────┐       ┌───────────
        │  └───────┘       └───────┘
        │     ↑ Transparent   ↑ Latched
        │
   D ───┼────┐   ┌───┐   ┌─────────┐
        │    └───┘   └───┘         └───────────
        │
   Q ───┼────┐   ┌───────┐   ┌─────────────────
        │    └───┘       └───┘
        │
        └─────────────────────────────────────────→ 시간

EN=1 (Transparent): Q가 D를 따라감
EN=0 (Latched): Q가 마지막 D 값을 유지
</code></pre></div>

<hr />
<h2 id="4-d">4. D 플립플롭<a class="header-link" href="#4-d" title="Permanent link">&para;</a></h2>
<h3 id="vs_2">플립플롭 vs 래치<a class="header-link" href="#vs_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────┐
│                  래치 vs 플립플롭                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  래치 (Latch):                                              │
│  - 레벨 트리거 (Level-triggered)                            │
│  - Enable이 1인 동안 입력에 반응                            │
│  - 투명 상태 존재                                           │
│                                                             │
│  플립플롭 (Flip-Flop):                                      │
│  - 엣지 트리거 (Edge-triggered)                             │
│  - 클럭 엣지 순간에만 입력을 샘플링                         │
│  - 더 예측 가능한 동작                                      │
│                                                             │
│      레벨 트리거            엣지 트리거                     │
│       (래치)                (플립플롭)                       │
│          │                      │                           │
│   EN ────┼──┐    ┌────     CLK ─┼──┐    ┌────               │
│          │  └────┘              │  └────┘                   │
│          │  ↑~~~~↑              │  ↑                        │
│          │  반응 구간           │  순간만 반응               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="d_5">D 플립플롭 개념<a class="header-link" href="#d_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D 플립플롭 (D Flip-Flop):
클럭의 상승/하강 엣지에서만 D 값을 Q에 저장

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  동작:                                                      │
│  - 상승 엣지 트리거: CLK가 0→1 될 때 D를 Q에 저장          │
│  - 하강 엣지 트리거: CLK가 1→0 될 때 D를 Q에 저장          │
│  - 그 외 시간에는 Q 유지                                    │
│                                                             │
│  특성식: Q(t+1) = D                                         │
│          (클럭 엣지에서)                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="-">마스터-슬레이브 구조<a class="header-link" href="#-" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">D</span><span class="w"> </span><span class="n">플립플롭</span><span class="w"> </span><span class="p">(</span><span class="n">마스터</span><span class="o">-</span><span class="n">슬레이브</span><span class="w"> </span><span class="n">구조</span><span class="p">)</span><span class="err">:</span>

<span class="w">         </span><span class="err">┌─────────────────────────────────────────┐</span>
<span class="w">         </span><span class="err">│</span><span class="w">                                         </span><span class="err">│</span>
<span class="w">   </span><span class="n">D</span><span class="w"> </span><span class="err">────┼────┬───────┐</span><span class="w">                           </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">                           </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">┌───┴───┐</span><span class="w">     </span><span class="err">┌───────┐</span><span class="w">        </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">    </span><span class="err">└───┤</span><span class="w"> </span><span class="n">D</span><span class="w">   </span><span class="n">Q</span><span class="w"> </span><span class="err">├─────┤</span><span class="w"> </span><span class="n">D</span><span class="w">   </span><span class="n">Q</span><span class="w"> </span><span class="err">├────────┼───</span><span class="w"> </span><span class="n">Q</span>
<span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="n">Master</span><span class="w"> </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="n">Slave</span><span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="n">CLK</span><span class="w"> </span><span class="err">──┼────────┤</span><span class="w"> </span><span class="n">EN</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">┌──┤</span><span class="w"> </span><span class="n">EN</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">└───────┘</span><span class="w">  </span><span class="err">│</span><span class="w">  </span><span class="err">└───────┘</span><span class="w">        </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">                   </span><span class="err">│</span><span class="w">                    </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">┌──────────┘</span><span class="w">                   </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="o">[</span><span class="n">NOT</span><span class="o">]</span><span class="w">                       </span><span class="err">│</span>
<span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">                              </span><span class="err">│</span>
<span class="w">         </span><span class="err">└────────┴──────────────────────────────┘</span>

<span class="nl">동작</span><span class="p">:</span>
<span class="mf">1.</span><span class="w"> </span><span class="n">CLK</span><span class="o">=</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">투명</span><span class="p">,</span><span class="w"> </span><span class="n">Slave</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">고정</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">D가</span><span class="w"> </span><span class="n">Master의</span><span class="w"> </span><span class="n">Q로</span><span class="w"> </span><span class="n">전달</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Slave는</span><span class="w"> </span><span class="n">이전</span><span class="w"> </span><span class="n">값</span><span class="w"> </span><span class="n">유지</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">CLK</span><span class="o">=</span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">고정</span><span class="p">,</span><span class="w"> </span><span class="n">Slave</span><span class="w"> </span><span class="n">래치</span><span class="w"> </span><span class="n">투명</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Master는</span><span class="w"> </span><span class="n">값</span><span class="w"> </span><span class="n">유지</span>
<span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Master의</span><span class="w"> </span><span class="n">값이</span><span class="w"> </span><span class="n">Slave</span><span class="p">(</span><span class="n">최종</span><span class="w"> </span><span class="n">Q</span><span class="p">)</span><span class="n">로</span><span class="w"> </span><span class="n">전달</span>

<span class="nl">결과</span><span class="p">:</span><span class="w"> </span><span class="n">상승</span><span class="w"> </span><span class="n">엣지에서</span><span class="w"> </span><span class="n">D가</span><span class="w"> </span><span class="n">Q로</span><span class="w"> </span><span class="n">전달</span>
</code></pre></div>

<h3 id="d_6">D 플립플롭 기호<a class="header-link" href="#d_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>상승 엣지 트리거 D 플립플롭:

        ┌───────────┐
   D ───┤ D       Q ├─── Q
        │           │
   CLK ─┤ &gt;      Q&#39; ├─── Q&#39;
        └───────────┘
          ↑
        삼각형 = 엣지 트리거 (상승)


하강 엣지 트리거 D 플립플롭:

        ┌───────────┐
   D ───┤ D       Q ├─── Q
        │           │
   CLK ─┤ &gt;o     Q&#39; ├─── Q&#39;
        └───────────┘
          ↑
        원 = 반전 (하강 엣지)
</code></pre></div>

<h3 id="d_7">D 플립플롭 진리표<a class="header-link" href="#d_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>상승 엣지 트리거 D 플립플롭 진리표:

┌───────┬───┬─────────┬───────────────────────────┐
│  CLK  │ D │  Q(t+1) │          동작             │
├───────┼───┼─────────┼───────────────────────────┤
│   0   │ X │   Q(t)  │  유지                     │
│   1   │ X │   Q(t)  │  유지                     │
│   ↓   │ X │   Q(t)  │  유지 (하강 엣지)         │
│   ↑   │ 0 │    0    │  D 저장 (상승 엣지)       │
│   ↑   │ 1 │    1    │  D 저장 (상승 엣지)       │
└───────┴───┴─────────┴───────────────────────────┘

↑ = 상승 엣지 (0→1)
↓ = 하강 엣지 (1→0)
X = Don&#39;t care
</code></pre></div>

<h3 id="d_8">D 플립플롭 타이밍<a class="header-link" href="#d_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>        │
  CLK ──┼──┐  ┌──┐  ┌──┐  ┌──┐  ┌──┐  ┌──┐
        │  └──┘  └──┘  └──┘  └──┘  └──┘  └──
        │     ↑     ↑     ↑     ↑     ↑
        │
   D ───┼───────┐        ┌─────────────┐
        │       └────────┘             └───
        │
   Q ───┼───────────┐        ┌─────────────
        │           └────────┘
        │        ↑        ↑        ↑
        │       상승     상승      상승
        │       엣지     엣지      엣지
        └─────────────────────────────────────→ 시간

Q는 상승 엣지 순간의 D 값을 저장
다음 상승 엣지까지 유지
</code></pre></div>

<h3 id="_5">리셋/프리셋 기능<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D 플립플롭 with Asynchronous Reset/Preset:

        ┌─────────────────┐
  PRE ──┤ PR            Q ├─── Q
        │                 │
   D ───┤ D               │
        │                 │
  CLK ──┤ &gt;            Q&#39; ├─── Q&#39;
        │                 │
  CLR ──┤ CLR             │
        └─────────────────┘

동작:
- CLR=1 (Active): Q=0 (비동기 리셋)
- PRE=1 (Active): Q=1 (비동기 프리셋)
- CLR=0, PRE=0: 정상 동작 (클럭 엣지에서 D 저장)

진리표:
┌─────┬─────┬───────┬───┬────────┐
│ CLR │ PRE │  CLK  │ D │  Q     │
├─────┼─────┼───────┼───┼────────┤
│  1  │  0  │   X   │ X │   0    │ ← 비동기 리셋
│  0  │  1  │   X   │ X │   1    │ ← 비동기 프리셋
│  1  │  1  │   X   │ X │   ?    │ ← 금지
│  0  │  0  │   ↑   │ D │   D    │ ← 정상 동작
│  0  │  0  │  0/1  │ X │  Q(t)  │ ← 유지
└─────┴─────┴───────┴───┴────────┘
</code></pre></div>

<hr />
<h2 id="5-jk">5. JK 플립플롭<a class="header-link" href="#5-jk" title="Permanent link">&para;</a></h2>
<h3 id="jk">JK 플립플롭 개념<a class="header-link" href="#jk" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>JK 플립플롭:
SR 플립플롭의 금지 상태를 &quot;토글&quot;로 대체한 범용 플립플롭

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  J (Jump):  Set과 유사                                      │
│  K (Kill):  Reset과 유사                                    │
│                                                             │
│  동작 (클럭 엣지에서):                                      │
│  - J=0, K=0: Q 유지 (No change)                             │
│  - J=0, K=1: Q=0 (Reset)                                    │
│  - J=1, K=0: Q=1 (Set)                                      │
│  - J=1, K=1: Q 토글 (Q&#39; = Q(t)&#39;)                            │
│                                                             │
│  특성식: Q(t+1) = J·Q&#39; + K&#39;·Q                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="jk_1">JK 플립플롭 진리표<a class="header-link" href="#jk_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>JK 플립플롭 진리표:

┌───┬───┬─────────┬───────────────────────────────┐
│ J │ K │  Q(t+1) │            동작               │
├───┼───┼─────────┼───────────────────────────────┤
│ 0 │ 0 │   Q(t)  │  유지 (Hold)                  │
│ 0 │ 1 │    0    │  리셋 (Reset)                 │
│ 1 │ 0 │    1    │  셋 (Set)                     │
│ 1 │ 1 │  Q(t)&#39;  │  토글 (Toggle)                │
└───┴───┴─────────┴───────────────────────────────┘

확장 진리표:
┌───┬───┬───────┬─────────┐
│ J │ K │  Q(t) │  Q(t+1) │
├───┼───┼───────┼─────────┤
│ 0 │ 0 │   0   │    0    │
│ 0 │ 0 │   1   │    1    │
│ 0 │ 1 │   0   │    0    │
│ 0 │ 1 │   1   │    0    │
│ 1 │ 0 │   0   │    1    │
│ 1 │ 0 │   1   │    1    │
│ 1 │ 1 │   0   │    1    │
│ 1 │ 1 │   1   │    0    │
└───┴───┴───────┴─────────┘
</code></pre></div>

<h3 id="jk_2">JK 플립플롭 기호<a class="header-link" href="#jk_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>JK 플립플롭 기호:

        ┌───────────┐
   J ───┤ J       Q ├─── Q
        │           │
  CLK ──┤ &gt;         │
        │           │
   K ───┤ K      Q&#39; ├─── Q&#39;
        └───────────┘
</code></pre></div>

<h3 id="jk_3">JK 플립플롭 회로<a class="header-link" href="#jk_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>JK 플립플롭 (SR 기반):

                ┌───────┐
   J ─────────┬─┤       │
              │ │  AND  ├───────── S ───┐
   Q&#39; ────────┼─┤       │               │
              │ └───────┘               │
              │                    ┌────┴────┐
              │                    │         │
              │                    │   SR    ├── Q
   CLK ───────┼────────────────────┤  F/F    │
              │                    │         ├── Q&#39;
              │                    └────┬────┘
              │ ┌───────┐               │
   K ─────────┼─┤       │               │
              │ │  AND  ├───────── R ───┘
   Q ─────────┴─┤       │
                └───────┘

S = J · Q&#39;
R = K · Q

J=K=1일 때:
- Q=0이면: S=1, R=0 → Q=1
- Q=1이면: S=0, R=1 → Q=0
→ 토글!
</code></pre></div>

<hr />
<h2 id="6-t">6. T 플립플롭<a class="header-link" href="#6-t" title="Permanent link">&para;</a></h2>
<h3 id="t">T 플립플롭 개념<a class="header-link" href="#t" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>T 플립플롭 (Toggle Flip-Flop):
토글 기능에 특화된 플립플롭

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  동작 (클럭 엣지에서):                                      │
│  - T=0: Q 유지 (Hold)                                       │
│  - T=1: Q 토글 (Toggle)                                     │
│                                                             │
│  특성식: Q(t+1) = T ⊕ Q(t) = T·Q&#39; + T&#39;·Q                    │
│                                                             │
│  용도: 카운터의 핵심 구성 요소                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="t_1">T 플립플롭 진리표<a class="header-link" href="#t_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>T 플립플롭 진리표:

┌───┬─────────┬───────────────────────────────┐
│ T │  Q(t+1) │            동작               │
├───┼─────────┼───────────────────────────────┤
│ 0 │   Q(t)  │  유지 (Hold)                  │
│ 1 │  Q(t)&#39;  │  토글 (Toggle)                │
└───┴─────────┴───────────────────────────────┘

확장:
┌───┬───────┬─────────┐
│ T │  Q(t) │  Q(t+1) │
├───┼───────┼─────────┤
│ 0 │   0   │    0    │
│ 0 │   1   │    1    │
│ 1 │   0   │    1    │
│ 1 │   1   │    0    │
└───┴───────┴─────────┘
</code></pre></div>

<h3 id="t_2">T 플립플롭 구현<a class="header-link" href="#t_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>JK 플립플롭으로 T 플립플롭 구현:

        ┌───────────┐
   T ───┤ J       Q ├─── Q
        │           │
  CLK ──┤ &gt;         │
        │           │
   T ───┤ K      Q&#39; ├─── Q&#39;
        └───────────┘

J = K = T로 연결


D 플립플롭으로 T 플립플롭 구현:

                    ┌───────┐
   T ───────────────┤       │
                    │  XOR  ├───┐
   Q ──────┬────────┤       │   │
           │        └───────┘   │
           │                    │
           │     ┌──────────┐   │
           │     │          │   │
           └─────┤ D      Q ├───┴─── Q
                 │          │
   CLK ──────────┤ &gt;     Q&#39; ├─────── Q&#39;
                 └──────────┘

D = T ⊕ Q
</code></pre></div>

<h3 id="_6">플립플롭 비교<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌───────────────────────────────────────────────────────────────┐
│                      플립플롭 비교                             │
├───────────┬───────────────────────────────────────────────────┤
│   종류    │                    특성                           │
├───────────┼───────────────────────────────────────────────────┤
│           │  Q(t+1) = D                                       │
│     D     │  - 입력을 그대로 저장                             │
│           │  - 레지스터에 주로 사용                           │
├───────────┼───────────────────────────────────────────────────┤
│           │  Q(t+1) = J·Q&#39; + K&#39;·Q                             │
│    JK     │  - 가장 범용적                                    │
│           │  - 모든 다른 플립플롭으로 변환 가능               │
├───────────┼───────────────────────────────────────────────────┤
│           │  Q(t+1) = T ⊕ Q                                   │
│     T     │  - 토글 기능                                      │
│           │  - 카운터에 주로 사용                             │
├───────────┼───────────────────────────────────────────────────┤
│           │  Q(t+1) = S + R&#39;·Q (S·R=0 조건)                   │
│    SR     │  - 기본적인 래치                                  │
│           │  - 금지 상태 존재 (S=R=1)                         │
└───────────┴───────────────────────────────────────────────────┘

변환:
┌─────────────┬─────────────────────────────────────────────────┐
│  변환       │                    방법                          │
├─────────────┼─────────────────────────────────────────────────┤
│  D → JK     │  J = D, K = D&#39;                                  │
│  D → T      │  T = D ⊕ Q                                      │
│  JK → D     │  D = J                                          │
│  JK → T     │  J = K = T                                      │
│  T → JK     │  J = K = T                                      │
│  T → D      │  D = T ⊕ Q                                      │
└─────────────┴─────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="7">7. 레지스터<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="_7">레지스터 개념<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>레지스터 (Register):
여러 비트의 데이터를 동시에 저장하는 플립플롭 그룹

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  용도:                                                      │
│  - CPU 내부 데이터 임시 저장                                │
│  - 데이터 전송 (병렬/직렬 변환)                             │
│  - 주소 저장                                                │
│  - 명령어 저장                                              │
│                                                             │
│  종류:                                                      │
│  - 병렬 입력/병렬 출력 (PIPO)                               │
│  - 직렬 입력/직렬 출력 (SISO)                               │
│  - 직렬 입력/병렬 출력 (SIPO)                               │
│  - 병렬 입력/직렬 출력 (PISO)                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="4">4비트 병렬 레지스터<a class="header-link" href="#4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">4</span><span class="n">비트</span><span class="w"> </span><span class="n">병렬</span><span class="w"> </span><span class="n">입력</span><span class="o">/</span><span class="n">병렬</span><span class="w"> </span><span class="n">출력</span><span class="w"> </span><span class="n">레지스터</span><span class="p">:</span>

<span class="w">        </span><span class="n">D₃</span><span class="w">         </span><span class="n">D₂</span><span class="w">         </span><span class="n">D₁</span><span class="w">         </span><span class="n">D₀</span>
<span class="w">         </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span>
<span class="w">         </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span>
<span class="w">    </span><span class="err">┌────────┐</span><span class="w"> </span><span class="err">┌────────┐</span><span class="w"> </span><span class="err">┌────────┐</span><span class="w"> </span><span class="err">┌────────┐</span>
<span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span>
<span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="n">CLK</span><span class="err">─┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│─┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│─┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│─┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span>
<span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">    </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span>
<span class="w">    </span><span class="err">└────────┘</span><span class="w"> </span><span class="err">└────────┘</span><span class="w"> </span><span class="err">└────────┘</span><span class="w"> </span><span class="err">└────────┘</span>
<span class="w">         </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span>
<span class="w">         </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span><span class="w">          </span><span class="err">▼</span>
<span class="w">        </span><span class="n">Q₃</span><span class="w">         </span><span class="n">Q₂</span><span class="w">         </span><span class="n">Q₁</span><span class="w">         </span><span class="n">Q₀</span>

<span class="n">동작</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">클럭</span><span class="w"> </span><span class="n">엣지에서</span><span class="w"> </span><span class="n">D₃D₂D₁D₀가</span><span class="w"> </span><span class="n">동시에</span><span class="w"> </span><span class="n">Q₃Q₂Q₁Q₀에</span><span class="w"> </span><span class="n">저장</span>
<span class="o">-</span><span class="w"> </span><span class="n">로드</span><span class="p">(</span><span class="kr">Load</span><span class="p">)</span><span class="w"> </span><span class="n">기능만</span><span class="w"> </span><span class="n">있음</span>
</code></pre></div>

<h3 id="_8">로드 기능이 있는 레지스터<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">4</span><span class="n">비트</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="kr">Load</span><span class="w"> </span><span class="kr">Cont</span><span class="n">rol</span><span class="p">:</span>

<span class="w">                 </span><span class="n">D₃</span><span class="w">                </span><span class="n">D₀</span>
<span class="w">                  </span><span class="err">│</span><span class="w">                 </span><span class="err">│</span>
<span class="w">                  </span><span class="err">▼</span><span class="w">                 </span><span class="err">▼</span>
<span class="w">              </span><span class="err">┌───────┐</span><span class="w">         </span><span class="err">┌───────┐</span>
<span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mf">0</span><span class="w">     </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="mf">0</span><span class="w">     </span><span class="err">│</span>
<span class="w">   </span><span class="kr">Load</span><span class="w"> </span><span class="err">──────┤</span><span class="w">  </span><span class="n">MUX</span><span class="w">  </span><span class="err">│</span><span class="w">  </span><span class="mf">...</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MUX</span><span class="w">  </span><span class="err">│</span>
<span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mf">1</span><span class="w">     </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="mf">1</span><span class="w">     </span><span class="err">│</span>
<span class="w">        </span><span class="err">┌─────┤</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">┌─────┤</span><span class="w">       </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">     </span><span class="err">└───┬───┘</span><span class="w">   </span><span class="err">│</span><span class="w">     </span><span class="err">└───┬───┘</span>
<span class="w">        </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">         </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">         </span><span class="err">▼</span><span class="w">       </span><span class="err">│</span><span class="w">         </span><span class="err">▼</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">┌────────┐</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="n">CLK</span><span class="w"> </span><span class="err">─┼────┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│───┼────┤</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span>
<span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">└────────┘</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">└────────┘</span>
<span class="w">        </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">         </span><span class="err">│</span>
<span class="w">        </span><span class="err">└─────────┴───────┴─────────┘</span>
<span class="w">                  </span><span class="err">│</span><span class="w">                 </span><span class="err">│</span>
<span class="w">                  </span><span class="err">▼</span><span class="w">                 </span><span class="err">▼</span>
<span class="w">                 </span><span class="n">Q₃</span><span class="w">                </span><span class="n">Q₀</span>

<span class="n">동작</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="kr">Load</span><span class="o">=</span><span class="mf">0</span><span class="p">:</span><span class="w"> </span><span class="n">Q</span><span class="w"> </span><span class="n">유지</span><span class="w"> </span><span class="p">(</span><span class="n">MUX가</span><span class="w"> </span><span class="n">Q를</span><span class="w"> </span><span class="n">선택</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="kr">Load</span><span class="o">=</span><span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="n">저장</span><span class="w"> </span><span class="p">(</span><span class="n">MUX가</span><span class="w"> </span><span class="n">D를</span><span class="w"> </span><span class="n">선택</span><span class="p">)</span>
</code></pre></div>

<h3 id="_9">시프트 레지스터<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">4</span><span class="n">비트</span><span class="w"> </span><span class="n">직렬</span><span class="w"> </span><span class="n">입력</span><span class="o">/</span><span class="n">병렬</span><span class="w"> </span><span class="n">출력</span><span class="w"> </span><span class="n">시프트</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="p">(</span><span class="n">SIPO</span><span class="p">):</span>

<span class="w">                                                    </span><span class="n">Serial</span><span class="w"> </span><span class="n">Out</span>
<span class="w">                                                         </span><span class="err">↑</span>
<span class="w">   </span><span class="err">┌────────┐</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│───→│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│───→│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│───→│</span><span class="w">  </span><span class="n">D</span><span class="w">  </span><span class="n">Q</span><span class="w">  </span><span class="err">│─┘</span>
<span class="w">   </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="err">│</span>
<span class="w">   </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="err">└───┬────┘</span><span class="w">    </span><span class="err">└───┬────┘</span><span class="w">    </span><span class="err">└───┬────┘</span><span class="w">    </span><span class="err">└───┬────┘</span>
<span class="w">       </span><span class="err">│</span><span class="w">             </span><span class="err">│</span><span class="w">             </span><span class="err">│</span><span class="w">             </span><span class="err">│</span>
<span class="w">       </span><span class="err">▲</span><span class="w">             </span><span class="err">│</span><span class="w">             </span><span class="err">│</span><span class="w">             </span><span class="err">│</span>
<span class="w">  </span><span class="n">Serial</span><span class="w"> </span><span class="n">In</span><span class="w">         </span><span class="n">CLK</span><span class="w">           </span><span class="n">CLK</span><span class="w">           </span><span class="n">CLK</span>
<span class="w">                     </span><span class="err">└─────────────┴─────────────┘</span>

<span class="n">동작</span><span class="w"> </span><span class="p">(</span><span class="n">각</span><span class="w"> </span><span class="n">클럭</span><span class="w"> </span><span class="n">엣지에서</span><span class="p">):</span>
<span class="o">-</span><span class="w"> </span><span class="n">데이터가</span><span class="w"> </span><span class="n">왼쪽에서</span><span class="w"> </span><span class="n">오른쪽으로</span><span class="w"> </span><span class="n">한</span><span class="w"> </span><span class="n">칸씩</span><span class="w"> </span><span class="n">시프트</span>
<span class="o">-</span><span class="w"> </span><span class="n">새</span><span class="w"> </span><span class="n">비트가</span><span class="w"> </span><span class="n">Serial</span><span class="w"> </span><span class="n">In으로</span><span class="w"> </span><span class="n">입력</span>

<span class="n">예시</span><span class="w"> </span><span class="p">(</span><span class="n">초기값</span><span class="w"> </span><span class="mf">0000</span><span class="p">,</span><span class="w"> </span><span class="n">입력</span><span class="w"> </span><span class="mf">1101</span><span class="p">):</span>
<span class="n">CLK</span><span class="w">  </span><span class="n">Serial_In</span><span class="w">  </span><span class="n">Q₃Q₂Q₁Q₀</span>
<span class="w"> </span><span class="mf">0</span><span class="w">      </span><span class="o">-</span><span class="w">       </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span>
<span class="w"> </span><span class="mf">1</span><span class="w">      </span><span class="mf">1</span><span class="w">       </span><span class="mf">1</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span>
<span class="w"> </span><span class="mf">2</span><span class="w">      </span><span class="mf">1</span><span class="w">       </span><span class="mf">1</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span>
<span class="w"> </span><span class="mf">3</span><span class="w">      </span><span class="mf">0</span><span class="w">       </span><span class="mf">0</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">0</span>
<span class="w"> </span><span class="mf">4</span><span class="w">      </span><span class="mf">1</span><span class="w">       </span><span class="mf">1</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="mf">1</span>
</code></pre></div>

<h3 id="_10">양방향 시프트 레지스터<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>양방향 시프트 레지스터:

              ┌─────────────────────────────────────┐
              │                                     │
 Left_In ─────┼─┐                               ┌───┼───── Right_Out
              │ │   ┌─────────┐   ┌─────────┐   │   │
              │ └───┤ 00      │   │         │   │   │
              │     │ 01  MUX ├───┤ D     Q ├───┼───┼─┐
 Right_In ────┼─────┤ 10      │   │         │   │   │ │
              │ ┌───┤ 11      │   │ &gt;       │   │   │ │
              │ │   └────┬────┘   └─────────┘   │   │ │
              │ │        │              ↑       │   │ │
              │ │     S₁ S₀            CLK      │   │ │
              │ │                               │   │ │
              │ └───────────────────────────────┘   │ │
              │                                     │ │
              └─────────────────────────────────────┼─┘
                                                    │
                                                Right_In

모드 선택 (S₁S₀):
<span class="k">-</span> 00: 유지 (Hold)
<span class="k">-</span> 01: 오른쪽 시프트
<span class="k">-</span> 10: 왼쪽 시프트
<span class="k">-</span> 11: 병렬 로드
</code></pre></div>

<hr />
<h2 id="8">8. 카운터<a class="header-link" href="#8" title="Permanent link">&para;</a></h2>
<h3 id="_11">카운터 개념<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>카운터 (Counter):
클럭 펄스를 세는 순차 회로

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  종류:                                                      │
│  - 비동기 카운터 (Ripple Counter): 간단하지만 느림          │
│  - 동기 카운터 (Synchronous Counter): 빠름                  │
│                                                             │
│  동작:                                                      │
│  - 업 카운터 (Up Counter): 0, 1, 2, 3, ...                 │
│  - 다운 카운터 (Down Counter): 7, 6, 5, 4, ...             │
│  - 업/다운 카운터                                           │
│                                                             │
│  모듈러스:                                                  │
│  - MOD-n 카운터: 0부터 n-1까지 카운트                       │
│  - n비트 카운터: 0부터 2ⁿ-1까지 (MOD-2ⁿ)                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_12">비동기 카운터 (리플 카운터)<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">3</span><span class="n">비트</span><span class="w"> </span><span class="n">비동기</span><span class="w"> </span><span class="n">업</span><span class="w"> </span><span class="n">카운터</span><span class="p">:</span>

<span class="w">              </span><span class="err">┌────────┐</span><span class="w">      </span><span class="err">┌────────┐</span><span class="w">      </span><span class="err">┌────────┐</span>
<span class="w">   </span><span class="n">CLK</span><span class="w"> </span><span class="err">───────┤</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├──────┤</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├──────┤</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├</span>
<span class="w">              </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">      </span><span class="mf">1</span><span class="w"> </span><span class="err">──────┤</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="mf">1</span><span class="err">──┤</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="mf">1</span><span class="err">──┤</span><span class="w">        </span><span class="err">│</span>
<span class="w">              </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span>
<span class="w">              </span><span class="err">└───┬────┘</span><span class="w">      </span><span class="err">└───┬────┘</span><span class="w">      </span><span class="err">└───┬────┘</span>
<span class="w">                  </span><span class="err">│</span><span class="w">               </span><span class="err">│</span><span class="w">               </span><span class="err">│</span>
<span class="w">                  </span><span class="n">Q₀</span><span class="w">              </span><span class="n">Q₁</span><span class="w">              </span><span class="n">Q₂</span>
<span class="w">                 </span><span class="p">(</span><span class="n">LSB</span><span class="p">)</span><span class="w">                           </span><span class="p">(</span><span class="n">MSB</span><span class="p">)</span>

<span class="n">동작</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">각</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">플립플롭의</span><span class="w"> </span><span class="n">T</span><span class="o">=</span><span class="mf">1</span><span class="w"> </span><span class="p">(</span><span class="n">항상</span><span class="w"> </span><span class="n">토글</span><span class="p">)</span>
<span class="o">-</span><span class="w"> </span><span class="n">Q₀는</span><span class="w"> </span><span class="n">CLK로</span><span class="w"> </span><span class="n">직접</span><span class="w"> </span><span class="n">동작</span>
<span class="o">-</span><span class="w"> </span><span class="n">Q₁은</span><span class="w"> </span><span class="n">Q₀의</span><span class="w"> </span><span class="n">하강</span><span class="w"> </span><span class="n">엣지로</span><span class="w"> </span><span class="n">동작</span>
<span class="o">-</span><span class="w"> </span><span class="n">Q₂는</span><span class="w"> </span><span class="n">Q₁의</span><span class="w"> </span><span class="n">하강</span><span class="w"> </span><span class="n">엣지로</span><span class="w"> </span><span class="n">동작</span>

<span class="n">타이밍</span><span class="p">:</span>
<span class="w">        </span><span class="err">│</span>
<span class="w">  </span><span class="n">CLK</span><span class="w"> </span><span class="err">──┼─┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span><span class="w"> </span><span class="err">┐</span>
<span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">└─┘</span><span class="w"> </span><span class="err">└─┘</span><span class="w"> </span><span class="err">└─┘</span><span class="w"> </span><span class="err">└─┘</span><span class="w"> </span><span class="err">└─┘</span>
<span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="n">Q₀</span><span class="w"> </span><span class="err">──┼───┐</span><span class="w">   </span><span class="err">┌───┐</span><span class="w">   </span><span class="err">┌───┐</span><span class="w">   </span><span class="err">┌───</span>
<span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">└───┘</span><span class="w">   </span><span class="err">└───┘</span><span class="w">   </span><span class="err">└───┘</span>
<span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="n">Q₁</span><span class="w"> </span><span class="err">──┼───────┐</span><span class="w">       </span><span class="err">┌───────┐</span>
<span class="w">        </span><span class="err">│</span><span class="w">       </span><span class="err">└───────┘</span><span class="w">       </span><span class="err">└───</span>
<span class="w">        </span><span class="err">│</span>
<span class="w">   </span><span class="n">Q₂</span><span class="w"> </span><span class="err">──┼───────────────┐</span>
<span class="w">        </span><span class="err">│</span><span class="w">               </span><span class="err">└───────────</span>
<span class="w">        </span><span class="err">│</span>
<span class="n">Count</span><span class="p">:</span><span class="w">  </span><span class="mf">0</span><span class="w">   </span><span class="mf">1</span><span class="w">   </span><span class="mf">2</span><span class="w">   </span><span class="mf">3</span><span class="w">   </span><span class="mf">4</span><span class="w">   </span><span class="mf">5</span><span class="w">   </span><span class="mf">6</span><span class="w">   </span><span class="mf">7</span><span class="w">   </span><span class="mf">0...</span>
</code></pre></div>

<h3 id="_13">비동기 카운터의 문제점<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>리플 딜레이 (Ripple Delay):

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  각 플립플롭의 지연이 누적됨                                │
│                                                             │
│  4비트 카운터 예시 (0111 → 1000 천이):                      │
│                                                             │
│     Q₃  Q₂  Q₁  Q₀                                          │
│      0   1   1   1  (7)                                     │
│           ↓   ↓   ↓                                         │
│      0   1   1   0  (6)  ← 글리치!                          │
│           ↓   ↓                                             │
│      0   1   0   0  (4)  ← 글리치!                          │
│           ↓                                                 │
│      0   0   0   0  (0)  ← 글리치!                          │
│                                                             │
│      1   0   0   0  (8)  ← 최종 상태                        │
│                                                             │
│  총 지연 = n × (플립플롭 지연)                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_14">동기 카운터<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">3</span><span class="n">비트</span><span class="w"> </span><span class="n">동기</span><span class="w"> </span><span class="n">업</span><span class="w"> </span><span class="n">카운터</span><span class="p">:</span>

<span class="w">                   </span><span class="ow">AND</span>
<span class="w">                    </span><span class="err">│</span>
<span class="w">        </span><span class="err">┌──────────┬┴─────────┐</span>
<span class="w">        </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span>
<span class="w">  </span><span class="err">┌────────┐</span><span class="w">  </span><span class="err">┌────────┐</span><span class="w">  </span><span class="err">┌────────┐</span>
<span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├──┤</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├──┤</span><span class="w"> </span><span class="n">T</span><span class="w">    </span><span class="n">Q</span><span class="w"> </span><span class="err">├</span>
<span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="mf">1</span><span class="err">─┤</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="w">  </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">     </span><span class="n">Q</span><span class="err">&#39;</span><span class="w"> </span><span class="err">│</span>
<span class="w">  </span><span class="err">└───┬────┘</span><span class="w">  </span><span class="err">└───┬────┘</span><span class="w">  </span><span class="err">└───┬────┘</span>
<span class="w">      </span><span class="err">│</span><span class="w">  </span><span class="err">↑</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">↑</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">↑</span>
<span class="w">     </span><span class="n">Q₀</span><span class="w"> </span><span class="n">CLK</span><span class="w">      </span><span class="n">Q₁</span><span class="w"> </span><span class="n">CLK</span><span class="w">      </span><span class="n">Q₂</span><span class="w"> </span><span class="n">CLK</span>
<span class="w">                      </span><span class="err">│</span>
<span class="w">           </span><span class="err">┌──────────┴──────────┐</span>
<span class="w">           </span><span class="err">│</span><span class="w">                     </span><span class="err">│</span>
<span class="w">   </span><span class="n">CLK</span><span class="w"> </span><span class="err">────┴─────────────────────┘</span>

<span class="n">논리</span><span class="p">:</span>
<span class="n">T₀</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="w">                    </span><span class="p">(</span><span class="n">항상</span><span class="w"> </span><span class="n">토글</span><span class="p">)</span>
<span class="n">T₁</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q₀</span><span class="w">                   </span><span class="p">(</span><span class="n">Q₀</span><span class="o">=</span><span class="mf">1</span><span class="n">일</span><span class="w"> </span><span class="n">때</span><span class="w"> </span><span class="n">토글</span><span class="p">)</span>
<span class="n">T₂</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Q₀</span><span class="w"> </span><span class="err">·</span><span class="w"> </span><span class="n">Q₁</span><span class="w">              </span><span class="p">(</span><span class="n">Q₀</span><span class="o">=</span><span class="n">Q₁</span><span class="o">=</span><span class="mf">1</span><span class="n">일</span><span class="w"> </span><span class="n">때</span><span class="w"> </span><span class="n">토글</span><span class="p">)</span>

<span class="n">동작</span><span class="p">:</span>
<span class="o">-</span><span class="w"> </span><span class="n">모든</span><span class="w"> </span><span class="n">플립플롭이</span><span class="w"> </span><span class="n">같은</span><span class="w"> </span><span class="n">CLK로</span><span class="w"> </span><span class="n">동시에</span><span class="w"> </span><span class="n">동작</span>
<span class="o">-</span><span class="w"> </span><span class="n">글리치</span><span class="w"> </span><span class="n">없음</span>
<span class="o">-</span><span class="w"> </span><span class="n">고속</span><span class="w"> </span><span class="n">동작</span><span class="w"> </span><span class="n">가능</span>
</code></pre></div>

<h3 id="mod-n">MOD-N 카운터<a class="header-link" href="#mod-n" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>MOD-6 카운터 (0~5까지 카운트):

3비트 카운터 + 리셋 로직

  ┌────────┐  ┌────────┐  ┌────────┐
  │ D    Q ├──┤ D    Q ├──┤ D    Q ├
  │        │  │        │  │        │
  │        │  │        │  │        │
  │     Q&#39; │  │     Q&#39; │  │     Q&#39; │
  └───┬────┘  └───┬────┘  └───┬────┘
      │           │           │
      Q₀          Q₁          Q₂
      │           │           │
      └─────┬─────┴───────────┘
            │
        ┌───┴───┐
        │       │
        │  AND  ├───→ 리셋 (Q₂·Q₁ = 6 검출)
        │       │
        └───────┘

동작:
- 0, 1, 2, 3, 4, 5, 0, 1, 2, ...
- 6 (110)이 되면 즉시 0으로 리셋

또는 순차 로직으로 설계:
상태: 0→1→2→3→4→5→0...
</code></pre></div>

<h3 id="_15">업/다운 카운터<a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>동기식 업/다운 카운터:

Up/Down 제어 신호에 따라 카운트 방향 결정

             Up/Down
                │
        ┌───────┼───────┐
        │       │       │
   ┌────┴───┐   │   ┌───┴────┐
   │ Q₀     │   │   │    Q₀&#39; │
   │    AND │   │   │ AND    │
   │ Up     │   │   │   Down │
   └────┬───┘   │   └───┬────┘
        │       │       │
        └───────┼───────┘
                │
            ┌───┴───┐
            │  OR   ├────→ T₁
            └───────┘

로직:
Up=1:   T₁ = Q₀ (이전 비트가 1이면 토글)
Down=1: T₁ = Q₀&#39; (이전 비트가 0이면 토글)
</code></pre></div>

<hr />
<h2 id="9">9. 클럭과 타이밍<a class="header-link" href="#9" title="Permanent link">&para;</a></h2>
<h3 id="_16">클럭 신호<a class="header-link" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>클럭 (Clock):
동기식 회로의 타이밍을 제어하는 주기적 신호

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  클럭 파형:                                                 │
│                                                             │
│       ┌────┐    ┌────┐    ┌────┐    ┌────┐                 │
│       │    │    │    │    │    │    │    │                 │
│   ────┘    └────┘    └────┘    └────┘    └────             │
│       │    │    │                                          │
│       ├────┼────┤                                          │
│       │    │    │                                          │
│       T_H  T_L  T (주기)                                   │
│                                                             │
│  - 주기 (T): 한 사이클의 시간                              │
│  - 주파수 (f): f = 1/T                                     │
│  - 듀티 사이클: T_H / T × 100%                             │
│                                                             │
│  예: 1GHz 클럭                                              │
│  - T = 1ns (나노초)                                        │
│  - 1초에 10억 사이클                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_17">셋업 타임과 홀드 타임<a class="header-link" href="#_17" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>플립플롭 타이밍 파라미터:

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  셋업 타임 (Setup Time, t_su):                              │
│  - 클럭 엣지 전에 입력이 안정되어야 하는 최소 시간         │
│                                                             │
│  홀드 타임 (Hold Time, t_h):                                │
│  - 클럭 엣지 후에 입력이 유지되어야 하는 최소 시간         │
│                                                             │
│  전파 지연 (Propagation Delay, t_pd):                       │
│  - 클럭 엣지에서 출력 변화까지의 시간                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

타이밍 다이어그램:

        │←──t_su──→│←t_h→│
        │          │     │
   D ───┼───┐      │     │
        │   └──────┼─────┼─────────
        │          │     │
        │          │ ↑   │
  CLK ──┼──────────┼─┼───┼─────────
        │          │ │   │
        │          │ │   │
        │          │←t_pd→│
   Q ───┼──────────┼─────┼───┐
        │          │     │   └─────
        │
        └──────────────────────────→ 시간
</code></pre></div>

<h3 id="_18">타이밍 위반<a class="header-link" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>셋업 타임 위반:

        │←t_su→│   (필요)
        │      │
   D ───┼──────┼──────┐
        │  ↑   │      └─────
        │  │   │
        │  실제 변화 (늦음!)
        │      │
  CLK ──┼──────┼──────────────
        │      │ ↑
               클럭 엣지

결과: 출력이 불확정 (메타스테이블 상태 가능)


홀드 타임 위반:

        │      │←t_h→│  (필요)
        │      │     │
   D ───┼──────┼─────┼┐
        │      │     │└─────
        │      │  ↑
        │      │  실제 변화 (빠름!)
        │      │
  CLK ──┼──────┼──────────────
        │      │ ↑
               클럭 엣지

결과: 이전 입력 또는 새 입력이 샘플링될 수 있음
</code></pre></div>

<h3 id="_19">최대 클럭 주파수<a class="header-link" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>최대 동작 주파수 계산:

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌────────┐         ┌──────────┐         ┌────────┐        │
│  │ FF₁    │         │ 조합     │         │ FF₂    │        │
│  │        ├─────────┤ 논리     ├─────────┤        │        │
│  │      Q │         │          │         │ D      │        │
│  └────┬───┘         └──────────┘         └───┬────┘        │
│       │                                      │             │
│       └──────────────────────────────────────┘             │
│                      │                                     │
│  CLK ────────────────┴─────────────────────────            │
│                                                             │
│  최소 클럭 주기:                                            │
│  T_min = t_pd(FF₁) + t_comb + t_su(FF₂)                    │
│                                                             │
│  최대 주파수:                                               │
│  f_max = 1 / T_min                                         │
│                                                             │
│  예시:                                                      │
│  t_pd = 2ns, t_comb = 5ns, t_su = 1ns                      │
│  T_min = 2 + 5 + 1 = 8ns                                   │
│  f_max = 1 / 8ns = 125MHz                                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_20">메타스테이블리티<a class="header-link" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>메타스테이블 상태 (Metastability):

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  셋업/홀드 타임 위반 시 발생하는 불안정 상태               │
│                                                             │
│  정상 상태:          메타스테이블 상태:                     │
│                                                             │
│      1 ──●──             1 ──          ●                   │
│          │                   ╲        ╱                    │
│          │                    ╲●●●●●╱                      │
│          │                         │                       │
│      0 ──┴──             0 ──      │                       │
│                                    불확정                   │
│                                                             │
│  위험:                                                      │
│  - 출력이 불확정 시간 동안 중간값                          │
│  - 다음 단 회로가 0인지 1인지 판단 불가                    │
│  - 시스템 오동작 가능                                      │
│                                                             │
│  해결:                                                      │
│  - 동기화 회로 (Synchronizer) 사용                         │
│  - 충분한 마진을 둔 타이밍 설계                            │
│                                                             │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="10">10. 연습 문제<a class="header-link" href="#10" title="Permanent link">&para;</a></h2>
<h3 id="_21">기초 문제<a class="header-link" href="#_21" title="Permanent link">&para;</a></h3>
<p><strong>1. 래치와 플립플롭의 차이점을 설명하시오.</strong></p>
<p><strong>2. D 플립플롭의 특성식을 쓰고 동작을 설명하시오.</strong></p>
<p><strong>3. JK 플립플롭에서 J=K=1일 때의 동작을 설명하시오.</strong></p>
<h3 id="_22">분석 문제<a class="header-link" href="#_22" title="Permanent link">&para;</a></h3>
<p><strong>4. 다음 회로의 동작을 분석하고 상태 천이표를 작성하시오.</strong></p>
<div class="highlight"><pre><span></span><code>        ┌───────────┐
   D ───┤ D       Q ├───┬─── Q
        │           │   │
  CLK ──┤ &gt;      Q&#39; ├───┼─── Q&#39;
        └───────────┘   │
              ↑         │
              └─────────┘
</code></pre></div>

<p><strong>5. 4비트 리플 카운터의 타이밍 다이어그램을 그리시오. 초기 상태는 0000이다.</strong></p>
<p><strong>6. 다음 레지스터의 동작을 설명하시오. 초기값은 0000, 입력 시퀀스는 1, 0, 1, 1이다.</strong></p>
<div class="highlight"><pre><span></span><code><span class="mf">4</span><span class="n">비트</span><span class="w"> </span><span class="n">오른쪽</span><span class="w"> </span><span class="n">시프트</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="p">(</span><span class="n">직렬</span><span class="w"> </span><span class="n">입력</span><span class="p">)</span>
</code></pre></div>

<h3 id="_23">설계 문제<a class="header-link" href="#_23" title="Permanent link">&para;</a></h3>
<p><strong>7. D 플립플롭만 사용하여 T 플립플롭을 구현하시오.</strong></p>
<p><strong>8. MOD-5 동기 카운터를 설계하시오. (0, 1, 2, 3, 4, 0, ...)</strong></p>
<p><strong>9. 4비트 양방향 시프트 레지스터를 설계하시오. (Left, Right, Hold 모드)</strong></p>
<h3 id="_24">타이밍 문제<a class="header-link" href="#_24" title="Permanent link">&para;</a></h3>
<p><strong>10. 다음 조건에서 최대 클럭 주파수를 계산하시오.</strong>
- 플립플롭 전파 지연: 5ns
- 조합 회로 지연: 15ns
- 셋업 타임: 3ns
- 홀드 타임: 2ns</p>
<hr />
<details>
<summary>정답</summary>

**1.**
- 래치: 레벨 트리거, Enable이 활성화된 동안 입력에 반응 (투명)
- 플립플롭: 엣지 트리거, 클럭 엣지 순간에만 입력을 샘플링

**2.** Q(t+1) = D (클럭 엣지에서). 클럭의 상승(또는 하강) 엣지에서 D 입력값을 Q에 저장하고, 다음 엣지까지 유지한다.

**3.** J=K=1일 때 Q는 토글된다. 즉 Q(t+1) = Q(t)'. 현재 0이면 1이 되고, 1이면 0이 된다.

**4.** 회로는 D 입력이 Q'에 연결된 D 플립플롭이다. 이는 T 플립플롭과 동일하게 동작하며, 매 클럭 엣지에서 토글된다.
상태 천이: 0→1→0→1→...

**5.**

<div class="highlight"><pre><span></span><code><span class="n">CLK</span><span class="o">:</span><span class="w"> </span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="err">‾</span><span class="o">|</span><span class="n">_</span>
<span class="n">Q₀</span><span class="o">:</span><span class="w">  </span><span class="n">__</span><span class="o">|</span><span class="err">‾‾</span><span class="o">|</span><span class="n">__</span><span class="o">|</span><span class="err">‾‾</span><span class="o">|</span><span class="n">__</span><span class="o">|</span><span class="err">‾‾</span><span class="o">|</span><span class="n">__</span><span class="o">|</span><span class="err">‾‾</span><span class="o">|</span><span class="n">__</span><span class="o">|</span><span class="err">‾‾</span><span class="o">|</span><span class="n">__</span>
<span class="n">Q₁</span><span class="o">:</span><span class="w">  </span><span class="n">____</span><span class="o">|</span><span class="err">‾‾‾‾</span><span class="o">|</span><span class="n">____</span><span class="o">|</span><span class="err">‾‾‾‾</span><span class="o">|</span><span class="n">____</span><span class="o">|</span><span class="err">‾‾‾‾</span><span class="o">|</span><span class="n">__</span>
<span class="n">Q₂</span><span class="o">:</span><span class="w">  </span><span class="n">________</span><span class="o">|</span><span class="err">‾‾‾‾‾‾‾‾</span><span class="o">|</span><span class="n">________</span><span class="o">|</span><span class="err">‾‾‾‾</span>
<span class="n">Q₃</span><span class="o">:</span><span class="w">  </span><span class="n">________________</span><span class="o">|</span><span class="err">‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾</span>
</code></pre></div>



**6.** 오른쪽 시프트 동작:
- 초기: 0000
- 입력 1: 1000
- 입력 0: 0100
- 입력 1: 1010
- 입력 1: 1101

**7.** D 플립플롭으로 T 플립플롭:
- D = T XOR Q
- T=0: D=Q (유지)
- T=1: D=Q' (토글)

**8.** MOD-5 카운터 (JK 플립플롭 사용):
- 상태: 000→001→010→011→100→000
- J₀=1, K₀=1 (항상 토글)
- J₁=Q₀·Q₂', K₁=Q₀
- J₂=Q₀·Q₁, K₂=Q₀

**9.** 양방향 시프트 레지스터:
- 각 플립플롭 앞에 MUX 배치
- 제어 입력으로 Left/Right/Hold 선택
- Left: 다음 비트 선택
- Right: 이전 비트 선택
- Hold: 현재 Q 선택

**10.** 최대 클럭 주파수:
T_min = t_pd + t_comb + t_su = 5 + 15 + 3 = 23ns
f_max = 1 / 23ns ≈ 43.5MHz

</details>

<hr />
<h2 id="_25">다음 단계<a class="header-link" href="#_25" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./07_CPU_구조_기초.md">07_CPU_구조_기초.md</a> - CPU 구성 요소와 명령어 실행 사이클</li>
</ul>
<hr />
<h2 id="_26">참고 자료<a class="header-link" href="#_26" title="Permanent link">&para;</a></h2>
<ul>
<li>Digital Design (Morris Mano)</li>
<li>Computer Organization and Design (Patterson &amp; Hennessy)</li>
<li><a href="https://logic.ly/">Logic Gate Simulator</a></li>
<li><a href="https://www.electronics-tutorials.ws/sequential/sequential.html">Digital Circuits Tutorial</a></li>
<li><a href="https://www.nand2tetris.org/">Nand2Tetris - Building a Computer from First Principles</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/05_Combinational_Logic.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">조합 논리 회로</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/07_CPU_Architecture_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">CPU 구조 기초</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}