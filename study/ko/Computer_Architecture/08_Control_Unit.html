{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제어장치 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Computer_Architecture/">Computer Architecture</a>
    <span class="separator">/</span>
    <span class="current">제어장치</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>제어장치</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/07_CPU_Architecture_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">CPU 구조 기초</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/09_Instruction_Set_Architecture.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">명령어 집합 아키텍처 (ISA)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">개요</a></li>
<li><a href="#_3">목차</a></li>
<li><a href="#1">1. 제어장치의 역할</a><ul>
<li><a href="#11">1.1 제어장치의 기본 기능</a></li>
<li><a href="#12">1.2 제어장치의 주요 작업</a></li>
<li><a href="#13">1.3 제어 신호와 데이터패스</a></li>
</ul>
</li>
<li><a href="#2">2. 하드와이어드 제어</a><ul>
<li><a href="#21">2.1 하드와이어드 제어 개념</a></li>
<li><a href="#22-mips">2.2 MIPS 단일 사이클 제어장치</a></li>
<li><a href="#23-alu">2.3 ALU 제어 유닛</a></li>
<li><a href="#24">2.4 다중 사이클 하드와이어드 제어</a></li>
<li><a href="#25">2.5 상태별 제어 신호</a></li>
<li><a href="#26">2.6 하드와이어드 제어의 장단점</a></li>
</ul>
</li>
<li><a href="#3">3. 마이크로프로그램 제어</a><ul>
<li><a href="#31">3.1 마이크로프로그램 제어 개념</a></li>
<li><a href="#32-control-store">3.2 Control Store 구조</a></li>
<li><a href="#33">3.3 시퀀서 동작</a></li>
<li><a href="#34">3.4 마이크로프로그램 제어의 장단점</a></li>
<li><a href="#35">3.5 실제 사용 예</a></li>
</ul>
</li>
<li><a href="#4">4. 제어 신호 생성</a><ul>
<li><a href="#41">4.1 주요 제어 신호 목록</a></li>
<li><a href="#42">4.2 명령어별 제어 신호 값</a></li>
<li><a href="#43">4.3 제어 신호 생성 논리 회로</a></li>
<li><a href="#44">4.4 타이밍 다이어그램</a></li>
</ul>
</li>
<li><a href="#5">5. 마이크로명령어</a><ul>
<li><a href="#51">5.1 마이크로명령어 형식</a></li>
<li><a href="#52-lw">5.2 마이크로명령어 예시 (LW 명령어)</a></li>
<li><a href="#53">5.3 마이크로명령어 시퀀싱</a></li>
<li><a href="#54-vs">5.4 수평 vs 수직 마이크로명령어 비교</a></li>
<li><a href="#55">5.5 나노프로그래밍</a></li>
</ul>
</li>
<li><a href="#6">6. 연습 문제</a><ul>
<li><a href="#_4">기초 문제</a></li>
<li><a href="#_5">제어 신호 분석 문제</a></li>
<li><a href="#_6">마이크로프로그램 문제</a></li>
<li><a href="#_7">심화 문제</a></li>
</ul>
</li>
<li><a href="#_8">다음 단계</a></li>
<li><a href="#_9">참고 자료</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">제어장치<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">개요<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>제어장치(Control Unit)는 CPU의 핵심 구성요소로, 명령어를 해독하고 적절한 제어 신호를 생성하여 CPU 내의 모든 구성요소를 조율합니다. 이 레슨에서는 제어장치의 역할, 하드와이어드 제어와 마이크로프로그램 제어의 두 가지 구현 방식, 그리고 마이크로명령어의 구조에 대해 학습합니다.</p>
<p><strong>난이도</strong>: ⭐⭐⭐</p>
<p><strong>선수 지식</strong>: CPU 구조 기초, 논리 회로, 상태 기계</p>
<hr />
<h2 id="_3">목차<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-제어장치의-역할">제어장치의 역할</a></li>
<li><a href="#2-하드와이어드-제어">하드와이어드 제어</a></li>
<li><a href="#3-마이크로프로그램-제어">마이크로프로그램 제어</a></li>
<li><a href="#4-제어-신호-생성">제어 신호 생성</a></li>
<li><a href="#5-마이크로명령어">마이크로명령어</a></li>
<li><a href="#6-연습-문제">연습 문제</a></li>
</ol>
<hr />
<h2 id="1">1. 제어장치의 역할<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11">1.1 제어장치의 기본 기능<a class="header-link" href="#11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌──────────────────────────────────────────────────────────────────────┐
│                         제어장치의 역할                               │
│                                                                      │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                    입력 (Inputs)                             │    │
│  │                                                             │    │
│  │    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐   │    │
│  │    │  명령어 IR  │    │   클럭      │    │  상태 신호  │   │    │
│  │    │  (Opcode,   │    │  (Clock)    │    │  (Flags,    │   │    │
│  │    │   Funct)    │    │             │    │   Ready)    │   │    │
│  │    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘   │    │
│  └───────────┼──────────────────┼──────────────────┼───────────┘    │
│              │                  │                  │                 │
│              ▼                  ▼                  ▼                 │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                      제어 장치                               │    │
│  │         (Control Unit)                                      │    │
│  │                                                             │    │
│  │    ┌────────────────────────────────────────────────┐      │    │
│  │    │           제어 로직 / 마이크로프로그램          │      │    │
│  │    └────────────────────────────────────────────────┘      │    │
│  └─────────────────────────────────────────────────────────────┘    │
│              │                  │                  │                 │
│              ▼                  ▼                  ▼                 │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                   출력 (Outputs) - 제어 신호                 │    │
│  │                                                             │    │
│  │    ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────────────┐ │    │
│  │    │ RegWrite│ │ ALUOp   │ │ MemRead │ │ MemWrite        │ │    │
│  │    │ ALUSrc  │ │ Branch  │ │ MemtoReg│ │ PCSrc           │ │    │
│  │    └─────────┘ └─────────┘ └─────────┘ └─────────────────┘ │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="12">1.2 제어장치의 주요 작업<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>작업</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>명령어 해독</td>
<td>IR의 opcode와 function 필드를 분석하여 명령어 종류 파악</td>
</tr>
<tr>
<td>타이밍 생성</td>
<td>각 작업의 실행 순서와 시점 결정</td>
</tr>
<tr>
<td>제어 신호 생성</td>
<td>데이터패스의 각 구성요소를 제어하는 신호 출력</td>
</tr>
<tr>
<td>상태 관리</td>
<td>현재 실행 상태 추적 및 다음 상태 결정</td>
</tr>
<tr>
<td>예외 처리</td>
<td>인터럽트, 오류 등 예외 상황 감지 및 처리</td>
</tr>
</tbody>
</table>
<h3 id="13">1.3 제어 신호와 데이터패스<a class="header-link" href="#13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌───────────────────────────────────────────────────────────────────────────┐
│                    제어 신호와 데이터패스의 관계                           │
│                                                                           │
│                          ┌────────────────┐                               │
│                          │   제어 장치    │                               │
│                          └───────┬────────┘                               │
│                                  │                                        │
│           ┌──────────────────────┼──────────────────────┐                 │
│           │                      │                      │                 │
│           ▼                      ▼                      ▼                 │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐           │
│  │  레지스터 제어   │  │    ALU 제어     │  │   메모리 제어   │           │
│  │                 │  │                 │  │                 │           │
│  │  - RegWrite     │  │  - ALUOp        │  │  - MemRead      │           │
│  │  - RegDst       │  │  - ALUSrc       │  │  - MemWrite     │           │
│  └────────┬────────┘  └────────┬────────┘  └────────┬────────┘           │
│           │                    │                    │                     │
│           ▼                    ▼                    ▼                     │
│  ┌─────────────────────────────────────────────────────────────┐         │
│  │                       데이터패스                             │         │
│  │                                                             │         │
│  │  ┌──────────┐     ┌──────────┐     ┌──────────────────┐    │         │
│  │  │ 레지스터 │────►│   ALU    │────►│     메모리       │    │         │
│  │  │   파일   │     │          │     │                  │    │         │
│  │  └──────────┘     └──────────┘     └──────────────────┘    │         │
│  │       ▲                                     │              │         │
│  │       └─────────────────────────────────────┘              │         │
│  │                    (Write Back)                            │         │
│  └─────────────────────────────────────────────────────────────┘         │
│                                                                           │
└───────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="2">2. 하드와이어드 제어<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 하드와이어드 제어 개념<a class="header-link" href="#21" title="Permanent link">&para;</a></h3>
<p>하드와이어드(Hardwired) 제어는 제어 논리를 조합 논리 회로와 순차 논리 회로로 직접 구현하는 방식입니다.</p>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────┐
│                     하드와이어드 제어장치                            │
│                                                                     │
│    IR [31:26]        ┌─────────────────────────────────────────┐   │
│    (Opcode)   ──────►│                                         │   │
│                      │        조합 논리 회로                    │   │
│    IR [5:0]          │     (Combinational Logic)               │   │
│    (Funct)    ──────►│                                         │──► 제어 신호
│                      │     - 디코더                            │   │
│    상태 플래그       │     - 논리 게이트 (AND, OR)             │   │
│    (Flags)    ──────►│     - 멀티플렉서                        │   │
│                      └─────────────────────────────────────────┘   │
│                                    ▲                               │
│                                    │                               │
│                      ┌─────────────┴─────────────┐                 │
│                      │                           │                 │
│    ┌─────────────────┴───────────────────────────┴───────────┐    │
│    │                    타이밍/시퀀서                         │    │
│    │         (상태 레지스터, 카운터, 디코더)                 │    │
│    │                                                         │    │
│    │    ┌────────┐    ┌────────┐    ┌────────┐              │    │
│    │    │ 상태   │───►│ 상태   │───►│ 타이밍 │              │    │
│    │    │레지스터│    │디코더  │    │  신호  │              │    │
│    │    └────────┘    └────────┘    └────────┘              │    │
│    └─────────────────────────────────────────────────────────┘    │
│                      ▲                                             │
│    클럭 ─────────────┘                                             │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="22-mips">2.2 MIPS 단일 사이클 제어장치<a class="header-link" href="#22-mips" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                </span><span class="nx">MIPS</span><span class="w"> </span><span class="nx">단일</span><span class="w"> </span><span class="nx">사이클</span><span class="w"> </span><span class="nx">제어</span><span class="w"> </span><span class="p">(</span><span class="nx">간략화</span><span class="p">)</span><span class="w">                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nx">Opcode</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span><span class="w">                                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">                                                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">▼</span><span class="w">                                                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌───────────────────────────────────────────────────────────┐</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                      </span><span class="nx">Main</span><span class="w"> </span><span class="nx">Decoder</span><span class="w">                          </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├───────────────────────────────────────────────────────────┤</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nx">Opcode</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">RegDst</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="nx">ALUSrc</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="nx">MemtoReg</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="nx">RegWrite</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="o">...</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────┼────────┼────────┼──────────┼──────────┼────────┤</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="err">│</span><span class="w">    </span><span class="mi">1</span><span class="w">     </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="mi">000000</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────┼────────┼────────┼──────────┼──────────┼────────┤</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">lw</span><span class="w">     </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">1</span><span class="w">     </span><span class="err">│</span><span class="w">    </span><span class="mi">1</span><span class="w">     </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="mi">100011</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────┼────────┼────────┼──────────┼──────────┼────────┤</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">sw</span><span class="w">     </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="nx">x</span><span class="w">     </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="mi">101011</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────┼────────┼────────┼──────────┼──────────┼────────┤</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">beq</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="nx">x</span><span class="w">     </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">     </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="mi">000100</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└──────────┴────────┴────────┴──────────┴──────────┴────────┘</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                     </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="23-alu">2.3 ALU 제어 유닛<a class="header-link" href="#23-alu" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────┐
│                        ALU 제어 유닛                                 │
│                                                                     │
│    ALUOp (2비트)      Funct (6비트)                                 │
│        │                  │                                         │
│        │                  │                                         │
│        ▼                  ▼                                         │
│    ┌──────────────────────────────────────────┐                    │
│    │            ALU Control Unit              │                    │
│    │                                          │                    │
│    │    ┌────────┬────────┬────────────────┐ │                    │
│    │    │ ALUOp  │ Funct  │ ALU Operation  │ │                    │
│    │    ├────────┼────────┼────────────────┤ │                    │
│    │    │  00    │xxxxxx  │ Add (lw/sw)    │ │                    │
│    │    │  01    │xxxxxx  │ Sub (beq)      │ │                    │
│    │    │  10    │100000  │ Add            │ │                    │
│    │    │  10    │100010  │ Sub            │ │                    │
│    │    │  10    │100100  │ And            │ │                    │
│    │    │  10    │100101  │ Or             │ │                    │
│    │    │  10    │101010  │ Slt            │ │                    │
│    │    └────────┴────────┴────────────────┘ │                    │
│    └──────────────────────────────────────────┘                    │
│                    │                                                │
│                    ▼                                                │
│            ALU Control (4비트)                                      │
│                                                                     │
│    ┌───────────────────────────────────────────────────────┐       │
│    │  ALU Control │     Operation      │                   │       │
│    ├──────────────┼────────────────────┤                   │       │
│    │     0000     │       AND          │                   │       │
│    │     0001     │       OR           │                   │       │
│    │     0010     │       Add          │                   │       │
│    │     0110     │       Sub          │                   │       │
│    │     0111     │       Slt          │                   │       │
│    │     1100     │       NOR          │                   │       │
│    └──────────────┴────────────────────┘                   │       │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="24">2.4 다중 사이클 하드와이어드 제어<a class="header-link" href="#24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────┐
│<span class="w">               </span>다중<span class="w"> </span>사이클<span class="w"> </span>제어:<span class="w"> </span>유한<span class="w"> </span>상태<span class="w"> </span>기계<span class="w"> </span><span class="ss">(</span><span class="nv">FSM</span><span class="ss">)</span><span class="w">                 </span>│
│<span class="w">                                                                     </span>│
│<span class="w">                          </span>┌──────────┐<span class="w">                               </span>│
│<span class="w">                     </span>┌───►│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span>│◄────────────────┐<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>│<span class="w">  </span><span class="ss">(</span><span class="k">IF</span><span class="ss">)</span><span class="w">    </span>│<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>└────┬─────┘<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">         </span>│<span class="w">                       </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">         </span>▼<span class="w">                       </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>┌──────────┐<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>│<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">ID</span><span class="ss">)</span><span class="w">    </span>│<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">    </span>└────┬─────┘<span class="w">                 </span>│<span class="w">             </span>│
│<span class="w">                     </span>│<span class="w">         </span>│<span class="w">                       </span>│<span class="w">             </span>│
│<span class="w">            </span>┌────────┴─────────┼─────────┬─────────────┤<span class="w">             </span>│
│<span class="w">            </span>│<span class="w">                  </span>│<span class="w">         </span>│<span class="w">             </span>│<span class="w">             </span>│
│<span class="w">            </span>▼<span class="w">                  </span>▼<span class="w">         </span>▼<span class="w">             </span>│<span class="w">             </span>│
│<span class="w">       </span>┌──────────┐<span class="w">      </span>┌──────────┐<span class="w"> </span>┌──────────┐<span class="w">    </span>│<span class="w">             </span>│
│<span class="w">       </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span>│<span class="w">      </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span>│<span class="w"> </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span>│<span class="w">    </span>│<span class="w">             </span>│
│<span class="w">       </span>│<span class="w"> </span><span class="ss">(</span><span class="nv">MemAddr</span><span class="ss">)</span>│<span class="w">      </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">R</span><span class="o">-</span><span class="nv">EX</span><span class="ss">)</span><span class="w">  </span>│<span class="w"> </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">BEQ</span><span class="ss">)</span><span class="w">   </span>│────┘<span class="w">             </span>│
│<span class="w">       </span>└────┬─────┘<span class="w">      </span>└────┬─────┘<span class="w"> </span>└──────────┘<span class="w">                   </span>│
│<span class="w">            </span>│<span class="w">                 </span>│<span class="w">                                       </span>│
│<span class="w">       </span>┌────┴────┐<span class="w">            </span>│<span class="w">                                       </span>│
│<span class="w">       </span>│<span class="w">         </span>│<span class="w">            </span>│<span class="w">                                       </span>│
│<span class="w">       </span>▼<span class="w">         </span>▼<span class="w">            </span>▼<span class="w">                                       </span>│
│<span class="w">  </span>┌──────────┐<span class="w"> </span>┌──────────┐<span class="w"> </span>┌──────────┐<span class="w">                             </span>│
│<span class="w">  </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span>│<span class="w"> </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span>│<span class="w"> </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span>│<span class="w">                             </span>│
│<span class="w">  </span>│<span class="w"> </span><span class="ss">(</span><span class="nv">MemRead</span><span class="ss">)</span>│<span class="w"> </span>│<span class="ss">(</span><span class="nv">MemWrite</span><span class="ss">)</span>│<span class="w"> </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">R</span><span class="o">-</span><span class="nv">WB</span><span class="ss">)</span><span class="w">  </span>│<span class="w">                             </span>│
│<span class="w">  </span>└────┬─────┘<span class="w"> </span>└────┬─────┘<span class="w"> </span>└────┬─────┘<span class="w">                             </span>│
│<span class="w">       </span>│<span class="w">            </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">       </span>▼<span class="w">            </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">  </span>┌──────────┐<span class="w">      </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">  </span>│<span class="w">  </span><span class="nv">State</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span>│<span class="w">      </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">  </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">LW</span><span class="o">-</span><span class="nv">WB</span><span class="ss">)</span><span class="w"> </span>│<span class="w">      </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">  </span>└────┬─────┘<span class="w">      </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">       </span>│<span class="w">            </span>│<span class="w">            </span>│<span class="w">                                    </span>│
│<span class="w">       </span>└────────────┴────────────┴──────────────────────►<span class="ss">(</span><span class="nv">State</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w">   </span>│
│<span class="w">                                                                     </span>│
└─────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="25">2.5 상태별 제어 신호<a class="header-link" href="#25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                       </span><span class="nx">상태별</span><span class="w"> </span><span class="nx">제어</span><span class="w"> </span><span class="nx">신호</span><span class="w"> </span><span class="nx">테이블</span><span class="w">                                </span><span class="err">│</span>
<span class="err">├───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬────────────┤</span>
<span class="err">│</span><span class="w"> </span><span class="nx">State</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="nx">PCWrite</span><span class="err">│</span><span class="nx">IRWrite</span><span class="err">│</span><span class="nx">RegWrite</span><span class="err">│</span><span class="nx">ALUSrcA</span><span class="err">│</span><span class="nx">ALUSrcB</span><span class="err">│</span><span class="nx">ALUOp</span><span class="w"> </span><span class="err">│</span><span class="nx">MemRead</span><span class="err">│</span><span class="w"> </span><span class="nx">설명</span><span class="w">      </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">01</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">IF</span><span class="w">         </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="p">(</span><span class="nx">IF</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">명령어</span><span class="w"> </span><span class="nx">인출</span><span class="w"> </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">11</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">ID</span><span class="w">         </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="p">(</span><span class="nx">ID</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">명령어</span><span class="w"> </span><span class="nx">해독</span><span class="w"> </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">2</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">10</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">MemAddr</span><span class="w">    </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">주소</span><span class="w"> </span><span class="nx">계산</span><span class="w">   </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">3</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">MemRead</span><span class="w">    </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">메모리</span><span class="w"> </span><span class="nx">읽기</span><span class="w"> </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">4</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">LW</span><span class="w"> </span><span class="nx">WB</span><span class="w">      </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">Load</span><span class="w"> </span><span class="nx">쓰기</span><span class="w">   </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">6</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">10</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">EX</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">실행</span><span class="w"> </span><span class="err">│</span>
<span class="err">├───────┼───────┼───────┼───────┼───────┼───────┼───────┼───────┼────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="mi">7</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">WB</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="nx">쓰기</span><span class="w"> </span><span class="err">│</span>
<span class="err">└───────┴───────┴───────┴───────┴───────┴───────┴───────┴───────┴────────────┘</span>
</code></pre></div>

<h3 id="26">2.6 하드와이어드 제어의 장단점<a class="header-link" href="#26" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>장점</th>
<th>단점</th>
</tr>
</thead>
<tbody>
<tr>
<td>빠른 속도 (전파 지연만 존재)</td>
<td>설계 복잡도 높음</td>
</tr>
<tr>
<td>최적화 가능</td>
<td>수정/확장 어려움</td>
</tr>
<tr>
<td>면적 효율적 (단순 명령어 집합)</td>
<td>디버깅 어려움</td>
</tr>
<tr>
<td>RISC 프로세서에 적합</td>
<td>새 명령어 추가 시 회로 재설계 필요</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="3">3. 마이크로프로그램 제어<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 마이크로프로그램 제어 개념<a class="header-link" href="#31" title="Permanent link">&para;</a></h3>
<p>마이크로프로그램 제어는 제어 신호를 마이크로프로그램(펌웨어)으로 저장하고, 이를 순차적으로 실행하여 제어 신호를 생성하는 방식입니다.</p>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                      마이크로프로그램 제어장치                           │
│                                                                         │
│    IR (Opcode)                                                          │
│        │                                                                │
│        ▼                                                                │
│    ┌──────────────────┐                                                │
│    │   Mapping ROM    │                                                │
│    │  (주소 매핑)     │                                                │
│    └────────┬─────────┘                                                │
│             │ 시작 주소                                                 │
│             ▼                                                           │
│    ┌────────────────────────────────────────────────────────────┐      │
│    │                                                            │      │
│    │    ┌─────────────┐                                        │      │
│    │    │  MicroPC    │◄─────────────────────────────┐         │      │
│    │    │ (마이크로   │                              │         │      │
│    │    │  프로그램   │                              │         │      │
│    │    │  카운터)    │                              │         │      │
│    │    └──────┬──────┘                              │         │      │
│    │           │                                      │         │      │
│    │           ▼                                      │         │      │
│    │    ┌────────────────────────────────────┐      │         │      │
│    │    │      Control Store (ROM)           │      │         │      │
│    │    │   (마이크로프로그램 저장소)          │      │         │      │
│    │    │                                    │      │         │      │
│    │    │    주소    마이크로명령어            │      │         │      │
│    │    │    0x00    [제어신호들 | 다음주소]   │      │         │      │
│    │    │    0x01    [제어신호들 | 다음주소]   │      │         │      │
│    │    │    0x02    [제어신호들 | 다음주소]   │      │         │      │
│    │    │     ...                            │      │         │      │
│    │    └───────────────┬────────────────────┘      │         │      │
│    │                    │                            │         │      │
│    │    ┌───────────────┴───────────────┐           │         │      │
│    │    │                               │           │         │      │
│    │    ▼                               ▼           │         │      │
│    │  ┌─────────────┐           ┌────────────────┐  │         │      │
│    │  │ 제어 신호   │           │ Sequencer      │──┘         │      │
│    │  │ (출력)      │           │ (다음 주소)     │            │      │
│    │  └─────────────┘           └────────────────┘            │      │
│    │                                                            │      │
│    └────────────────────────────────────────────────────────────┘      │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="32-control-store">3.2 Control Store 구조<a class="header-link" href="#32-control-store" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                        Control Store (ROM)                               │
│                                                                         │
│    주소      마이크로명령어 (예: 32비트)                                 │
│    ┌──────┬─────────────────────────────────────────────────────────┐   │
│    │      │ ALU │Reg │Mem │Mem │ALU │Reg │PC  │ IR │다음│시퀀스     │   │
│    │ Addr │ Op  │Dst │Read│Wrt │Src │Wrt │Src │Wrt │주소│  제어     │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ 0x00 │ 00  │ x  │ 1  │ 0  │ 0  │ 0  │ 0  │ 1  │0x01│ SEQ       │   │
│    │      │     │    │    │    │    │    │    │    │    │ (순차)    │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ 0x01 │ 00  │ x  │ 0  │ 0  │ 0  │ 0  │ x  │ 0  │DISP│ DISPATCH  │   │
│    │      │     │    │    │    │    │    │    │    │    │ (분기)    │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ 0x02 │ 00  │ 0  │ 0  │ 0  │ 1  │ 0  │ x  │ 0  │0x03│ SEQ       │   │
│    │      │     │    │    │    │    │    │    │    │    │ (lw/sw)   │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ 0x03 │ xx  │ x  │ 1  │ 0  │ x  │ 0  │ x  │ 0  │0x04│ SEQ       │   │
│    │      │     │    │    │    │    │    │    │    │    │ (lw mem)  │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ 0x04 │ xx  │ 0  │ 0  │ 0  │ x  │ 1  │ x  │ 0  │0x00│ FETCH     │   │
│    │      │     │    │    │    │    │    │    │    │    │ (lw wb)   │   │
│    ├──────┼─────┼────┼────┼────┼────┼────┼────┼────┼────┼───────────┤   │
│    │ ...  │     │    │    │    │    │    │    │    │    │           │   │
│    └──────┴─────┴────┴────┴────┴────┴────┴────┴────┴────┴───────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="33">3.3 시퀀서 동작<a class="header-link" href="#33" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│<span class="w">                         </span>시퀀서<span class="w"> </span><span class="ss">(</span><span class="nv">Sequencer</span><span class="ss">)</span><span class="w">                               </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>현재<span class="w"> </span>마이크로명령어의<span class="w"> </span>시퀀스<span class="w"> </span>제어<span class="w"> </span>필드에<span class="w"> </span>따라<span class="w"> </span>다음<span class="w"> </span>주소<span class="w"> </span>결정<span class="w">          </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>┌────────────────────────────────────────────────────────────┐<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">  </span>시퀀스<span class="w"> </span>제어<span class="w">  </span>│<span class="w">              </span>다음<span class="w"> </span>주소<span class="w"> </span>결정<span class="w">                 </span>│<span class="w">       </span>│
│<span class="w">    </span>├──────────────┼────────────────────────────────────────────┤<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">    </span><span class="nv">SEQ</span><span class="w">       </span>│<span class="w">  </span><span class="nv">MicroPC</span><span class="w"> </span>←<span class="w"> </span><span class="nv">MicroPC</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">                     </span>│<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="ss">(</span>순차<span class="ss">)</span><span class="w">     </span>│<span class="w">  </span>다음<span class="w"> </span>마이크로명령어로<span class="w"> </span>진행<span class="w">                  </span>│<span class="w">       </span>│
│<span class="w">    </span>├──────────────┼────────────────────────────────────────────┤<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="nv">BRANCH</span><span class="w">     </span>│<span class="w">  </span><span class="nv">MicroPC</span><span class="w"> </span>←<span class="w"> </span>마이크로명령어의<span class="w"> </span>다음주소<span class="w"> </span>필드<span class="w">   </span>│<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="ss">(</span>분기<span class="ss">)</span><span class="w">     </span>│<span class="w">  </span>조건<span class="w"> </span>없이<span class="w"> </span>지정된<span class="w"> </span>주소로<span class="w"> </span>점프<span class="w">               </span>│<span class="w">       </span>│
│<span class="w">    </span>├──────────────┼────────────────────────────────────────────┤<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="nv">DISPATCH</span><span class="w">   </span>│<span class="w">  </span><span class="nv">MicroPC</span><span class="w"> </span>←<span class="w"> </span><span class="nv">Mapping</span><span class="w"> </span><span class="nv">ROM</span>[<span class="nv">IR</span>.<span class="nv">Opcode</span>]<span class="w">          </span>│<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="ss">(</span>디스패치<span class="ss">)</span><span class="w"> </span>│<span class="w">  </span>명령어<span class="w"> </span>종류에<span class="w"> </span>따라<span class="w"> </span>해당<span class="w"> </span>루틴으로<span class="w"> </span>분기<span class="w">       </span>│<span class="w">       </span>│
│<span class="w">    </span>├──────────────┼────────────────────────────────────────────┤<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="nv">FETCH</span><span class="w">      </span>│<span class="w">  </span><span class="nv">MicroPC</span><span class="w"> </span>←<span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ss">(</span><span class="k">IF</span><span class="w"> </span>상태로<span class="w"> </span>복귀<span class="ss">)</span><span class="w">              </span>│<span class="w">       </span>│
│<span class="w">    </span>│<span class="w">   </span><span class="ss">(</span>페치<span class="ss">)</span><span class="w">     </span>│<span class="w">  </span>다음<span class="w"> </span>명령어<span class="w"> </span>인출<span class="w"> </span>시작<span class="w">                      </span>│<span class="w">       </span>│
│<span class="w">    </span>└──────────────┴────────────────────────────────────────────┘<span class="w">       </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span><span class="nv">MUX</span>를<span class="w"> </span>통한<span class="w"> </span>다음<span class="w"> </span>주소<span class="w"> </span>선택:<span class="w">                                           </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span><span class="nv">MicroPC</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span>────►┌───────┐<span class="w">                                            </span>│
│<span class="w">    </span><span class="nv">Branch</span><span class="w"> </span><span class="nv">Addr</span><span class="w"> </span>──►│<span class="w">  </span><span class="nv">MUX</span><span class="w">  </span>│────►<span class="w"> </span>다음<span class="w"> </span><span class="nv">MicroPC</span><span class="w">                          </span>│
│<span class="w">    </span><span class="nv">Dispatch</span><span class="w"> </span><span class="nv">Addr</span>─►│<span class="w">       </span>│<span class="w">                                            </span>│
│<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="ss">(</span><span class="nv">Fetch</span><span class="ss">)</span><span class="w"> </span>────►└───────┘<span class="w">                                            </span>│
│<span class="w">                      </span>▲<span class="w">                                                  </span>│
│<span class="w">                      </span>│<span class="w">                                                  </span>│
│<span class="w">              </span>시퀀스<span class="w"> </span>제어<span class="w"> </span>신호<span class="w">                                            </span>│
│<span class="w">                                                                         </span>│
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="34">3.4 마이크로프로그램 제어의 장단점<a class="header-link" href="#34" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>장점</th>
<th>단점</th>
</tr>
</thead>
<tbody>
<tr>
<td>유연한 설계 (ROM만 수정)</td>
<td>하드와이어드보다 느림</td>
</tr>
<tr>
<td>복잡한 명령어 구현 용이</td>
<td>ROM 접근 지연</td>
</tr>
<tr>
<td>디버깅 용이</td>
<td>추가 하드웨어(Control Store) 필요</td>
</tr>
<tr>
<td>CISC 프로세서에 적합</td>
<td>전력 소모 증가</td>
</tr>
<tr>
<td>마이크로코드 업데이트 가능</td>
<td>면적 증가</td>
</tr>
</tbody>
</table>
<h3 id="35">3.5 실제 사용 예<a class="header-link" href="#35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                    실제 프로세서의 마이크로코드 사용                      │
│                                                                         │
│    Intel x86 계열:                                                      │
│    ┌───────────────────────────────────────────────────────────────┐   │
│    │  - 복잡한 CISC 명령어를 마이크로코드로 구현                    │   │
│    │  - 단순 명령어는 하드와이어드로 빠르게 처리                    │   │
│    │  - 마이크로코드 업데이트로 보안 패치 적용 (예: Spectre/Meltdown)│   │
│    └───────────────────────────────────────────────────────────────┘   │
│                                                                         │
│    AMD 프로세서:                                                        │
│    ┌───────────────────────────────────────────────────────────────┐   │
│    │  - 유사하게 복잡한 명령어를 마이크로코드로 처리                 │   │
│    │  - BIOS/UEFI를 통해 마이크로코드 업데이트                      │   │
│    └───────────────────────────────────────────────────────────────┘   │
│                                                                         │
│    혼합 방식 (대부분의 현대 프로세서):                                   │
│    ┌───────────────────────────────────────────────────────────────┐   │
│    │  - 자주 사용되는 명령어: 하드와이어드 (고속)                    │   │
│    │  - 복잡한 명령어: 마이크로코드 (유연성)                        │   │
│    │  - 예: x86의 ADD는 하드와이어드, REP MOVS는 마이크로코드        │   │
│    └───────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="4">4. 제어 신호 생성<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1 주요 제어 신호 목록<a class="header-link" href="#41" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                         </span><span class="nx">주요</span><span class="w"> </span><span class="nx">제어</span><span class="w"> </span><span class="nx">신호</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">├──────────────┬──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">제어</span><span class="w"> </span><span class="nx">신호</span><span class="w">   </span><span class="err">│</span><span class="w">                        </span><span class="nx">기능</span><span class="w">                              </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">RegDst</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="nx">쓰기</span><span class="w"> </span><span class="nx">레지스터</span><span class="w"> </span><span class="nx">선택</span><span class="w"> </span><span class="p">(</span><span class="nx">rt</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">rd</span><span class="p">=</span><span class="mi">1</span><span class="p">)</span><span class="w">                          </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">RegWrite</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">레지스터</span><span class="w"> </span><span class="nx">파일에</span><span class="w"> </span><span class="nx">쓰기</span><span class="w"> </span><span class="nx">허용</span><span class="w">                                 </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">ALUSrc</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="nx">ALU</span><span class="w"> </span><span class="nx">두</span><span class="w"> </span><span class="nx">번째</span><span class="w"> </span><span class="nx">입력</span><span class="w"> </span><span class="nx">선택</span><span class="w"> </span><span class="p">(</span><span class="nx">Register</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">Immediate</span><span class="p">=</span><span class="mi">1</span><span class="p">)</span><span class="w">          </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">ALUOp</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="nx">ALU</span><span class="w"> </span><span class="nx">연산</span><span class="w"> </span><span class="nx">종류</span><span class="w"> </span><span class="nx">지정</span><span class="w"> </span><span class="p">(</span><span class="mi">00</span><span class="p">=</span><span class="nx">add</span><span class="p">,</span><span class="w"> </span><span class="mi">01</span><span class="p">=</span><span class="nx">sub</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">=</span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="p">)</span><span class="w">           </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">MemRead</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nx">메모리</span><span class="w"> </span><span class="nx">읽기</span><span class="w"> </span><span class="nx">활성화</span><span class="w">                                        </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">MemWrite</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">메모리</span><span class="w"> </span><span class="nx">쓰기</span><span class="w"> </span><span class="nx">활성화</span><span class="w">                                        </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">MemtoReg</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nx">레지스터에</span><span class="w"> </span><span class="nx">쓸</span><span class="w"> </span><span class="nx">데이터</span><span class="w"> </span><span class="nx">선택</span><span class="w"> </span><span class="p">(</span><span class="nx">ALU</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">Memory</span><span class="p">=</span><span class="mi">1</span><span class="p">)</span><span class="w">              </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">PCSrc</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="nx">PC</span><span class="w"> </span><span class="nx">값</span><span class="w"> </span><span class="nx">선택</span><span class="w"> </span><span class="p">(</span><span class="nx">PC</span><span class="o">+</span><span class="mi">4</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">Branch</span><span class="w"> </span><span class="nx">target</span><span class="p">=</span><span class="mi">1</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">Branch</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="nx">조건</span><span class="w"> </span><span class="nx">분기</span><span class="w"> </span><span class="nx">명령어</span><span class="w"> </span><span class="nx">여부</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">├──────────────┼──────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">Jump</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nx">무조건</span><span class="w"> </span><span class="nx">점프</span><span class="w"> </span><span class="nx">명령어</span><span class="w"> </span><span class="nx">여부</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">└──────────────┴──────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="42">4.2 명령어별 제어 신호 값<a class="header-link" href="#42" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                          </span><span class="nx">명령어별</span><span class="w"> </span><span class="nx">제어</span><span class="w"> </span><span class="nx">신호</span><span class="w"> </span><span class="nx">진리표</span><span class="w">                               </span><span class="err">│</span>
<span class="err">├──────────┬───────┬────────┬───────┬───────┬────────┬─────────┬────────┬────────┤</span>
<span class="err">│</span><span class="w"> </span><span class="nx">명령어</span><span class="w">   </span><span class="err">│</span><span class="nx">RegDst</span><span class="w"> </span><span class="err">│</span><span class="nx">ALUSrc</span><span class="w">  </span><span class="err">│</span><span class="nx">MemtoReg</span><span class="err">│</span><span class="nx">RegWrite</span><span class="err">│</span><span class="nx">MemRead</span><span class="err">│</span><span class="nx">MemWrite</span><span class="w"> </span><span class="err">│</span><span class="nx">Branch</span><span class="w">  </span><span class="err">│</span><span class="nx">ALUOp</span><span class="w">   </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="mi">10</span><span class="w">    </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="nx">add</span><span class="p">,</span><span class="nx">sub</span><span class="p">)</span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">        </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">lw</span><span class="w">     </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">    </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">sw</span><span class="w">     </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">    </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w">   </span><span class="nx">beq</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="mi">01</span><span class="w">    </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w">  </span><span class="nx">addi</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">1</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="mi">00</span><span class="w">    </span><span class="err">│</span>
<span class="err">├──────────┼───────┼────────┼───────┼───────┼────────┼─────────┼────────┼────────┤</span>
<span class="err">│</span><span class="w">    </span><span class="nx">j</span><span class="w">     </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="mi">0</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nx">x</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nx">xx</span><span class="w">    </span><span class="err">│</span>
<span class="err">└──────────┴───────┴────────┴───────┴───────┴────────┴─────────┴────────┴────────┘</span>

<span class="nx">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">don</span><span class="err">&#39;</span><span class="nx">t</span><span class="w"> </span><span class="nx">care</span><span class="w"> </span><span class="p">(</span><span class="nx">어떤</span><span class="w"> </span><span class="nx">값이든</span><span class="w"> </span><span class="nx">상관없음</span><span class="p">)</span>
</code></pre></div>

<h3 id="43">4.3 제어 신호 생성 논리 회로<a class="header-link" href="#43" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="nx">제어</span><span class="w"> </span><span class="nx">신호</span><span class="w"> </span><span class="nx">생성</span><span class="w"> </span><span class="nx">논리</span><span class="w"> </span><span class="nx">회로</span><span class="w">                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nx">Opcode</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">├─────────────────────────────────────────────────────────────┐</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">                                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">┌─────────────────────────────────────────────────────┐</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">                    </span><span class="nx">디코더</span><span class="w">                            </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">                                                     </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nx">Opcode</span><span class="w">    </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w">  </span><span class="nx">lw</span><span class="w">   </span><span class="nx">sw</span><span class="w">   </span><span class="nx">beq</span><span class="w">   </span><span class="nx">addi</span><span class="w">   </span><span class="nx">j</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">000000</span><span class="w">  </span><span class="err">─────►</span><span class="w">                                    </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">100011</span><span class="w">  </span><span class="err">─────────►</span><span class="w">                                </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">101011</span><span class="w">  </span><span class="err">──────────────►</span><span class="w">                           </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">000100</span><span class="w">  </span><span class="err">───────────────────►</span><span class="w">                      </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">001000</span><span class="w">  </span><span class="err">────────────────────────►</span><span class="w">                 </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="mi">000010</span><span class="w">  </span><span class="err">─────────────────────────────►</span><span class="w">            </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="err">└─────────────────────────────────────────────────────┘</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">           </span><span class="err">▼</span><span class="w">       </span><span class="err">▼</span><span class="w">      </span><span class="err">▼</span><span class="w">      </span><span class="err">▼</span><span class="w">       </span><span class="err">▼</span><span class="w">       </span><span class="err">▼</span><span class="w">           </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">                                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">RegDst</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w">                                          </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">ALUSrc</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="nx">lw</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">sw</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">addi</span><span class="w">                                  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">MemtoReg</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">lw</span><span class="w">                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">RegWrite</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">lw</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">addi</span><span class="w">                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">MemRead</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="nx">lw</span><span class="w">                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">MemWrite</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">sw</span><span class="w">                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">Branch</span><span class="w">   </span><span class="p">=</span><span class="w"> </span><span class="nx">beq</span><span class="w">                                            </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">ALUOp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">R</span><span class="o">-</span><span class="k">type</span><span class="w">                                         </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">ALUOp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">beq</span><span class="w">                                            </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">   </span><span class="nx">Jump</span><span class="w">     </span><span class="p">=</span><span class="w"> </span><span class="nx">j</span><span class="w">                                              </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">│</span><span class="w">                                                             </span><span class="err">│</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">       </span><span class="err">└─────────────────────────────────────────────────────────────┘</span><span class="w">   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="44">4.4 타이밍 다이어그램<a class="header-link" href="#44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│<span class="w">                    </span><span class="nv">LW</span><span class="w"> </span>명령어<span class="w"> </span>실행<span class="w"> </span>타이밍<span class="w"> </span><span class="ss">(</span>단일<span class="w"> </span>사이클<span class="ss">)</span><span class="w">                    </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">CLK</span><span class="w">    </span>────┐<span class="w">     </span>┌─────────────────────────────┐<span class="w">     </span>┌─────<span class="w">          </span>│
│<span class="w">              </span>│<span class="w">     </span>│<span class="w">                             </span>│<span class="w">     </span>│<span class="w">               </span>│
│<span class="w">              </span>└─────┘<span class="w">                             </span>└─────┘<span class="w">               </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">PC</span><span class="w">     </span>════╪═════════════════════════════════════════╪═══<span class="w">            </span>│
│<span class="w">          </span><span class="mi">0</span><span class="nv">x04</span>│<span class="w">                                         </span>│<span class="mi">0</span><span class="nv">x08</span><span class="w">           </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">IR</span><span class="w">     </span>────╪═════════════════════════════════════════╪───<span class="w">            </span>│
│<span class="w">              </span>│<span class="w">          </span><span class="nv">lw</span><span class="w"> </span>$<span class="nv">t0</span>,<span class="w"> </span><span class="mi">4</span><span class="ss">(</span>$<span class="nv">s0</span><span class="ss">)</span><span class="w">                 </span>│<span class="w">               </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">RegRead</span><span class="w"> </span>───────────────────────────────────────────────────<span class="w">          </span>│
│<span class="w">              </span>│<span class="w">    </span>▼<span class="w"> </span>$<span class="nv">s0</span><span class="w"> </span>값<span class="w"> </span>읽기<span class="w">                                         </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">ALU</span><span class="w">    </span>────────────────────────────────────────────────────<span class="w">          </span>│
│<span class="w">                      </span>│<span class="w">    </span>▼<span class="w"> </span>$<span class="nv">s0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span>계산<span class="w">                                </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">MemRead</span><span class="w"> </span>───────────────────────────────────────────────────<span class="w">          </span>│
│<span class="w">                              </span>│<span class="w">    </span>▼<span class="w"> </span><span class="nv">Memory</span>[$<span class="nv">s0</span><span class="o">+</span><span class="mi">4</span>]<span class="w"> </span>읽기<span class="w">                  </span>│
│<span class="w">                                                                         </span>│
│<span class="w">   </span><span class="nv">RegWrite</span><span class="w"> </span>──────────────────────────────────────────────────<span class="w">          </span>│
│<span class="w">                                      </span>│<span class="w">    </span>▼<span class="w"> </span>$<span class="nv">t0</span>에<span class="w"> </span>쓰기<span class="w">                  </span>│
│<span class="w">                                                                         </span>│
│<span class="w">          </span>├───<span class="k">IF</span>───┼───<span class="nv">ID</span>───┼───<span class="nv">EX</span>───┼───<span class="nv">MEM</span>──┼───<span class="nv">WB</span>───┤<span class="w">                </span>│
│<span class="w">                                                                         </span>│
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="5">5. 마이크로명령어<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 마이크로명령어 형식<a class="header-link" href="#51" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│<span class="w">                        </span>마이크로명령어<span class="w"> </span>형식<span class="w">                               </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>┌────────────────────────────────────────────────────────────────┐<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                    </span>수평<span class="w"> </span>마이크로명령어<span class="w">                          </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">              </span><span class="ss">(</span><span class="nv">Horizontal</span><span class="w"> </span><span class="nv">Microinstruction</span><span class="ss">)</span><span class="w">                     </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                                                                </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>┌────┬────┬────┬────┬────┬────┬────┬────┬────┬────┬────────┐<span class="w"> </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="nv">ALU</span><span class="w"> </span>│<span class="nv">Reg</span><span class="w"> </span>│<span class="nv">Reg</span><span class="w"> </span>│<span class="nv">Mem</span><span class="w"> </span>│<span class="nv">Mem</span><span class="w"> </span>│<span class="nv">ALU</span><span class="w"> </span>│<span class="nv">ALU</span><span class="w"> </span>│<span class="nv">PC</span><span class="w">  </span>│<span class="w"> </span><span class="nv">IR</span><span class="w"> </span>│<span class="nv">Seq</span><span class="w"> </span>│<span class="w"> </span><span class="k">Next</span><span class="w">   </span>│<span class="w"> </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="nv">Op</span><span class="w">  </span>│<span class="nv">Dst</span><span class="w"> </span>│<span class="nv">Wrt</span><span class="w"> </span>│<span class="nv">Rd</span><span class="w">  </span>│<span class="nv">Wrt</span><span class="w"> </span>│<span class="nv">SrcA</span>│<span class="nv">SrcB</span>│<span class="nv">Wrt</span><span class="w"> </span>│<span class="nv">Wrt</span><span class="w"> </span>│<span class="nv">Ctl</span><span class="w"> </span>│<span class="w"> </span><span class="nv">Addr</span><span class="w">   </span>│<span class="w"> </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="mi">4</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">2</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">1</span><span class="nv">bit</span>│<span class="mi">2</span><span class="nv">bit</span>│<span class="w"> </span><span class="mi">6</span><span class="nv">bit</span><span class="w">   </span>│<span class="w"> </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>└────┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────────┘<span class="w"> </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                                                                </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>특징:<span class="w"> </span>모든<span class="w"> </span>제어<span class="w"> </span>신호가<span class="w"> </span>명시적으로<span class="w"> </span>인코딩<span class="w">                       </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>빠른<span class="w"> </span>디코딩<span class="w">                                            </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>넓은<span class="w"> </span>비트<span class="w"> </span>폭<span class="w"> </span><span class="ss">(</span>많은<span class="w"> </span><span class="nv">ROM</span><span class="w"> </span>필요<span class="ss">)</span><span class="w">                           </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>병렬<span class="w"> </span>연산<span class="w"> </span>가능<span class="w">                                         </span>│<span class="w">  </span>│
│<span class="w">    </span>└────────────────────────────────────────────────────────────────┘<span class="w">  </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>┌────────────────────────────────────────────────────────────────┐<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                    </span>수직<span class="w"> </span>마이크로명령어<span class="w">                          </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">               </span><span class="ss">(</span><span class="nv">Vertical</span><span class="w"> </span><span class="nv">Microinstruction</span><span class="ss">)</span><span class="w">                      </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                                                                </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>┌────────────┬────────────┬────────────┬──────────────────┐<span class="w">  </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="w">  </span><span class="nv">Operation</span><span class="w"> </span>│<span class="w">  </span><span class="nv">Source</span><span class="w">    </span>│<span class="nv">Destination</span><span class="w"> </span>│<span class="w">  </span><span class="k">Next</span><span class="w"> </span><span class="nv">Address</span><span class="w">    </span>│<span class="w">  </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="w">   </span><span class="ss">(</span><span class="nv">op</span><span class="ss">)</span><span class="w">     </span>│<span class="w">  </span><span class="ss">(</span><span class="nv">src</span><span class="ss">)</span><span class="w">     </span>│<span class="w">   </span><span class="ss">(</span><span class="nv">dst</span><span class="ss">)</span><span class="w">    </span>│<span class="w">                  </span>│<span class="w">  </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>│<span class="w">   </span><span class="mi">4</span><span class="nv">bit</span><span class="w">     </span>│<span class="w">   </span><span class="mi">4</span><span class="nv">bit</span><span class="w">     </span>│<span class="w">   </span><span class="mi">4</span><span class="nv">bit</span><span class="w">     </span>│<span class="w">     </span><span class="mi">6</span><span class="nv">bit</span><span class="w">         </span>│<span class="w">  </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>└────────────┴────────────┴────────────┴──────────────────┘<span class="w">  </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">                                                                </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">  </span>특징:<span class="w"> </span>인코딩된<span class="w"> </span>형식으로<span class="w"> </span>제어<span class="w"> </span>신호<span class="w"> </span>표현<span class="w">                        </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>좁은<span class="w"> </span>비트<span class="w"> </span>폭<span class="w"> </span><span class="ss">(</span>적은<span class="w"> </span><span class="nv">ROM</span><span class="ss">)</span><span class="w">                               </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>추가<span class="w"> </span>디코딩<span class="w"> </span>필요<span class="w"> </span><span class="ss">(</span>느림<span class="ss">)</span><span class="w">                               </span>│<span class="w">  </span>│
│<span class="w">    </span>│<span class="w">       </span><span class="o">-</span><span class="w"> </span>한<span class="w"> </span>번에<span class="w"> </span>하나의<span class="w"> </span>연산<span class="w">                                   </span>│<span class="w">  </span>│
│<span class="w">    </span>└────────────────────────────────────────────────────────────────┘<span class="w">  </span>│
│<span class="w">                                                                         </span>│
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="52-lw">5.2 마이크로명령어 예시 (LW 명령어)<a class="header-link" href="#52-lw" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                    </span><span class="n">LW</span><span class="w"> </span><span class="err">$</span><span class="n">t0</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">(</span><span class="err">$</span><span class="n">s0</span><span class="p">)</span><span class="w"> </span><span class="n">마이크로프로그램</span><span class="w">                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">주소</span><span class="w">    </span><span class="n">마이크로명령어</span><span class="w">                        </span><span class="n">설명</span><span class="w">                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">────────────────────────────────────────────────────────────────</span><span class="w">     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mh">0x00</span><span class="err">:</span><span class="w">  </span><span class="n">PCWrite</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">IRWrite</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ALUSrcA</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="n">인출</span><span class="w"> </span><span class="p">(</span><span class="k">IF</span><span class="p">)</span><span class="w">     </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">ALUSrcB</span><span class="o">=</span><span class="mi">01</span><span class="p">,</span><span class="w"> </span><span class="n">ALUOp</span><span class="o">=</span><span class="mi">00</span><span class="p">,</span><span class="w"> </span><span class="n">MemRead</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w">                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">NextAddr</span><span class="o">=</span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="n">SeqCtl</span><span class="o">=</span><span class="n">SEQ</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mh">0x01</span><span class="err">:</span><span class="w">  </span><span class="n">ALUSrcA</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ALUSrcB</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="n">ALUOp</span><span class="o">=</span><span class="mi">00</span><span class="p">,</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="n">해독</span><span class="w"> </span><span class="p">(</span><span class="n">ID</span><span class="p">)</span><span class="w">     </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">NextAddr</span><span class="o">=</span><span class="n">DISPATCH</span><span class="p">,</span><span class="w"> </span><span class="n">SeqCtl</span><span class="o">=</span><span class="n">DISPATCH</span><span class="w">                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="c1">--- lw 명령어 디스패치 →                                             │</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mh">0x10</span><span class="err">:</span><span class="w">  </span><span class="n">ALUSrcA</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ALUSrcB</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">ALUOp</span><span class="o">=</span><span class="mi">00</span><span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="n">주소</span><span class="w"> </span><span class="n">계산</span><span class="w">           </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">NextAddr</span><span class="o">=</span><span class="mh">0x11</span><span class="p">,</span><span class="w"> </span><span class="n">SeqCtl</span><span class="o">=</span><span class="n">SEQ</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">s0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="w">     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mh">0x11</span><span class="err">:</span><span class="w">  </span><span class="n">MemRead</span><span class="o">=</span><span class="mi">1</span><span class="w">                             </span><span class="o">//</span><span class="w"> </span><span class="n">메모리</span><span class="w"> </span><span class="n">읽기</span><span class="w">          </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">NextAddr</span><span class="o">=</span><span class="mh">0x12</span><span class="p">,</span><span class="w"> </span><span class="n">SeqCtl</span><span class="o">=</span><span class="n">SEQ</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">MDR</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">Mem</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w">         </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mh">0x12</span><span class="err">:</span><span class="w">  </span><span class="n">RegDst</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">RegWrite</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">MemtoReg</span><span class="o">=</span><span class="mi">1</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">쓰기</span><span class="w"> </span><span class="p">(</span><span class="n">WB</span><span class="p">)</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="n">NextAddr</span><span class="o">=</span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="n">SeqCtl</span><span class="o">=</span><span class="k">FETCH</span><span class="w">          </span><span class="o">//</span><span class="w"> </span><span class="err">$</span><span class="n">t0</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">MDR</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">마이크로연산</span><span class="w"> </span><span class="nl">순서</span><span class="p">:</span><span class="w">                                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mf">1.</span><span class="w"> </span><span class="n">MAR</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">PC</span><span class="p">;</span><span class="w"> </span><span class="n">IR</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">Mem</span><span class="o">[</span><span class="n">MAR</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="n">PC</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">PC</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w">                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mf">2.</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">Regs</span><span class="o">[</span><span class="n">$s0</span><span class="o">]</span><span class="w">                                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mf">3.</span><span class="w"> </span><span class="n">ALUOut</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sign_extend</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span><span class="w">                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mf">4.</span><span class="w"> </span><span class="n">MDR</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">Mem</span><span class="o">[</span><span class="n">ALUOut</span><span class="o">]</span><span class="w">                                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="mf">5.</span><span class="w"> </span><span class="n">Regs</span><span class="o">[</span><span class="n">$t0</span><span class="o">]</span><span class="w"> </span><span class="err">←</span><span class="w"> </span><span class="n">MDR</span><span class="w">                                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="53">5.3 마이크로명령어 시퀀싱<a class="header-link" href="#53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="n">마이크로명령어</span><span class="w"> </span><span class="n">시퀀싱</span><span class="w"> </span><span class="n">예시</span><span class="w">                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">시작</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">                                                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">      </span><span class="err">▼</span><span class="w">                                                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x00</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="k">IF</span><span class="err">:</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="n">인출</span><span class="w">                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="k">IF</span><span class="p">)</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="n">MAR</span><span class="err">←</span><span class="n">PC</span><span class="p">,</span><span class="w"> </span><span class="n">IR</span><span class="err">←</span><span class="n">Mem</span><span class="o">[</span><span class="n">MAR</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">PC</span><span class="err">←</span><span class="n">PC</span><span class="o">+</span><span class="mi">4</span><span class="w">                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└───┬────┘</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">SEQ</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">▼</span><span class="w">                                                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌────────┐</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x01</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="nl">ID</span><span class="p">:</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="n">해독</span><span class="p">,</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">읽기</span><span class="w">                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="n">ID</span><span class="p">)</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="n">A</span><span class="err">←</span><span class="n">Regs</span><span class="o">[</span><span class="n">rs</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="err">←</span><span class="n">Regs</span><span class="o">[</span><span class="n">rt</span><span class="o">]</span><span class="w">                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└───┬────┘</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">DISPATCH</span><span class="w"> </span><span class="p">(</span><span class="n">opcode에</span><span class="w"> </span><span class="n">따라</span><span class="p">)</span><span class="w">                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">                                                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">   </span><span class="err">┌────┴────┬────────────┬────────────┬────────────┐</span><span class="w">                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">         </span><span class="err">│</span><span class="w">            </span><span class="err">│</span><span class="w">            </span><span class="err">│</span><span class="w">            </span><span class="err">│</span><span class="w">                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">   </span><span class="err">▼</span><span class="w">         </span><span class="err">▼</span><span class="w">            </span><span class="err">▼</span><span class="w">            </span><span class="err">▼</span><span class="w">            </span><span class="err">▼</span><span class="w">                   </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">┌──────┐</span><span class="w"> </span><span class="err">┌──────┐</span><span class="w">    </span><span class="err">┌──────┐</span><span class="w">    </span><span class="err">┌──────┐</span><span class="w">    </span><span class="err">┌──────┐</span><span class="w">                 </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mh">0x10</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mh">0x20</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x30</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x40</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x50</span><span class="w"> </span><span class="err">│</span><span class="w">                 </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">lw</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">sw</span><span class="w">   </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="n">R</span><span class="o">-</span><span class="n">type</span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">beq</span><span class="w">  </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">j</span><span class="w">   </span><span class="err">│</span><span class="w">                 </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">└──┬───┘</span><span class="w"> </span><span class="err">└──┬───┘</span><span class="w">    </span><span class="err">└──┬───┘</span><span class="w">    </span><span class="err">└──┬───┘</span><span class="w">    </span><span class="err">└──┬───┘</span><span class="w">                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">▼</span><span class="w">        </span><span class="err">▼</span><span class="w">           </span><span class="err">▼</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">┌──────┐</span><span class="w"> </span><span class="err">┌──────┐</span><span class="w">    </span><span class="err">┌──────┐</span><span class="w">      </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mh">0x11</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mh">0x21</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mh">0x31</span><span class="w"> </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="n">MemRd</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="n">MemWr</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">R</span><span class="o">-</span><span class="n">WB</span><span class="w"> </span><span class="err">│</span><span class="w">      </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">└──┬───┘</span><span class="w"> </span><span class="err">└──┬───┘</span><span class="w">    </span><span class="err">└──┬───┘</span><span class="w">      </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">▼</span><span class="w">        </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">┌──────┐</span><span class="w">    </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mh">0x12</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">LW</span><span class="o">-</span><span class="n">WB</span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w"> </span><span class="err">└──┬───┘</span><span class="w">    </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">           </span><span class="err">│</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└────────┴───────────┴───────────┴───────────┴───►</span><span class="p">(</span><span class="mh">0x00</span><span class="w"> </span><span class="n">IF로</span><span class="w"> </span><span class="n">복귀</span><span class="p">)</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">                          </span><span class="k">FETCH</span><span class="w">                                          </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="54-vs">5.4 수평 vs 수직 마이크로명령어 비교<a class="header-link" href="#54-vs" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>특성</th>
<th>수평 (Horizontal)</th>
<th>수직 (Vertical)</th>
</tr>
</thead>
<tbody>
<tr>
<td>비트 폭</td>
<td>넓음 (50-100비트)</td>
<td>좁음 (16-32비트)</td>
</tr>
<tr>
<td>디코딩</td>
<td>불필요/최소</td>
<td>추가 디코딩 필요</td>
</tr>
<tr>
<td>속도</td>
<td>빠름</td>
<td>느림</td>
</tr>
<tr>
<td>병렬성</td>
<td>높음 (동시 제어)</td>
<td>낮음 (순차적)</td>
</tr>
<tr>
<td>ROM 크기</td>
<td>큼</td>
<td>작음</td>
</tr>
<tr>
<td>유연성</td>
<td>높음</td>
<td>중간</td>
</tr>
</tbody>
</table>
<h3 id="55">5.5 나노프로그래밍<a class="header-link" href="#55" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                       나노프로그래밍 (Nanoprogramming)                   │
│                                                                         │
│    2단계 제어 저장소를 사용하여 Control Store 크기 최적화                │
│                                                                         │
│    ┌─────────────────────────────────────────────────────────────────┐ │
│    │                                                                 │ │
│    │   MicroPC ───►┌─────────────────────┐                          │ │
│    │               │   Control Store     │                          │ │
│    │               │   (마이크로 ROM)     │                          │ │
│    │               │                     │                          │ │
│    │               │   ┌──────┬────────┐ │                          │ │
│    │               │   │NanoPC│NextAddr│ │──► 시퀀스 제어           │ │
│    │               │   └──┬───┴────────┘ │                          │ │
│    │               └──────┼──────────────┘                          │ │
│    │                      │                                          │ │
│    │                      ▼                                          │ │
│    │               ┌─────────────────────┐                          │ │
│    │               │   Nano Store        │                          │ │
│    │               │   (나노 ROM)         │                          │ │
│    │               │                     │                          │ │
│    │               │   실제 제어 신호    │──► 제어 신호 출력         │ │
│    │               │   인코딩            │                          │ │
│    │               └─────────────────────┘                          │ │
│    │                                                                 │ │
│    └─────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│    장점: 반복되는 제어 신호 패턴을 공유하여 ROM 절약                     │
│    단점: 추가 접근 지연                                                 │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="6">6. 연습 문제<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="_4">기초 문제<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>제어장치의 주요 역할 3가지를 설명하시오.</p>
</li>
<li>
<p>하드와이어드 제어와 마이크로프로그램 제어의 차이점을 비교하시오.</p>
</li>
<li>
<p>다음 제어 신호의 역할을 설명하시오:</p>
</li>
<li>(a) RegWrite</li>
<li>(b) ALUSrc</li>
<li>(c) MemtoReg</li>
</ol>
<h3 id="_5">제어 신호 분석 문제<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<ol>
<li>다음 MIPS 명령어 실행 시 각 제어 신호의 값을 결정하시오:</li>
</ol>
<p><code>ADD $t0, $t1, $t2</code></p>
<ul>
<li>RegDst = ?</li>
<li>ALUSrc = ?</li>
<li>MemtoReg = ?</li>
<li>RegWrite = ?</li>
<li>MemRead = ?</li>
<li>MemWrite = ?</li>
<li>Branch = ?</li>
<li>
<p>ALUOp = ?</p>
</li>
<li>
<p><code>SW $t0, 100($s0)</code> 명령어의 제어 신호를 모두 결정하시오.</p>
</li>
</ul>
<h3 id="_6">마이크로프로그램 문제<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>마이크로프로그램 제어에서 시퀀서의 역할을 설명하시오.</p>
</li>
<li>
<p>수평 마이크로명령어와 수직 마이크로명령어의 장단점을 비교하시오.</p>
</li>
<li>
<p><code>BEQ $t0, $t1, label</code> 명령어의 마이크로명령어 시퀀스를 작성하시오.</p>
</li>
</ol>
<h3 id="_7">심화 문제<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<ol>
<li>다음 상황에서 어떤 제어 방식(하드와이어드/마이크로프로그램)이 더 적합한지 설명하시오:</li>
<li>(a) 단순한 RISC 프로세서 설계</li>
<li>(b) 복잡한 CISC 프로세서 설계</li>
<li>
<p>(c) 마이크로코드 업데이트가 필요한 경우</p>
</li>
<li>
<p>다중 사이클 CPU의 FSM(유한 상태 기계)에서 lw 명령어가 거치는 모든 상태를 나열하고, 각 상태에서 활성화되는 제어 신호를 설명하시오.</p>
</li>
</ol>
<details>
<summary>정답</summary>

1. 제어장치의 주요 역할:
   - 명령어 해독: IR의 opcode를 분석하여 명령어 종류 파악
   - 타이밍 생성: 각 작업의 실행 순서와 시점 결정
   - 제어 신호 생성: 데이터패스의 각 구성요소를 제어하는 신호 출력

2. 비교:
   - 하드와이어드: 논리 회로로 직접 구현, 빠르지만 수정 어려움
   - 마이크로프로그램: ROM에 저장된 프로그램 실행, 유연하지만 느림

3. 제어 신호 역할:
   - (a) RegWrite: 레지스터 파일에 데이터 쓰기 허용
   - (b) ALUSrc: ALU의 두 번째 입력 소스 선택 (0=레지스터, 1=즉시값)
   - (c) MemtoReg: 레지스터에 쓸 데이터 선택 (0=ALU, 1=메모리)

4. ADD 명령어 제어 신호:
   - RegDst = 1 (rd 사용)
   - ALUSrc = 0 (레지스터)
   - MemtoReg = 0 (ALU 결과)
   - RegWrite = 1
   - MemRead = 0
   - MemWrite = 0
   - Branch = 0
   - ALUOp = 10 (R-type)

5. SW 명령어 제어 신호:
   - RegDst = x (don't care)
   - ALUSrc = 1 (즉시값 100)
   - MemtoReg = x
   - RegWrite = 0
   - MemRead = 0
   - MemWrite = 1
   - Branch = 0
   - ALUOp = 00 (add)

6. 시퀀서 역할:
   - 현재 마이크로명령어의 시퀀스 제어 필드를 해석
   - 다음 마이크로명령어 주소 결정 (순차, 분기, 디스패치, 페치)
   - MicroPC 값 업데이트

7. 수평 vs 수직:
   - 수평: 빠른 실행, 병렬 제어 가능, 넓은 비트폭, 큰 ROM
   - 수직: 좁은 비트폭, 작은 ROM, 추가 디코딩 필요, 느림

8. BEQ 마이크로명령어:
   - IF: MAR←PC, IR←Mem[MAR], PC←PC+4
   - ID: A←Regs[$t0], B←Regs[$t1], ALUOut←PC+(offset<<2)
   - EX: if (A==B) PC←ALUOut → 0x00 (IF로 복귀)

9.
   - (a) RISC: 하드와이어드 (명령어가 단순하고 속도 중요)
   - (b) CISC: 마이크로프로그램 (복잡한 명령어 구현 용이)
   - (c) 업데이트 필요: 마이크로프로그램 (ROM만 수정)

10. lw 명령어 상태:
    - State 0 (IF): MemRead=1, IRWrite=1, PCWrite=1
    - State 1 (ID): (레지스터 읽기)
    - State 2 (MemAddr): ALUSrcA=1, ALUSrcB=10, ALUOp=00
    - State 3 (MemRead): MemRead=1
    - State 4 (LW-WB): RegDst=0, MemtoReg=1, RegWrite=1

</details>

<hr />
<h2 id="_8">다음 단계<a class="header-link" href="#_8" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./09_Instruction_Set_Architecture.md">09_Instruction_Set_Architecture.md</a> - CISC vs RISC, 주소 지정 방식</li>
</ul>
<hr />
<h2 id="_9">참고 자료<a class="header-link" href="#_9" title="Permanent link">&para;</a></h2>
<ul>
<li>Computer Organization and Design (Patterson &amp; Hennessy)</li>
<li>Computer Architecture: A Quantitative Approach (Hennessy &amp; Patterson)</li>
<li><a href="https://www.cs.cornell.edu/courses/cs3410/2019sp/schedule/slides/11-control-mc.pdf">MIPS Control Unit Implementation</a></li>
<li>Digital Design and Computer Architecture (Harris &amp; Harris)</li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/07_CPU_Architecture_Basics.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">CPU 구조 기초</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/09_Instruction_Set_Architecture.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">명령어 집합 아키텍처 (ISA)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}