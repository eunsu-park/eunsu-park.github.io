{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>어셈블리 언어 기초 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Computer_Architecture/">Computer Architecture</a>
    <span class="separator">/</span>
    <span class="current">어셈블리 언어 기초</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>어셈블리 언어 기초</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/09_Instruction_Set_Architecture.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">명령어 집합 아키텍처 (ISA)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/11_Pipelining.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">파이프라이닝 (Pipelining)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">개요</a></li>
<li><a href="#_3">목차</a></li>
<li><a href="#1">1. 어셈블리 언어 개념</a><ul>
<li><a href="#11">1.1 어셈블리 언어란?</a></li>
<li><a href="#12">1.2 어셈블리어의 기본 구조</a></li>
<li><a href="#13">1.3 어셈블러와 어셈블 과정</a></li>
<li><a href="#14">1.4 어셈블리 문법 스타일</a></li>
</ul>
</li>
<li><a href="#2-x86">2. x86 어셈블리 기초</a><ul>
<li><a href="#21-x86">2.1 x86 레지스터</a></li>
<li><a href="#22">2.2 플래그 레지스터</a></li>
<li><a href="#23-x86">2.3 x86 기본 명령어</a></li>
</ul>
</li>
<li><a href="#3-arm">3. ARM 어셈블리 기초</a><ul>
<li><a href="#31-arm">3.1 ARM 레지스터</a></li>
<li><a href="#32-arm">3.2 ARM 조건 코드</a></li>
<li><a href="#33-arm">3.3 ARM 기본 명령어</a></li>
</ul>
</li>
<li><a href="#4">4. 산술/논리 명령어</a><ul>
<li><a href="#41-x86">4.1 x86 산술/논리 명령어</a></li>
<li><a href="#42-arm">4.2 ARM 산술/논리 명령어</a></li>
</ul>
</li>
<li><a href="#5">5. 분기 명령어</a><ul>
<li><a href="#51-x86">5.1 x86 분기 명령어</a></li>
<li><a href="#52-arm">5.2 ARM 분기 명령어</a></li>
<li><a href="#53">5.3 분기 예제</a></li>
</ul>
</li>
<li><a href="#6">6. 메모리 접근 명령어</a><ul>
<li><a href="#61-x86">6.1 x86 메모리 접근</a></li>
<li><a href="#62-arm">6.2 ARM 메모리 접근</a></li>
</ul>
</li>
<li><a href="#7">7. 간단한 어셈블리 프로그램 예제</a><ul>
<li><a href="#71-hello-world-x86-64-linux">7.1 Hello World (x86-64 Linux)</a></li>
<li><a href="#72-x86-64">7.2 두 수의 합 (x86-64)</a></li>
<li><a href="#73-arm-aarch64">7.3 반복문 (ARM AArch64)</a></li>
<li><a href="#74">7.4 함수 호출과 스택 프레임</a></li>
</ul>
</li>
<li><a href="#8">8. 연습 문제</a><ul>
<li><a href="#_4">기초 문제</a></li>
<li><a href="#x86">x86 어셈블리 문제</a></li>
<li><a href="#arm">ARM 어셈블리 문제</a></li>
<li><a href="#_5">메모리 접근 문제</a></li>
<li><a href="#_6">심화 문제</a></li>
</ul>
</li>
<li><a href="#_7">다음 단계</a></li>
<li><a href="#_8">참고 자료</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">어셈블리 언어 기초<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">개요<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>어셈블리 언어는 기계어와 1:1로 대응되는 저수준 프로그래밍 언어입니다. 프로세서가 직접 이해하는 명령어를 사람이 읽을 수 있는 형태로 표현합니다. 이 레슨에서는 x86과 ARM 어셈블리의 기초, 주요 명령어 종류, 그리고 간단한 프로그램 작성 방법을 학습합니다.</p>
<p><strong>난이도</strong>: ⭐⭐⭐</p>
<p><strong>선수 지식</strong>: 명령어 집합 아키텍처(ISA), CPU 구조 기초</p>
<hr />
<h2 id="_3">목차<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-어셈블리-언어-개념">어셈블리 언어 개념</a></li>
<li><a href="#2-x86-어셈블리-기초">x86 어셈블리 기초</a></li>
<li><a href="#3-arm-어셈블리-기초">ARM 어셈블리 기초</a></li>
<li><a href="#4-산술논리-명령어">산술/논리 명령어</a></li>
<li><a href="#5-분기-명령어">분기 명령어</a></li>
<li><a href="#6-메모리-접근-명령어">메모리 접근 명령어</a></li>
<li><a href="#7-간단한-어셈블리-프로그램-예제">간단한 어셈블리 프로그램 예제</a></li>
<li><a href="#8-연습-문제">연습 문제</a></li>
</ol>
<hr />
<h2 id="1">1. 어셈블리 언어 개념<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11">1.1 어셈블리 언어란?<a class="header-link" href="#11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                    </span><span class="n">프로그래밍</span><span class="w"> </span><span class="n">언어</span><span class="w"> </span><span class="n">계층</span><span class="w"> </span><span class="n">구조</span><span class="w">                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                    </span><span class="n">고수준</span><span class="w"> </span><span class="n">언어</span><span class="w"> </span><span class="p">(</span><span class="n">High</span><span class="o">-</span><span class="k">Level</span><span class="p">)</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────┐</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">Java</span><span class="p">,</span><span class="w"> </span><span class="n">Python</span><span class="p">,</span><span class="w"> </span><span class="n">JavaScript</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w">            </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                     </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nc">int</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">                                  </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                     </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nl">장점</span><span class="p">:</span><span class="w"> </span><span class="n">가독성</span><span class="p">,</span><span class="w"> </span><span class="n">이식성</span><span class="p">,</span><span class="w"> </span><span class="n">생산성</span><span class="w">                       </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────┘</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">│</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">│</span><span class="w"> </span><span class="n">컴파일</span><span class="w">                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">▼</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                    </span><span class="n">어셈블리</span><span class="w"> </span><span class="n">언어</span><span class="w"> </span><span class="p">(</span><span class="n">Assembly</span><span class="p">)</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────┐</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">MOV</span><span class="w">  </span><span class="n">EAX</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">a를</span><span class="w"> </span><span class="n">EAX에</span><span class="w"> </span><span class="n">로드</span><span class="w">              </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="k">ADD</span><span class="w">  </span><span class="n">EAX</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">b</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">b를</span><span class="w"> </span><span class="n">더함</span><span class="w">                    </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">MOV</span><span class="w">  </span><span class="o">[</span><span class="n">sum</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">EAX</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">결과를</span><span class="w"> </span><span class="n">sum에</span><span class="w"> </span><span class="n">저장</span><span class="w">           </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                     </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nl">장점</span><span class="p">:</span><span class="w"> </span><span class="n">하드웨어</span><span class="w"> </span><span class="n">직접</span><span class="w"> </span><span class="n">제어</span><span class="p">,</span><span class="w"> </span><span class="n">최적화</span><span class="w"> </span><span class="n">가능</span><span class="w">              </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nl">단점</span><span class="p">:</span><span class="w"> </span><span class="n">이식성</span><span class="w"> </span><span class="n">없음</span><span class="p">,</span><span class="w"> </span><span class="n">생산성</span><span class="w"> </span><span class="n">낮음</span><span class="w">                    </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────┘</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">│</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">│</span><span class="w"> </span><span class="n">어셈블</span><span class="w">                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                   </span><span class="err">▼</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                    </span><span class="n">기계어</span><span class="w"> </span><span class="p">(</span><span class="n">Machine</span><span class="w"> </span><span class="n">Code</span><span class="p">)</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────┐</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">A1</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="n">MOV</span><span class="w"> </span><span class="n">EAX</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">0x1000</span><span class="o">]</span><span class="w">             </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">03</span><span class="w"> </span><span class="mi">05</span><span class="w"> </span><span class="mi">04</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="n">EAX</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">0x1004</span><span class="o">]</span><span class="w">             </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">A3</span><span class="w"> </span><span class="mi">08</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="n">MOV</span><span class="w"> </span><span class="o">[</span><span class="n">0x1008</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">EAX</span><span class="w">             </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                     </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">CPU가</span><span class="w"> </span><span class="n">직접</span><span class="w"> </span><span class="n">실행하는</span><span class="w"> </span><span class="n">이진</span><span class="w"> </span><span class="n">코드</span><span class="w">                      </span><span class="err">│</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────┘</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="12">1.2 어셈블리어의 기본 구조<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                       </span><span class="nt">어셈블리</span><span class="w"> </span><span class="nt">명령어</span><span class="w"> </span><span class="nt">형식</span><span class="w">                               </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="cp">[</span><span class="nx">레이블</span><span class="p">:</span><span class="cp">]</span><span class="w">  </span><span class="nt">명령어</span><span class="w">  </span><span class="cp">[</span><span class="nx">피연산자1</span><span class="w"> </span><span class="err">[</span><span class="p">,</span><span class="w"> </span><span class="nx">피연산자2</span><span class="w"> </span><span class="err">[</span><span class="p">,</span><span class="w"> </span><span class="nx">피연산자3</span><span class="cp">]</span><span class="o">]]</span><span class="w">  </span><span class="cp">[</span><span class="p">;</span><span class="w"> </span><span class="nx">주석</span><span class="cp">]</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">예시</span><span class="o">:</span><span class="w">                                                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="nt">loop</span><span class="o">:</span><span class="w">                  </span><span class="o">;</span><span class="w"> </span><span class="nt">레이블</span><span class="w"> </span><span class="o">(</span><span class="nt">점프</span><span class="w"> </span><span class="nt">대상</span><span class="o">)</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="nt">mov</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="nt">add</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">10</span><span class="w">       </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">10</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="nt">cmp</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">100</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">eax와</span><span class="w"> </span><span class="nt">100</span><span class="w"> </span><span class="nt">비교</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="nt">jl</span><span class="w">   </span><span class="nt">loop</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nt">100이면</span><span class="w"> </span><span class="nt">loop로</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="nt">end</span><span class="o">:</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">        </span><span class="nt">ret</span><span class="w">                </span><span class="o">;</span><span class="w"> </span><span class="nt">반환</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">구성</span><span class="w"> </span><span class="nt">요소</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌───────────┬─────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">레이블</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">메모리</span><span class="w"> </span><span class="nt">주소에</span><span class="w"> </span><span class="nt">이름</span><span class="w"> </span><span class="nt">부여</span><span class="w"> </span><span class="o">(</span><span class="nt">점프</span><span class="o">/</span><span class="nt">데이터</span><span class="w"> </span><span class="nt">참조용</span><span class="o">)</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├───────────┼─────────────────────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">명령어</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">CPU가</span><span class="w"> </span><span class="nt">수행할</span><span class="w"> </span><span class="nt">연산</span><span class="w"> </span><span class="o">(</span><span class="nt">MOV</span><span class="o">,</span><span class="w"> </span><span class="nt">ADD</span><span class="o">,</span><span class="w"> </span><span class="nt">JMP</span><span class="w"> </span><span class="nt">등</span><span class="o">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├───────────┼─────────────────────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">피연산자</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nt">연산</span><span class="w"> </span><span class="nt">대상</span><span class="w"> </span><span class="o">(</span><span class="nt">레지스터</span><span class="o">,</span><span class="w"> </span><span class="nt">메모리</span><span class="o">,</span><span class="w"> </span><span class="nt">즉시값</span><span class="o">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├───────────┼─────────────────────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">주석</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="nt">코드</span><span class="w"> </span><span class="nt">설명</span><span class="w"> </span><span class="o">(</span><span class="nt">실행에</span><span class="w"> </span><span class="nt">영향</span><span class="w"> </span><span class="nt">없음</span><span class="o">)</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└───────────┴─────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="13">1.3 어셈블러와 어셈블 과정<a class="header-link" href="#13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                        어셈블 과정                                       │
│                                                                         │
│    소스 파일 (.asm/.s)                                                  │
│         │                                                               │
│         ▼                                                               │
│    ┌─────────────┐                                                     │
│    │  어셈블러   │  NASM, GAS, MASM, ARMASM 등                         │
│    │ (Assembler) │                                                     │
│    └──────┬──────┘                                                     │
│           │                                                             │
│           ▼                                                             │
│    오브젝트 파일 (.o/.obj)                                              │
│         │                                                               │
│         ▼                                                               │
│    ┌─────────────┐                                                     │
│    │   링커     │  ld, link.exe 등                                     │
│    │  (Linker)  │                                                     │
│    └──────┬──────┘                                                     │
│           │                                                             │
│           ▼                                                             │
│    실행 파일 (.exe, ELF, Mach-O 등)                                    │
│                                                                         │
│    주요 어셈블러:                                                       │
│    ┌───────────────┬──────────────────────────────────────────────┐    │
│    │ NASM          │ Netwide Assembler (x86, 크로스 플랫폼)        │    │
│    │ GAS           │ GNU Assembler (AT&amp;T 문법)                    │    │
│    │ MASM          │ Microsoft Macro Assembler (Windows)          │    │
│    │ FASM          │ Flat Assembler (x86)                         │    │
│    │ ARMASM/as     │ ARM 어셈블러                                 │    │
│    └───────────────┴──────────────────────────────────────────────┘    │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="14">1.4 어셈블리 문법 스타일<a class="header-link" href="#14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                    </span><span class="n">Intel</span><span class="w"> </span><span class="n">문법</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="k">AT</span><span class="o">&amp;</span><span class="n">T</span><span class="w"> </span><span class="n">문법</span><span class="w">                               </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌──────────────────────────┬──────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">Intel</span><span class="w"> </span><span class="n">문법</span><span class="w">          </span><span class="err">│</span><span class="w">          </span><span class="k">AT</span><span class="o">&amp;</span><span class="n">T</span><span class="w"> </span><span class="n">문법</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="p">(</span><span class="n">NASM</span><span class="p">,</span><span class="w"> </span><span class="n">MASM</span><span class="p">)</span><span class="w">           </span><span class="err">│</span><span class="w">         </span><span class="p">(</span><span class="n">GAS</span><span class="p">,</span><span class="w"> </span><span class="n">GCC</span><span class="p">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────────────────────┼──────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="n">movl</span><span class="w"> </span><span class="err">$</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="n">eax</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="n">목적지</span><span class="p">,</span><span class="w"> </span><span class="n">소스</span><span class="p">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="n">소스</span><span class="p">,</span><span class="w"> </span><span class="n">목적지</span><span class="p">)</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────────────────────┼──────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="n">movl</span><span class="w"> </span><span class="o">%</span><span class="n">ebx</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="n">eax</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────────────────────┼──────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="n">movl</span><span class="w"> </span><span class="p">(</span><span class="o">%</span><span class="n">ebx</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">eax</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────────────────────┼──────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx+ecx*4+10</span><span class="o">]</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">movl</span><span class="w"> </span><span class="mi">10</span><span class="p">(</span><span class="o">%</span><span class="n">ebx</span><span class="p">,</span><span class="o">%</span><span class="n">ecx</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">eax</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├──────────────────────────┼──────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nl">즉시값</span><span class="p">:</span><span class="w"> </span><span class="n">숫자</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="nl">즉시값</span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="n">접두사</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nl">레지스터</span><span class="p">:</span><span class="w"> </span><span class="n">이름</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="nl">레지스터</span><span class="p">:</span><span class="w"> </span><span class="o">%</span><span class="n">접두사</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nl">크기</span><span class="p">:</span><span class="w"> </span><span class="n">명령어로</span><span class="w"> </span><span class="n">추론</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nl">크기</span><span class="p">:</span><span class="w"> </span><span class="n">접미사</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="o">/</span><span class="n">w</span><span class="o">/</span><span class="n">l</span><span class="o">/</span><span class="n">q</span><span class="p">)</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└──────────────────────────┴──────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="k">AT</span><span class="o">&amp;</span><span class="n">T</span><span class="w"> </span><span class="n">크기</span><span class="w"> </span><span class="nl">접미사</span><span class="p">:</span><span class="w">                                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">8</span><span class="n">비트</span><span class="w">                                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">16</span><span class="n">비트</span><span class="w">                                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="p">(</span><span class="n">long</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">32</span><span class="n">비트</span><span class="w">                                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="p">(</span><span class="n">quad</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="mi">64</span><span class="n">비트</span><span class="w">                                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">이</span><span class="w"> </span><span class="n">문서에서는</span><span class="w"> </span><span class="n">Intel</span><span class="w"> </span><span class="n">문법을</span><span class="w"> </span><span class="n">주로</span><span class="w"> </span><span class="n">사용합니다</span><span class="p">.</span><span class="w">                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="2-x86">2. x86 어셈블리 기초<a class="header-link" href="#2-x86" title="Permanent link">&para;</a></h2>
<h3 id="21-x86">2.1 x86 레지스터<a class="header-link" href="#21-x86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                        x86-64 레지스터                                   │
│                                                                         │
│    범용 레지스터 (64비트):                                              │
│    ┌─────────────────────────────────────────────────────────────────┐ │
│    │                                                                 │ │
│    │  64비트     32비트    16비트    8비트(H/L)    용도               │ │
│    │  ────────────────────────────────────────────────────────────   │ │
│    │  RAX        EAX       AX        AH/AL        누산기             │ │
│    │  RBX        EBX       BX        BH/BL        베이스             │ │
│    │  RCX        ECX       CX        CH/CL        카운터             │ │
│    │  RDX        EDX       DX        DH/DL        데이터             │ │
│    │  RSI        ESI       SI        SIL          소스 인덱스        │ │
│    │  RDI        EDI       DI        DIL          목적지 인덱스      │ │
│    │  RBP        EBP       BP        BPL          베이스 포인터      │ │
│    │  RSP        ESP       SP        SPL          스택 포인터        │ │
│    │  R8         R8D       R8W       R8B          범용 (x64 추가)   │ │
│    │  R9         R9D       R9W       R9B          범용 (x64 추가)   │ │
│    │  R10-R15    R10D-R15D R10W-R15W R10B-R15B   범용 (x64 추가)   │ │
│    │                                                                 │ │
│    └─────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│    레지스터 크기 관계:                                                  │
│    ┌─────────────────────────────────────────────────────────────────┐ │
│    │                                                                 │ │
│    │    63                              31              15    7    0 │ │
│    │    ├───────────────────────────────┼───────────────┼────┼─────┤ │ │
│    │    │              RAX              │               │    │     │ │ │
│    │    │                               │      EAX      │    │     │ │ │
│    │    │                               │               │ AX │     │ │ │
│    │    │                               │               │ AH │ AL  │ │ │
│    │    └───────────────────────────────┴───────────────┴────┴─────┘ │ │
│    │                                                                 │ │
│    └─────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│    특수 레지스터:                                                       │
│    ┌───────────┬─────────────────────────────────────────────────────┐ │
│    │ RIP       │ 명령어 포인터 (다음 명령어 주소)                     │ │
│    │ RFLAGS    │ 상태/조건 플래그                                    │ │
│    └───────────┴─────────────────────────────────────────────────────┘ │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="22">2.2 플래그 레지스터<a class="header-link" href="#22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│<span class="w">                         </span><span class="nv">RFLAGS</span><span class="w"> </span>레지스터<span class="w">                                  </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>주요<span class="w"> </span>상태<span class="w"> </span>플래그:<span class="w">                                                    </span>│
│<span class="w">    </span>┌────────┬────────────────────────────────────────────────────────┐<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span>플래그<span class="w"> </span>│<span class="w">                    </span>설명<span class="w">                                 </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">CF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Carry</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>부호<span class="w"> </span>없는<span class="w"> </span>연산에서<span class="w"> </span>올림<span class="o">/</span>내림<span class="w"> </span>발생<span class="w">          </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w">        </span>│<span class="w"> </span>예:<span class="w"> </span><span class="mi">255</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ss">(</span><span class="nv">CF</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span><span class="w">                                 </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">ZF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Zero</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>결과가<span class="w"> </span><span class="mi">0</span>이면<span class="w"> </span><span class="mi">1</span><span class="w">                              </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w">        </span>│<span class="w"> </span>예:<span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ss">(</span><span class="nv">ZF</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span><span class="w">                                   </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">SF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Sign</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>결과의<span class="w"> </span>최상위<span class="w"> </span>비트<span class="w"> </span><span class="ss">(</span>부호<span class="ss">)</span><span class="w">                   </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w">        </span>│<span class="w"> </span>예:<span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="ss">(</span><span class="nv">SF</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>,<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ss">(</span><span class="nv">SF</span><span class="o">=</span><span class="mi">0</span><span class="ss">)</span><span class="w">                                </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">OF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Overflow</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>부호<span class="w"> </span>있는<span class="w"> </span>연산에서<span class="w"> </span>오버플로우<span class="w">           </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w">        </span>│<span class="w"> </span>예:<span class="w"> </span><span class="mi">127</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">128</span><span class="w"> </span><span class="ss">(</span><span class="nv">OF</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span><span class="w">                              </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">PF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Parity</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>결과의<span class="w"> </span>하위<span class="w"> </span><span class="mi">8</span>비트에서<span class="w"> </span><span class="mi">1</span>의<span class="w"> </span>개수가<span class="w"> </span>짝수<span class="w">    </span>│<span class="w"> </span>│
│<span class="w">    </span>├────────┼────────────────────────────────────────────────────────┤<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">AF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Auxiliary</span><span class="w"> </span><span class="nv">Carry</span>:<span class="w"> </span><span class="nv">BCD</span><span class="w"> </span>연산용<span class="w">                            </span>│<span class="w"> </span>│
│<span class="w">    </span>└────────┴────────────────────────────────────────────────────────┘<span class="w"> </span>│
│<span class="w">                                                                         </span>│
│<span class="w">    </span>제어<span class="o">/</span>시스템<span class="w"> </span>플래그:<span class="w">                                                  </span>│
│<span class="w">    </span>┌────────┬────────────────────────────────────────────────────────┐<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">DF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Direction</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>문자열<span class="w"> </span>연산<span class="w"> </span>방향<span class="w"> </span><span class="ss">(</span><span class="mi">0</span><span class="o">=</span>증가,<span class="w"> </span><span class="mi">1</span><span class="o">=</span>감소<span class="ss">)</span><span class="w">      </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="k">IF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Interrupt</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>인터럽트<span class="w"> </span>허용<span class="w"> </span>여부<span class="w">                     </span>│<span class="w"> </span>│
│<span class="w">    </span>│<span class="w"> </span><span class="nv">TF</span><span class="w">     </span>│<span class="w"> </span><span class="nv">Trap</span><span class="w"> </span><span class="nv">Flag</span>:<span class="w"> </span>단일<span class="w"> </span>스텝<span class="w"> </span>디버깅<span class="w">                            </span>│<span class="w"> </span>│
│<span class="w">    </span>└────────┴────────────────────────────────────────────────────────┘<span class="w"> </span>│
│<span class="w">                                                                         </span>│
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="23-x86">2.3 x86 기본 명령어<a class="header-link" href="#23-x86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                        </span><span class="n">x86</span><span class="w"> </span><span class="n">기본</span><span class="w"> </span><span class="n">명령어</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">데이터</span><span class="w"> </span><span class="nl">이동</span><span class="p">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">dst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">src</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">(</span><span class="n">즉시값</span><span class="p">)</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ebx</span><span class="w"> </span><span class="p">(</span><span class="n">레지스터</span><span class="p">)</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">   </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="n">메모리</span><span class="p">)</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">   </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ebx</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">movzx</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">bl</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="n">비트</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="mi">32</span><span class="n">비트</span><span class="p">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">movsx</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">bl</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">확장</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">lea</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx+ecx*4</span><span class="o">]</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">주소</span><span class="w"> </span><span class="n">계산</span><span class="w"> </span><span class="n">결과를</span><span class="w"> </span><span class="n">eax에</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                         </span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="n">메모리</span><span class="w"> </span><span class="n">접근</span><span class="w"> </span><span class="n">없음</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">xchg</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">eax와</span><span class="w"> </span><span class="n">ebx</span><span class="w"> </span><span class="n">교환</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">스택</span><span class="w"> </span><span class="nl">연산</span><span class="p">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">push</span><span class="w"> </span><span class="n">eax</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">스택에</span><span class="w"> </span><span class="n">푸시</span><span class="w"> </span><span class="p">(</span><span class="n">ESP</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ESP</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eax</span><span class="p">)</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">pop</span><span class="w">  </span><span class="n">ebx</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">스택에서</span><span class="w"> </span><span class="n">팝</span><span class="w"> </span><span class="p">(</span><span class="n">ebx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">ESP</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">ESP</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">스택</span><span class="w"> </span><span class="n">구조</span><span class="w"> </span><span class="p">(</span><span class="n">x86</span><span class="p">)</span><span class="err">:</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">┌──────────────┐</span><span class="w"> </span><span class="n">높은</span><span class="w"> </span><span class="n">주소</span><span class="w">                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">     </span><span class="p">...</span><span class="w">      </span><span class="err">│</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">├──────────────┤</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="n">이전</span><span class="w"> </span><span class="n">값</span><span class="w">    </span><span class="err">│</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">├──────────────┤</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">  </span><span class="n">PUSH된</span><span class="w"> </span><span class="n">값</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">◄───</span><span class="w"> </span><span class="n">ESP</span><span class="w"> </span><span class="p">(</span><span class="n">스택</span><span class="w"> </span><span class="n">포인터</span><span class="p">)</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">├──────────────┤</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="p">(</span><span class="n">빈</span><span class="w"> </span><span class="n">공간</span><span class="p">)</span><span class="w">  </span><span class="err">│</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">└──────────────┘</span><span class="w"> </span><span class="n">낮은</span><span class="w"> </span><span class="n">주소</span><span class="w">                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="3-arm">3. ARM 어셈블리 기초<a class="header-link" href="#3-arm" title="Permanent link">&para;</a></h2>
<h3 id="31-arm">3.1 ARM 레지스터<a class="header-link" href="#31-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────────────┐
│                      ARM 레지스터 (AArch64)                              │
│                                                                         │
│    범용 레지스터:                                                       │
│    ┌─────────────────────────────────────────────────────────────────┐ │
│    │                                                                 │ │
│    │  64비트    32비트   용도                                        │ │
│    │  ─────────────────────────────────────────────────              │ │
│    │  X0-X7     W0-W7    인자 전달 / 반환값                          │ │
│    │  X8        W8       간접 결과 레지스터                          │ │
│    │  X9-X15    W9-W15   임시 (Caller-saved)                         │ │
│    │  X16-X17   W16-W17  인트라-프로시저 호출                        │ │
│    │  X18       W18      플랫폼 레지스터                             │ │
│    │  X19-X28   W19-W28  Callee-saved                                │ │
│    │  X29 (FP)  W29      프레임 포인터                               │ │
│    │  X30 (LR)  W30      링크 레지스터 (복귀 주소)                   │ │
│    │                                                                 │ │
│    └─────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│    특수 레지스터:                                                       │
│    ┌───────────┬─────────────────────────────────────────────────────┐ │
│    │ SP        │ 스택 포인터                                         │ │
│    │ PC        │ 프로그램 카운터 (직접 접근 제한)                    │ │
│    │ XZR/WZR   │ 제로 레지스터 (읽으면 0, 쓰면 버림)                 │ │
│    │ NZCV      │ 조건 플래그 (N, Z, C, V)                            │ │
│    └───────────┴─────────────────────────────────────────────────────┘ │
│                                                                         │
│    ARM32 (레거시) 레지스터:                                             │
│    ┌─────────────────────────────────────────────────────────────────┐ │
│    │  R0-R12   : 범용 레지스터                                       │ │
│    │  R13 (SP) : 스택 포인터                                         │ │
│    │  R14 (LR) : 링크 레지스터                                       │ │
│    │  R15 (PC) : 프로그램 카운터                                     │ │
│    │  CPSR     : 상태 레지스터                                       │ │
│    └─────────────────────────────────────────────────────────────────┘ │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="32-arm">3.2 ARM 조건 코드<a class="header-link" href="#32-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                         </span><span class="nt">ARM</span><span class="w"> </span><span class="nt">조건</span><span class="w"> </span><span class="nt">코드</span><span class="w">                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">ARM의</span><span class="w"> </span><span class="nt">대부분의</span><span class="w"> </span><span class="nt">명령어는</span><span class="w"> </span><span class="nt">조건부</span><span class="w"> </span><span class="nt">실행</span><span class="w"> </span><span class="nt">가능</span><span class="o">:</span><span class="w">                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌────────┬────────────────┬──────────────────────────────────────┐</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">접미사</span><span class="w"> </span><span class="err">│</span><span class="w">     </span><span class="nt">조건</span><span class="w">       </span><span class="err">│</span><span class="w">              </span><span class="nt">설명</span><span class="w">                     </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">├────────┼────────────────┼──────────────────────────────────────┤</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">EQ</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">Z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Equal</span><span class="w"> </span><span class="o">(</span><span class="nt">같음</span><span class="o">)</span><span class="w">                         </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">NE</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">Z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">0</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Not</span><span class="w"> </span><span class="nt">Equal</span><span class="w"> </span><span class="o">(</span><span class="nt">다름</span><span class="o">)</span><span class="w">                     </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">CS</span><span class="o">/</span><span class="nt">HS</span><span class="err">│</span><span class="w">   </span><span class="nt">C</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Carry</span><span class="w"> </span><span class="nt">Set</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">Unsigned</span><span class="w"> </span><span class="o">&gt;=</span><span class="w">              </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">CC</span><span class="o">/</span><span class="nt">LO</span><span class="err">│</span><span class="w">   </span><span class="nt">C</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">0</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Carry</span><span class="w"> </span><span class="nt">Clear</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">Unsigned</span><span class="w"> </span><span class="o">&lt;</span><span class="w">             </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">MI</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Minus</span><span class="w"> </span><span class="o">(</span><span class="nt">음수</span><span class="o">)</span><span class="w">                         </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">PL</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">0</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Plus</span><span class="w"> </span><span class="o">(</span><span class="nt">양수</span><span class="w"> </span><span class="nt">또는</span><span class="w"> </span><span class="nt">0</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">VS</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">V</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Overflow</span><span class="w">                             </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">VC</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">V</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">0</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">No</span><span class="w"> </span><span class="nt">Overflow</span><span class="w">                          </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">HI</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">C</span><span class="o">==</span><span class="nt">1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">Z</span><span class="o">==</span><span class="nt">0</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nt">Unsigned</span><span class="w"> </span><span class="o">&gt;</span><span class="w">                           </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">LS</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">C</span><span class="o">==</span><span class="nt">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nt">Z</span><span class="o">==</span><span class="nt">1</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nt">Unsigned</span><span class="w"> </span><span class="o">&lt;=</span><span class="w">                          </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">GE</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">V</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Signed</span><span class="w"> </span><span class="o">&gt;=</span><span class="w">                            </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">LT</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="nt">N</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nt">V</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Signed</span><span class="w"> </span><span class="o">&lt;</span><span class="w">                             </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">GT</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nt">N</span><span class="o">==</span><span class="nt">V</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">Z</span><span class="o">==</span><span class="nt">0</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">Signed</span><span class="w"> </span><span class="o">&gt;</span><span class="w">                             </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">LE</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="nt">N</span><span class="o">!=</span><span class="nt">V</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nt">Z</span><span class="o">==</span><span class="nt">1</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="nt">Signed</span><span class="w"> </span><span class="o">&lt;=</span><span class="w">                            </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="nt">AL</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="o">(</span><span class="nt">항상</span><span class="o">)</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="nt">Always</span><span class="w"> </span><span class="o">(</span><span class="nt">기본값</span><span class="o">)</span><span class="w">                      </span><span class="err">│</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└────────┴────────────────┴──────────────────────────────────────┘</span><span class="w">  </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">예시</span><span class="w"> </span><span class="o">(</span><span class="nt">ARM32</span><span class="o">):</span><span class="w">                                                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CMP</span><span class="w">   </span><span class="nt">R0</span><span class="o">,</span><span class="w"> </span><span class="nt">R1</span><span class="w">       </span><span class="o">;</span><span class="w"> </span><span class="nt">R0</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">R1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그</span><span class="w"> </span><span class="nt">설정</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADDEQ</span><span class="w"> </span><span class="nt">R2</span><span class="o">,</span><span class="w"> </span><span class="nt">R2</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">1</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">R0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nt">R1이면</span><span class="w"> </span><span class="nt">R2</span><span class="o">++</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SUBNE</span><span class="w"> </span><span class="nt">R2</span><span class="o">,</span><span class="w"> </span><span class="nt">R2</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">1</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">R0</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nt">R1이면</span><span class="w"> </span><span class="nt">R2--</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">if-else</span><span class="w"> </span><span class="nt">없이</span><span class="w"> </span><span class="nt">조건부</span><span class="w"> </span><span class="nt">실행</span><span class="o">!</span><span class="w">                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="33-arm">3.3 ARM 기본 명령어<a class="header-link" href="#33-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                       </span><span class="n">ARM</span><span class="w"> </span><span class="n">기본</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="p">(</span><span class="n">AArch64</span><span class="p">)</span><span class="w">                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">데이터</span><span class="w"> </span><span class="nl">이동</span><span class="p">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MOV</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="w">         </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X1</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MOV</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">#100</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">(</span><span class="n">즉시값</span><span class="p">)</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MVN</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="w">         </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">X1</span><span class="w"> </span><span class="p">(</span><span class="n">비트</span><span class="w"> </span><span class="n">반전</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">큰</span><span class="w"> </span><span class="n">즉시값</span><span class="w"> </span><span class="n">로드</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MOVZ</span><span class="w"> </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">#0x1234</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1234</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MOVK</span><span class="w"> </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">#0x5678</span><span class="p">,</span><span class="w"> </span><span class="n">LSL</span><span class="w"> </span><span class="n">#16</span><span class="w">         </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x56781234</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">PC</span><span class="o">-</span><span class="k">relative</span><span class="w"> </span><span class="n">로드</span><span class="w">                                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">ADR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">label의</span><span class="w"> </span><span class="n">주소</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">ADRP</span><span class="w"> </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">페이지</span><span class="w"> </span><span class="n">단위</span><span class="w"> </span><span class="n">주소</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">메모리</span><span class="w"> </span><span class="nl">접근</span><span class="p">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="k">Load</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, #8</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + 8</span><span class="o">]</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, X2</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + X2</span><span class="o">]</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, X2, LSL #3</span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + X2*8</span><span class="o">]</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">Store</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nf">STR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X0</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nf">STR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, #8</span><span class="o">]</span><span class="err">!</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">X1</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="p">(</span><span class="n">pre</span><span class="o">-</span><span class="k">index</span><span class="p">)</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nf">STR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">#8</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X0</span><span class="p">;</span><span class="w"> </span><span class="n">X1</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">(</span><span class="n">post</span><span class="o">-</span><span class="n">idx</span><span class="p">)</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">크기</span><span class="w"> </span><span class="n">지정</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRB</span><span class="w"> </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">바이트</span><span class="w"> </span><span class="n">로드</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRH</span><span class="w"> </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">하프워드</span><span class="w"> </span><span class="p">(</span><span class="mi">16</span><span class="n">비트</span><span class="p">)</span><span class="w"> </span><span class="n">로드</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRSW</span><span class="w"> </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="n">워드</span><span class="w"> </span><span class="n">로드</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">다중</span><span class="w"> </span><span class="n">레지스터</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDP</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X2</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">쌍</span><span class="w"> </span><span class="n">로드</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">STP</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X2</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">쌍</span><span class="w"> </span><span class="n">저장</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="4">4. 산술/논리 명령어<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41-x86">4.1 x86 산술/논리 명령어<a class="header-link" href="#41-x86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="nt">x86</span><span class="w"> </span><span class="nt">산술</span><span class="o">/</span><span class="nt">논리</span><span class="w"> </span><span class="nt">명령어</span><span class="w">                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">산술</span><span class="w"> </span><span class="nt">연산</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">덧셈</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">add</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">add</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">10</span><span class="w">         </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">10</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">adc</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">ebx</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">CF</span><span class="w"> </span><span class="o">(</span><span class="nt">캐리</span><span class="w"> </span><span class="nt">포함</span><span class="o">)</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">inc</span><span class="w">  </span><span class="nt">eax</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="o">++</span><span class="w"> </span><span class="o">(</span><span class="nt">CF</span><span class="w"> </span><span class="nt">변경</span><span class="w"> </span><span class="nt">안</span><span class="w"> </span><span class="nt">함</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">뺄셈</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">sub</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">sbb</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">ebx</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">CF</span><span class="w"> </span><span class="o">(</span><span class="nt">빌림</span><span class="w"> </span><span class="nt">포함</span><span class="o">)</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">dec</span><span class="w">  </span><span class="nt">eax</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">eax--</span><span class="w"> </span><span class="o">(</span><span class="nt">CF</span><span class="w"> </span><span class="nt">변경</span><span class="w"> </span><span class="nt">안</span><span class="w"> </span><span class="nt">함</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">neg</span><span class="w">  </span><span class="nt">eax</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">-eax</span><span class="w"> </span><span class="o">(</span><span class="nt">2의</span><span class="w"> </span><span class="nt">보수</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">곱셈</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">mul</span><span class="w">  </span><span class="nt">ebx</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">EDX</span><span class="p">:</span><span class="nd">EAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">EAX</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">EBX</span><span class="w"> </span><span class="o">(</span><span class="nt">부호</span><span class="w"> </span><span class="nt">없음</span><span class="o">)</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">imul</span><span class="w"> </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">EAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">EAX</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">EBX</span><span class="w"> </span><span class="o">(</span><span class="nt">부호</span><span class="w"> </span><span class="nt">있음</span><span class="o">)</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">imul</span><span class="w"> </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="o">,</span><span class="w"> </span><span class="nt">10</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">EAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">EBX</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">10</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">나눗셈</span><span class="w">                                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">div</span><span class="w">  </span><span class="nt">ebx</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">EAX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">EDX</span><span class="p">:</span><span class="nd">EAX</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">EBX</span><span class="o">,</span><span class="w"> </span><span class="nt">EDX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">나머지</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">idiv</span><span class="w"> </span><span class="nt">ebx</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">부호</span><span class="w"> </span><span class="nt">있는</span><span class="w"> </span><span class="nt">나눗셈</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">주의</span><span class="o">:</span><span class="w"> </span><span class="nt">div</span><span class="o">/</span><span class="nt">idiv</span><span class="w"> </span><span class="nt">전에</span><span class="w"> </span><span class="nt">EDX를</span><span class="w"> </span><span class="nt">설정해야</span><span class="w"> </span><span class="nt">함</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">cdq</span><span class="w">                  </span><span class="o">;</span><span class="w"> </span><span class="nt">EAX를</span><span class="w"> </span><span class="nt">EDX</span><span class="p">:</span><span class="nd">EAX로</span><span class="w"> </span><span class="nt">부호</span><span class="w"> </span><span class="nt">확장</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">논리</span><span class="w"> </span><span class="nt">연산</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">and</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">or</span><span class="w">   </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">xor</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nt">ebx</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">not</span><span class="w">  </span><span class="nt">eax</span><span class="w">             </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="nt">eax</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">test</span><span class="w"> </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">ebx</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">ebx</span><span class="w"> </span><span class="o">(</span><span class="nt">결과</span><span class="w"> </span><span class="nt">저장</span><span class="w"> </span><span class="nt">안</span><span class="w"> </span><span class="nt">함</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="o">)</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">XOR을</span><span class="w"> </span><span class="nt">이용한</span><span class="w"> </span><span class="nt">레지스터</span><span class="w"> </span><span class="nt">초기화</span><span class="w"> </span><span class="o">(</span><span class="nt">최적화</span><span class="o">)</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">xor</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">eax</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">0</span><span class="w"> </span><span class="o">(</span><span class="nt">mov</span><span class="w"> </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">0보다</span><span class="w"> </span><span class="nt">효율적</span><span class="o">)</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">시프트</span><span class="o">/</span><span class="nt">회전</span><span class="o">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">shl</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">2</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&lt;&lt;=</span><span class="w"> </span><span class="nt">2</span><span class="w"> </span><span class="o">(</span><span class="nt">왼쪽</span><span class="w"> </span><span class="nt">시프트</span><span class="o">,</span><span class="w"> </span><span class="o">*</span><span class="nt">4</span><span class="o">)</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">shr</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="o">(</span><span class="nt">오른쪽</span><span class="w"> </span><span class="nt">시프트</span><span class="o">,</span><span class="w"> </span><span class="nt">논리</span><span class="o">)</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">sar</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="nt">1</span><span class="w"> </span><span class="o">(</span><span class="nt">산술</span><span class="w"> </span><span class="nt">시프트</span><span class="o">,</span><span class="w"> </span><span class="nt">부호</span><span class="w"> </span><span class="nt">유지</span><span class="o">)</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">shl</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">cl</span><span class="w">         </span><span class="o">;</span><span class="w"> </span><span class="nt">CL</span><span class="w"> </span><span class="nt">레지스터</span><span class="w"> </span><span class="nt">값만큼</span><span class="w"> </span><span class="nt">시프트</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">rol</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">4</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">왼쪽으로</span><span class="w"> </span><span class="nt">4비트</span><span class="w"> </span><span class="nt">회전</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ror</span><span class="w">  </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">4</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">오른쪽으로</span><span class="w"> </span><span class="nt">4비트</span><span class="w"> </span><span class="nt">회전</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="42-arm">4.2 ARM 산술/논리 명령어<a class="header-link" href="#42-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="nt">ARM</span><span class="w"> </span><span class="nt">산술</span><span class="o">/</span><span class="nt">논리</span><span class="w"> </span><span class="nt">명령어</span><span class="w">                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">산술</span><span class="w"> </span><span class="nt">연산</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">3-주소</span><span class="w"> </span><span class="nt">형식</span><span class="o">:</span><span class="w"> </span><span class="nt">dst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">src1</span><span class="w"> </span><span class="nt">op</span><span class="w"> </span><span class="nt">src2</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADD</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADD</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">100</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">100</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADDS</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그</span><span class="w"> </span><span class="nt">갱신</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADC</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">X2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">Carry</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SUB</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SUBS</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그</span><span class="w"> </span><span class="nt">갱신</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SBC</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">X2</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="o">!</span><span class="nt">Carry</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">NEG</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">            </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">-X1</span><span class="w"> </span><span class="o">(=</span><span class="w"> </span><span class="nt">SUB</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">XZR</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">)</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">MUL</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">MADD</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">X3</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">(</span><span class="nt">X1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">X2</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">MSUB</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">X3</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X3</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="o">(</span><span class="nt">X1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">X2</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SDIV</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">X2</span><span class="w"> </span><span class="o">(</span><span class="nt">부호</span><span class="w"> </span><span class="nt">있음</span><span class="o">)</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">UDIV</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">X2</span><span class="w"> </span><span class="o">(</span><span class="nt">부호</span><span class="w"> </span><span class="nt">없음</span><span class="o">)</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">논리</span><span class="w"> </span><span class="nt">연산</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">AND</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ORR</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">EOR</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nt">X2</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">BIC</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="nt">X2</span><span class="w"> </span><span class="o">(</span><span class="nt">비트</span><span class="w"> </span><span class="nt">클리어</span><span class="o">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ORN</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">~</span><span class="nt">X2</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">TST</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">            </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="w"> </span><span class="nt">설정</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">시프트</span><span class="w"> </span><span class="nt">연산자</span><span class="w"> </span><span class="o">(</span><span class="nt">두</span><span class="w"> </span><span class="nt">번째</span><span class="w"> </span><span class="nt">피연산자에</span><span class="w"> </span><span class="nt">적용</span><span class="w"> </span><span class="nt">가능</span><span class="o">)</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ADD</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">LSL</span><span class="w"> </span><span class="p">#</span><span class="nn">2</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">(</span><span class="nt">X2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nt">2</span><span class="o">)</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">SUB</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">LSR</span><span class="w"> </span><span class="p">#</span><span class="nn">1</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="o">(</span><span class="nt">X2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">시프트</span><span class="o">/</span><span class="nt">회전</span><span class="o">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">LSL</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">4</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nt">4</span><span class="w"> </span><span class="o">(</span><span class="nt">논리</span><span class="w"> </span><span class="nt">왼쪽</span><span class="o">)</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">LSR</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">4</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nt">4</span><span class="w"> </span><span class="o">(</span><span class="nt">논리</span><span class="w"> </span><span class="nt">오른쪽</span><span class="o">)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ASR</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">4</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nt">4</span><span class="w"> </span><span class="o">(</span><span class="nt">산술</span><span class="w"> </span><span class="nt">오른쪽</span><span class="o">)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">ROR</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">4</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">오른쪽</span><span class="w"> </span><span class="nt">회전</span><span class="w">                           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">LSL</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nt">X2</span><span class="w"> </span><span class="o">(</span><span class="nt">레지스터</span><span class="w"> </span><span class="nt">값만큼</span><span class="o">)</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="5">5. 분기 명령어<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51-x86">5.1 x86 분기 명령어<a class="header-link" href="#51-x86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                        </span><span class="n">x86</span><span class="w"> </span><span class="n">분기</span><span class="w"> </span><span class="n">명령어</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">비교</span><span class="w"> </span><span class="nl">명령어</span><span class="p">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">cmp</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ebx</span><span class="p">,</span><span class="w"> </span><span class="n">결과</span><span class="w"> </span><span class="n">버리고</span><span class="w"> </span><span class="n">플래그만</span><span class="w"> </span><span class="n">설정</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">test</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ebx</span><span class="p">,</span><span class="w"> </span><span class="n">결과</span><span class="w"> </span><span class="n">버리고</span><span class="w"> </span><span class="n">플래그만</span><span class="w"> </span><span class="n">설정</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">예시</span><span class="p">:</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">cmp</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">eax가</span><span class="w"> </span><span class="mi">0</span><span class="n">인지</span><span class="w"> </span><span class="n">확인</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">test</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">eax</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">eax가</span><span class="w"> </span><span class="mi">0</span><span class="n">인지</span><span class="w"> </span><span class="n">확인</span><span class="w"> </span><span class="p">(</span><span class="n">더</span><span class="w"> </span><span class="n">효율적</span><span class="p">)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">조건</span><span class="w"> </span><span class="nl">점프</span><span class="p">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">없는</span><span class="w"> </span><span class="n">비교</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">je</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Equal</span><span class="w"> </span><span class="p">(</span><span class="n">ZF</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jne</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">Not</span><span class="w"> </span><span class="n">Equal</span><span class="w"> </span><span class="p">(</span><span class="n">ZF</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">ja</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Above</span><span class="w"> </span><span class="p">(</span><span class="n">CF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ZF</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jae</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Above</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Equal</span><span class="w"> </span><span class="p">(</span><span class="n">CF</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jb</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Below</span><span class="w"> </span><span class="p">(</span><span class="n">CF</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jbe</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Below</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Equal</span><span class="w"> </span><span class="p">(</span><span class="n">CF</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ZF</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">있는</span><span class="w"> </span><span class="n">비교</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jg</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Greater</span><span class="w"> </span><span class="p">(</span><span class="n">signed</span><span class="p">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jge</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Greater</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Equal</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jl</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">Less</span><span class="w">                            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jle</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">Less</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Equal</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">플래그</span><span class="w"> </span><span class="n">기반</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jz</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Zero</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">je</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jnz</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">Not</span><span class="w"> </span><span class="n">Zero</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">jne</span><span class="p">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">js</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nf">Sign</span><span class="w"> </span><span class="p">(</span><span class="n">SF</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">음수</span><span class="p">)</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jns</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">Not</span><span class="w"> </span><span class="nf">Sign</span><span class="w"> </span><span class="p">(</span><span class="n">SF</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jo</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Overflow</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jno</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">Overflow</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jc</span><span class="w">   </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">Carry</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">jb</span><span class="p">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jnc</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">Carry</span><span class="w"> </span><span class="p">(</span><span class="o">=</span><span class="w"> </span><span class="n">jae</span><span class="p">)</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">무조건</span><span class="w"> </span><span class="n">점프</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="nl">호출</span><span class="p">:</span><span class="w">                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jmp</span><span class="w">  </span><span class="n">label</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">무조건</span><span class="w"> </span><span class="n">점프</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jmp</span><span class="w">  </span><span class="n">eax</span><span class="w">             </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터에</span><span class="w"> </span><span class="n">저장된</span><span class="w"> </span><span class="n">주소로</span><span class="w"> </span><span class="n">점프</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">jmp</span><span class="w">  </span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">메모리에</span><span class="w"> </span><span class="n">저장된</span><span class="w"> </span><span class="n">주소로</span><span class="w"> </span><span class="n">점프</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">function</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">함수</span><span class="w"> </span><span class="n">호출</span><span class="w"> </span><span class="p">(</span><span class="n">복귀</span><span class="w"> </span><span class="n">주소</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">후</span><span class="w"> </span><span class="n">점프</span><span class="p">)</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">ret</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span><span class="n">반환</span><span class="w"> </span><span class="p">(</span><span class="n">스택에서</span><span class="w"> </span><span class="n">복귀</span><span class="w"> </span><span class="n">주소</span><span class="w"> </span><span class="n">pop</span><span class="p">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">ret</span><span class="w">  </span><span class="mi">8</span><span class="w">               </span><span class="p">;</span><span class="w"> </span><span class="n">반환</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">스택</span><span class="w"> </span><span class="n">정리</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="n">바이트</span><span class="w"> </span><span class="n">pop</span><span class="p">)</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="52-arm">5.2 ARM 분기 명령어<a class="header-link" href="#52-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                        </span><span class="nt">ARM</span><span class="w"> </span><span class="nt">분기</span><span class="w"> </span><span class="nt">명령어</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">비교</span><span class="w"> </span><span class="nt">명령어</span><span class="o">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CMP</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="w"> </span><span class="nt">설정</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CMP</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">100</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">100</span><span class="w">                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CMN</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="w"> </span><span class="nt">설정</span><span class="w"> </span><span class="o">(</span><span class="nt">Compare</span><span class="w"> </span><span class="nt">Neg</span><span class="o">.)</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">TST</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">TEQ</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">플래그만</span><span class="w"> </span><span class="o">(</span><span class="nt">같은지</span><span class="w"> </span><span class="nt">테스트</span><span class="o">)</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">조건</span><span class="w"> </span><span class="nt">분기</span><span class="w"> </span><span class="o">(</span><span class="nt">AArch64</span><span class="o">):</span><span class="w">                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">EQ</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Equal</span><span class="w"> </span><span class="o">(</span><span class="nt">Z</span><span class="o">=</span><span class="nt">1</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">NE</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Not</span><span class="w"> </span><span class="nt">Equal</span><span class="w"> </span><span class="o">(</span><span class="nt">Z</span><span class="o">=</span><span class="nt">0</span><span class="o">)</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">GT</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Greater</span><span class="w"> </span><span class="nt">Than</span><span class="w"> </span><span class="o">(</span><span class="nt">signed</span><span class="o">)</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">GE</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Greater</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">Equal</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">LT</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Less</span><span class="w"> </span><span class="nt">Than</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">LE</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Less</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">Equal</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">HI</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Higher</span><span class="w"> </span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="o">&gt;)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">HS</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Higher</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">Same</span><span class="w"> </span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="o">&gt;=)</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">LO</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Lower</span><span class="w"> </span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="o">&lt;)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">LS</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Lower</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">Same</span><span class="w"> </span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="o">&lt;=)</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">MI</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Minus</span><span class="w"> </span><span class="o">(</span><span class="nt">N</span><span class="o">=</span><span class="nt">1</span><span class="o">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">PL</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Plus</span><span class="w"> </span><span class="o">(</span><span class="nt">N</span><span class="o">=</span><span class="nt">0</span><span class="o">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">VS</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Overflow</span><span class="w"> </span><span class="nt">Set</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="p">.</span><span class="nc">VC</span><span class="w">  </span><span class="nt">label</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">Overflow</span><span class="w"> </span><span class="nt">Clear</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">무조건</span><span class="w"> </span><span class="nt">분기</span><span class="w"> </span><span class="nt">및</span><span class="w"> </span><span class="nt">호출</span><span class="o">:</span><span class="w">                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">B</span><span class="w">    </span><span class="nt">label</span><span class="w">           </span><span class="o">;</span><span class="w"> </span><span class="nt">무조건</span><span class="w"> </span><span class="nt">분기</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">BR</span><span class="w">   </span><span class="nt">X0</span><span class="w">              </span><span class="o">;</span><span class="w"> </span><span class="nt">레지스터로</span><span class="w"> </span><span class="nt">분기</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">BL</span><span class="w">   </span><span class="nt">function</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">Link</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                       </span><span class="o">;</span><span class="w"> </span><span class="nt">X30</span><span class="o">(</span><span class="nt">LR</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">복귀주소</span><span class="o">,</span><span class="w"> </span><span class="nt">PC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">function</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">BLR</span><span class="w">  </span><span class="nt">X0</span><span class="w">              </span><span class="o">;</span><span class="w"> </span><span class="nt">Branch</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">Link</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">Register</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">RET</span><span class="w">                  </span><span class="o">;</span><span class="w"> </span><span class="nt">Return</span><span class="w"> </span><span class="o">(=</span><span class="w"> </span><span class="nt">BR</span><span class="w"> </span><span class="nt">X30</span><span class="o">)</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">RET</span><span class="w">  </span><span class="nt">X1</span><span class="w">              </span><span class="o">;</span><span class="w"> </span><span class="nt">Return</span><span class="w"> </span><span class="o">(</span><span class="nt">X1의</span><span class="w"> </span><span class="nt">주소로</span><span class="o">)</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">조건</span><span class="w"> </span><span class="nt">선택</span><span class="w"> </span><span class="o">(</span><span class="nt">분기</span><span class="w"> </span><span class="nt">없이</span><span class="o">):</span><span class="w">                                               </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">조건부</span><span class="w"> </span><span class="nt">선택</span><span class="w"> </span><span class="o">(</span><span class="nt">분기</span><span class="w"> </span><span class="nt">페널티</span><span class="w"> </span><span class="nt">없음</span><span class="o">)</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CSEL</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">EQ</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nt">EQ</span><span class="o">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nt">X2</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CSINC</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">NE</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nt">NE</span><span class="o">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nt">X2</span><span class="o">+</span><span class="nt">1</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CSINV</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">LT</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nt">LT</span><span class="o">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">~</span><span class="nt">X2</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CSNEG</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="nt">X2</span><span class="o">,</span><span class="w"> </span><span class="nt">GE</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span><span class="nt">GE</span><span class="o">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nt">X1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nt">-X2</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">조건부</span><span class="w"> </span><span class="nt">비교</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">CCMP</span><span class="w">  </span><span class="nt">X0</span><span class="o">,</span><span class="w"> </span><span class="nt">X1</span><span class="o">,</span><span class="w"> </span><span class="p">#</span><span class="nn">0</span><span class="o">,</span><span class="w"> </span><span class="nt">EQ</span><span class="w">   </span><span class="o">;</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="o">(</span><span class="nt">EQ</span><span class="o">)</span><span class="w"> </span><span class="nt">then</span><span class="w"> </span><span class="nt">CMP</span><span class="w"> </span><span class="nt">X0</span><span class="o">,</span><span class="nt">X1</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="nt">flags</span><span class="o">=</span><span class="nt">0</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="53">5.3 분기 예제<a class="header-link" href="#53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                     </span><span class="k">if</span><span class="o">-</span><span class="k">else</span><span class="w"> </span><span class="n">구현</span><span class="w"> </span><span class="n">비교</span><span class="w">                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="nl">코드</span><span class="p">:</span><span class="w">                                                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">                                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">                                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span><span class="w">                                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">                                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">}</span><span class="w">                                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">x86</span><span class="w"> </span><span class="nl">어셈블리</span><span class="p">:</span><span class="w">                                                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">  </span><span class="n">ebx</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">b</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">ebx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">cmp</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">a와</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">비교</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">jle</span><span class="w">  </span><span class="n">else_part</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b이면</span><span class="w"> </span><span class="n">else로</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">  </span><span class="o">[</span><span class="n">c</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">eax</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">jmp</span><span class="w">  </span><span class="n">end_if</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">else_part</span><span class="p">:</span><span class="w">                                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">  </span><span class="o">[</span><span class="n">c</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">ebx</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">end_if</span><span class="p">:</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">ARM</span><span class="w"> </span><span class="n">어셈블리</span><span class="w"> </span><span class="p">(</span><span class="n">AArch64</span><span class="p">)</span><span class="err">:</span><span class="w">                                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X8</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">W0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">  </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X9</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">W1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CMP</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="n">W1</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">a와</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">비교</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CSEL</span><span class="w"> </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="n">GT</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">W2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">b</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nf">STR</span><span class="w">  </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X10</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W2</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">또는</span><span class="w"> </span><span class="n">조건부</span><span class="w"> </span><span class="n">분기</span><span class="w"> </span><span class="nl">사용</span><span class="p">:</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X8</span><span class="o">]</span><span class="w">                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">  </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X9</span><span class="o">]</span><span class="w">                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CMP</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="n">W1</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">B</span><span class="p">.</span><span class="n">LE</span><span class="w"> </span><span class="n">else_part</span><span class="w">                                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nf">STR</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X10</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">B</span><span class="w">    </span><span class="n">end_if</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">else_part</span><span class="p">:</span><span class="w">                                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nf">STR</span><span class="w">  </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X10</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">end_if</span><span class="p">:</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="6">6. 메모리 접근 명령어<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61-x86">6.1 x86 메모리 접근<a class="header-link" href="#61-x86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="n">x86</span><span class="w"> </span><span class="n">메모리</span><span class="w"> </span><span class="n">접근</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">주소</span><span class="w"> </span><span class="n">지정</span><span class="w"> </span><span class="nl">형식</span><span class="p">:</span><span class="w">                                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">[</span><span class="n">base + index * scale + displacement</span><span class="o">]</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nl">base</span><span class="p">:</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="p">(</span><span class="n">선택</span><span class="p">)</span><span class="w">                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="k">index</span><span class="err">:</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="p">(</span><span class="n">선택</span><span class="p">)</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nl">scale</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">(</span><span class="n">배율</span><span class="p">)</span><span class="w">                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nl">displacement</span><span class="p">:</span><span class="w"> </span><span class="n">상수</span><span class="w"> </span><span class="p">(</span><span class="n">선택</span><span class="p">)</span><span class="w">                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">메모리</span><span class="w"> </span><span class="n">접근</span><span class="w"> </span><span class="nl">예시</span><span class="p">:</span><span class="w">                                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">직접</span><span class="w"> </span><span class="n">주소</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">0x1000</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">0x1000</span><span class="o">]</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">간접</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">              </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">변위</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx + 8</span><span class="o">]</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">ebx + 8</span><span class="o">]</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">인덱스</span><span class="w">                                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx + ecx</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">ebx + ecx</span><span class="o">]</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">스케일</span><span class="w"> </span><span class="n">인덱스</span><span class="w"> </span><span class="p">(</span><span class="n">배열</span><span class="w"> </span><span class="n">접근에</span><span class="w"> </span><span class="n">유용</span><span class="p">)</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx + ecx*4</span><span class="o">]</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">배열</span><span class="p">)</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">전체</span><span class="w"> </span><span class="n">형식</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">ebx + ecx*4 + 100</span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">struct</span><span class="p">.</span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">크기</span><span class="w"> </span><span class="nl">지정</span><span class="p">:</span><span class="w">                                                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">byte</span><span class="w">  </span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="mh">0x41</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="mi">1</span><span class="n">바이트</span><span class="w"> </span><span class="n">저장</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">word</span><span class="w">  </span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4142</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="mi">2</span><span class="n">바이트</span><span class="w"> </span><span class="n">저장</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">dword</span><span class="w"> </span><span class="o">[</span><span class="n">eax</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="mh">0x41424344</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="mi">4</span><span class="n">바이트</span><span class="w"> </span><span class="n">저장</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">mov</span><span class="w">  </span><span class="n">qword</span><span class="w"> </span><span class="o">[</span><span class="n">rax</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">rbx</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="mi">8</span><span class="n">바이트</span><span class="w"> </span><span class="n">저장</span><span class="w"> </span><span class="p">(</span><span class="mi">64</span><span class="n">비트</span><span class="p">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">크기</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="n">로드</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">movzx</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="err">→</span><span class="mi">32</span><span class="n">비트</span><span class="p">)</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">movsx</span><span class="w"> </span><span class="n">eax</span><span class="p">,</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">[</span><span class="n">ebx</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">확장</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">문자열</span><span class="w"> </span><span class="nl">연산</span><span class="p">:</span><span class="w">                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">ESI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">소스</span><span class="p">,</span><span class="w"> </span><span class="n">EDI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">목적지</span><span class="p">,</span><span class="w"> </span><span class="n">ECX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">카운터</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">movsb</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="o">[</span><span class="n">EDI</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">ESI</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">ESI</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">EDI</span><span class="o">++</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">rep</span><span class="w"> </span><span class="n">movsb</span><span class="w">            </span><span class="p">;</span><span class="w"> </span><span class="n">ECX번</span><span class="w"> </span><span class="n">반복</span><span class="w"> </span><span class="p">(</span><span class="n">memcpy</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">cmpsb</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="o">[</span><span class="n">ESI</span><span class="o">]</span><span class="n">와</span><span class="w"> </span><span class="o">[</span><span class="n">EDI</span><span class="o">]</span><span class="w"> </span><span class="n">비교</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">scasb</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="n">AL과</span><span class="w"> </span><span class="o">[</span><span class="n">EDI</span><span class="o">]</span><span class="w"> </span><span class="n">비교</span><span class="w">                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">stosb</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="o">[</span><span class="n">EDI</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AL</span><span class="w"> </span><span class="p">(</span><span class="n">memset</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">lodsb</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="n">AL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">ESI</span><span class="o">]</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="62-arm">6.2 ARM 메모리 접근<a class="header-link" href="#62-arm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="n">ARM</span><span class="w"> </span><span class="n">메모리</span><span class="w"> </span><span class="n">접근</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">기본</span><span class="w"> </span><span class="k">Load</span><span class="o">/</span><span class="nl">Store</span><span class="p">:</span><span class="w">                                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="k">Load</span><span class="w">                                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">   </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="mi">64</span><span class="n">비트</span><span class="p">)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">   </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">W0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="mi">32</span><span class="n">비트</span><span class="p">)</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRH</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">W0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="mi">16</span><span class="n">비트</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="n">확장</span><span class="p">)</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRB</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">W0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="p">(</span><span class="mi">8</span><span class="n">비트</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="n">확장</span><span class="p">)</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRSH</span><span class="w"> </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="n">하프워드</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDRSB</span><span class="w"> </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">부호</span><span class="w"> </span><span class="n">확장</span><span class="w"> </span><span class="n">바이트</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">Store</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nf">STR</span><span class="w">   </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X0</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">STRH</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">하위</span><span class="w"> </span><span class="mi">16</span><span class="n">비트</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">STRB</span><span class="w">  </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">           </span><span class="p">;</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">하위</span><span class="w"> </span><span class="mi">8</span><span class="n">비트</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">주소</span><span class="w"> </span><span class="n">지정</span><span class="w"> </span><span class="nl">모드</span><span class="p">:</span><span class="w">                                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">오프셋</span><span class="w">                                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, #8</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + 8</span><span class="o">]</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, #-8</span><span class="o">]</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 - 8</span><span class="o">]</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">오프셋</span><span class="w">                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, X2</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + X2</span><span class="o">]</span><span class="w">                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, X2, LSL #3</span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1 + X2*8</span><span class="o">]</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">Pre</span><span class="o">-</span><span class="n">indexed</span><span class="w"> </span><span class="p">(</span><span class="n">계산</span><span class="w"> </span><span class="n">후</span><span class="w"> </span><span class="n">베이스</span><span class="w"> </span><span class="n">갱신</span><span class="p">)</span><span class="w">                            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1, #8</span><span class="o">]</span><span class="err">!</span><span class="w">       </span><span class="p">;</span><span class="w"> </span><span class="n">X1</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">Post</span><span class="o">-</span><span class="n">indexed</span><span class="w"> </span><span class="p">(</span><span class="n">접근</span><span class="w"> </span><span class="n">후</span><span class="w"> </span><span class="n">베이스</span><span class="w"> </span><span class="n">갱신</span><span class="p">)</span><span class="w">                           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">#8</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Memory</span><span class="o">[</span><span class="n">X1</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="n">X1</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">8</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">Literal</span><span class="w"> </span><span class="p">(</span><span class="n">PC</span><span class="o">-</span><span class="k">relative</span><span class="p">,</span><span class="w"> </span><span class="n">상수</span><span class="w"> </span><span class="n">로드에</span><span class="w"> </span><span class="n">유용</span><span class="p">)</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDR</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="o">=</span><span class="mh">0x12345678</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x12345678</span><span class="w"> </span><span class="p">(</span><span class="n">리터럴</span><span class="w"> </span><span class="n">풀</span><span class="w"> </span><span class="n">사용</span><span class="p">)</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">다중</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="k">Load</span><span class="o">/</span><span class="nl">Store</span><span class="p">:</span><span class="w">                                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">쌍</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDP</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X2</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">X0</span><span class="o">=</span><span class="n">Mem</span><span class="o">[</span><span class="n">X2</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="o">=</span><span class="n">Mem</span><span class="o">[</span><span class="n">X2+8</span><span class="o">]</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">STP</span><span class="w">  </span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">X1</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X2</span><span class="o">]</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">Mem</span><span class="o">[</span><span class="n">X2</span><span class="o">]=</span><span class="n">X0</span><span class="p">,</span><span class="w"> </span><span class="n">Mem</span><span class="o">[</span><span class="n">X2+8</span><span class="o">]=</span><span class="n">X1</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">스택</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">설정</span><span class="w"> </span><span class="p">(</span><span class="n">일반적인</span><span class="w"> </span><span class="n">패턴</span><span class="p">)</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">STP</span><span class="w">  </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">X30</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP, #-16</span><span class="o">]</span><span class="err">!</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">프레임</span><span class="o">/</span><span class="n">링크</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">저장</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">MOV</span><span class="w">  </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">SP</span><span class="w">                </span><span class="p">;</span><span class="w"> </span><span class="n">새</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">포인터</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">...</span><span class="w">                                                            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">LDP</span><span class="w">  </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">X30</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">#16</span><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="n">복원</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="n">RET</span><span class="w">                                                            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="7">7. 간단한 어셈블리 프로그램 예제<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71-hello-world-x86-64-linux">7.1 Hello World (x86-64 Linux)<a class="header-link" href="#71-hello-world-x86-64-linux" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                    </span><span class="nt">Hello</span><span class="w"> </span><span class="nt">World</span><span class="w"> </span><span class="o">(</span><span class="nt">x86-64</span><span class="w"> </span><span class="nt">Linux</span><span class="o">,</span><span class="w"> </span><span class="nt">NASM</span><span class="o">)</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">hello</span><span class="p">.</span><span class="nc">asm</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">section</span><span class="w"> </span><span class="p">.</span><span class="nc">data</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">msg</span><span class="w">     </span><span class="nt">db</span><span class="w">  </span><span class="s2">&quot;Hello, World!&quot;</span><span class="o">,</span><span class="w"> </span><span class="nt">10</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">문자열</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">개행</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">len</span><span class="w">     </span><span class="nt">equ</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">msg</span><span class="w">                 </span><span class="o">;</span><span class="w"> </span><span class="nt">문자열</span><span class="w"> </span><span class="nt">길이</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">section</span><span class="w"> </span><span class="p">.</span><span class="nc">text</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">global</span><span class="w"> </span><span class="nt">_start</span><span class="w">                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">_start</span><span class="o">:</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">write</span><span class="o">(</span><span class="nt">1</span><span class="o">,</span><span class="w"> </span><span class="nt">msg</span><span class="o">,</span><span class="w"> </span><span class="nt">len</span><span class="o">)</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">rax</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">syscall</span><span class="o">:</span><span class="w"> </span><span class="nt">write</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">rdi</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="w">          </span><span class="o">;</span><span class="w"> </span><span class="nt">fd</span><span class="o">:</span><span class="w"> </span><span class="nt">stdout</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">rsi</span><span class="o">,</span><span class="w"> </span><span class="nt">msg</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">버퍼</span><span class="w"> </span><span class="nt">주소</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">rdx</span><span class="o">,</span><span class="w"> </span><span class="nt">len</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">길이</span><span class="w">                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">syscall</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">exit</span><span class="o">(</span><span class="nt">0</span><span class="o">)</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">rax</span><span class="o">,</span><span class="w"> </span><span class="nt">60</span><span class="w">         </span><span class="o">;</span><span class="w"> </span><span class="nt">syscall</span><span class="o">:</span><span class="w"> </span><span class="nt">exit</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">xor</span><span class="w">     </span><span class="nt">rdi</span><span class="o">,</span><span class="w"> </span><span class="nt">rdi</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">종료</span><span class="w"> </span><span class="nt">코드</span><span class="o">:</span><span class="w"> </span><span class="nt">0</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">syscall</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">컴파일</span><span class="w"> </span><span class="nt">및</span><span class="w"> </span><span class="nt">실행</span><span class="o">:</span><span class="w">                                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="nt">nasm</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">elf64</span><span class="w"> </span><span class="nt">hello</span><span class="p">.</span><span class="nc">asm</span><span class="w"> </span><span class="nt">-o</span><span class="w"> </span><span class="nt">hello</span><span class="p">.</span><span class="nc">o</span><span class="w">                           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="nt">ld</span><span class="w"> </span><span class="nt">hello</span><span class="p">.</span><span class="nc">o</span><span class="w"> </span><span class="nt">-o</span><span class="w"> </span><span class="nt">hello</span><span class="w">                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="o">./</span><span class="nt">hello</span><span class="w">                                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">Hello</span><span class="o">,</span><span class="w"> </span><span class="nt">World</span><span class="o">!</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="72-x86-64">7.2 두 수의 합 (x86-64)<a class="header-link" href="#72-x86-64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="nt">두</span><span class="w"> </span><span class="nt">수의</span><span class="w"> </span><span class="nt">합</span><span class="w"> </span><span class="nt">계산</span><span class="w"> </span><span class="o">(</span><span class="nt">x86-64</span><span class="o">)</span><span class="w">                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">;</span><span class="w"> </span><span class="nt">sum</span><span class="p">.</span><span class="nc">asm</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="nt">C에서</span><span class="w"> </span><span class="nt">호출</span><span class="w"> </span><span class="nt">가능한</span><span class="w"> </span><span class="nt">함수</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">add</span><span class="o">(</span><span class="nt">int</span><span class="w"> </span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">b</span><span class="o">);</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w"> </span><span class="nt">x86-64</span><span class="w"> </span><span class="nt">호출</span><span class="w"> </span><span class="nt">규약</span><span class="o">:</span><span class="w"> </span><span class="nt">인자는</span><span class="w"> </span><span class="nt">RDI</span><span class="o">,</span><span class="w"> </span><span class="nt">RSI</span><span class="o">,</span><span class="w"> </span><span class="nt">RDX</span><span class="o">,</span><span class="w"> </span><span class="nt">RCX</span><span class="o">,</span><span class="w"> </span><span class="nt">R8</span><span class="o">,</span><span class="w"> </span><span class="nt">R9</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">;</span><span class="w">                  </span><span class="nt">반환값은</span><span class="w"> </span><span class="nt">RAX</span><span class="w">                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">section</span><span class="w"> </span><span class="p">.</span><span class="nc">text</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">global</span><span class="w"> </span><span class="nt">add</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">add</span><span class="o">:</span><span class="w">                                                           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="o">;</span><span class="w"> </span><span class="nt">프롤로그</span><span class="w"> </span><span class="o">(</span><span class="nt">간단한</span><span class="w"> </span><span class="nt">함수는</span><span class="w"> </span><span class="nt">생략</span><span class="w"> </span><span class="nt">가능</span><span class="o">)</span><span class="w">                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">mov</span><span class="w">     </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">edi</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">첫</span><span class="w"> </span><span class="nt">번째</span><span class="w"> </span><span class="nt">인자</span><span class="w"> </span><span class="o">(</span><span class="nt">a</span><span class="o">)</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">add</span><span class="w">     </span><span class="nt">eax</span><span class="o">,</span><span class="w"> </span><span class="nt">esi</span><span class="w">        </span><span class="o">;</span><span class="w"> </span><span class="nt">eax</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nt">두</span><span class="w"> </span><span class="nt">번째</span><span class="w"> </span><span class="nt">인자</span><span class="w"> </span><span class="o">(</span><span class="nt">b</span><span class="o">)</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nt">ret</span><span class="w">                     </span><span class="o">;</span><span class="w"> </span><span class="nt">결과는</span><span class="w"> </span><span class="nt">eax에</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">C에서</span><span class="w"> </span><span class="nt">호출</span><span class="o">:</span><span class="w">                                                          </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">main</span><span class="p">.</span><span class="nc">c</span><span class="w">                                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">extern</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">add</span><span class="o">(</span><span class="nt">int</span><span class="w"> </span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">b</span><span class="o">);</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">int</span><span class="w"> </span><span class="nt">main</span><span class="o">()</span><span class="w"> </span><span class="p">{</span><span class="w">                                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="err">int</span><span class="w"> </span><span class="err">result</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">add(10,</span><span class="w"> </span><span class="err">20)</span><span class="p">;</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="err">printf(&quot;10</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="err">20</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">%d\n&quot;,</span><span class="w"> </span><span class="err">result)</span><span class="p">;</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="err">return</span><span class="w"> </span><span class="err">0</span><span class="p">;</span><span class="w">                                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">}</span><span class="w">                                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="nt">컴파일</span><span class="o">:</span><span class="w">                                                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="nt">nasm</span><span class="w"> </span><span class="nt">-f</span><span class="w"> </span><span class="nt">elf64</span><span class="w"> </span><span class="nt">sum</span><span class="p">.</span><span class="nc">asm</span><span class="w"> </span><span class="nt">-o</span><span class="w"> </span><span class="nt">sum</span><span class="p">.</span><span class="nc">o</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="nt">gcc</span><span class="w"> </span><span class="nt">main</span><span class="p">.</span><span class="nc">c</span><span class="w"> </span><span class="nt">sum</span><span class="p">.</span><span class="nc">o</span><span class="w"> </span><span class="nt">-o</span><span class="w"> </span><span class="nt">program</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="o">./</span><span class="nt">program</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nt">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">20</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">30</span><span class="w">                                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="73-arm-aarch64">7.3 반복문 (ARM AArch64)<a class="header-link" href="#73-arm-aarch64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                       </span><span class="n">반복문</span><span class="w"> </span><span class="p">(</span><span class="n">ARM</span><span class="w"> </span><span class="n">AArch64</span><span class="p">)</span><span class="w">                               </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="nl">코드</span><span class="p">:</span><span class="w">                                                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">배열</span><span class="w"> </span><span class="n">합계</span><span class="w"> </span><span class="n">계산</span><span class="w">                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nc">int</span><span class="w"> </span><span class="n">sum_array</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="nc">int</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">          </span><span class="nf">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span><span class="w">                                         </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="err">}</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nf">sum</span><span class="p">;</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">}</span><span class="w">                                                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">ARM</span><span class="w"> </span><span class="nl">어셈블리</span><span class="p">:</span><span class="w">                                                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">X0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="p">(</span><span class="n">배열</span><span class="w"> </span><span class="n">포인터</span><span class="p">),</span><span class="w"> </span><span class="n">W1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">배열</span><span class="w"> </span><span class="n">크기</span><span class="p">)</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nl">반환</span><span class="p">:</span><span class="w"> </span><span class="n">W0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">합계</span><span class="w">                                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">sum_array</span><span class="p">:</span><span class="w">                                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">#0</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">W3</span><span class="p">,</span><span class="w"> </span><span class="n">#0</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">                            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CMP</span><span class="w">     </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="n">#0</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">체크</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">B</span><span class="p">.</span><span class="n">LE</span><span class="w">    </span><span class="n">done</span><span class="w">            </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="n">이면</span><span class="w"> </span><span class="n">종료</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">loop</span><span class="p">:</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">     </span><span class="n">W4</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X0, W3, SXTW #2</span><span class="o">]</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">W4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                     </span><span class="p">;</span><span class="w"> </span><span class="p">(</span><span class="n">i를</span><span class="w"> </span><span class="mi">4</span><span class="n">배하여</span><span class="w"> </span><span class="n">오프셋</span><span class="p">)</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="k">ADD</span><span class="w">     </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">W4</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="k">ADD</span><span class="w">     </span><span class="n">W3</span><span class="p">,</span><span class="w"> </span><span class="n">W3</span><span class="p">,</span><span class="w"> </span><span class="n">#1</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CMP</span><span class="w">     </span><span class="n">W3</span><span class="p">,</span><span class="w"> </span><span class="n">W1</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="vm">?</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">B</span><span class="p">.</span><span class="n">LT</span><span class="w">    </span><span class="n">loop</span><span class="w">            </span><span class="p">;</span><span class="w"> </span><span class="n">참이면</span><span class="w"> </span><span class="n">반복</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">done</span><span class="p">:</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="n">W2</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="n">반환값</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">RET</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">최적화</span><span class="w"> </span><span class="n">버전</span><span class="w"> </span><span class="p">(</span><span class="n">post</span><span class="o">-</span><span class="n">increment</span><span class="w"> </span><span class="n">사용</span><span class="p">)</span><span class="err">:</span><span class="w">                                   </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">sum_array_opt</span><span class="p">:</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">#0</span><span class="w">          </span><span class="p">;</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">CBZ</span><span class="w">     </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="n">done</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="n">이면</span><span class="w"> </span><span class="n">바로</span><span class="w"> </span><span class="n">종료</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">loop</span><span class="p">:</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDR</span><span class="w">     </span><span class="n">W3</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">X0</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">#4</span><span class="w">    </span><span class="p">;</span><span class="w"> </span><span class="n">W3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="o">++</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="k">ADD</span><span class="w">     </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">W2</span><span class="p">,</span><span class="w"> </span><span class="n">W3</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">SUBS</span><span class="w">    </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="n">W1</span><span class="p">,</span><span class="w"> </span><span class="n">#1</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="c1">-- (플래그 설정)                │ │</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">B</span><span class="p">.</span><span class="n">NE</span><span class="w">    </span><span class="n">loop</span><span class="w">            </span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="n">이면</span><span class="w"> </span><span class="n">반복</span><span class="w">                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">done</span><span class="p">:</span><span class="w">                                                          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">W0</span><span class="p">,</span><span class="w"> </span><span class="n">W2</span><span class="w">                                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">RET</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="74">7.4 함수 호출과 스택 프레임<a class="header-link" href="#74" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                      </span><span class="n">함수</span><span class="w"> </span><span class="n">호출과</span><span class="w"> </span><span class="n">스택</span><span class="w"> </span><span class="n">프레임</span><span class="w">                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">x86</span><span class="o">-</span><span class="mi">64</span><span class="w"> </span><span class="n">스택</span><span class="w"> </span><span class="nl">프레임</span><span class="p">:</span><span class="w">                                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="n">높은</span><span class="w"> </span><span class="n">주소</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────┐</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">이전</span><span class="w"> </span><span class="n">프레임</span><span class="w">       </span><span class="err">│</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="mi">7</span><span class="n">번째</span><span class="o">+</span><span class="w"> </span><span class="n">인자</span><span class="w">       </span><span class="err">│</span><span class="w">  </span><span class="p">(</span><span class="n">스택으로</span><span class="w"> </span><span class="n">전달</span><span class="p">)</span><span class="w">                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">반환</span><span class="w"> </span><span class="n">주소</span><span class="w">         </span><span class="err">│</span><span class="w">  </span><span class="err">◄───</span><span class="w"> </span><span class="n">CALL에</span><span class="w"> </span><span class="n">의해</span><span class="w"> </span><span class="n">push</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">저장된</span><span class="w"> </span><span class="n">RBP</span><span class="w">        </span><span class="err">│</span><span class="w">  </span><span class="err">◄───</span><span class="w"> </span><span class="n">이전</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">포인터</span><span class="w">             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w"> </span><span class="err">◄───</span><span class="w"> </span><span class="n">RBP</span><span class="w"> </span><span class="p">(</span><span class="n">현재</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">시작</span><span class="p">)</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">지역</span><span class="w"> </span><span class="n">변수</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">지역</span><span class="w"> </span><span class="n">변수</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="n">저장된</span><span class="w"> </span><span class="n">레지스터</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="p">(</span><span class="n">callee</span><span class="o">-</span><span class="n">saved</span><span class="p">)</span><span class="w">                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">├─────────────────────┤</span><span class="w"> </span><span class="err">◄───</span><span class="w"> </span><span class="n">RSP</span><span class="w"> </span><span class="p">(</span><span class="n">스택</span><span class="w"> </span><span class="n">탑</span><span class="p">)</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                     </span><span class="err">│</span><span class="w">                                      </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">    </span><span class="n">낮은</span><span class="w"> </span><span class="n">주소</span><span class="w">                                                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">함수</span><span class="w"> </span><span class="n">프롤로그</span><span class="o">/</span><span class="n">에필로그</span><span class="w"> </span><span class="p">(</span><span class="n">x86</span><span class="o">-</span><span class="mi">64</span><span class="p">)</span><span class="err">:</span><span class="w">                                     </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">my_function</span><span class="p">:</span><span class="w">                                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">프롤로그</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">push</span><span class="w">    </span><span class="n">rbp</span><span class="w">             </span><span class="p">;</span><span class="w"> </span><span class="n">이전</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">포인터</span><span class="w"> </span><span class="n">저장</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">     </span><span class="n">rbp</span><span class="p">,</span><span class="w"> </span><span class="n">rsp</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">새</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">설정</span><span class="w">                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">sub</span><span class="w">     </span><span class="n">rsp</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="w">         </span><span class="p">;</span><span class="w"> </span><span class="n">지역</span><span class="w"> </span><span class="n">변수</span><span class="w"> </span><span class="n">공간</span><span class="w"> </span><span class="n">할당</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">push</span><span class="w">    </span><span class="n">rbx</span><span class="w">             </span><span class="p">;</span><span class="w"> </span><span class="n">callee</span><span class="o">-</span><span class="n">saved</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">저장</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">함수</span><span class="w"> </span><span class="n">본문</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">...</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">에필로그</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">pop</span><span class="w">     </span><span class="n">rbx</span><span class="w">             </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">복원</span><span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">mov</span><span class="w">     </span><span class="n">rsp</span><span class="p">,</span><span class="w"> </span><span class="n">rbp</span><span class="w">        </span><span class="p">;</span><span class="w"> </span><span class="n">스택</span><span class="w"> </span><span class="n">정리</span><span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">pop</span><span class="w">     </span><span class="n">rbp</span><span class="w">             </span><span class="p">;</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">포인터</span><span class="w"> </span><span class="n">복원</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">ret</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">또는</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">명령어</span><span class="w"> </span><span class="n">사용</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">leave</span><span class="w">                   </span><span class="p">;</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="n">rsp</span><span class="p">,</span><span class="w"> </span><span class="n">rbp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pop</span><span class="w"> </span><span class="n">rbp</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">ret</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="n">ARM</span><span class="w"> </span><span class="n">AArch64</span><span class="w"> </span><span class="nl">함수</span><span class="p">:</span><span class="w">                                                    </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">┌─────────────────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="nl">my_function</span><span class="p">:</span><span class="w">                                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">프롤로그</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">STP</span><span class="w">     </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">X30</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP, #-32</span><span class="o">]</span><span class="err">!</span><span class="w">  </span><span class="p">;</span><span class="w"> </span><span class="n">FP</span><span class="p">,</span><span class="w"> </span><span class="n">LR</span><span class="w"> </span><span class="n">저장</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">MOV</span><span class="w">     </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">SP</span><span class="w">                 </span><span class="p">;</span><span class="w"> </span><span class="n">새</span><span class="w"> </span><span class="n">프레임</span><span class="w"> </span><span class="n">설정</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">STP</span><span class="w">     </span><span class="n">X19</span><span class="p">,</span><span class="w"> </span><span class="n">X20</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP, #16</span><span class="o">]</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">callee</span><span class="o">-</span><span class="n">saved</span><span class="w"> </span><span class="n">저장</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">함수</span><span class="w"> </span><span class="n">본문</span><span class="w">                                                </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">...</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="p">;</span><span class="w"> </span><span class="n">에필로그</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDP</span><span class="w">     </span><span class="n">X19</span><span class="p">,</span><span class="w"> </span><span class="n">X20</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP, #16</span><span class="o">]</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">레지스터</span><span class="w"> </span><span class="n">복원</span><span class="w">            </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">LDP</span><span class="w">     </span><span class="n">X29</span><span class="p">,</span><span class="w"> </span><span class="n">X30</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">SP</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">#32</span><span class="w">     </span><span class="p">;</span><span class="w"> </span><span class="n">FP</span><span class="p">,</span><span class="w"> </span><span class="n">LR</span><span class="w"> </span><span class="n">복원</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">│</span><span class="w">      </span><span class="n">RET</span><span class="w">                                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="err">└─────────────────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="8">8. 연습 문제<a class="header-link" href="#8" title="Permanent link">&para;</a></h2>
<h3 id="_4">기초 문제<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>어셈블리 언어와 기계어의 관계를 설명하시오.</p>
</li>
<li>
<p>x86에서 다음 레지스터의 용도를 설명하시오:</p>
</li>
<li>(a) EAX</li>
<li>(b) ESP</li>
<li>
<p>(c) EIP/RIP</p>
</li>
<li>
<p>Intel 문법과 AT&amp;T 문법의 주요 차이점 2가지를 쓰시오.</p>
</li>
</ol>
<h3 id="x86">x86 어셈블리 문제<a class="header-link" href="#x86" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>다음 x86 어셈블리 코드의 실행 후 EAX의 값은?
   <code>asm
   mov  eax, 10
   mov  ebx, 5
   add  eax, ebx
   shl  eax, 1</code></p>
</li>
<li>
<p>다음 C 코드를 x86-64 어셈블리로 변환하시오:
   <code>c
   int abs(int x) {
       if (x &lt; 0)
           return -x;
       return x;
   }</code></p>
</li>
</ol>
<h3 id="arm">ARM 어셈블리 문제<a class="header-link" href="#arm" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>ARM에서 조건부 실행의 장점을 설명하시오.</p>
</li>
<li>
<p>다음 ARM 코드의 실행 후 X0의 값은?
   <code>asm
   MOV  X0, #10
   MOV  X1, #3
   MUL  X0, X0, X1
   SUB  X0, X0, #5</code></p>
</li>
</ol>
<h3 id="_5">메모리 접근 문제<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>x86에서 <code>[EBX + ECX*4 + 100]</code> 주소 지정의 각 요소가 의미하는 것을 설명하시오.</p>
</li>
<li>
<p>ARM의 pre-indexed와 post-indexed 주소 지정의 차이를 예시와 함께 설명하시오.</p>
</li>
</ol>
<h3 id="_6">심화 문제<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<ol>
<li>다음 C 코드를 x86-64 또는 ARM AArch64 어셈블리로 변환하시오:
    <code>c
    int factorial(int n) {
        int result = 1;
        for (int i = 2; i &lt;= n; i++) {
            result *= i;
        }
        return result;
    }</code></li>
</ol>
<details>
<summary>정답</summary>

1. 어셈블리 언어는 기계어(0과 1)를 사람이 읽을 수 있는 니모닉(ADD, MOV 등)으로 표현한 것입니다. 어셈블러가 어셈블리 코드를 기계어로 1:1 변환합니다.

2. 레지스터 용도:
   - (a) EAX: 누산기, 산술 연산 결과 저장, 함수 반환값
   - (b) ESP: 스택 포인터, 스택의 최상단 주소
   - (c) EIP/RIP: 명령어 포인터, 다음 실행할 명령어의 주소

3. Intel vs AT&T:
   - 피연산자 순서: Intel은 (dst, src), AT&T는 (src, dst)
   - 접두사: Intel은 없음, AT&T는 레지스터에 %, 즉시값에 $

4. 코드 실행 결과:
   - mov eax, 10 → eax = 10
   - add eax, ebx → eax = 15
   - shl eax, 1 → eax = 30

5. abs 함수 (x86-64):
   ```asm
   abs:
       mov  eax, edi       ; eax = x
       test eax, eax       ; x 부호 확인
       jns  positive       ; x >= 0이면 점프
       neg  eax            ; x = -x
   positive:
       ret
   ```

6. ARM 조건부 실행 장점:
   - 짧은 분기 시 파이프라인 플러시 방지
   - 코드 크기 감소
   - 분기 예측 실패 페널티 없음

7. ARM 코드 결과:
   - MOV X0, #10 → X0 = 10
   - MUL X0, X0, X1 → X0 = 30
   - SUB X0, X0, #5 → X0 = 25

8. x86 주소 지정 요소:
   - EBX: 베이스 레지스터 (배열 시작 주소)
   - ECX: 인덱스 레지스터 (배열 인덱스)
   - 4: 스케일 (요소 크기, int = 4바이트)
   - 100: 변위 (구조체 내 오프셋)

9. ARM 인덱싱:
   - Pre-indexed `LDR X0, [X1, #8]!`: X1 += 8 후 로드
   - Post-indexed `LDR X0, [X1], #8`: 로드 후 X1 += 8

10. factorial (x86-64):
    ```asm
    factorial:
        mov  eax, 1         ; result = 1
        cmp  edi, 1
        jle  done           ; n <= 1이면 종료
        mov  ecx, 2         ; i = 2
    loop:
        imul eax, ecx       ; result *= i
        inc  ecx            ; i++
        cmp  ecx, edi
        jle  loop           ; i <= n이면 반복
    done:
        ret
    ```

</details>

<hr />
<h2 id="_7">다음 단계<a class="header-link" href="#_7" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./11_Pipelining.md">11_Pipelining.md</a> - 파이프라인 단계, 해저드, 포워딩</li>
</ul>
<hr />
<h2 id="_8">참고 자료<a class="header-link" href="#_8" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.felixcloutier.com/x86/">x86 Instruction Set Reference</a></li>
<li><a href="https://developer.arm.com/documentation">ARM Developer Documentation</a></li>
<li><a href="https://www.nasm.us/doc/">NASM Documentation</a></li>
<li><a href="https://godbolt.org/">Godbolt Compiler Explorer</a> - 다양한 아키텍처 어셈블리 확인</li>
<li>Computer Organization and Design (Patterson &amp; Hennessy)</li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Architecture/09_Instruction_Set_Architecture.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">명령어 집합 아키텍처 (ISA)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Architecture/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Architecture/11_Pipelining.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">파이프라이닝 (Pipelining)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}