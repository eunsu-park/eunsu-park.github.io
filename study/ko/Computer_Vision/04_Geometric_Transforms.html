{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸°í•˜í•™ì  ë³€í™˜ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Computer_Vision/">Computer Vision</a>
    <span class="separator">/</span>
    <span class="current">ê¸°í•˜í•™ì  ë³€í™˜</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ê¸°í•˜í•™ì  ë³€í™˜</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Vision/03_Color_Spaces.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ìƒ‰ìƒ ê³µê°„</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Vision/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Vision/05_Image_Filtering.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ì´ë¯¸ì§€ í•„í„°ë§</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">ê°œìš”</a></li>
<li><a href="#_3">ëª©ì°¨</a></li>
<li><a href="#1-resize">1. ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ - resize()</a><ul>
<li><a href="#_4">ê¸°ë³¸ ì‚¬ìš©ë²•</a></li>
<li><a href="#interpolation-methods">ë³´ê°„ë²• (Interpolation Methods)</a></li>
<li><a href="#_5">ë³´ê°„ë²• ë¹„êµ ì˜ˆì œ</a></li>
<li><a href="#_6">ë¹„ìœ¨ ìœ ì§€ ë¦¬ì‚¬ì´ì¦ˆ í•¨ìˆ˜</a></li>
</ul>
</li>
<li><a href="#2-flip-rotate">2. ë’¤ì§‘ê¸°ì™€ íšŒì „ - flip(), rotate()</a><ul>
<li><a href="#cv2flip">cv2.flip()</a></li>
<li><a href="#cv2rotate">cv2.rotate()</a></li>
<li><a href="#_7">ì„ì˜ ê°ë„ íšŒì „</a></li>
</ul>
</li>
<li><a href="#3-warpaffine">3. ì–´íŒŒì¸ ë³€í™˜ - warpAffine()</a><ul>
<li><a href="#_8">ì–´íŒŒì¸ ë³€í™˜ì´ë€?</a></li>
<li><a href="#translation">ì´ë™ (Translation)</a></li>
<li><a href="#_9">íšŒì „ + ìŠ¤ì¼€ì¼</a></li>
<li><a href="#shear">ì „ë‹¨ ë³€í™˜ (Shear)</a></li>
<li><a href="#3">3ì ì„ ì´ìš©í•œ ì–´íŒŒì¸ ë³€í™˜</a></li>
</ul>
</li>
<li><a href="#4-warpperspective">4. ì›ê·¼ ë³€í™˜ - warpPerspective()</a><ul>
<li><a href="#_10">ì›ê·¼ ë³€í™˜ì´ë€?</a></li>
<li><a href="#4">4ì ì„ ì´ìš©í•œ ì›ê·¼ ë³€í™˜</a></li>
<li><a href="#birds-eye-view">Bird's Eye View (ì¡°ê°ë„)</a></li>
</ul>
</li>
<li><a href="#5">5. ë¬¸ì„œ êµì • ì˜ˆì œ</a><ul>
<li><a href="#_11">ìë™ ë¬¸ì„œ ìŠ¤ìº” íŒŒì´í”„ë¼ì¸</a></li>
<li><a href="#_12">êµ¬í˜„ ì½”ë“œ</a></li>
<li><a href="#4_1">ìˆ˜ë™ 4ì  ì„ íƒ (ë§ˆìš°ìŠ¤ í´ë¦­)</a></li>
</ul>
</li>
<li><a href="#6">6. ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1">ì—°ìŠµ 1: ë°°ì¹˜ ë¦¬ì‚¬ì´ì¦ˆ</a></li>
<li><a href="#2">ì—°ìŠµ 2: ì´ë¯¸ì§€ íšŒì „ ì• ë‹ˆë©”ì´ì…˜</a></li>
<li><a href="#3_1">ì—°ìŠµ 3: ì‹ ë¶„ì¦ ìŠ¤ìºë„ˆ</a></li>
<li><a href="#4_2">ì—°ìŠµ 4: ì´ë¯¸ì§€ ëª¨ìì´í¬</a></li>
<li><a href="#5-ar">ì—°ìŠµ 5: AR ì¹´ë“œ íš¨ê³¼</a></li>
</ul>
</li>
<li><a href="#7">7. ë‹¤ìŒ ë‹¨ê³„</a></li>
<li><a href="#8">8. ì°¸ê³  ìë£Œ</a><ul>
<li><a href="#_13">ê³µì‹ ë¬¸ì„œ</a></li>
<li><a href="#_14">ê´€ë ¨ í•™ìŠµ ìë£Œ</a></li>
<li><a href="#_15">ì¶”ê°€ ì°¸ê³ </a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">ê¸°í•˜í•™ì  ë³€í™˜<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">ê°œìš”<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>ê¸°í•˜í•™ì  ë³€í™˜(Geometric Transformation)ì€ ì´ë¯¸ì§€ì˜ ê³µê°„ì  ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤. í¬ê¸° ì¡°ì ˆ, íšŒì „, ì´ë™, ë’¤ì§‘ê¸°, ì›ê·¼ ë³€í™˜ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” OpenCVì˜ ê¸°í•˜í•™ì  ë³€í™˜ í•¨ìˆ˜ë“¤ê³¼ ì‹¤ì œ í™œìš© ì˜ˆì œë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.</p>
<p><strong>ë‚œì´ë„</strong>: â­â­ (ì´ˆê¸‰-ì¤‘ê¸‰)</p>
<p><strong>í•™ìŠµ ëª©í‘œ</strong>:
- <code>cv2.resize()</code>ì™€ ë³´ê°„ë²•(interpolation) ì´í•´
- íšŒì „, ë’¤ì§‘ê¸° í•¨ìˆ˜ ì‚¬ìš©
- ì–´íŒŒì¸ ë³€í™˜ (warpAffine) í™œìš©
- ì›ê·¼ ë³€í™˜ (warpPerspective) í™œìš©
- ë¬¸ì„œ ìŠ¤ìº”/êµì • ì˜ˆì œ êµ¬í˜„</p>
<hr />
<h2 id="_3">ëª©ì°¨<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-ì´ë¯¸ì§€-í¬ê¸°-ì¡°ì ˆ---resize">ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ - resize()</a></li>
<li><a href="#2-ë’¤ì§‘ê¸°ì™€-íšŒì „---flip-rotate">ë’¤ì§‘ê¸°ì™€ íšŒì „ - flip(), rotate()</a></li>
<li><a href="#3-ì–´íŒŒì¸-ë³€í™˜---warpaffine">ì–´íŒŒì¸ ë³€í™˜ - warpAffine()</a></li>
<li><a href="#4-ì›ê·¼-ë³€í™˜---warpperspective">ì›ê·¼ ë³€í™˜ - warpPerspective()</a></li>
<li><a href="#5-ë¬¸ì„œ-êµì •-ì˜ˆì œ">ë¬¸ì„œ êµì • ì˜ˆì œ</a></li>
<li><a href="#6-ì—°ìŠµ-ë¬¸ì œ">ì—°ìŠµ ë¬¸ì œ</a></li>
<li><a href="#7-ë‹¤ìŒ-ë‹¨ê³„">ë‹¤ìŒ ë‹¨ê³„</a></li>
<li><a href="#8-ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ</a></li>
</ol>
<hr />
<h2 id="1-resize">1. ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ - resize()<a class="header-link" href="#1-resize" title="Permanent link">&para;</a></h2>
<h3 id="_4">ê¸°ë³¸ ì‚¬ìš©ë²•<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ë°©ë²• 1: ì§ì ‘ í¬ê¸° ì§€ì • (width, height ìˆœì„œ!)</span>
<span class="n">resized</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="c1"># ë°©ë²• 2: ë¹„ìœ¨ë¡œ ì§€ì •</span>
<span class="n">resized</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># 50%ë¡œ ì¶•ì†Œ</span>

<span class="c1"># ë°©ë²• 3: í•œ ìª½ ê¸°ì¤€ìœ¼ë¡œ ë¹„ìœ¨ ìœ ì§€</span>
<span class="n">new_width</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">ratio</span> <span class="o">=</span> <span class="n">new_width</span> <span class="o">/</span> <span class="n">w</span>
<span class="n">new_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">)</span>
<span class="n">resized</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">new_width</span><span class="p">,</span> <span class="n">new_height</span><span class="p">))</span>
</code></pre></div>

<h3 id="interpolation-methods">ë³´ê°„ë²• (Interpolation Methods)<a class="header-link" href="#interpolation-methods" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ë³´ê°„ë²• ë¹„êµ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ë³´ê°„ë²•                   íŠ¹ì§•                   ì‚¬ìš© ìƒí™©      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚   INTER_NEAREST           ìµœê·¼ì ‘ ì´ì›ƒ            ë¹ ë¦„, ì €í’ˆì§ˆ   â”‚
â”‚   (ìµœê·¼ì ‘ ë³´ê°„)            ë¸”ë¡ í˜„ìƒ ë°œìƒ         ì‹¤ì‹œê°„ ì²˜ë¦¬    â”‚
â”‚                                                                â”‚
â”‚   INTER_LINEAR            ì„ í˜• ë³´ê°„ (ê¸°ë³¸ê°’)     ê· í˜• ì¡íŒ ì„ íƒ â”‚
â”‚   (ì–‘ì„ í˜• ë³´ê°„)            ë¶€ë“œëŸ¬ìš´ ê²°ê³¼          ì¼ë°˜ì  ë¦¬ì‚¬ì´ì¦ˆâ”‚
â”‚                                                                â”‚
â”‚   INTER_AREA              ì˜ì—­ ë³´ê°„              ì¶•ì†Œì— ìµœì    â”‚
â”‚   (ì˜ì—­ ê¸°ë°˜)              ëª¨ì•„ë ˆ í˜„ìƒ ë°©ì§€       ë‹¤ìš´ìƒ˜í”Œë§     â”‚
â”‚                                                                â”‚
â”‚   INTER_CUBIC             3ì°¨ ë³´ê°„               í™•ëŒ€ì— ì¢‹ìŒ   â”‚
â”‚   (ë°”ì´íë¹…)               ë¶€ë“œëŸ½ê³  ì„ ëª…          í’ˆì§ˆ ì¤‘ì‹œ      â”‚
â”‚                                                                â”‚
â”‚   INTER_LANCZOS4          ë€ì´ˆìŠ¤ ë³´ê°„            ìµœê³  í’ˆì§ˆ     â”‚
â”‚   (8x8 ì´ì›ƒ)               ê°€ì¥ ì„ ëª…              ì†ë„ ëŠë¦¼     â”‚
â”‚                                                                â”‚
â”‚   ê¶Œì¥:                                                        â”‚
â”‚   - ì¶•ì†Œ: INTER_AREA                                           â”‚
â”‚   - í™•ëŒ€: INTER_CUBIC ë˜ëŠ” INTER_LANCZOS4                      â”‚
â”‚   - ì‹¤ì‹œê°„: INTER_LINEAR ë˜ëŠ” INTER_NEAREST                    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="_5">ë³´ê°„ë²• ë¹„êµ ì˜ˆì œ<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>

<span class="c1"># ë¨¼ì € ì¶•ì†Œ í›„ í™•ëŒ€í•˜ì—¬ ì°¨ì´ ë¹„êµ</span>
<span class="n">small</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fx</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">fy</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># 10%ë¡œ ì¶•ì†Œ</span>

<span class="n">interpolations</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;NEAREST&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_NEAREST</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;LINEAR&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_LINEAR</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;AREA&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_AREA</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;CUBIC&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_CUBIC</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;LANCZOS4&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">INTER_LANCZOS4</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">interp</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">interpolations</span><span class="p">):</span>
    <span class="n">enlarged</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">small</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">interpolation</span><span class="o">=</span><span class="n">interp</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">enlarged</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<h3 id="_6">ë¹„ìœ¨ ìœ ì§€ ë¦¬ì‚¬ì´ì¦ˆ í•¨ìˆ˜<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="k">def</span><span class="w"> </span><span class="nf">resize_with_aspect_ratio</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inter</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">INTER_AREA</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ë¦¬ì‚¬ì´ì¦ˆ&quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">img</span>

    <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="n">height</span> <span class="o">/</span> <span class="n">h</span>
        <span class="n">new_size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">),</span> <span class="n">height</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="n">w</span>
        <span class="n">new_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_size</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="n">inter</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">resize_to_fit</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">max_width</span><span class="p">,</span> <span class="n">max_height</span><span class="p">,</span> <span class="n">inter</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">INTER_AREA</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ìµœëŒ€ í¬ê¸° ë‚´ì— ë§ì¶”ë©´ì„œ ë¹„ìœ¨ ìœ ì§€&quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">ratio_w</span> <span class="o">=</span> <span class="n">max_width</span> <span class="o">/</span> <span class="n">w</span>
    <span class="n">ratio_h</span> <span class="o">=</span> <span class="n">max_height</span> <span class="o">/</span> <span class="n">h</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ratio_w</span><span class="p">,</span> <span class="n">ratio_h</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ratio</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># ì´ë¯¸ ì‘ìœ¼ë©´ ê·¸ëŒ€ë¡œ</span>
        <span class="k">return</span> <span class="n">img</span>

    <span class="n">new_size</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_size</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="n">inter</span><span class="p">)</span>


<span class="c1"># ì‚¬ìš© ì˜ˆ</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;large_image.jpg&#39;</span><span class="p">)</span>
<span class="n">img_fit</span> <span class="o">=</span> <span class="n">resize_to_fit</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
<span class="n">img_width</span> <span class="o">=</span> <span class="n">resize_with_aspect_ratio</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">640</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="2-flip-rotate">2. ë’¤ì§‘ê¸°ì™€ íšŒì „ - flip(), rotate()<a class="header-link" href="#2-flip-rotate" title="Permanent link">&para;</a></h2>
<h3 id="cv2flip">cv2.flip()<a class="header-link" href="#cv2flip" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        flip() ë™ì‘                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   flipCode = 1 (ìˆ˜í‰)     flipCode = 0 (ìˆ˜ì§)    flipCode = -1  â”‚
â”‚                                                                 â”‚
â”‚   ì›ë³¸     ê²°ê³¼            ì›ë³¸     ê²°ê³¼          ì›ë³¸    ê²°ê³¼   â”‚
â”‚   â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”           â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”         â”Œâ”€â”€â”€â”  â”Œâ”€â”€â”€â”  â”‚
â”‚   â”‚1 2â”‚   â”‚2 1â”‚           â”‚1 2â”‚   â”‚3 4â”‚         â”‚1 2â”‚  â”‚4 3â”‚  â”‚
â”‚   â”‚3 4â”‚   â”‚4 3â”‚           â”‚3 4â”‚   â”‚1 2â”‚         â”‚3 4â”‚  â”‚2 1â”‚  â”‚
â”‚   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜           â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜         â””â”€â”€â”€â”˜  â””â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚   ì¢Œìš° ë°˜ì „              ìƒí•˜ ë°˜ì „              ë‘˜ ë‹¤ ë°˜ì „      â”‚
â”‚   (ê±°ìš¸ íš¨ê³¼)            (ë¬¼ì— ë¹„ì¹œ íš¨ê³¼)       (180ë„ íšŒì „)    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>

<span class="c1"># ìˆ˜í‰ ë’¤ì§‘ê¸° (ì¢Œìš° ë°˜ì „)</span>
<span class="n">flipped_h</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># ìˆ˜ì§ ë’¤ì§‘ê¸° (ìƒí•˜ ë°˜ì „)</span>
<span class="n">flipped_v</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># ì–‘ë°©í–¥ ë’¤ì§‘ê¸° (180ë„ íšŒì „ê³¼ ë™ì¼)</span>
<span class="n">flipped_both</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># NumPyë¡œë„ ê°€ëŠ¥</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">flipped_h_np</span> <span class="o">=</span> <span class="n">img</span><span class="p">[:,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>      <span class="c1"># ìˆ˜í‰</span>
<span class="n">flipped_v_np</span> <span class="o">=</span> <span class="n">img</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span>      <span class="c1"># ìˆ˜ì§</span>
<span class="n">flipped_both_np</span> <span class="o">=</span> <span class="n">img</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># ì–‘ë°©í–¥</span>
</code></pre></div>

<h3 id="cv2rotate">cv2.rotate()<a class="header-link" href="#cv2rotate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>

<span class="c1"># 90ë„ ì‹œê³„ë°©í–¥</span>
<span class="n">rotated_90_cw</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">ROTATE_90_CLOCKWISE</span><span class="p">)</span>

<span class="c1"># 90ë„ ë°˜ì‹œê³„ë°©í–¥</span>
<span class="n">rotated_90_ccw</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">ROTATE_90_COUNTERCLOCKWISE</span><span class="p">)</span>

<span class="c1"># 180ë„</span>
<span class="n">rotated_180</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">ROTATE_180</span><span class="p">)</span>

<span class="c1"># ì´ë¯¸ì§€ í¬ê¸° ë³€í™” í™•ì¸</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ì›ë³¸: </span><span class="si">{</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>           <span class="c1"># (H, W, C)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;90ë„: </span><span class="si">{</span><span class="n">rotated_90_cw</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># (W, H, C) - ê°€ë¡œì„¸ë¡œ êµí™˜</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;180ë„: </span><span class="si">{</span><span class="n">rotated_180</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># (H, W, C) - ë™ì¼</span>
</code></pre></div>

<h3 id="_7">ì„ì˜ ê°ë„ íšŒì „<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="k">def</span><span class="w"> </span><span class="nf">rotate_image</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì„ì˜ ê°ë„ë¡œ ì´ë¯¸ì§€ íšŒì „&quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">center</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># íšŒì „ í–‰ë ¬ ìƒì„±</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>

    <span class="c1"># íšŒì „ ì ìš©</span>
    <span class="n">rotated</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">rotated</span>


<span class="k">def</span><span class="w"> </span><span class="nf">rotate_image_full</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì´ë¯¸ì§€ê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ íšŒì „ (ìº”ë²„ìŠ¤ í™•ì¥)&quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># íšŒì „ í–‰ë ¬</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

    <span class="c1"># íšŒì „ í›„ ìƒˆ ê²½ê³„ ê³„ì‚°</span>
    <span class="n">cos</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">sin</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">new_w</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">sin</span> <span class="o">+</span> <span class="n">w</span> <span class="o">*</span> <span class="n">cos</span><span class="p">)</span>
    <span class="n">new_h</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">cos</span> <span class="o">+</span> <span class="n">w</span> <span class="o">*</span> <span class="n">sin</span><span class="p">)</span>

    <span class="c1"># ì´ë™ëŸ‰ ì¡°ì •</span>
    <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">new_w</span> <span class="o">-</span> <span class="n">w</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">new_h</span> <span class="o">-</span> <span class="n">h</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="n">rotated</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">new_w</span><span class="p">,</span> <span class="n">new_h</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">rotated</span>


<span class="c1"># ì‚¬ìš© ì˜ˆ</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">rotated_30</span> <span class="o">=</span> <span class="n">rotate_image</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>       <span class="c1"># 30ë„ íšŒì „ (ì¼ë¶€ ì˜ë¦¼)</span>
<span class="n">rotated_45_full</span> <span class="o">=</span> <span class="n">rotate_image_full</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>  <span class="c1"># 45ë„ íšŒì „ (ì „ì²´ ë³´ì¡´)</span>
</code></pre></div>

<hr />
<h2 id="3-warpaffine">3. ì–´íŒŒì¸ ë³€í™˜ - warpAffine()<a class="header-link" href="#3-warpaffine" title="Permanent link">&para;</a></h2>
<h3 id="_8">ì–´íŒŒì¸ ë³€í™˜ì´ë€?<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                      </span><span class="n">ì–´íŒŒì¸</span><span class="w"> </span><span class="n">ë³€í™˜</span><span class="w">                                 </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="n">ì–´íŒŒì¸</span><span class="w"> </span><span class="n">ë³€í™˜ì€</span><span class="w"> </span><span class="n">ì§ì„ ì„</span><span class="w"> </span><span class="n">ì§ì„ ìœ¼ë¡œ</span><span class="p">,</span><span class="w"> </span><span class="n">í‰í–‰ì„ ì„</span><span class="w"> </span><span class="n">í‰í–‰ì„ ìœ¼ë¡œ</span><span class="w"> </span><span class="n">ìœ ì§€í•˜ëŠ”</span><span class="w"> </span><span class="n">ë³€í™˜</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="n">í¬í•¨ë˜ëŠ”</span><span class="w"> </span><span class="nl">ë³€í™˜</span><span class="p">:</span><span class="w">                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ì´ë™</span><span class="w"> </span><span class="p">(</span><span class="k">Translation</span><span class="p">)</span><span class="w">                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">íšŒì „</span><span class="w"> </span><span class="p">(</span><span class="n">Rotation</span><span class="p">)</span><span class="w">                                             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ìŠ¤ì¼€ì¼</span><span class="w"> </span><span class="p">(</span><span class="n">Scale</span><span class="p">)</span><span class="w">                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">ì „ë‹¨</span><span class="w"> </span><span class="p">(</span><span class="n">Shear</span><span class="p">)</span><span class="w">                                                </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="n">ë³€í™˜</span><span class="w"> </span><span class="n">í–‰ë ¬</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="n">x3</span><span class="p">)</span><span class="err">:</span><span class="w">                                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œ</span><span class="w">         </span><span class="err">â”</span><span class="w">   </span><span class="err">â”Œ</span><span class="w">                    </span><span class="err">â”</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="n">a</span><span class="w">  </span><span class="n">b</span><span class="w">  </span><span class="n">tx</span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="n">scale</span><span class="o">*</span><span class="nf">cos</span><span class="w">  </span><span class="o">-</span><span class="nf">sin</span><span class="w">  </span><span class="n">tx</span><span class="err">â”‚</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="n">c</span><span class="w">  </span><span class="n">d</span><span class="w">  </span><span class="n">ty</span><span class="err">â”‚</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="nf">sin</span><span class="w">   </span><span class="n">scale</span><span class="o">*</span><span class="nf">cos</span><span class="w">  </span><span class="n">ty</span><span class="err">â”‚</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””</span><span class="w">         </span><span class="err">â”˜</span><span class="w">   </span><span class="err">â””</span><span class="w">                    </span><span class="err">â”˜</span><span class="w">                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">x&#39;</span><span class="o">]</span><span class="w">   </span><span class="o">[</span><span class="n">a b tx</span><span class="o">]</span><span class="w">   </span><span class="o">[</span><span class="n">x</span><span class="o">]</span><span class="w">                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">[</span><span class="n">y&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">c d ty</span><span class="o">]</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="o">[</span><span class="n">y</span><span class="o">]</span><span class="w">                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                     </span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="w">                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                 </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="translation">ì´ë™ (Translation)<a class="header-link" href="#translation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ì´ë™ í–‰ë ¬: xë°©í–¥ 100, yë°©í–¥ 50 ì´ë™</span>
<span class="n">tx</span><span class="p">,</span> <span class="n">ty</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tx</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ty</span><span class="p">]</span>
<span class="p">])</span>

<span class="n">translated</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Translated&#39;</span><span class="p">,</span> <span class="n">translated</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div>

<h3 id="_9">íšŒì „ + ìŠ¤ì¼€ì¼<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># getRotationMatrix2D(center, angle, scale)</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">45</span>  <span class="c1"># ë°˜ì‹œê³„ë°©í–¥ 45ë„</span>
<span class="n">scale</span> <span class="o">=</span> <span class="mf">0.7</span>  <span class="c1"># 70% í¬ê¸°</span>

<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getRotationMatrix2D</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>

<span class="n">rotated</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
</code></pre></div>

<h3 id="shear">ì „ë‹¨ ë³€í™˜ (Shear)<a class="header-link" href="#shear" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ìˆ˜í‰ ì „ë‹¨</span>
<span class="n">shear_x</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">M_shear_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">shear_x</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">])</span>
<span class="n">sheared_x</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M_shear_x</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">w</span> <span class="o">+</span> <span class="n">h</span> <span class="o">*</span> <span class="n">shear_x</span><span class="p">),</span> <span class="n">h</span><span class="p">))</span>

<span class="c1"># ìˆ˜ì§ ì „ë‹¨</span>
<span class="n">shear_y</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">M_shear_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="n">shear_y</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">])</span>
<span class="n">sheared_y</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M_shear_y</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="n">w</span> <span class="o">*</span> <span class="n">shear_y</span><span class="p">)))</span>
</code></pre></div>

<h3 id="3">3ì ì„ ì´ìš©í•œ ì–´íŒŒì¸ ë³€í™˜<a class="header-link" href="#3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;image.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ì›ë³¸ì˜ 3ì </span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>      <span class="c1"># ì¢Œìƒë‹¨</span>
    <span class="p">[</span><span class="n">w</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>    <span class="c1"># ìš°ìƒë‹¨</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>     <span class="c1"># ì¢Œí•˜ë‹¨</span>
<span class="p">])</span>

<span class="c1"># ë³€í™˜ í›„ 3ì </span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>    <span class="c1"># ì¢Œìƒë‹¨</span>
    <span class="p">[</span><span class="n">w</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>  <span class="c1"># ìš°ìƒë‹¨</span>
    <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="n">h</span><span class="o">-</span><span class="mi">50</span><span class="p">]</span>   <span class="c1"># ì¢Œí•˜ë‹¨</span>
<span class="p">])</span>

<span class="c1"># ì–´íŒŒì¸ ë³€í™˜ í–‰ë ¬ ê³„ì‚°</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getAffineTransform</span><span class="p">(</span><span class="n">src_pts</span><span class="p">,</span> <span class="n">dst_pts</span><span class="p">)</span>

<span class="c1"># ë³€í™˜ ì ìš©</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>

<span class="c1"># ì  í‘œì‹œ</span>
<span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">src_pts</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">):</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">pt</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">dst_pts</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">):</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">pt</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="4-warpperspective">4. ì›ê·¼ ë³€í™˜ - warpPerspective()<a class="header-link" href="#4-warpperspective" title="Permanent link">&para;</a></h2>
<h3 id="_10">ì›ê·¼ ë³€í™˜ì´ë€?<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ì›ê·¼ ë³€í™˜                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì›ê·¼ ë³€í™˜ì€ ì‚¬ë‹¤ë¦¬ê¼´ì„ ì§ì‚¬ê°í˜•ìœ¼ë¡œ (ë˜ëŠ” ê·¸ ë°˜ëŒ€ë¡œ) ë³€í™˜         â”‚
â”‚   3D ê³µê°„ì—ì„œ ì´¬ì˜ëœ ì´ë¯¸ì§€ë¥¼ ì •ë©´ì—ì„œ ë³¸ ê²ƒì²˜ëŸ¼ ë³€í™˜               â”‚
â”‚                                                                 â”‚
â”‚   ì‹¤ì œ í™œìš©:                                                     â”‚
â”‚   - ë¬¸ì„œ ìŠ¤ìº” (ê¸°ìš¸ì–´ì§„ ë¬¸ì„œ â†’ ì •ë©´)                             â”‚
â”‚   - ì°¨ì„  ê²€ì¶œ (Bird&#39;s eye view)                                 â”‚
â”‚   - QR ì½”ë“œ ì¸ì‹                                                â”‚
â”‚   - ì´ë¯¸ì§€ êµì •                                                  â”‚
â”‚                                                                 â”‚
â”‚   ë³€í™˜ í–‰ë ¬ (3x3):                                               â”‚
â”‚   â”Œ             â”                                               â”‚
â”‚   â”‚ h11 h12 h13 â”‚                                               â”‚
â”‚   â”‚ h21 h22 h23 â”‚                                               â”‚
â”‚   â”‚ h31 h32 h33 â”‚                                               â”‚
â”‚   â””             â”˜                                               â”‚
â”‚                                                                 â”‚
â”‚   ì›ë³¸ (ì‚¬ë‹¤ë¦¬ê¼´)          ê²°ê³¼ (ì§ì‚¬ê°í˜•)                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                   â”‚
â”‚   â”‚ â”‚         â”‚ â”‚   â”€â”€â”€â–¶  â”‚ â”‚             â”‚ â”‚                   â”‚
â”‚   â”‚ â”‚ ë¬¸ì„œ    â”‚ â”‚         â”‚ â”‚    ë¬¸ì„œ     â”‚ â”‚                   â”‚
â”‚   â”‚ â”‚         â”‚ â”‚         â”‚ â”‚             â”‚ â”‚                   â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="4">4ì ì„ ì´ìš©í•œ ì›ê·¼ ë³€í™˜<a class="header-link" href="#4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;tilted_document.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ì›ë³¸ì˜ 4ì  (ë¬¸ì„œì˜ ë„¤ ê¼­ì§“ì )</span>
<span class="n">src_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>    <span class="c1"># ì¢Œìƒë‹¨</span>
    <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>    <span class="c1"># ìš°ìƒë‹¨</span>
    <span class="p">[</span><span class="mi">550</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span>   <span class="c1"># ìš°í•˜ë‹¨</span>
    <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">380</span><span class="p">]</span>     <span class="c1"># ì¢Œí•˜ë‹¨</span>
<span class="p">])</span>

<span class="c1"># ë³€í™˜ í›„ 4ì  (ì •ë©´ ì§ì‚¬ê°í˜•)</span>
<span class="n">dst_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span>
<span class="p">])</span>

<span class="c1"># ì›ê·¼ ë³€í™˜ í–‰ë ¬ ê³„ì‚°</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getPerspectiveTransform</span><span class="p">(</span><span class="n">src_pts</span><span class="p">,</span> <span class="n">dst_pts</span><span class="p">)</span>

<span class="c1"># ë³€í™˜ ì ìš©</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>

<span class="c1"># ì  í‘œì‹œ</span>
<span class="n">img_with_pts</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">src_pts</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)):</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">img_with_pts</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">pt</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span class="n">img_with_pts</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">pt</span><span class="p">),</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Original with points&#39;</span><span class="p">,</span> <span class="n">img_with_pts</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Warped&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div>

<h3 id="birds-eye-view">Bird's Eye View (ì¡°ê°ë„)<a class="header-link" href="#birds-eye-view" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_birds_eye_view</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">src_pts</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ì›ê·¼ ë³€í™˜ìœ¼ë¡œ ì¡°ê°ë„(ìœ„ì—ì„œ ë³¸ ì‹œì ) ìƒì„±</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - img: ì…ë ¥ ì´ë¯¸ì§€</span>
<span class="sd">    - src_pts: ì›ë³¸ì˜ 4ì  (ì¢Œìƒ, ìš°ìƒ, ìš°í•˜, ì¢Œí•˜)</span>
<span class="sd">    - width, height: ì¶œë ¥ ì´ë¯¸ì§€ í¬ê¸°</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dst_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="n">width</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">height</span><span class="p">]</span>
    <span class="p">])</span>

    <span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getPerspectiveTransform</span><span class="p">(</span><span class="n">src_pts</span><span class="p">,</span> <span class="n">dst_pts</span><span class="p">)</span>
    <span class="n">warped</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">warped</span><span class="p">,</span> <span class="n">M</span>


<span class="c1"># ì°¨ì„  ê²€ì¶œìš© ì˜ˆì‹œ</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;road.jpg&#39;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># ë„ë¡œ ì˜ì—­ 4ì  (ì‚¬ë‹¤ë¦¬ê¼´)</span>
<span class="n">road_pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
    <span class="p">[</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">],</span>   <span class="c1"># ì¢Œìƒë‹¨</span>
    <span class="p">[</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">0.6</span><span class="p">],</span>   <span class="c1"># ìš°ìƒë‹¨</span>
    <span class="p">[</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.9</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">],</span>  <span class="c1"># ìš°í•˜ë‹¨</span>
    <span class="p">[</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">]</span>   <span class="c1"># ì¢Œí•˜ë‹¨</span>
<span class="p">])</span>

<span class="n">birds_eye</span><span class="p">,</span> <span class="n">M</span> <span class="o">=</span> <span class="n">get_birds_eye_view</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">road_pts</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="5">5. ë¬¸ì„œ êµì • ì˜ˆì œ<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="_11">ìë™ ë¬¸ì„œ ìŠ¤ìº” íŒŒì´í”„ë¼ì¸<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ë¬¸ì„œ ìŠ¤ìº” íŒŒì´í”„ë¼ì¸                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì…ë ¥ ì´ë¯¸ì§€                                                    â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   ì „ì²˜ë¦¬ (ê·¸ë ˆì´ìŠ¤ì¼€ì¼, ë¸”ëŸ¬, ì—£ì§€)                               â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   ìœ¤ê³½ì„  ê²€ì¶œ (findContours)                                     â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   ì‚¬ê°í˜• ê²€ì¶œ (approxPolyDPë¡œ 4ì  ê·¼ì‚¬)                          â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   ê¼­ì§“ì  ì •ë ¬ (ì¢Œìƒ, ìš°ìƒ, ìš°í•˜, ì¢Œí•˜)                            â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   ì›ê·¼ ë³€í™˜ (warpPerspective)                                    â”‚
â”‚       â”‚                                                         â”‚
â”‚       â–¼                                                         â”‚
â”‚   í›„ì²˜ë¦¬ (ì´ì§„í™”, ì„ ëª…í™”)                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="_12">êµ¬í˜„ ì½”ë“œ<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">order_points</span><span class="p">(</span><span class="n">pts</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;4ì ì„ ì¢Œìƒ, ìš°ìƒ, ìš°í•˜, ì¢Œí•˜ ìˆœìœ¼ë¡œ ì •ë ¬&quot;&quot;&quot;</span>
    <span class="n">rect</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

    <span class="c1"># í•©ì´ ê°€ì¥ ì‘ì€ ì  = ì¢Œìƒë‹¨</span>
    <span class="c1"># í•©ì´ ê°€ì¥ í° ì  = ìš°í•˜ë‹¨</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">pts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">rect</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
    <span class="n">rect</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>

    <span class="c1"># ì°¨ê°€ ê°€ì¥ ì‘ì€ ì  = ìš°ìƒë‹¨</span>
    <span class="c1"># ì°¨ê°€ ê°€ì¥ í° ì  = ì¢Œí•˜ë‹¨</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">rect</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span>
    <span class="n">rect</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">rect</span>


<span class="k">def</span><span class="w"> </span><span class="nf">four_point_transform</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">pts</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;4ì ì„ ì´ìš©í•œ ì›ê·¼ ë³€í™˜&quot;&quot;&quot;</span>
    <span class="n">rect</span> <span class="o">=</span> <span class="n">order_points</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span>
    <span class="p">(</span><span class="n">tl</span><span class="p">,</span> <span class="n">tr</span><span class="p">,</span> <span class="n">br</span><span class="p">,</span> <span class="n">bl</span><span class="p">)</span> <span class="o">=</span> <span class="n">rect</span>

    <span class="c1"># ìƒˆ ì´ë¯¸ì§€ì˜ ë„ˆë¹„ ê³„ì‚°</span>
    <span class="n">width_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">tr</span> <span class="o">-</span> <span class="n">tl</span><span class="p">)</span>
    <span class="n">width_bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">br</span> <span class="o">-</span> <span class="n">bl</span><span class="p">)</span>
    <span class="n">max_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">width_top</span><span class="p">,</span> <span class="n">width_bottom</span><span class="p">))</span>

    <span class="c1"># ìƒˆ ì´ë¯¸ì§€ì˜ ë†’ì´ ê³„ì‚°</span>
    <span class="n">height_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">bl</span> <span class="o">-</span> <span class="n">tl</span><span class="p">)</span>
    <span class="n">height_right</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">br</span> <span class="o">-</span> <span class="n">tr</span><span class="p">)</span>
    <span class="n">max_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">height_left</span><span class="p">,</span> <span class="n">height_right</span><span class="p">))</span>

    <span class="c1"># ëª©ì ì§€ ì </span>
    <span class="n">dst</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">([</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="n">max_width</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="n">max_width</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">max_height</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_height</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">])</span>

    <span class="c1"># ì›ê·¼ ë³€í™˜</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getPerspectiveTransform</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
    <span class="n">warped</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">warpPerspective</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="p">(</span><span class="n">max_width</span><span class="p">,</span> <span class="n">max_height</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">warped</span>


<span class="k">def</span><span class="w"> </span><span class="nf">find_document</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì´ë¯¸ì§€ì—ì„œ ë¬¸ì„œ ì˜ì—­ì„ ìë™ ê²€ì¶œ&quot;&quot;&quot;</span>
    <span class="c1"># ì „ì²˜ë¦¬</span>
    <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
    <span class="n">blurred</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">edged</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Canny</span><span class="p">(</span><span class="n">blurred</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="c1"># ìœ¤ê³½ì„  ê²€ì¶œ</span>
    <span class="n">contours</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">findContours</span><span class="p">(</span><span class="n">edged</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">RETR_EXTERNAL</span><span class="p">,</span>
                                    <span class="n">cv2</span><span class="o">.</span><span class="n">CHAIN_APPROX_SIMPLE</span><span class="p">)</span>
    <span class="n">contours</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">contours</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">contourArea</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span>

    <span class="n">doc_contour</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">contour</span> <span class="ow">in</span> <span class="n">contours</span><span class="p">:</span>
        <span class="c1"># ìœ¤ê³½ì„  ê·¼ì‚¬</span>
        <span class="n">peri</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">arcLength</span><span class="p">(</span><span class="n">contour</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">approx</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">approxPolyDP</span><span class="p">(</span><span class="n">contour</span><span class="p">,</span> <span class="mf">0.02</span> <span class="o">*</span> <span class="n">peri</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="c1"># 4ì ì´ë©´ ë¬¸ì„œë¡œ ê°„ì£¼</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">approx</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">doc_contour</span> <span class="o">=</span> <span class="n">approx</span>
            <span class="k">break</span>

    <span class="k">return</span> <span class="n">doc_contour</span>


<span class="k">def</span><span class="w"> </span><span class="nf">scan_document</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ë¬¸ì„œ ìŠ¤ìº” ë©”ì¸ í•¨ìˆ˜&quot;&quot;&quot;</span>
    <span class="c1"># ì›ë³¸ í¬ê¸° ì €ì¥</span>
    <span class="n">orig</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">500.0</span>

    <span class="c1"># ë¦¬ì‚¬ì´ì¦ˆ (ì²˜ë¦¬ ì†ë„ í–¥ìƒ)</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">ratio</span><span class="p">),</span> <span class="mi">500</span><span class="p">))</span>

    <span class="c1"># ë¬¸ì„œ ê²€ì¶œ</span>
    <span class="n">doc_contour</span> <span class="o">=</span> <span class="n">find_document</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">doc_contour</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># ì›ë³¸ í¬ê¸°ì— ë§ê²Œ ì¢Œí‘œ ì¡°ì •</span>
    <span class="n">doc_contour</span> <span class="o">=</span> <span class="n">doc_contour</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">ratio</span>

    <span class="c1"># ì›ê·¼ ë³€í™˜</span>
    <span class="n">warped</span> <span class="o">=</span> <span class="n">four_point_transform</span><span class="p">(</span><span class="n">orig</span><span class="p">,</span> <span class="n">doc_contour</span><span class="p">)</span>

    <span class="c1"># í›„ì²˜ë¦¬ (ì„ íƒì )</span>
    <span class="c1"># ê·¸ë ˆì´ìŠ¤ì¼€ì¼ + ì ì‘í˜• ì´ì§„í™”</span>
    <span class="n">warped_gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">warped</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
    <span class="n">warped_binary</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">adaptiveThreshold</span><span class="p">(</span>
        <span class="n">warped_gray</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span>
        <span class="n">cv2</span><span class="o">.</span><span class="n">ADAPTIVE_THRESH_GAUSSIAN_C</span><span class="p">,</span>
        <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">warped</span><span class="p">,</span> <span class="n">warped_binary</span>


<span class="c1"># ì‚¬ìš© ì˜ˆ</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;document_photo.jpg&#39;</span><span class="p">)</span>
<span class="n">result_color</span><span class="p">,</span> <span class="n">result_binary</span> <span class="o">=</span> <span class="n">scan_document</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="k">if</span> <span class="n">result_color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Scanned (Color)&#39;</span><span class="p">,</span> <span class="n">result_color</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Scanned (Binary)&#39;</span><span class="p">,</span> <span class="n">result_binary</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div>

<h3 id="4_1">ìˆ˜ë™ 4ì  ì„ íƒ (ë§ˆìš°ìŠ¤ í´ë¦­)<a class="header-link" href="#4_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">click_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">points</span>
    <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_LBUTTONDOWN</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Select 4 corners&#39;</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4ì  ì„ íƒ ì™„ë£Œ! &#39;s&#39; í‚¤ë¥¼ ëˆŒëŸ¬ ë³€í™˜í•˜ì„¸ìš”.&quot;</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">manual_perspective_transform</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ë§ˆìš°ìŠ¤ë¡œ 4ì ì„ ì„ íƒí•˜ì—¬ ì›ê·¼ ë³€í™˜&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">points</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">img_display</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Select 4 corners&#39;</span><span class="p">,</span> <span class="n">img_display</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">setMouseCallback</span><span class="p">(</span><span class="s1">&#39;Select 4 corners&#39;</span><span class="p">,</span> <span class="n">click_event</span><span class="p">,</span> <span class="n">img_display</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë¬¸ì„œì˜ 4ê°œ ê¼­ì§“ì ì„ ì‹œê³„ë°©í–¥ìœ¼ë¡œ í´ë¦­í•˜ì„¸ìš” (ì¢Œìƒë‹¨ë¶€í„°)&quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">):</span>  <span class="c1"># ë¦¬ì…‹</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">img_display</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Select 4 corners&#39;</span><span class="p">,</span> <span class="n">img_display</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">27</span><span class="p">:</span>  <span class="c1"># ESC</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>

    <span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">four_point_transform</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="c1"># ì‚¬ìš© ì˜ˆ</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;document.jpg&#39;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">manual_perspective_transform</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;Result&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</code></pre></div>

<hr />
<h2 id="6">6. ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="1">ì—°ìŠµ 1: ë°°ì¹˜ ë¦¬ì‚¬ì´ì¦ˆ<a class="header-link" href="#1" title="Permanent link">&para;</a></h3>
<p>í´ë” ë‚´ì˜ ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ê°€ë¡œ 800pxë¡œ ë¦¬ì‚¬ì´ì¦ˆí•˜ê³  (ë¹„ìœ¨ ìœ ì§€), í’ˆì§ˆ 90%ì˜ JPEGë¡œ ì €ì¥í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># íŒíŠ¸</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>

<span class="k">def</span><span class="w"> </span><span class="nf">batch_resize</span><span class="p">(</span><span class="n">input_folder</span><span class="p">,</span> <span class="n">output_folder</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">800</span><span class="p">):</span>
    <span class="c1"># os.listdir ë˜ëŠ” glob.glob ì‚¬ìš©</span>
    <span class="k">pass</span>
</code></pre></div>

<h3 id="2">ì—°ìŠµ 2: ì´ë¯¸ì§€ íšŒì „ ì• ë‹ˆë©”ì´ì…˜<a class="header-link" href="#2" title="Permanent link">&para;</a></h3>
<p>ì´ë¯¸ì§€ë¥¼ 0ë„ë¶€í„° 360ë„ê¹Œì§€ 5ë„ì”© íšŒì „í•˜ë©´ì„œ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì„¸ìš”. ì´ë¯¸ì§€ê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ ìº”ë²„ìŠ¤ë¥¼ í™•ì¥í•˜ì„¸ìš”.</p>
<h3 id="3_1">ì—°ìŠµ 3: ì‹ ë¶„ì¦ ìŠ¤ìºë„ˆ<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ì‹ ë¶„ì¦ ìŠ¤ìºë„ˆë¥¼ êµ¬í˜„í•˜ì„¸ìš”:
1. ë§ˆìš°ìŠ¤ë¡œ 4ì  ì„ íƒ
2. ì›ê·¼ ë³€í™˜ìœ¼ë¡œ ì •ë©´ ë·° ìƒì„±
3. í‘œì¤€ ì‹ ë¶„ì¦ í¬ê¸°(85.6mm x 54mm) ë¹„ìœ¨ë¡œ ì¶œë ¥</p>
<h3 id="4_2">ì—°ìŠµ 4: ì´ë¯¸ì§€ ëª¨ìì´í¬<a class="header-link" href="#4_2" title="Permanent link">&para;</a></h3>
<p>ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì„œ N x M ê·¸ë¦¬ë“œë¡œ ë°°ì¹˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”. ê° ì´ë¯¸ì§€ëŠ” ë™ì¼í•œ í¬ê¸°ë¡œ ë¦¬ì‚¬ì´ì¦ˆë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_mosaic</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">cell_size</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì´ë¯¸ì§€ë“¤ì„ rows x cols ê·¸ë¦¬ë“œë¡œ ë°°ì¹˜&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div>

<h3 id="5-ar">ì—°ìŠµ 5: AR ì¹´ë“œ íš¨ê³¼<a class="header-link" href="#5-ar" title="Permanent link">&para;</a></h3>
<p>ì´ë¯¸ì§€ì—ì„œ ì§ì‚¬ê°í˜• ì¹´ë“œë¥¼ ê²€ì¶œí•˜ê³ , ê·¸ ìœ„ì— ë‹¤ë¥¸ ì´ë¯¸ì§€ë¥¼ ì˜¤ë²„ë ˆì´í•˜ëŠ” ê°„ë‹¨í•œ AR íš¨ê³¼ë¥¼ êµ¬í˜„í•˜ì„¸ìš”.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># íŒíŠ¸: ì›ê·¼ ë³€í™˜ì˜ ì—­ë°©í–¥ ì‚¬ìš©</span>
<span class="c1"># 1. ì¹´ë“œ ì˜ì—­ ê²€ì¶œ</span>
<span class="c1"># 2. ì˜¤ë²„ë ˆì´í•  ì´ë¯¸ì§€ë¥¼ ì¹´ë“œ ì˜ì—­ì— ë§ê²Œ ë³€í™˜</span>
<span class="c1"># 3. ì›ë³¸ì— í•©ì„±</span>
</code></pre></div>

<hr />
<h2 id="7">7. ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<p><a href="./05_Image_Filtering.md">05_Image_Filtering.md</a>ì—ì„œ ë¸”ëŸ¬, ìƒ¤í”„ë‹, ì»¤ìŠ¤í…€ í•„í„° ë“± ì´ë¯¸ì§€ í•„í„°ë§ ê¸°ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤!</p>
<p><strong>ë‹¤ìŒì— ë°°ìš¸ ë‚´ìš©</strong>:
- ì»¤ë„ê³¼ ì»¨ë³¼ë£¨ì…˜ ê°œë…
- ë¸”ëŸ¬ í•„í„° (í‰ê· , ê°€ìš°ì‹œì•ˆ, ì¤‘ì•™ê°’, ì–‘ë°©í–¥)
- ìƒ¤í”„ë‹ í•„í„°
- ì»¤ìŠ¤í…€ í•„í„° (filter2D)</p>
<hr />
<h2 id="8">8. ì°¸ê³  ìë£Œ<a class="header-link" href="#8" title="Permanent link">&para;</a></h2>
<h3 id="_13">ê³µì‹ ë¬¸ì„œ<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://docs.opencv.org/4.x/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">resize() ë¬¸ì„œ</a></li>
<li><a href="https://docs.opencv.org/4.x/da/d54/group__imgproc__transform.html#ga0203d9ee5fcd28d40dbc4a1ea4451983">warpAffine() ë¬¸ì„œ</a></li>
<li><a href="https://docs.opencv.org/4.x/da/d54/group__imgproc__transform.html#gaf73673a7e8e18ec6963e3774e6a94b87">warpPerspective() ë¬¸ì„œ</a></li>
</ul>
<h3 id="_14">ê´€ë ¨ í•™ìŠµ ìë£Œ<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>í´ë”</th>
<th>ê´€ë ¨ ë‚´ìš©</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./03_Color_Spaces.md">03_Color_Spaces.md</a></td>
<td>ìƒ‰ìƒ ë³€í™˜, ì—£ì§€ ê²€ì¶œ ì „ì²˜ë¦¬</td>
</tr>
<tr>
<td><a href="./09_Contours.md">09_Contours.md</a></td>
<td>ë¬¸ì„œ ì˜ì—­ ê²€ì¶œì— í™œìš©</td>
</tr>
</tbody>
</table>
<h3 id="_15">ì¶”ê°€ ì°¸ê³ <a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://pyimagesearch.com/2014/08/25/4-point-opencv-getperspective-transform-example/">PyImageSearch - 4-point Transform</a></li>
<li><a href="https://docs.opencv.org/4.x/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121">OpenCV ë³´ê°„ë²• ê°€ì´ë“œ</a></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Computer_Vision/03_Color_Spaces.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ìƒ‰ìƒ ê³µê°„</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Computer_Vision/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Computer_Vision/05_Image_Filtering.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ì´ë¯¸ì§€ í•„í„°ë§</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}