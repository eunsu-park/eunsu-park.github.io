{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ER 모델링(ER Modeling) - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Database_Theory/">Database Theory</a>
    <span class="separator">/</span>
    <span class="current">ER 모델링(ER Modeling)</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ER 모델링(ER Modeling)</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Database_Theory/03_Relational_Algebra.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">관계 대수(Relational Algebra)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Database_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Database_Theory/05_Functional_Dependencies.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 05: 함수 종속성(Functional Dependencies)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_1">목차</a></li>
<li><a href="#1">1. 개념적 설계 개요</a><ul>
<li><a href="#_2">개념적 설계를 하는 이유는?</a></li>
<li><a href="#er">ER 다이어그램 표기법</a></li>
</ul>
</li>
<li><a href="#2">2. 개체 타입과 개체 집합</a><ul>
<li><a href="#_3">개체</a></li>
<li><a href="#_4">개체 타입</a></li>
<li><a href="#_5">개체 집합</a></li>
<li><a href="#er_1">ER 다이어그램에서의 표기법</a></li>
</ul>
</li>
<li><a href="#3">3. 속성</a><ul>
<li><a href="#_6">단순(원자) 속성</a></li>
<li><a href="#_7">복합 속성</a></li>
<li><a href="#_8">다중값 속성</a></li>
<li><a href="#_9">유도 속성</a></li>
<li><a href="#_10">키 속성</a></li>
<li><a href="#_11">복합 키</a></li>
<li><a href="#null">NULL 값</a></li>
<li><a href="#_12">속성 요약</a></li>
<li><a href="#er_2">모든 속성 유형이 포함된 ER 다이어그램</a></li>
</ul>
</li>
<li><a href="#4">4. 관계 타입</a><ul>
<li><a href="#_13">이항 관계</a></li>
<li><a href="#_14">삼항 관계</a></li>
<li><a href="#_15">재귀(단항) 관계</a></li>
<li><a href="#_16">관계 속성</a></li>
<li><a href="#_17">관계의 차수</a></li>
</ul>
</li>
<li><a href="#5">5. 카디널리티 제약조건</a><ul>
<li><a href="#11">일대일 (1:1)</a></li>
<li><a href="#1n">일대다 (1:N)</a></li>
<li><a href="#mn">다대다 (M:N)</a></li>
<li><a href="#er_3">ER 다이어그램에서의 카디널리티</a></li>
<li><a href="#_18">카디널리티 제약조건 요약</a></li>
</ul>
</li>
<li><a href="#6">6. 참여 제약조건</a><ul>
<li><a href="#_19">전체 참여 (필수적)</a></li>
<li><a href="#_20">부분 참여 (선택적)</a></li>
<li><a href="#_21">카디널리티와 참여 결합</a></li>
<li><a href="#_22">존재 종속성</a></li>
</ul>
</li>
<li><a href="#7">7. 약한 개체</a><ul>
<li><a href="#_23">약한 개체의 특성</a></li>
<li><a href="#_24">표기법</a></li>
<li><a href="#employee-dependent">예: Employee와 Dependent</a></li>
<li><a href="#vs">약한 개체 vs. 강한 개체</a></li>
</ul>
</li>
<li><a href="#8-er-eer">8. 향상된 ER (EER) 모델</a><ul>
<li><a href="#_25">특수화</a></li>
<li><a href="#_26">일반화</a></li>
<li><a href="#_27">특수화/일반화 제약조건</a></li>
<li><a href="#_28">네 가지 조합</a></li>
<li><a href="#_29">속성 상속</a></li>
<li><a href="#_30">다중 상속과 범주 (합집합 타입)</a></li>
</ul>
</li>
<li><a href="#9-er-">9. ER-관계형 매핑 알고리즘</a><ul>
<li><a href="#1_1">1단계: 강한 개체 타입 매핑</a></li>
<li><a href="#2_1">2단계: 약한 개체 타입 매핑</a></li>
<li><a href="#3-11">3단계: 이항 1:1 관계 타입 매핑</a></li>
<li><a href="#4-1n">4단계: 이항 1:N 관계 타입 매핑</a></li>
<li><a href="#5-mn">5단계: 이항 M:N 관계 타입 매핑</a></li>
<li><a href="#6_1">6단계: 다중값 속성 매핑</a></li>
<li><a href="#7_1">7단계: 특수화/일반화 매핑</a></li>
<li><a href="#_31">매핑 결정 표</a></li>
</ul>
</li>
<li><a href="#10">10. 설계 사례 연구: 대학 데이터베이스</a><ul>
<li><a href="#_32">요구사항</a></li>
<li><a href="#er-ascii">ER 다이어그램 (ASCII)</a></li>
<li><a href="#er_4">정제된 ER 설계</a></li>
<li><a href="#_33">관계 스키마 (매핑됨)</a></li>
<li><a href="#_34">스키마 다이어그램 요약</a></li>
</ul>
</li>
<li><a href="#11_1">11. 일반적인 함정과 모범 사례</a><ul>
<li><a href="#1_2">함정 1: 팬 트랩</a></li>
<li><a href="#2_2">함정 2: 캐즘 트랩</a></li>
<li><a href="#3_1">함정 3: 다중값 속성의 과도한 사용</a></li>
<li><a href="#4_1">함정 4: 관계 속성 누락</a></li>
<li><a href="#_35">모범 사례</a></li>
</ul>
</li>
<li><a href="#12">12. 연습 문제</a><ul>
<li><a href="#_36">기본 개념</a></li>
<li><a href="#er_5">ER 설계</a></li>
<li><a href="#_37">카디널리티와 참여</a></li>
<li><a href="#_38">약한 개체</a></li>
<li><a href="#eer">EER</a></li>
<li><a href="#er-">ER-관계형 매핑</a></li>
<li><a href="#_39">설계 도전</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="er-er-modeling">ER 모델링(ER Modeling)<a class="header-link" href="#er-er-modeling" title="Permanent link">&para;</a></h1>
<p><strong>이전</strong>: <a href="./03_Relational_Algebra.md">관계 대수</a> | <strong>다음</strong>: <a href="./05_Functional_Dependencies.md">함수 종속성</a></p>
<hr />
<p>1976년 Peter Chen이 소개한 개체-관계(Entity-Relationship, ER) 모델은 개념적 데이터베이스 설계에 가장 널리 사용되는 접근법입니다. 특정 DBMS와 무관하게 높은 수준의 추상화로 데이터 구조를 표현하기 위한 그래픽 표기법을 제공합니다. 이 강의에서는 ER 모델, 향상된 버전(EER), 그리고 ER 다이어그램을 관계 스키마로 변환하는 체계적인 알고리즘을 다룹니다.</p>
<h2 id="_1">목차<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-개념적-설계-개요">개념적 설계 개요</a></li>
<li><a href="#2-개체-타입과-개체-집합">개체 타입과 개체 집합</a></li>
<li><a href="#3-속성">속성</a></li>
<li><a href="#4-관계-타입">관계 타입</a></li>
<li><a href="#5-카디널리티-제약조건">카디널리티 제약조건</a></li>
<li><a href="#6-참여-제약조건">참여 제약조건</a></li>
<li><a href="#7-약한-개체">약한 개체</a></li>
<li><a href="#8-향상된-er-eer-모델">향상된 ER (EER) 모델</a></li>
<li><a href="#9-er-관계형-매핑-알고리즘">ER-관계형 매핑 알고리즘</a></li>
<li><a href="#10-설계-사례-연구-대학-데이터베이스">설계 사례 연구: 대학 데이터베이스</a></li>
<li><a href="#11-일반적인-함정과-모범-사례">일반적인 함정과 모범 사례</a></li>
<li><a href="#12-연습-문제">연습 문제</a></li>
</ol>
<hr />
<h2 id="1">1. 개념적 설계 개요<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<p>데이터베이스 설계는 요구사항에서 구현까지 구조화된 프로세스를 따릅니다:</p>
<div class="highlight"><pre><span></span><code>┌──────────────────┐
│  요구사항         │  &quot;어떤 데이터가 필요? 어떤 쿼리?&quot;
│  분석            │
└────────┬─────────┘
         │
         ▼
┌──────────────────┐
│  개념적          │  ER 다이어그램 (DBMS 독립적)
│  설계            │  ← 이 강의
└────────┬─────────┘
         │
         ▼
┌──────────────────┐
│  논리적          │  관계 스키마 (테이블, 키, 제약조건)
│  설계            │  ← ER-관계형 매핑
└────────┬─────────┘
         │
         ▼
┌──────────────────┐
│  물리적          │  인덱스, 저장소, 파티셔닝, SQL DDL
│  설계            │
└────────┬─────────┘
         │
         ▼
┌──────────────────┐
│  구현 및         │  CREATE TABLE, INSERT, 저장 프로시저
│  튜닝            │
└──────────────────┘
</code></pre></div>

<h3 id="_2">개념적 설계를 하는 이유는?<a class="header-link" href="#_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>의사소통</strong>: ER 다이어그램은 비기술 이해관계자도 이해 가능</li>
<li><strong>추상화</strong>: 구현을 걱정하지 않고 데이터 구조에 집중</li>
<li><strong>정확성</strong>: SQL을 작성하기 전 초기에 설계 오류 포착</li>
<li><strong>문서화</strong>: 데이터 모델의 살아있는 청사진 역할</li>
</ul>
<h3 id="er">ER 다이어그램 표기법<a class="header-link" href="#er" title="Permanent link">&para;</a></h3>
<p>이 강의에서는 원래의 <strong>Chen 표기법(Chen notation)</strong> (교과서에서 가장 일반적)을 사용합니다:</p>
<div class="highlight"><pre><span></span><code>┌──────────────────────────────────────────────────────────────┐
│  기호 범례                                                     │
│                                                              │
│  ┌─────────┐       개체 타입 (강한)                          │
│  │  NAME   │                                                │
│  └─────────┘                                                │
│                                                              │
│  ┌═════════┐       개체 타입 (약한)                          │
│  ║  NAME   ║                                                │
│  └═════════┘                                                │
│                                                              │
│  ◇  또는  ◇───       관계 타입                              │
│  &lt;WORKS_FOR&gt;                                                │
│                                                              │
│  (속성)        속성 (타원)                                    │
│  ((유도된))    유도 속성 (점선 타원)                           │
│  {다중값}      다중값 속성 (이중 타원)                         │
│                                                              │
│  ─── 단일선    부분 참여                                      │
│  ═══ 이중선    전체 참여                                      │
│                                                              │
│  1, N, M            카디널리티 표시                          │
└──────────────────────────────────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="2">2. 개체 타입과 개체 집합<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="_3">개체<a class="header-link" href="#_3" title="Permanent link">&para;</a></h3>
<p><strong>개체(Entity)</strong>는 다른 객체와 구별 가능한 현실 세계의 "사물" 또는 객체입니다. 물리적(사람, 책) 또는 개념적(과정, 은행 계좌)일 수 있습니다.</p>
<h3 id="_4">개체 타입<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<p><strong>개체 타입(Entity Type)</strong>은 동일한 속성을 가진 개체의 집합을 정의합니다. 클래스나 템플릿과 같습니다.</p>
<h3 id="_5">개체 집합<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<p><strong>개체 집합(Entity Set)</strong> (또는 개체 인스턴스 집합)은 특정 시점의 특정 타입의 모든 개체 집합입니다. 클래스의 모든 객체 집합과 같습니다.</p>
<div class="highlight"><pre><span></span><code>개체 타입:     STUDENT
               (구조 정의: sid, name, year, dept)

개체 집합:     현재 학생 개체 집합:
               {(S001, Alice, 3, CS), (S002, Bob, 2, CS), ...}

개체 (인스턴스): 단일 학생, 예: (S001, Alice, 3, CS)
</code></pre></div>

<h3 id="er_1">ER 다이어그램에서의 표기법<a class="header-link" href="#er_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">              </span><span class="err">┌───────────┐</span>
<span class="w">              </span><span class="err">│</span><span class="w">  </span><span class="n">STUDENT</span><span class="w">  </span><span class="err">│</span>
<span class="w">              </span><span class="err">└───────────┘</span>
<span class="w">             </span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="err">\</span>
<span class="w">          </span><span class="p">(</span><span class="n">sid</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)(</span><span class="nf">year</span><span class="p">)(</span><span class="n">dept</span><span class="p">)</span>
<span class="w">           </span><span class="o">[</span><span class="n">PK</span><span class="o">]</span>
</code></pre></div>

<hr />
<h2 id="3">3. 속성<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<p>속성은 개체 타입의 특성을 설명합니다. 여러 종류가 있습니다:</p>
<h3 id="_6">단순(원자) 속성<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<p>단순 속성은 더 작은 구성 요소로 나눌 수 없습니다.</p>
<div class="highlight"><pre><span></span><code>예:
  <span class="k">-</span> student_id: &quot;S001&quot;
  <span class="k">-</span> year: 3
  <span class="k">-</span> gpa: 3.85
</code></pre></div>

<h3 id="_7">복합 속성<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<p>복합 속성은 더 작은 하위 속성으로 나눌 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="w">              </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
<span class="w">             </span><span class="o">/</span><span class="w">      </span>\
<span class="w">       </span><span class="p">(</span><span class="nx">first_name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">last_name</span><span class="p">)</span>

<span class="w">              </span><span class="p">(</span><span class="nx">address</span><span class="p">)</span>
<span class="w">            </span><span class="o">/</span><span class="w">    </span><span class="o">|</span><span class="w">      </span>\
<span class="w">      </span><span class="p">(</span><span class="nx">street</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">city</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">zip_code</span><span class="p">)</span>
<span class="w">                        </span><span class="o">|</span>
<span class="w">                   </span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">country</span><span class="p">)</span>
</code></pre></div>

<h3 id="_8">다중값 속성<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<p>다중값 속성은 단일 개체에 대해 여러 값을 가질 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="p">{</span><span class="nx">phone_numbers</span><span class="p">}</span><span class="w">    </span><span class="nx">학생은</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nx">또는</span><span class="w"> </span><span class="nx">여러</span><span class="w"> </span><span class="nx">전화번호를</span><span class="w"> </span><span class="nx">가질</span><span class="w"> </span><span class="nx">수</span><span class="w"> </span><span class="nx">있음</span><span class="p">.</span>
<span class="w">  </span><span class="p">{</span><span class="nx">skills</span><span class="p">}</span><span class="w">           </span><span class="nx">직원은</span><span class="w"> </span><span class="nx">여러</span><span class="w"> </span><span class="nx">기술을</span><span class="w"> </span><span class="nx">가질</span><span class="w"> </span><span class="nx">수</span><span class="w"> </span><span class="nx">있음</span><span class="p">.</span>
<span class="w">  </span><span class="p">{</span><span class="nx">email_addresses</span><span class="p">}</span><span class="w">  </span><span class="nx">사람은</span><span class="w"> </span><span class="nx">여러</span><span class="w"> </span><span class="nx">이메일</span><span class="w"> </span><span class="nx">주소를</span><span class="w"> </span><span class="nx">가질</span><span class="w"> </span><span class="nx">수</span><span class="w"> </span><span class="nx">있음</span><span class="p">.</span>

<span class="nx">표기법</span><span class="p">:</span><span class="w"> </span><span class="nx">이중</span><span class="w"> </span><span class="nx">타원</span><span class="w"> </span><span class="nx">또는</span><span class="w"> </span><span class="nx">중괄호</span><span class="w"> </span><span class="p">{</span><span class="nx">속성</span><span class="p">}</span>
</code></pre></div>

<h3 id="_9">유도 속성<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<p>유도 속성의 값은 다른 속성에서 계산할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>  ((age))            생년월일과 현재 날짜에서 유도
  ((total_credits))  등록 과목의 학점 합산에서 유도
  ((employee_count)) 부서의 직원 수에서 유도

표기법: 점선 타원 또는 이중 괄호 ((속성))
</code></pre></div>

<h3 id="_10">키 속성<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<p>키 속성은 개체 집합에서 각 개체를 고유하게 식별합니다.</p>
<div class="highlight"><pre><span></span><code>  STUDENT의 경우: student_id (다이어그램에서 밑줄)
  COURSE의 경우: course_id
  EMPLOYEE의 경우: employee_id 또는 ssn

표기법: 밑줄 친 속성 이름
</code></pre></div>

<h3 id="_11">복합 키<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<p>단일 속성으로 개체를 고유하게 식별할 수 없을 때, 속성 조합이 키를 형성합니다.</p>
<div class="highlight"><pre><span></span><code><span class="err">예</span><span class="o">:</span><span class="w"> </span><span class="n">ENROLLMENT은</span><span class="w"> </span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">)</span><span class="err">로</span><span class="w"> </span><span class="err">식별될</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">있음</span>
</code></pre></div>

<h3 id="null">NULL 값<a class="header-link" href="#null" title="Permanent link">&para;</a></h3>
<p>속성이 다음과 같은 경우 NULL 값을 가질 수 있습니다:
- 값이 <strong>적용 불가능</strong>(집의 아파트 번호)
- 값이 <strong>알 수 없음</strong>(제공되지 않은 전화번호)</p>
<h3 id="_12">속성 요약<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>속성 유형:
                                              ┌──────────────┐
                            ┌────────────────►│   단순        │
                            │                 │  (원자)       │
         ┌──────────┐      │                 └──────────────┘
         │ 구조     ├──────┤
         └──────────┘      │                 ┌──────────────┐
                            └────────────────►│  복합         │
                                              │  (나눌 수 있음)│
                                              └──────────────┘

                                              ┌──────────────┐
                            ┌────────────────►│ 단일값        │
                            │                 └──────────────┘
         ┌──────────┐      │
         │ 카디널리티├────┤
         └──────────┘      │                 ┌──────────────┐
                            └────────────────►│ 다중값        │
                                              │ {attr}       │
                                              └──────────────┘

                                              ┌──────────────┐
                            ┌────────────────►│   저장됨      │
                            │                 └──────────────┘
         ┌──────────┐      │
         │  출처     ├──────┤
         └──────────┘      │                 ┌──────────────┐
                            └────────────────►│  유도됨       │
                                              │ ((attr))     │
                                              └──────────────┘
</code></pre></div>

<h3 id="er_2">모든 속성 유형이 포함된 ER 다이어그램<a class="header-link" href="#er_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">                        </span><span class="err">┌───────────┐</span>
<span class="w">                        </span><span class="err">│</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w">  </span><span class="err">│</span>
<span class="w">                        </span><span class="err">└───────────┘</span>
<span class="w">                       </span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="err">\</span><span class="w">  </span><span class="err">\</span>
<span class="w">                     </span><span class="o">/</span><span class="w">   </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="err">\</span><span class="w">   </span><span class="err">\</span>
<span class="w">                   </span><span class="o">/</span><span class="w">     </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="err">\</span><span class="w">    </span><span class="err">\</span>
<span class="w">            </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">hire_date</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="n">phone</span><span class="err">}</span><span class="w">  </span><span class="p">((</span><span class="n">age</span><span class="p">))</span>
<span class="w">             </span><span class="o">[</span><span class="n">PK</span><span class="o">]</span><span class="w">    </span><span class="o">/</span><span class="w"> </span><span class="err">\</span><span class="w">     </span><span class="o">|</span><span class="w">               </span><span class="n">다중값</span><span class="w">   </span><span class="n">유도됨</span>
<span class="w">                   </span><span class="o">/</span><span class="w">     </span><span class="err">\</span><span class="w"> </span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
<span class="w">            </span><span class="p">(</span><span class="k">first</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">last</span><span class="p">)</span>
<span class="w">            </span><span class="n">복합</span>
<span class="w">  </span><span class="nl">emp_id</span><span class="p">:</span><span class="w">    </span><span class="n">단순</span><span class="p">,</span><span class="w"> </span><span class="n">키</span>
<span class="w">  </span><span class="nl">name</span><span class="p">:</span><span class="w">      </span><span class="n">복합</span><span class="w"> </span><span class="p">(</span><span class="k">first</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">last</span><span class="p">)</span>
<span class="w">  </span><span class="nl">salary</span><span class="p">:</span><span class="w">    </span><span class="n">단순</span><span class="p">,</span><span class="w"> </span><span class="n">단일값</span>
<span class="w">  </span><span class="nl">hire_date</span><span class="p">:</span><span class="w"> </span><span class="n">단순</span><span class="p">,</span><span class="w"> </span><span class="n">저장됨</span>
<span class="w">  </span><span class="nl">phone</span><span class="p">:</span><span class="w">     </span><span class="n">단순</span><span class="p">,</span><span class="w"> </span><span class="n">다중값</span>
<span class="w">  </span><span class="nl">age</span><span class="p">:</span><span class="w">       </span><span class="n">단순</span><span class="p">,</span><span class="w"> </span><span class="n">유도됨</span><span class="w"> </span><span class="p">(</span><span class="n">birth_date에서</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="4">4. 관계 타입<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<p><strong>관계 타입(Relationship Type)</strong>은 개체 타입 간의 연관을 정의합니다. <strong>관계 인스턴스(Relationship Instance)</strong>는 특정 개체 인스턴스 간의 연관입니다.</p>
<h3 id="_13">이항 관계<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<p><strong>이항 관계(Binary Relationship)</strong>는 두 개체 타입을 포함합니다 (가장 일반적인 경우).</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐          ┌──────────┐
  │ STUDENT  │──&lt;ENROLLS&gt;──│  COURSE  │
  └──────────┘          └──────────┘

  관계 인스턴스:
    (Alice, CS101), (Alice, CS301), (Bob, CS101), ...
</code></pre></div>

<h3 id="_14">삼항 관계<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<p><strong>삼항 관계(Ternary Relationship)</strong>는 세 개체 타입을 포함합니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐
  │ SUPPLIER │
  └──────────┘
       │
       │
  ◇ SUPPLIES ◇
  /           \
  │             │
  ┌──────────┐  ┌──────────┐
  │  PART    │  │ PROJECT  │
  └──────────┘  └──────────┘

  관계 인스턴스: (Supplier1, PartA, ProjectX)
  의미: Supplier1이 PartA를 ProjectX에 공급

  참고: 삼항 관계는 정보 손실 없이 항상 세 개의
  이항 관계로 분해할 수 없음!
</code></pre></div>

<h3 id="_15">재귀(단항) 관계<a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<p><strong>재귀 관계(Recursive Relationship)</strong>는 개체 타입을 자신과 연관시킵니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐
  │ EMPLOYEE │
  └────┬─────┘
       │    │
       │    │
    (감독자)
       │    │
       ├────┘
    &lt;SUPERVISES&gt;

  관계 인스턴스: (Manager_Alice, Employee_Bob)
  의미: Alice가 Bob을 감독

  역할 이름이 중요:
    EMPLOYEE (감독자로) ──&lt;SUPERVISES&gt;── EMPLOYEE (피감독자로)
</code></pre></div>

<h3 id="_16">관계 속성<a class="header-link" href="#_16" title="Permanent link">&para;</a></h3>
<p>관계는 자체 속성을 가질 수 있습니다:</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐                              ┌──────────┐
  │ STUDENT  │────&lt;ENROLLS_IN&gt;────│  COURSE  │
  └──────────┘      │                       └──────────┘
                  (grade)
                  (semester)

  성적과 학기는 관계에 속하며, 어느 개체에도 속하지 않음.
  학생은 특정 과목에 대한 성적을 가지며, 일반적으로 가지지 않음.
</code></pre></div>

<h3 id="_17">관계의 차수<a class="header-link" href="#_17" title="Permanent link">&para;</a></h3>
<p>관계 타입의 <strong>차수(Degree)</strong>는 참여하는 개체 타입의 수입니다.</p>
<div class="highlight"><pre><span></span><code>차수 1: 단항 (재귀)     EMPLOYEE가 EMPLOYEE를 감독
차수 2: 이항            STUDENT가 COURSE에 등록
차수 3: 삼항            SUPPLIER가 PART를 PROJECT에 공급
차수 n: n항 (드묾)      일반적으로 이항으로 분해됨
</code></pre></div>

<hr />
<h2 id="5">5. 카디널리티 제약조건<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<p>카디널리티 제약조건은 개체가 참여할 수 있는 관계 인스턴스의 수를 지정합니다. 이항 관계의 경우, 세 가지 기본 비율은 1:1, 1:N, M:N입니다.</p>
<h3 id="11">일대일 (1:1)<a class="header-link" href="#11" title="Permanent link">&para;</a></h3>
<p>A의 각 개체는 최대 하나의 B 개체와 연관되며, 그 반대도 마찬가지입니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐    1         1    ┌──────────┐
  │ EMPLOYEE │────&lt;MANAGES&gt;────│ DEPARTMENT│
  └──────────┘                   └──────────┘

  각 직원은 최대 하나의 부서를 관리.
  각 부서는 최대 하나의 직원에 의해 관리됨.

  인스턴스:
    Alice  ────  CS Department
    Bob    ────  EE Department
    Carol  ────  (관리하는 부서 없음)
    Dave   ────  ME Department

  매핑:
    A:  Alice ───► CS
    B:  Bob   ───► EE
    D:  Dave  ───► ME
</code></pre></div>

<h3 id="1n">일대다 (1:N)<a class="header-link" href="#1n" title="Permanent link">&para;</a></h3>
<p>A의 각 개체는 B의 여러 개체와 연관될 수 있지만, B의 각 개체는 최대 하나의 A 개체와 연관됩니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐    1         N    ┌──────────┐
  │DEPARTMENT│────&lt;HAS&gt;────│ EMPLOYEE │
  └──────────┘                   └──────────┘

  부서는 여러 직원을 가짐.
  직원은 최대 하나의 부서에 속함.

  인스턴스:
    CS ────┬──── Alice
           ├──── Bob
           └──── Eve
    EE ─────── Carol
    ME ─────── Dave
</code></pre></div>

<h3 id="mn">다대다 (M:N)<a class="header-link" href="#mn" title="Permanent link">&para;</a></h3>
<p>A의 각 개체는 B의 여러 개체와 연관될 수 있고, B의 각 개체는 A의 여러 개체와 연관될 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐    M         N    ┌──────────┐
  │ STUDENT  │────&lt;ENROLLS&gt;────│  COURSE  │
  └──────────┘                   └──────────┘

  학생은 여러 과목에 등록할 수 있음.
  과목은 여러 학생을 가질 수 있음.

  인스턴스:
    Alice ──┬── CS101
            ├── CS301
            └── MA101
    Bob   ──┬── CS101
            └── CS301
    Carol ──┬── EE201
            └── CS101
</code></pre></div>

<h3 id="er_3">ER 다이어그램에서의 카디널리티<a class="header-link" href="#er_3" title="Permanent link">&para;</a></h3>
<p>두 가지 주요 관례가 있습니다:</p>
<p><strong>관례 1: Chen의 표기법 (선 위의 레이블)</strong></p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐    1    ┌──────────┐    N    ┌──────────┐
  │DEPARTMENT│────────&lt;WORKS_IN&gt;────────│ EMPLOYEE │
  └──────────┘                               └──────────┘
</code></pre></div>

<p><strong>관례 2: (최소,최대) 표기법 (더 정확함)</strong></p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐  (1,1)   ┌────────────┐  (1,N)  ┌──────────┐
  │ EMPLOYEE │──────────&lt;WORKS_IN&gt;──────────│DEPARTMENT│
  └──────────┘                                  └──────────┘

  읽기:
    직원은 (1,1) 부서에서 일함 = 정확히 하나의 부서
    부서는 (1,N) 직원을 가짐 = 한 명 이상의 직원
</code></pre></div>

<h3 id="_18">카디널리티 제약조건 요약<a class="header-link" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">                    </span><span class="nt">카디널리티</span><span class="w"> </span><span class="nt">비율</span><span class="w">                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="nd">1</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">각</span><span class="w"> </span><span class="nt">A는</span><span class="w"> </span><span class="nt">최대</span><span class="w"> </span><span class="nt">1개의</span><span class="w"> </span><span class="nt">B에</span><span class="w"> </span><span class="nt">매핑</span><span class="o">;</span><span class="w"> </span><span class="nt">각</span><span class="w"> </span><span class="nt">B는</span><span class="w"> </span><span class="nt">최대</span><span class="w"> </span><span class="nt">1개의</span><span class="w"> </span><span class="nt">A에</span><span class="w">      </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="nt">예</span><span class="o">:</span><span class="w"> </span><span class="nt">Employee가</span><span class="w"> </span><span class="nt">Department를</span><span class="w"> </span><span class="nt">관리</span><span class="w">                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="nt">1</span><span class="p">:</span><span class="nd">N</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">각</span><span class="w"> </span><span class="nt">A는</span><span class="w"> </span><span class="nt">여러</span><span class="w"> </span><span class="nt">B에</span><span class="w"> </span><span class="nt">매핑</span><span class="o">;</span><span class="w"> </span><span class="nt">각</span><span class="w"> </span><span class="nt">B는</span><span class="w"> </span><span class="nt">최대</span><span class="w"> </span><span class="nt">1개의</span><span class="w"> </span><span class="nt">A에</span><span class="w">           </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="nt">예</span><span class="o">:</span><span class="w"> </span><span class="nt">Department가</span><span class="w"> </span><span class="nt">Employee를</span><span class="w"> </span><span class="nt">가짐</span><span class="w">                        </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="nt">M</span><span class="p">:</span><span class="nd">N</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">각</span><span class="w"> </span><span class="nt">A는</span><span class="w"> </span><span class="nt">여러</span><span class="w"> </span><span class="nt">B에</span><span class="w"> </span><span class="nt">매핑</span><span class="o">;</span><span class="w"> </span><span class="nt">각</span><span class="w"> </span><span class="nt">B는</span><span class="w"> </span><span class="nt">여러</span><span class="w"> </span><span class="nt">A에</span><span class="w"> </span><span class="nt">매핑</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">           </span><span class="nt">예</span><span class="o">:</span><span class="w"> </span><span class="nt">Student가</span><span class="w"> </span><span class="nt">Course에</span><span class="w"> </span><span class="nt">등록</span><span class="w">                            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                                 </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="o">(</span><span class="nt">최소</span><span class="o">,</span><span class="nt">최대</span><span class="o">)</span><span class="w"> </span><span class="nt">표기법</span><span class="o">:</span><span class="w">                                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="nt">1</span><span class="o">)</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">선택적</span><span class="o">,</span><span class="w"> </span><span class="nt">최대</span><span class="w"> </span><span class="nt">하나</span><span class="w">                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">(</span><span class="nt">1</span><span class="o">,</span><span class="nt">1</span><span class="o">)</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">필수적</span><span class="o">,</span><span class="w"> </span><span class="nt">정확히</span><span class="w"> </span><span class="nt">하나</span><span class="w">                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="nt">N</span><span class="o">)</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">선택적</span><span class="o">,</span><span class="w"> </span><span class="nt">무제한</span><span class="w"> </span><span class="nt">다수</span><span class="w">                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">(</span><span class="nt">1</span><span class="o">,</span><span class="nt">N</span><span class="o">)</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">필수적</span><span class="o">,</span><span class="w"> </span><span class="nt">최소</span><span class="w"> </span><span class="nt">하나</span><span class="w">                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">    </span><span class="o">(</span><span class="nt">3</span><span class="o">,</span><span class="nt">5</span><span class="o">)</span><span class="w">  </span><span class="err">──</span><span class="w">  </span><span class="nt">최소</span><span class="w"> </span><span class="nt">3</span><span class="o">,</span><span class="w"> </span><span class="nt">최대</span><span class="w"> </span><span class="nt">5</span><span class="w"> </span><span class="o">(</span><span class="nt">특정</span><span class="w"> </span><span class="nt">범위</span><span class="o">)</span><span class="w">                         </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<hr />
<h2 id="6">6. 참여 제약조건<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<p>참여 제약조건은 모든 개체가 관계에 참여해야 하는지 또는 참여가 선택적인지 지정합니다.</p>
<h3 id="_19">전체 참여 (필수적)<a class="header-link" href="#_19" title="Permanent link">&para;</a></h3>
<p>개체 집합의 모든 개체는 최소 하나의 관계 인스턴스에 참여해야 합니다. <strong>이중선</strong> (===)으로 표시합니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐           ┌──────────────┐          ┌──────────┐
  │ EMPLOYEE │═══════════&lt;WORKS_IN&gt;──────────│DEPARTMENT│
  └──────────┘                                      └──────────┘

  모든 직원은 어떤 부서에서 일해야 함.
  (부서 없이 직원이 존재할 수 없음.)
</code></pre></div>

<h3 id="_20">부분 참여 (선택적)<a class="header-link" href="#_20" title="Permanent link">&para;</a></h3>
<p>개체는 관계에 참여할 수도 있고 참여하지 않을 수도 있습니다. <strong>단일선</strong> (---)으로 표시합니다.</p>
<div class="highlight"><pre><span></span><code>  ┌──────────┐           ┌──────────────┐          ┌──────────┐
  │ EMPLOYEE │───────────&lt;MANAGES&gt;═══════════│DEPARTMENT│
  └──────────┘                                      └──────────┘

  모든 직원이 부서를 관리하는 것은 아님 (EMPLOYEE 쪽에 부분).
  모든 부서는 누군가에 의해 관리되어야 함 (DEPARTMENT 쪽에 전체).
</code></pre></div>

<h3 id="_21">카디널리티와 참여 결합<a class="header-link" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">예</span><span class="o">:</span><span class="w"> </span><span class="err">대학</span><span class="w"> </span><span class="n">ER</span><span class="w"> </span><span class="err">다이어그램</span><span class="w"> </span><span class="o">(</span><span class="err">단편</span><span class="o">)</span>

<span class="w">  </span><span class="err">┌──────────┐</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w">  </span><span class="err">┌──────────────┐</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">┌──────────┐</span>
<span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">│═════════</span><span class="o">&lt;</span><span class="n">WORKS_IN</span><span class="o">&gt;</span><span class="err">════════════│</span><span class="n">DEPARTMENT</span><span class="err">│</span>
<span class="w">  </span><span class="err">└──────────┘</span><span class="w">                                    </span><span class="err">└──────────┘</span>

<span class="w">  </span><span class="o">(</span><span class="err">최소</span><span class="o">,</span><span class="err">최대</span><span class="o">)</span><span class="w"> </span><span class="err">읽기</span><span class="o">:</span>
<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="err">쪽</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">전체</span><span class="w"> </span><span class="err">참여</span><span class="o">,</span><span class="w"> </span><span class="err">정확히</span><span class="w"> </span><span class="err">하나의</span><span class="w"> </span><span class="err">부서</span>
<span class="w">    </span><span class="n">Department</span><span class="w"> </span><span class="err">쪽</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">전체</span><span class="w"> </span><span class="err">참여</span><span class="o">,</span><span class="w"> </span><span class="err">최소</span><span class="w"> </span><span class="err">한</span><span class="w"> </span><span class="err">명의</span><span class="w"> </span><span class="err">직원</span>

<span class="w">  </span><span class="err">┌──────────┐</span><span class="w">  </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">┌──────────────┐</span><span class="w">  </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w">  </span><span class="err">┌──────────┐</span>
<span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">STUDENT</span><span class="w">  </span><span class="err">│─────────</span><span class="o">&lt;</span><span class="n">ENROLLS_IN</span><span class="o">&gt;</span><span class="err">──────────│</span><span class="w">  </span><span class="n">COURSE</span><span class="w">  </span><span class="err">│</span>
<span class="w">  </span><span class="err">└──────────┘</span><span class="w">                                    </span><span class="err">└──────────┘</span>

<span class="w">  </span><span class="o">(</span><span class="err">최소</span><span class="o">,</span><span class="err">최대</span><span class="o">)</span><span class="w"> </span><span class="err">읽기</span><span class="o">:</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="err">쪽</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">부분</span><span class="w"> </span><span class="o">(</span><span class="err">학생이</span><span class="w"> </span><span class="err">등록하지</span><span class="w"> </span><span class="err">않을</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">있음</span><span class="o">),</span><span class="w"> </span><span class="err">여러</span><span class="w"> </span><span class="err">과목</span>
<span class="w">    </span><span class="n">Course</span><span class="w"> </span><span class="err">쪽</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">부분</span><span class="w"> </span><span class="o">(</span><span class="err">과목에</span><span class="w"> </span><span class="err">학생이</span><span class="w"> </span><span class="err">없을</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">있음</span><span class="o">),</span><span class="w"> </span><span class="err">여러</span><span class="w"> </span><span class="err">학생</span>
</code></pre></div>

<h3 id="_22">존재 종속성<a class="header-link" href="#_22" title="Permanent link">&para;</a></h3>
<p>개체의 존재가 다른 개체와의 관계에 종속될 때, 해당 관계에 <strong>전체 참여</strong>를 합니다.</p>
<div class="highlight"><pre><span></span><code><span class="err">예</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="o">(</span><span class="err">가족</span><span class="w"> </span><span class="err">구성원</span><span class="o">)</span><span class="err">는</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">없이</span><span class="w"> </span><span class="err">존재할</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">없음</span><span class="o">.</span>
<span class="w">  </span><span class="err">따라서</span><span class="w"> </span><span class="n">DEPENDENT는</span><span class="w"> </span><span class="n">HAS_DEPENDENT</span><span class="w"> </span><span class="err">관계에</span><span class="w"> </span><span class="err">전체</span><span class="w"> </span><span class="err">참여</span><span class="o">.</span>

<span class="w">  </span><span class="err">┌──────────┐</span><span class="w">           </span><span class="err">┌─────────────────┐</span><span class="w">          </span><span class="err">┌═══════════┐</span>
<span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">│───────────</span><span class="o">&lt;</span><span class="n">HAS_DEPENDENT</span><span class="o">&gt;</span><span class="err">════════════║</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w"> </span><span class="err">║</span>
<span class="w">  </span><span class="err">└──────────┘</span><span class="w">                                        </span><span class="err">└═══════════┘</span>

<span class="w">  </span><span class="n">DEPENDENT는</span><span class="w"> </span><span class="err">약한</span><span class="w"> </span><span class="err">개체이기도</span><span class="w"> </span><span class="err">함</span><span class="w"> </span><span class="o">(</span><span class="err">다음에</span><span class="w"> </span><span class="err">논의</span><span class="o">).</span>
</code></pre></div>

<hr />
<h2 id="7">7. 약한 개체<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<p><strong>약한 개체 타입(Weak Entity Type)</strong>은 자신의 속성만으로는 고유하게 식별될 수 없는 개체 타입입니다. 관련된 <strong>소유자(Owner)</strong> (또는 <strong>식별(Identifying)</strong>) 개체 타입에 종속됩니다.</p>
<h3 id="_23">약한 개체의 특성<a class="header-link" href="#_23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">자체</span><span class="w"> </span><span class="n">기본</span><span class="w"> </span><span class="n">키가</span><span class="w"> </span><span class="n">없음</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">동일한</span><span class="w"> </span><span class="n">소유자</span><span class="w"> </span><span class="n">개체와</span><span class="w"> </span><span class="n">관련된</span><span class="w"> </span><span class="n">약한</span><span class="w"> </span><span class="n">개체를</span><span class="w"> </span><span class="n">구별하는</span>
<span class="w">   </span><span class="n">부분</span><span class="w"> </span><span class="n">키</span><span class="p">(</span><span class="n">PARTIAL</span><span class="w"> </span><span class="n">KEY</span><span class="p">,</span><span class="w"> </span><span class="n">식별자</span><span class="p">)</span><span class="n">를</span><span class="w"> </span><span class="n">가짐</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">식별</span><span class="w"> </span><span class="n">관계에</span><span class="w"> </span><span class="n">항상</span><span class="w"> </span><span class="n">전체</span><span class="w"> </span><span class="n">참여</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">소유자</span><span class="w"> </span><span class="n">개체에</span><span class="w"> </span><span class="n">존재</span><span class="o">-</span><span class="n">종속</span>
</code></pre></div>

<h3 id="_24">표기법<a class="header-link" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>  ┌──────────┐              ┌═══════════════┐
  │  OWNER   │══&lt;IDENTIFIES&gt;══║ WEAK ENTITY ║
  │ (강한)   │                ║             ║
  └──────────┘                └═══════════════┘
                                   |
                             (partial_key)
                              [점선 밑줄]

  이중 사각형: 약한 개체 타입
  이중 다이아몬드: 식별 관계 타입
  점선 밑줄: 부분 키 (식별자)
</code></pre></div>

<h3 id="employee-dependent">예: Employee와 Dependent<a class="header-link" href="#employee-dependent" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="err">┌──────────┐</span><span class="w">                </span><span class="err">┌═════════════┐</span>
<span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">│══</span><span class="o">&lt;</span><span class="n">HAS_DEPENDENT</span><span class="o">&gt;</span><span class="err">══║</span><span class="w"> </span><span class="n">DEPENDENT</span><span class="w">  </span><span class="err">║</span>
<span class="w">  </span><span class="err">└──────────┘</span><span class="w">     </span><span class="mi">1</span><span class="err">:</span><span class="n">N</span><span class="w">          </span><span class="err">└═════════════┘</span>
<span class="w">       </span><span class="o">|</span><span class="w">                          </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span><span class="w">              </span><span class="p">(</span><span class="n">dep_name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">birth</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">relationship</span><span class="p">)</span>
<span class="w">     </span><span class="o">[</span><span class="n">PK</span><span class="o">]</span><span class="w">                 </span><span class="o">[</span><span class="n">부분 키</span><span class="o">]</span>

<span class="w">  </span><span class="n">EMPLOYEE는</span><span class="w"> </span><span class="n">기본</span><span class="w"> </span><span class="nl">키</span><span class="p">:</span><span class="w"> </span><span class="n">emp_id를</span><span class="w"> </span><span class="n">가짐</span>
<span class="w">  </span><span class="n">DEPENDENT는</span><span class="w"> </span><span class="n">부분</span><span class="w"> </span><span class="nl">키</span><span class="p">:</span><span class="w"> </span><span class="n">dep_name을</span><span class="w"> </span><span class="n">가짐</span>

<span class="w">  </span><span class="n">DEPENDENT의</span><span class="w"> </span><span class="n">완전한</span><span class="w"> </span><span class="nl">식별</span><span class="p">:</span>
<span class="w">    </span><span class="p">(</span><span class="n">소유자의</span><span class="w"> </span><span class="n">emp_id</span><span class="p">,</span><span class="w"> </span><span class="n">dep_name</span><span class="p">)</span>

<span class="w">  </span><span class="nl">예</span><span class="p">:</span>
<span class="w">    </span><span class="n">직원</span><span class="w"> </span><span class="n">E001</span><span class="w"> </span><span class="p">(</span><span class="n">Alice</span><span class="p">)</span><span class="n">의</span><span class="w"> </span><span class="nl">피부양자</span><span class="p">:</span>
<span class="w">      </span><span class="p">(</span><span class="n">E001</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Tom&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Alice의</span><span class="w"> </span><span class="n">아들</span><span class="w"> </span><span class="n">Tom</span>
<span class="w">      </span><span class="p">(</span><span class="n">E001</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Sue&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Alice의</span><span class="w"> </span><span class="n">딸</span><span class="w"> </span><span class="n">Sue</span>

<span class="w">    </span><span class="n">직원</span><span class="w"> </span><span class="n">E002</span><span class="w"> </span><span class="p">(</span><span class="n">Bob</span><span class="p">)</span><span class="n">의</span><span class="w"> </span><span class="nl">피부양자</span><span class="p">:</span>
<span class="w">      </span><span class="p">(</span><span class="n">E002</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Tom&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">Bob의</span><span class="w"> </span><span class="n">아들</span><span class="w"> </span><span class="n">Tom</span><span class="w"> </span><span class="p">(</span><span class="n">E001의</span><span class="w"> </span><span class="n">Tom과</span><span class="w"> </span><span class="n">다른</span><span class="w"> </span><span class="n">사람</span><span class="err">!</span><span class="p">)</span>

<span class="w">  </span><span class="n">소유자의</span><span class="w"> </span><span class="n">키</span><span class="w"> </span><span class="n">없이</span><span class="w"> </span><span class="ss">&quot;Tom&quot;</span><span class="n">만으로는</span><span class="w"> </span><span class="n">모호함</span><span class="p">.</span>
</code></pre></div>

<h3 id="vs">약한 개체 vs. 강한 개체<a class="header-link" href="#vs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌──────────────────────────────┬──────────────────────────────────┐</span>
<span class="err">│</span>       <span class="err">강한</span> <span class="err">개체</span>               <span class="err">│</span>         <span class="err">약한</span> <span class="err">개체</span>                 <span class="err">│</span>
<span class="err">├──────────────────────────────┼──────────────────────────────────┤</span>
<span class="err">│</span> <span class="err">자체</span> <span class="err">기본</span> <span class="err">키를</span> <span class="err">가짐</span>           <span class="err">│</span> <span class="err">부분</span> <span class="err">키만</span> <span class="err">가짐</span>                    <span class="err">│</span>
<span class="err">│</span> <span class="err">독립적으로</span> <span class="err">존재</span> <span class="err">가능</span>          <span class="err">│</span> <span class="err">소유자에</span> <span class="err">존재</span> <span class="err">종속</span>                <span class="err">│</span>
<span class="err">│</span> <span class="err">단일</span> <span class="err">사각형</span>                  <span class="err">│</span> <span class="err">이중</span> <span class="err">사각형</span>                       <span class="err">│</span>
<span class="err">│</span> <span class="err">부분</span> <span class="err">참여</span> <span class="err">가능</span>               <span class="err">│</span> <span class="err">전체</span> <span class="err">참여</span> <span class="err">필요</span>                    <span class="err">│</span>
<span class="err">│</span> <span class="err">예</span><span class="p">:</span> <span class="n">EMPLOYEE</span><span class="p">,</span> <span class="n">COURSE</span>         <span class="err">│</span> <span class="err">예</span><span class="p">:</span> <span class="n">DEPENDENT</span><span class="p">,</span> <span class="n">ROOM</span>              <span class="err">│</span>
<span class="err">└──────────────────────────────┴──────────────────────────────────┘</span>

<span class="err">약한</span> <span class="err">개체의</span> <span class="err">더</span> <span class="err">많은</span> <span class="err">예</span><span class="p">:</span>
  <span class="n">BUILDING</span> <span class="p">(</span><span class="err">강한</span><span class="p">)</span> <span class="err">→</span> <span class="n">ROOM</span> <span class="p">(</span><span class="err">약한</span><span class="p">):</span> <span class="n">room_number가</span> <span class="err">부분</span> <span class="err">키</span>
  <span class="n">INVOICE</span> <span class="p">(</span><span class="err">강한</span><span class="p">)</span> <span class="err">→</span> <span class="n">LINE_ITEM</span> <span class="p">(</span><span class="err">약한</span><span class="p">):</span> <span class="n">line_number가</span> <span class="err">부분</span> <span class="err">키</span>
  <span class="n">COURSE</span> <span class="p">(</span><span class="err">강한</span><span class="p">)</span> <span class="err">→</span> <span class="n">SECTION</span> <span class="p">(</span><span class="err">약한</span><span class="p">):</span> <span class="n">section_number가</span> <span class="err">부분</span> <span class="err">키</span>
</code></pre></div>

<hr />
<h2 id="8-er-eer">8. 향상된 ER (EER) 모델<a class="header-link" href="#8-er-eer" title="Permanent link">&para;</a></h2>
<p><strong>향상된 ER(Enhanced ER, EER)</strong> 모델은 기본 ER 모델을 객체 지향 모델링에서 차용한 추가 개념으로 확장합니다: 특수화, 일반화, 상속.</p>
<h3 id="_25">특수화<a class="header-link" href="#_25" title="Permanent link">&para;</a></h3>
<p><strong>특수화(Specialization)</strong>는 구별되는 특성을 기반으로 개체 타입의 하위 클래스를 정의하는 하향식 프로세스입니다.</p>
<div class="highlight"><pre><span></span><code>                    ┌──────────┐
                    │  PERSON  │
                    └────┬─────┘
                         │
                        / \
                       / d \        d = 분리(disjoint)
                      /     \       o = 중첩(overlapping)
                     /       \
              ┌──────────┐  ┌──────────┐
              │ STUDENT  │  │ EMPLOYEE │
              └──────────┘  └──────────┘

  PERSON은 상위클래스(SUPERCLASS)
  STUDENT와 EMPLOYEE는 하위클래스(SUBCLASS)
  d/o가 있는 원은 제약조건을 지정
</code></pre></div>

<h3 id="_26">일반화<a class="header-link" href="#_26" title="Permanent link">&para;</a></h3>
<p><strong>일반화(Generalization)</strong>는 여러 개체 타입의 공통 특징을 상위 수준(일반) 개체 타입으로 추상화하는 상향식 프로세스입니다.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="err">일반화</span><span class="w"> </span><span class="err">예</span><span class="p">:</span>

<span class="w">  </span><span class="n">CAR와</span><span class="w"> </span><span class="n">TRUCK이</span><span class="w"> </span><span class="err">모두</span><span class="w"> </span><span class="err">다음을</span><span class="w"> </span><span class="err">가지고</span><span class="w"> </span><span class="err">있음을</span><span class="w"> </span><span class="err">관찰</span><span class="p">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">vehicle_id</span><span class="p">,</span><span class="w"> </span><span class="n">make</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">color</span>

<span class="w">  </span><span class="err">따라서</span><span class="w"> </span><span class="err">일반화</span><span class="p">:</span>

<span class="w">                    </span><span class="err">┌──────────┐</span>
<span class="w">                    </span><span class="err">│</span><span class="w"> </span><span class="n">VEHICLE</span><span class="w">  </span><span class="err">│</span><span class="w">  </span><span class="err">←</span><span class="w"> </span><span class="err">일반화된</span><span class="w"> </span><span class="err">상위클래스</span>
<span class="w">                    </span><span class="err">└────┬─────┘</span>
<span class="w">                         </span><span class="err">│</span>
<span class="w">                        </span><span class="o">/</span><span class="w"> </span>\
<span class="w">                       </span><span class="o">/</span><span class="w"> </span><span class="n">d</span><span class="w"> </span>\
<span class="w">                      </span><span class="o">/</span><span class="w">     </span>\
<span class="w">              </span><span class="err">┌──────────┐</span><span class="w">  </span><span class="err">┌──────────┐</span>
<span class="w">              </span><span class="err">│</span><span class="w">   </span><span class="n">CAR</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">  </span><span class="n">TRUCK</span><span class="w">   </span><span class="err">│</span>
<span class="w">              </span><span class="err">└──────────┘</span><span class="w">  </span><span class="err">└──────────┘</span>
<span class="w">              </span><span class="p">(</span><span class="n">num_doors</span><span class="p">)</span><span class="w">   </span><span class="p">(</span><span class="n">payload_capacity</span><span class="p">)</span>
<span class="w">              </span><span class="p">(</span><span class="n">trunk_size</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="n">num_axles</span><span class="p">)</span>
</code></pre></div>

<h3 id="_27">특수화/일반화 제약조건<a class="header-link" href="#_27" title="Permanent link">&para;</a></h3>
<p>두 개의 직교 제약조건이 특수화를 지배합니다:</p>
<p><strong>제약조건 1: 분리성(Disjointness)</strong></p>
<div class="highlight"><pre><span></span><code>분리(d):          개체는 최대 하나의 하위클래스에 속할 수 있음
                  예: 차량은 CAR 또는 TRUCK이며, 둘 다는 아님

중첩(o):          개체는 여러 하위클래스에 속할 수 있음
                  예: 사람은 STUDENT이면서 EMPLOYEE일 수 있음
</code></pre></div>

<p><strong>제약조건 2: 완전성(Completeness)</strong></p>
<div class="highlight"><pre><span></span><code><span class="err">전체</span><span class="o">:</span><span class="w">    </span><span class="err">모든</span><span class="w"> </span><span class="err">상위클래스</span><span class="w"> </span><span class="err">개체는</span><span class="w"> </span><span class="err">최소</span><span class="w"> </span><span class="err">하나의</span><span class="w"> </span><span class="err">하위클래스에</span><span class="w"> </span><span class="err">속해야</span><span class="w"> </span><span class="err">함</span>
<span class="w">         </span><span class="err">상위클래스에서</span><span class="w"> </span><span class="err">특수화</span><span class="w"> </span><span class="err">원으로의</span><span class="w"> </span><span class="err">이중선</span>
<span class="w">         </span><span class="err">예</span><span class="o">:</span><span class="w"> </span><span class="err">모든</span><span class="w"> </span><span class="n">VEHICLE은</span><span class="w"> </span><span class="n">CAR</span><span class="w"> </span><span class="err">또는</span><span class="w"> </span><span class="n">TRUCK이어야</span><span class="w"> </span><span class="err">함</span>

<span class="err">부분</span><span class="o">:</span><span class="w">    </span><span class="err">상위클래스</span><span class="w"> </span><span class="err">개체가</span><span class="w"> </span><span class="err">어떤</span><span class="w"> </span><span class="err">하위클래스에도</span><span class="w"> </span><span class="err">속하지</span><span class="w"> </span><span class="err">않을</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">있음</span>
<span class="w">         </span><span class="err">상위클래스에서</span><span class="w"> </span><span class="err">특수화</span><span class="w"> </span><span class="err">원으로의</span><span class="w"> </span><span class="err">단일선</span>
<span class="w">         </span><span class="err">예</span><span class="o">:</span><span class="w"> </span><span class="n">PERSON은</span><span class="w"> </span><span class="n">STUDENT도</span><span class="w"> </span><span class="n">EMPLOYEE도</span><span class="w"> </span><span class="err">아닐</span><span class="w"> </span><span class="err">수</span><span class="w"> </span><span class="err">있음</span>
</code></pre></div>

<h3 id="_28">네 가지 조합<a class="header-link" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌──────────────────────────────────────────────────────────────────┐
│              특수화 제약조건 조합                                   │
│                                                                  │
│  {분리, 전체}:      모든 개체가 정확히 하나의 하위클래스에         │
│                     예: VEHICLE → CAR xor TRUCK                  │
│                                                                  │
│  {분리, 부분}:      개체가 최대 하나의 하위클래스에               │
│                     예: ACCOUNT → SAVINGS xor CHECKING           │
│                     (일부 계좌는 둘 다 아닐 수 있음)              │
│                                                                  │
│  {중첩, 전체}:      개체가 하나 이상의 하위클래스에               │
│                     예: PERSON → STUDENT and/or                  │
│                     EMPLOYEE (그러나 최소 하나)                   │
│                                                                  │
│  {중첩, 부분}:      개체가 0개 이상의 하위클래스에                │
│                     예: PERSON → STUDENT and/or                  │
│                     EMPLOYEE (둘 다 아닐 수 있음)                │
└──────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="_29">속성 상속<a class="header-link" href="#_29" title="Permanent link">&para;</a></h3>
<p>하위클래스는 상위클래스의 모든 속성을 <strong>상속</strong>하며 하위클래스에 특정한 추가 속성을 가질 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>            ┌──────────────────┐
            │      PERSON      │
            │──────────────────│
            │ person_id (PK)   │
            │ name             │
            │ date_of_birth    │
            │ email            │
            └────────┬─────────┘
                     │
                    / \
                   / o \     (중첩, 부분)
                  /     \
    ┌────────────────┐  ┌────────────────┐
    │    STUDENT     │  │   EMPLOYEE     │
    │────────────────│  │────────────────│
    │ + student_id   │  │ + emp_id       │
    │ + year         │  │ + salary       │
    │ + gpa          │  │ + hire_date    │
    │ + major        │  │ + department   │
    └────────────────┘  └────────────────┘

    STUDENT는 상속: person_id, name, date_of_birth, email
    그리고 추가: student_id, year, gpa, major

    STUDENT이면서 EMPLOYEE인 PERSON은 모든 속성을 가짐.
</code></pre></div>

<h3 id="_30">다중 상속과 범주 (합집합 타입)<a class="header-link" href="#_30" title="Permanent link">&para;</a></h3>
<p><strong>범주(Category)</strong> (또는 합집합 타입)는 여러 가능한 상위클래스를 가진 하위클래스입니다:</p>
<div class="highlight"><pre><span></span><code>            ┌──────────┐      ┌──────────┐      ┌──────────┐
            │  PERSON  │      │ COMPANY  │      │   BANK   │
            └────┬─────┘      └────┬─────┘      └────┬─────┘
                 │                 │                  │
                 └─────────────────┼──────────────────┘
                                   │
                                  (U)    ← 합집합 / 범주
                                   │
                            ┌──────────────┐
                            │   OWNER      │  (차량의)
                            └──────────────┘

    OWNER는 PERSON, COMPANY, 또는 BANK 중 하나일 수 있음.
    (특수화와 반대로, 하위클래스가 하나의 상위클래스를 공유.)
</code></pre></div>

<hr />
<h2 id="9-er-">9. ER-관계형 매핑 알고리즘<a class="header-link" href="#9-er-" title="Permanent link">&para;</a></h2>
<p>이 섹션에서는 ER/EER 다이어그램을 관계 스키마로 변환하는 체계적인 <strong>7단계 알고리즘</strong>을 제시합니다.</p>
<h3 id="1_1">1단계: 강한 개체 타입 매핑<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>각 강한(일반) 개체 타입 E에 대해, E의 모든 단순 속성을 포함하는 관계 R을 생성합니다. R의 기본 키를 선택합니다.</p>
<div class="highlight"><pre><span></span><code>ER:
  ┌──────────┐
  │ EMPLOYEE │
  └──────────┘
  (emp_id), (name), (salary), (hire_date)

관계형:
  EMPLOYEE(emp_id, first_name, last_name, salary, hire_date)
  PK: emp_id

규칙:
  <span class="k">-</span> 복합 속성: 리프 구성 요소만 포함
    (name → first_name, last_name)
  <span class="k">-</span> 유도 속성: 생략 (쿼리 시 계산)
  <span class="k">-</span> 다중값 속성: 6단계에서 처리
</code></pre></div>

<h3 id="2_1">2단계: 약한 개체 타입 매핑<a class="header-link" href="#2_1" title="Permanent link">&para;</a></h3>
<p>소유자 개체 E를 가진 각 약한 개체 타입 W에 대해, 다음을 포함하는 관계 R을 생성:
- W의 모든 단순 속성
- E의 기본 키를 외래 키로
- R의 기본 키 = E의 PK + W의 부분 키</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="p">:</span>
  <span class="err">┌──────────┐</span>    <span class="mi">1</span><span class="p">:</span><span class="n">N</span>    <span class="err">┌═══════════┐</span>
  <span class="err">│</span> <span class="n">EMPLOYEE</span> <span class="err">│══════════════║</span> <span class="n">DEPENDENT</span> <span class="err">║</span>
  <span class="err">└──────────┘</span>              <span class="err">└═══════════┘</span>
  <span class="p">(</span><span class="n">emp_id</span><span class="p">)</span>             <span class="p">(</span><span class="n">dep_name</span><span class="p">),</span> <span class="p">(</span><span class="n">birth_date</span><span class="p">),</span> <span class="p">(</span><span class="n">relationship</span><span class="p">)</span>

<span class="err">관계형</span><span class="p">:</span>
  <span class="n">DEPENDENT</span><span class="p">(</span><span class="n">emp_id</span><span class="p">,</span> <span class="n">dep_name</span><span class="p">,</span> <span class="n">birth_date</span><span class="p">,</span> <span class="n">relationship</span><span class="p">)</span>
  <span class="n">PK</span><span class="p">:</span> <span class="p">(</span><span class="n">emp_id</span><span class="p">,</span> <span class="n">dep_name</span><span class="p">)</span>
  <span class="n">FK</span><span class="p">:</span> <span class="n">emp_id</span> <span class="err">→</span> <span class="n">EMPLOYEE</span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span> <span class="n">ON</span> <span class="n">DELETE</span> <span class="n">CASCADE</span>
</code></pre></div>

<h3 id="3-11">3단계: 이항 1:1 관계 타입 매핑<a class="header-link" href="#3-11" title="Permanent link">&para;</a></h3>
<p>세 가지 접근법 (참여 제약조건에 따라 선택):</p>
<div class="highlight"><pre><span></span><code>접근법 A: 외래 키 접근법 (선호됨)
  한 개체의 PK를 다른 개체에 FK로 추가.
  전체 참여가 있는 쪽에 FK 추가를 선호.

  ER: EMPLOYEE (0,1) ──&lt;MANAGES&gt;── (1,1) DEPARTMENT

  관계형:
    EMPLOYEE(emp_id, name, salary)
    DEPARTMENT(dept_id, dept_name, mgr_emp_id, mgr_start_date)
                                   ^^^^^^^^^
                                   FK → EMPLOYEE(emp_id)
    (DEPARTMENT가 전체 참여를 가지므로 DEPARTMENT에 FK:
     모든 부서는 관리자를 가져야 함)


접근법 B: 관계 병합
  두 개체 타입을 하나의 관계로 병합.
  양쪽이 모두 전체 참여를 가질 때만 가능.


접근법 C: 교차 참조 (관계 관계)
  관계를 위한 별도의 관계 생성.
  관계가 많은 속성을 가질 때 유용.
</code></pre></div>

<h3 id="4-1n">4단계: 이항 1:N 관계 타입 매핑<a class="header-link" href="#4-1n" title="Permanent link">&para;</a></h3>
<p>"1-쪽" 개체의 PK를 "N-쪽" 개체에 FK로 추가합니다.</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="o">:</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="err">──</span><span class="o">&lt;</span><span class="n">HAS</span><span class="o">&gt;</span><span class="err">──</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="n">EMPLOYEE</span>

<span class="err">관계형</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="o">(</span><span class="n">dept_id</span><span class="o">,</span><span class="w"> </span><span class="n">dept_name</span><span class="o">,</span><span class="w"> </span><span class="n">budget</span><span class="o">)</span>
<span class="w">  </span><span class="n">EMPLOYEE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">salary</span><span class="o">,</span><span class="w"> </span><span class="n">dept_id</span><span class="o">)</span>
<span class="w">                                 </span><span class="o">^^^^^^^</span>
<span class="w">                                 </span><span class="n">FK</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="o">(</span><span class="n">dept_id</span><span class="o">)</span>

<span class="w">  </span><span class="err">관계</span><span class="w"> </span><span class="err">속성은</span><span class="w"> </span><span class="n">N</span><span class="o">-</span><span class="err">쪽</span><span class="w"> </span><span class="err">개체와</span><span class="w"> </span><span class="err">함께</span><span class="w"> </span><span class="err">감</span><span class="o">:</span>
<span class="w">  </span><span class="n">HAS가</span><span class="w"> </span><span class="o">(</span><span class="n">start_date</span><span class="o">)</span><span class="err">를</span><span class="w"> </span><span class="err">가지면</span><span class="o">,</span><span class="w"> </span><span class="n">EMPLOYEE에</span><span class="w"> </span><span class="err">추가</span><span class="o">.</span>
</code></pre></div>

<h3 id="5-mn">5단계: 이항 M:N 관계 타입 매핑<a class="header-link" href="#5-mn" title="Permanent link">&para;</a></h3>
<p>새로운 <strong>관계 관계(Relationship Relation)</strong> R을 생성합니다. 포함:
- 양쪽 참여 개체 타입의 PK를 FK로
- 관계의 모든 속성
- R의 PK = 양쪽 FK의 조합</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="o">:</span><span class="w"> </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">M</span><span class="o">)</span><span class="w"> </span><span class="err">──</span><span class="o">&lt;</span><span class="n">ENROLLS</span><span class="o">&gt;</span><span class="err">──</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="n">COURSE</span>
<span class="w">    </span><span class="err">속성</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span>

<span class="err">관계형</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">)</span>
<span class="w">  </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">title</span><span class="o">,</span><span class="w"> </span><span class="n">credits</span><span class="o">)</span>
<span class="w">  </span><span class="n">ENROLLMENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">,</span><span class="w"> </span><span class="n">grade</span><span class="o">)</span>
<span class="w">  </span><span class="n">PK</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">student_id</span><span class="o">,</span><span class="w"> </span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">)</span>
<span class="w">  </span><span class="n">FK</span><span class="o">:</span><span class="w"> </span><span class="n">student_id</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">student_id</span><span class="o">)</span>
<span class="w">      </span><span class="n">course_id</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">)</span>
</code></pre></div>

<h3 id="6_1">6단계: 다중값 속성 매핑<a class="header-link" href="#6_1" title="Permanent link">&para;</a></h3>
<p>각 다중값 속성에 대해 새로운 관계를 생성합니다. 포함:
- 다중값 속성
- 개체의 PK를 FK로
- PK = FK + 다중값 속성</p>
<div class="highlight"><pre><span></span><code><span class="n">ER</span><span class="o">:</span><span class="w"> </span><span class="n">EMPLOYEE가</span><span class="w"> </span><span class="err">다중값</span><span class="w"> </span><span class="err">속성</span><span class="w"> </span><span class="o">{</span><span class="n">phone_numbers</span><span class="o">}</span><span class="err">를</span><span class="w"> </span><span class="err">가짐</span>

<span class="err">관계형</span><span class="o">:</span>
<span class="w">  </span><span class="n">EMPLOYEE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">salary</span><span class="o">)</span>
<span class="w">  </span><span class="n">EMPLOYEE_PHONE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">phone_number</span><span class="o">)</span>
<span class="w">  </span><span class="n">PK</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">emp_id</span><span class="o">,</span><span class="w"> </span><span class="n">phone_number</span><span class="o">)</span>
<span class="w">  </span><span class="n">FK</span><span class="o">:</span><span class="w"> </span><span class="n">emp_id</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="o">(</span><span class="n">emp_id</span><span class="o">)</span><span class="w"> </span><span class="n">ON</span><span class="w"> </span><span class="n">DELETE</span><span class="w"> </span><span class="n">CASCADE</span>
</code></pre></div>

<h3 id="7_1">7단계: 특수화/일반화 매핑<a class="header-link" href="#7_1" title="Permanent link">&para;</a></h3>
<p>네 가지 옵션이 존재합니다. 최선의 선택은 제약조건에 따라 다릅니다:</p>
<p><strong>옵션 A: 타입 식별자를 사용한 단일 테이블</strong></p>
<div class="highlight"><pre><span></span><code><span class="nx">PERSON</span><span class="p">(</span><span class="nx">person_id</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">dob</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">person_type</span><span class="p">,</span>
<span class="w">       </span><span class="o">--</span><span class="w"> </span><span class="nx">STUDENT</span><span class="w"> </span><span class="nx">속성</span><span class="w"> </span><span class="p">(</span><span class="nx">학생이</span><span class="w"> </span><span class="nx">아니면</span><span class="w"> </span><span class="nx">NULL</span><span class="p">)</span>
<span class="w">       </span><span class="nx">student_id</span><span class="p">,</span><span class="w"> </span><span class="nx">year</span><span class="p">,</span><span class="w"> </span><span class="nx">gpa</span><span class="p">,</span><span class="w"> </span><span class="nx">major</span><span class="p">,</span>
<span class="w">       </span><span class="o">--</span><span class="w"> </span><span class="nx">EMPLOYEE</span><span class="w"> </span><span class="nx">속성</span><span class="w"> </span><span class="p">(</span><span class="nx">직원이</span><span class="w"> </span><span class="nx">아니면</span><span class="w"> </span><span class="nx">NULL</span><span class="p">)</span>
<span class="w">       </span><span class="nx">emp_id</span><span class="p">,</span><span class="w"> </span><span class="nx">salary</span><span class="p">,</span><span class="w"> </span><span class="nx">hire_date</span><span class="p">,</span><span class="w"> </span><span class="nx">department</span><span class="p">)</span>

<span class="nx">person_type</span><span class="w"> </span><span class="nx">IN</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;S&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;E&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">SE</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;N&#39;</span><span class="p">)</span><span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="nx">Student</span><span class="p">,</span><span class="w"> </span><span class="nx">Employee</span><span class="p">,</span><span class="w"> </span><span class="nx">Both</span><span class="p">,</span><span class="w"> </span><span class="nx">Neither</span>

<span class="nx">장점</span><span class="p">:</span><span class="w"> </span><span class="nx">간단</span><span class="p">,</span><span class="w"> </span><span class="nx">조인</span><span class="w"> </span><span class="nx">필요</span><span class="w"> </span><span class="nx">없음</span>
<span class="nx">단점</span><span class="p">:</span><span class="w"> </span><span class="nx">많은</span><span class="w"> </span><span class="nx">NULL</span><span class="p">,</span><span class="w"> </span><span class="nx">하위클래스</span><span class="w"> </span><span class="nx">제약조건</span><span class="w"> </span><span class="nx">시행</span><span class="w"> </span><span class="nx">어려움</span>
<span class="nx">최적</span><span class="p">:</span><span class="w"> </span><span class="nx">하위클래스가</span><span class="w"> </span><span class="nx">적고</span><span class="p">,</span><span class="w"> </span><span class="nx">모든</span><span class="w"> </span><span class="nx">타입에</span><span class="w"> </span><span class="nx">걸친</span><span class="w"> </span><span class="nx">쿼리가</span><span class="w"> </span><span class="nx">많음</span>
</code></pre></div>

<p><strong>옵션 B: 각 하위클래스에 대한 별도 테이블 (상위클래스 PK 상속)</strong></p>
<div class="highlight"><pre><span></span><code>PERSON(person_id, name, dob, email)
STUDENT(person_id, student_id, year, gpa, major)
  FK: person_id → PERSON(person_id)
EMPLOYEE(person_id, emp_id, salary, hire_date, department)
  FK: person_id → PERSON(person_id)

장점: NULL 없음, 깔끔한 분리
단점: 전체 데이터를 얻으려면 조인 필요
최적: 하위클래스 특정 속성이 많고, 중첩 허용
</code></pre></div>

<p><strong>옵션 C: 별도 테이블 (각각 전체 속성)</strong></p>
<div class="highlight"><pre><span></span><code>STUDENT(person_id, name, dob, email, student_id, year, gpa, major)
EMPLOYEE(person_id, name, dob, email, emp_id, salary, hire_date, dept)

장점: 하위클래스 쿼리에 조인 필요 없음
단점: 중복 (공유 속성 중복), 모든 사람에 걸친 쿼리 어려움,
      중첩은 데이터 중복 필요
최적: 분리, 전체 특수화
</code></pre></div>

<p><strong>옵션 D: 하이브리드 (상위클래스 + 특수화 테이블)</strong></p>
<div class="highlight"><pre><span></span><code>사용 패턴에 따라 선택:
  - 자주 함께 쿼리됨 → 옵션 A
  - 대부분 별도로 쿼리됨 → 옵션 C
  - 유연성 필요 → 옵션 B
</code></pre></div>

<h3 id="_31">매핑 결정 표<a class="header-link" href="#_31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌──────────────────────────┬───────────────────────────────────┐
│ ER 구성                  │ 관계형 매핑                        │
├──────────────────────────┼───────────────────────────────────┤
│ 강한 개체                │ 새 관계, 자체 PK                   │
│ 약한 개체                │ 새 관계, 복합 PK                   │
│ 1:1 관계                 │ 한 개체에 FK (전체 쪽)             │
│ 1:N 관계                 │ N-쪽 개체에 FK                     │
│ M:N 관계                 │ 새 관계 (브리지 테이블)            │
│ 다중값 속성              │ 새 관계                            │
│ 복합 속성                │ 구성 요소로 평탄화                 │
│ 유도 속성                │ 생략 (쿼리 시 계산)                │
│ 특수화/일반화            │ 옵션 A, B, C, 또는 D               │
│ 삼항 관계                │ 3개의 FK를 가진 새 관계            │
│ 재귀 관계                │ 자신의 테이블에 FK (또는 브리지)   │
└──────────────────────────┴───────────────────────────────────┘
</code></pre></div>

<hr />
<h2 id="10">10. 설계 사례 연구: 대학 데이터베이스<a class="header-link" href="#10" title="Permanent link">&para;</a></h2>
<p>대학 데이터베이스를 위한 완전한 ER 다이어그램을 설계하고 관계 스키마로 매핑해 봅시다.</p>
<h3 id="_32">요구사항<a class="header-link" href="#_32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">대학은</span><span class="w"> </span><span class="n">각각</span><span class="w"> </span><span class="n">이름</span><span class="p">,</span><span class="w"> </span><span class="n">건물</span><span class="p">,</span><span class="w"> </span><span class="n">예산을</span><span class="w"> </span><span class="n">가진</span><span class="w"> </span><span class="n">DEPARTMENT를</span><span class="w"> </span><span class="n">가짐</span><span class="mf">.</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">각</span><span class="w"> </span><span class="n">부서는</span><span class="w"> </span><span class="n">한</span><span class="w"> </span><span class="n">명의</span><span class="w"> </span><span class="n">CHAIRPERSON</span><span class="w"> </span><span class="p">(</span><span class="n">교수</span><span class="w"> </span><span class="n">구성원</span><span class="p">)</span><span class="n">을</span><span class="w"> </span><span class="n">가짐</span><span class="mf">.</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">FACULTY</span><span class="w"> </span><span class="n">구성원은</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">이름</span><span class="p">,</span><span class="w"> </span><span class="n">직급</span><span class="p">,</span><span class="w"> </span><span class="n">급여를</span><span class="w"> </span><span class="n">가짐</span><span class="mf">.</span><span class="w"> </span><span class="n">각각</span><span class="w"> </span><span class="n">하나의</span><span class="w"> </span><span class="n">부서에</span><span class="w"> </span><span class="n">속함</span><span class="mf">.</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">STUDENT는</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">이름</span><span class="p">,</span><span class="w"> </span><span class="n">학년</span><span class="p">,</span><span class="w"> </span><span class="n">GPA를</span><span class="w"> </span><span class="n">가짐</span><span class="mf">.</span><span class="w"> </span><span class="n">각각</span><span class="w"> </span><span class="n">전공</span><span class="w"> </span><span class="n">부서를</span><span class="w"> </span><span class="n">가짐</span><span class="mf">.</span>
<span class="mf">5.</span><span class="w"> </span><span class="n">COURSE는</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">제목</span><span class="p">,</span><span class="w"> </span><span class="n">학점을</span><span class="w"> </span><span class="n">가지며</span><span class="w"> </span><span class="n">부서에</span><span class="w"> </span><span class="n">속함</span><span class="mf">.</span>
<span class="mf">6.</span><span class="w"> </span><span class="n">교수</span><span class="w"> </span><span class="n">구성원이</span><span class="w"> </span><span class="n">과목을</span><span class="w"> </span><span class="n">가르침</span><span class="p">(</span><span class="n">TEACH</span><span class="p">)</span><span class="mf">.</span><span class="w"> </span><span class="n">각</span><span class="w"> </span><span class="n">개설은</span><span class="w"> </span><span class="n">특정</span><span class="w"> </span><span class="n">학기에</span><span class="w"> </span><span class="n">있음</span><span class="mf">.</span>
<span class="w">   </span><span class="n">과목은</span><span class="w"> </span><span class="n">다른</span><span class="w"> </span><span class="n">교수가</span><span class="w"> </span><span class="n">가르치는</span><span class="w"> </span><span class="n">여러</span><span class="w"> </span><span class="n">섹션을</span><span class="w"> </span><span class="n">가질</span><span class="w"> </span><span class="n">수</span><span class="w"> </span><span class="n">있음</span><span class="mf">.</span>
<span class="mf">7.</span><span class="w"> </span><span class="n">학생이</span><span class="w"> </span><span class="n">과목</span><span class="w"> </span><span class="n">섹션에</span><span class="w"> </span><span class="n">등록</span><span class="p">(</span><span class="n">ENROLL</span><span class="p">)</span><span class="n">하고</span><span class="w"> </span><span class="n">성적을</span><span class="w"> </span><span class="n">받음</span><span class="mf">.</span>
<span class="mf">8.</span><span class="w"> </span><span class="n">학생은</span><span class="w"> </span><span class="n">여러</span><span class="w"> </span><span class="n">전화번호와</span><span class="w"> </span><span class="n">이메일</span><span class="w"> </span><span class="n">주소를</span><span class="w"> </span><span class="n">가질</span><span class="w"> </span><span class="n">수</span><span class="w"> </span><span class="n">있음</span><span class="mf">.</span>
<span class="mf">9.</span><span class="w"> </span><span class="n">교수는</span><span class="w"> </span><span class="n">학생을</span><span class="w"> </span><span class="n">조언할</span><span class="w"> </span><span class="n">수</span><span class="w"> </span><span class="n">있음</span><span class="p">(</span><span class="n">ADVISE</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">학생은</span><span class="w"> </span><span class="n">한</span><span class="w"> </span><span class="n">명의</span><span class="w"> </span><span class="n">조언자를</span><span class="w"> </span><span class="n">가짐</span><span class="p">)</span><span class="mf">.</span>
</code></pre></div>

<h3 id="er-ascii">ER 다이어그램 (ASCII)<a class="header-link" href="#er-ascii" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code> {phone}  {email}
    \      /
     \    /
  ┌──────────┐ (0,1)   (1,1) ┌──────────┐
  │ STUDENT  │═════&lt;ADVISES&gt;═════│ FACULTY  │
  └──────────┘                   └──────────┘
  (sid)(name)                    (fid)(name)
  (year)(gpa)                    (rank)(salary)
       |                              |
    (1,N)|                         (1,N)|
       |                              |
  &lt;ENROLLED_IN&gt;                   &lt;TEACHES&gt;
       |                              |
    (1,N)|                         (1,N)|
       |                              |
  ┌══════════════┐               ┌══════════════┐
  ║   SECTION    ║               ║   SECTION    ║
  ║ (sec_number) ║               ║              ║
  └══════════════┘               └══════════════┘
       |                              |
    (1,1)|                            |
       |                              |
  ┌──────────┐     (1,N)    (1,1)  ┌──────────┐  (1,1)  ┌──────────┐
  │  COURSE  │═════&lt;OFFERED_BY&gt;══════│DEPARTMENT│════&lt;CHAIRS&gt;═════│ FACULTY  │
  └──────────┘                       └──────────┘                  (이미
  (cid)(title)                       (did)(name)                   표시됨)
  (credits)                          (building)
                                     (budget)
</code></pre></div>

<p>참고: 위는 단순화되었습니다. 더 정확한 표현은 SECTION을 COURSE의 약한 개체로 모델링하고, TEACHES는 FACULTY를 SECTION에, ENROLLED_IN은 STUDENT를 SECTION에 연결합니다.</p>
<h3 id="er_4">정제된 ER 설계<a class="header-link" href="#er_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">개체</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="o">(</span><span class="n">dept_id</span><span class="o">,</span><span class="w"> </span><span class="n">dept_name</span><span class="o">,</span><span class="w"> </span><span class="n">building</span><span class="o">,</span><span class="w"> </span><span class="n">budget</span><span class="o">)</span><span class="w">              </span><span class="err">강한</span>
<span class="w">  </span><span class="n">FACULTY</span><span class="o">(</span><span class="n">fac_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">rank</span><span class="o">,</span><span class="w"> </span><span class="n">salary</span><span class="o">)</span><span class="w">                           </span><span class="err">강한</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="o">(</span><span class="n">stu_id</span><span class="o">,</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">,</span><span class="w"> </span><span class="n">gpa</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="n">phone</span><span class="o">},</span><span class="w"> </span><span class="o">{</span><span class="n">email</span><span class="o">})</span><span class="w">           </span><span class="err">강한</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">MV</span>
<span class="w">  </span><span class="n">COURSE</span><span class="o">(</span><span class="n">course_id</span><span class="o">,</span><span class="w"> </span><span class="n">title</span><span class="o">,</span><span class="w"> </span><span class="n">credits</span><span class="o">)</span><span class="w">                             </span><span class="err">강한</span>
<span class="w">  </span><span class="n">SECTION</span><span class="o">(</span><span class="n">sec_number</span><span class="o">,</span><span class="w"> </span><span class="n">semester</span><span class="o">,</span><span class="w"> </span><span class="n">year</span><span class="o">)</span><span class="w">                           </span><span class="err">약한</span><span class="w"> </span><span class="o">(</span><span class="err">소유자</span><span class="o">:</span><span class="w"> </span><span class="n">COURSE</span><span class="o">)</span>

<span class="err">관계</span><span class="o">:</span>
<span class="w">  </span><span class="n">WORKS_IN</span><span class="o">:</span><span class="w">      </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">     </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">MAJOR_IN</span><span class="o">:</span><span class="w">      </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">     </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">CHAIRS</span><span class="o">:</span><span class="w">        </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="o">..</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w">  </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="o">)</span>
<span class="w">  </span><span class="n">OFFERS</span><span class="o">:</span><span class="w">        </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">COURSE</span><span class="w">      </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">HAS_SECTION</span><span class="o">:</span><span class="w">   </span><span class="n">COURSE</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">SECTION</span><span class="w">         </span><span class="o">(</span><span class="err">식별</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
<span class="w">  </span><span class="n">TEACHES</span><span class="o">:</span><span class="w">       </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="n">N</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">SECTION</span><span class="w">        </span><span class="o">(</span><span class="err">섹션당</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="o">)</span>
<span class="w">  </span><span class="n">ENROLLED_IN</span><span class="o">:</span><span class="w">   </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">M</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">SECTION</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w">      </span><span class="o">(</span><span class="n">M</span><span class="o">:</span><span class="n">N</span><span class="o">,</span><span class="w"> </span><span class="err">속성</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span><span class="o">)</span>
<span class="w">  </span><span class="n">ADVISES</span><span class="o">:</span><span class="w">       </span><span class="n">FACULTY</span><span class="w"> </span><span class="o">(</span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">STUDENT</span><span class="w"> </span><span class="o">(</span><span class="n">N</span><span class="o">)</span><span class="w">      </span><span class="o">(</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="o">)</span>
</code></pre></div>

<h3 id="_33">관계 스키마 (매핑됨)<a class="header-link" href="#_33" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">-- 1단계: 강한 개체</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">dept_name</span><span class="w">   </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">    </span><span class="n">building</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">budget</span><span class="w">      </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">budget</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">faculty</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">fac_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">rank</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">rank</span><span class="w"> </span><span class="k">IN</span>
<span class="w">                  </span><span class="p">(</span><span class="s1">&#39;Lecturer&#39;</span><span class="p">,</span><span class="s1">&#39;Assistant&#39;</span><span class="p">,</span><span class="s1">&#39;Associate&#39;</span><span class="p">,</span><span class="s1">&#39;Full&#39;</span><span class="p">)),</span>
<span class="w">    </span><span class="n">salary</span><span class="w">      </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 4단계: 1:N WORKS_IN</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w">        </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">year</span><span class="w">        </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span>
<span class="w">    </span><span class="n">gpa</span><span class="w">         </span><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">gpa</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">gpa</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="n">major_id</span><span class="w">    </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w">                </span><span class="c1">-- 4단계: 1:N MAJOR_IN</span>
<span class="w">    </span><span class="n">advisor_id</span><span class="w">  </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">                </span><span class="c1">-- 4단계: 1:N ADVISES</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">major_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">advisor_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">title</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">credits</span><span class="w">     </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">credits</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="n">dept_id</span><span class="w">     </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 4단계: 1:N OFFERS</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 2단계: 약한 개체 (COURSE로 식별되는 SECTION)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_number</span><span class="w">  </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">semester</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_year</span><span class="w">    </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fac_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">                </span><span class="c1">-- 4단계: 1:N TEACHES</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">course</span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 3단계: 1:1 CHAIRS (department 쪽에 FK, 전체 참여)</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">chair_fac_id</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_chair</span>
<span class="w">        </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">chair_fac_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">faculty</span><span class="p">(</span><span class="n">fac_id</span><span class="p">);</span>

<span class="c1">-- 5단계: M:N ENROLLED_IN</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">enrollment</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">course_id</span><span class="w">   </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_number</span><span class="w">  </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">semester</span><span class="w">    </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">sec_year</span><span class="w">    </span><span class="nb">SMALLINT</span><span class="w">     </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">grade</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">)</span>
<span class="w">        </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">section</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span><span class="w"> </span><span class="n">sec_number</span><span class="p">,</span><span class="w"> </span><span class="n">semester</span><span class="p">,</span><span class="w"> </span><span class="n">sec_year</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 6단계: 다중값 속성</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student_phone</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">phone</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w">  </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">phone</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">student_email</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">stu_id</span><span class="w">      </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">email</span><span class="w">       </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">student</span><span class="p">(</span><span class="n">stu_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="_34">스키마 다이어그램 요약<a class="header-link" href="#_34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│  DEPARTMENT  │     │   FACULTY    │     │   STUDENT    │
├──────────────┤     ├──────────────┤     ├──────────────┤
│PK dept_id    │◄────│PK fac_id     │◄────│PK stu_id     │
│   dept_name  │  FK │   name       │  FK │   name       │
│   building   │dept │   rank       │adv  │   year       │
│   budget     │     │   salary     │     │   gpa        │
│FK chair_fac  │─────│FK dept_id ───┘     │FK major_id──►│ DEPARTMENT
└──────────────┘     └──────────────┘     │FK advisor_id─│►FACULTY
       │                    │             └──────────────┘
       │                    │                    │
       │              ┌─────┘                    │
       │              │                          │
  ┌──────────┐  ┌─────┴──────┐  ┌───────────────┴──┐
  │  COURSE  │  │  SECTION   │  │   ENROLLMENT     │
  ├──────────┤  ├────────────┤  ├──────────────────┤
  │PK crs_id │◄─│PK crs_id   │◄─│PK stu_id         │
  │   title  │  │PK sec_num  │  │PK crs_id         │
  │   credits│  │PK semester │  │PK sec_num        │
  │FK dept_id│  │PK sec_year │  │PK semester       │
  └──────────┘  │FK fac_id   │  │PK sec_year       │
                └────────────┘  │   grade           │
                                └──────────────────┘

  ┌─────────────────┐  ┌─────────────────┐
  │ STUDENT_PHONE   │  │ STUDENT_EMAIL   │
  ├─────────────────┤  ├─────────────────┤
  │PK,FK stu_id     │  │PK,FK stu_id     │
  │PK    phone      │  │PK    email      │
  └─────────────────┘  └─────────────────┘
</code></pre></div>

<hr />
<h2 id="11_1">11. 일반적인 함정과 모범 사례<a class="header-link" href="#11_1" title="Permanent link">&para;</a></h2>
<h3 id="1_2">함정 1: 팬 트랩<a class="header-link" href="#1_2" title="Permanent link">&para;</a></h3>
<p><strong>팬 트랩(Fan Trap)</strong>은 여러 1:N 관계를 통한 경로가 팬 아웃되어 모호한 연관을 만들 때 발생합니다.</p>
<div class="highlight"><pre><span></span><code><span class="err">문제</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">─</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">EMPLOYEE</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">─</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">PROJECT</span>

<span class="w">  </span><span class="err">쿼리</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;어떤 직원이 어떤 프로젝트에서 일하는가?&quot;</span>
<span class="w">  </span><span class="err">경로는</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">EMPLOYEE와</span><span class="w"> </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="n">PROJECT로</span><span class="w"> </span><span class="err">가지만</span>
<span class="w">  </span><span class="n">EMPLOYEE와</span><span class="w"> </span><span class="n">PROJECT</span><span class="w"> </span><span class="err">간에</span><span class="w"> </span><span class="err">직접</span><span class="w"> </span><span class="err">링크가</span><span class="w"> </span><span class="err">없음</span><span class="o">!</span>

<span class="err">해결책</span><span class="o">:</span><span class="w"> </span><span class="n">EMPLOYEE와</span><span class="w"> </span><span class="n">PROJECT</span><span class="w"> </span><span class="err">간에</span><span class="w"> </span><span class="err">직접</span><span class="w"> </span><span class="n">WORKS_ON</span><span class="w"> </span><span class="err">관계</span><span class="w"> </span><span class="err">추가</span><span class="o">.</span>
</code></pre></div>

<h3 id="2_2">함정 2: 캐즘 트랩<a class="header-link" href="#2_2" title="Permanent link">&para;</a></h3>
<p><strong>캐즘 트랩(Chasm Trap)</strong>은 관련되어야 할 개체 타입 간에 경로가 존재하지 않을 때 발생합니다.</p>
<div class="highlight"><pre><span></span><code><span class="err">문제</span><span class="o">:</span>
<span class="w">  </span><span class="n">DEPARTMENT</span><span class="w"> </span><span class="err">─</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="o">(</span><span class="err">부분</span><span class="o">)</span>
<span class="w">  </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="err">─</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">PROJECT</span>

<span class="w">  </span><span class="err">일부</span><span class="w"> </span><span class="err">부서에</span><span class="w"> </span><span class="err">직원이</span><span class="w"> </span><span class="err">없으면</span><span class="w"> </span><span class="n">DEPARTMENT에서</span><span class="w"> </span><span class="n">PROJECT로의</span><span class="w"> </span><span class="err">경로에</span>
<span class="w">  </span><span class="s2">&quot;캐즘(chasm)&quot;</span><span class="w"> </span><span class="o">(</span><span class="err">간격</span><span class="o">)</span><span class="err">이</span><span class="w"> </span><span class="err">있음</span><span class="o">.</span>

<span class="err">해결책</span><span class="o">:</span><span class="w"> </span><span class="n">DEPARTMENT와</span><span class="w"> </span><span class="n">PROJECT</span><span class="w"> </span><span class="err">간에</span><span class="w"> </span><span class="err">직접</span><span class="w"> </span><span class="n">HAS_PROJECT</span><span class="w"> </span><span class="err">관계</span><span class="w"> </span><span class="err">추가</span><span class="o">.</span>
</code></pre></div>

<h3 id="3_1">함정 3: 다중값 속성의 과도한 사용<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">나쁨</span><span class="o">:</span>
<span class="w">  </span><span class="n">PERSON</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="o">{</span><span class="n">address</span><span class="o">}</span><span class="w">   </span><span class="err">←</span><span class="w"> </span><span class="err">주소가</span><span class="w"> </span><span class="err">자체</span><span class="w"> </span><span class="err">속성이</span><span class="w"> </span><span class="err">필요하면</span>
<span class="w">                             </span><span class="o">(</span><span class="n">street</span><span class="o">,</span><span class="w"> </span><span class="n">city</span><span class="o">,</span><span class="w"> </span><span class="n">state</span><span class="o">,</span><span class="w"> </span><span class="n">zip</span><span class="o">),</span><span class="w"> </span><span class="err">잘못됨</span>

<span class="err">더</span><span class="w"> </span><span class="err">좋음</span><span class="o">:</span>
<span class="w">  </span><span class="n">PERSON</span><span class="w"> </span><span class="err">─</span><span class="mi">1</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">ADDRESS</span>
<span class="w">  </span><span class="n">ADDRESS</span><span class="o">(</span><span class="n">address_id</span><span class="o">,</span><span class="w"> </span><span class="n">street</span><span class="o">,</span><span class="w"> </span><span class="n">city</span><span class="o">,</span><span class="w"> </span><span class="n">state</span><span class="o">,</span><span class="w"> </span><span class="n">zip_code</span><span class="o">)</span>
</code></pre></div>

<h3 id="4_1">함정 4: 관계 속성 누락<a class="header-link" href="#4_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">나쁨</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT가</span><span class="w"> </span><span class="n">grade</span><span class="w"> </span><span class="err">속성을</span><span class="w"> </span><span class="err">가짐</span><span class="w">    </span><span class="err">←</span><span class="w"> </span><span class="err">어떤</span><span class="w"> </span><span class="err">과목의</span><span class="w"> </span><span class="err">성적</span><span class="o">?</span>

<span class="err">더</span><span class="w"> </span><span class="err">좋음</span><span class="o">:</span>
<span class="w">  </span><span class="n">STUDENT</span><span class="w"> </span><span class="err">─</span><span class="n">M</span><span class="o">:</span><span class="n">N</span><span class="err">─</span><span class="w"> </span><span class="n">COURSE</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="err">관계</span><span class="w"> </span><span class="err">속성</span><span class="o">:</span><span class="w"> </span><span class="n">grade</span>
</code></pre></div>

<h3 id="_35">모범 사례<a class="header-link" href="#_35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">개체부터</span><span class="w"> </span><span class="n">시작</span><span class="p">,</span><span class="w"> </span><span class="n">그</span><span class="w"> </span><span class="n">다음</span><span class="w"> </span><span class="n">관계</span><span class="p">,</span><span class="w"> </span><span class="n">그</span><span class="w"> </span><span class="n">다음</span><span class="w"> </span><span class="n">속성</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">모든</span><span class="w"> </span><span class="n">개체는</span><span class="w"> </span><span class="n">키</span><span class="w"> </span><span class="n">속성을</span><span class="w"> </span><span class="n">가져야</span><span class="w"> </span><span class="n">함</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">중복</span><span class="w"> </span><span class="n">관계</span><span class="w"> </span><span class="n">피하기</span><span class="w"> </span><span class="p">(</span><span class="n">다른</span><span class="w"> </span><span class="n">것에서</span><span class="w"> </span><span class="n">유도</span><span class="w"> </span><span class="n">가능</span><span class="p">)</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">약한</span><span class="w"> </span><span class="n">개체는</span><span class="w"> </span><span class="n">진정으로</span><span class="w"> </span><span class="n">필요할</span><span class="w"> </span><span class="n">때만</span><span class="w"> </span><span class="n">사용</span>
<span class="mf">5.</span><span class="w"> </span><span class="n">가능하면</span><span class="w"> </span><span class="n">삼항보다</span><span class="w"> </span><span class="n">이항</span><span class="w"> </span><span class="n">관계</span><span class="w"> </span><span class="n">선호</span>
<span class="mf">6.</span><span class="w"> </span><span class="n">모든</span><span class="w"> </span><span class="n">가정과</span><span class="w"> </span><span class="n">제약조건</span><span class="w"> </span><span class="n">문서화</span>
<span class="mf">7.</span><span class="w"> </span><span class="n">구체적인</span><span class="w"> </span><span class="n">예제를</span><span class="w"> </span><span class="n">사용하여</span><span class="w"> </span><span class="n">이해관계자와</span><span class="w"> </span><span class="n">검증</span>
<span class="mf">8.</span><span class="w"> </span><span class="n">개체를</span><span class="w"> </span><span class="n">단수</span><span class="w"> </span><span class="n">명사로</span><span class="w"> </span><span class="n">명명</span><span class="w"> </span><span class="p">(</span><span class="n">STUDENTS가</span><span class="w"> </span><span class="n">아닌</span><span class="w"> </span><span class="n">STUDENT</span><span class="p">)</span>
<span class="mf">9.</span><span class="w"> </span><span class="n">관계를</span><span class="w"> </span><span class="n">동사로</span><span class="w"> </span><span class="n">명명</span><span class="w"> </span><span class="p">(</span><span class="n">ENROLLS_IN</span><span class="p">,</span><span class="w"> </span><span class="n">TEACHES</span><span class="p">)</span>
<span class="mf">10.</span><span class="w"> </span><span class="n">정확한</span><span class="w"> </span><span class="n">제약조건을</span><span class="w"> </span><span class="n">위해</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="p">,</span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="n">표기법</span><span class="w"> </span><span class="n">사용</span>
</code></pre></div>

<hr />
<h2 id="12">12. 연습 문제<a class="header-link" href="#12" title="Permanent link">&para;</a></h2>
<h3 id="_36">기본 개념<a class="header-link" href="#_36" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.1</strong>: 다음 각각에 대해 개체 타입, 관계 타입, 또는 속성으로 모델링해야 하는지 식별하세요. 답을 정당화하세요.</p>
<ul>
<li>(a) 직원 이름</li>
<li>(b) 부서</li>
<li>(c) 결혼 (두 사람 간)</li>
<li>(d) 학생 GPA</li>
<li>(e) 책 ISBN</li>
<li>(f) 과정 등록</li>
<li>(g) 직원 기술 (직원이 많은 기술을 가질 수 있다고 가정)</li>
<li>(h) 프로젝트 마감일</li>
</ul>
<p><strong>연습 문제 4.2</strong>: 다음 속성을 분류하세요:</p>
<table>
<thead>
<tr>
<th>속성</th>
<th>단순/복합</th>
<th>단일/다중</th>
<th>저장/유도</th>
<th>키?</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSN</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>전체 이름 (first + middle + last)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>전화번호 (여러)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>나이 (생년월일 주어짐)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>이메일 주소</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>주소 (street, city, state, zip)</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="er_5">ER 설계<a class="header-link" href="#er_5" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.3</strong>: 다음 요구사항을 가진 병원 시스템에 대한 ER 다이어그램 그리기:
- 환자는 ID, 이름, 생년월일, 혈액형을 가짐
- 의사는 ID, 이름, 전문 분야, 전화번호를 가짐
- 각 환자는 주치의에게 배정됨
- 의사는 환자에게 약을 처방할 수 있음 (날짜와 용량 기록)
- 약은 코드, 이름, 제조사를 가짐
- 환자는 여러 알레르기를 가질 수 있음</p>
<p>카디널리티와 참여 제약조건을 지정하세요.</p>
<p><strong>연습 문제 4.4</strong>: 온라인 학습 플랫폼에 대한 ER 다이어그램 그리기:
- 강사가 과정을 생성. 과정은 제목, 설명, 가격을 가짐.
- 과정은 특정 순서로 여러 레슨을 포함.
- 학생은 과정에 등록하고 레슨별 진행률 추적 (완료 상태, 소요 시간).
- 학생은 과정을 평가하고 리뷰할 수 있음 (1-5 별, 텍스트).
- 각 레슨 끝에 퀴즈가 있음. 학생은 퀴즈를 시도하고 점수를 받음.</p>
<p>모든 개체 타입, 관계 타입, 속성, 키, 제약조건을 식별하세요.</p>
<h3 id="_37">카디널리티와 참여<a class="header-link" href="#_37" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.5</strong>: 다음 각 시나리오에 대해 카디널리티 비율 (1:1, 1:N, M:N)과 참여 제약조건 (전체/부분) 결정:</p>
<ul>
<li>(a) 국가는 하나의 수도를 가짐; 수도는 하나의 국가에 속함</li>
<li>(b) 학생은 하나의 기숙사 방에 거주; 방은 여러 학생을 수용 가능</li>
<li>(c) 저자는 많은 책을 쓸 수 있음; 책은 많은 저자를 가질 수 있음</li>
<li>(d) 직원은 여러 프로젝트에서 일함; 프로젝트는 여러 직원을 가짐</li>
<li>(e) 사람은 하나의 여권을 가짐; 여권은 한 사람에게 속함 (모든 사람이 여권을 가지는 것은 아님)</li>
</ul>
<h3 id="_38">약한 개체<a class="header-link" href="#_38" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.6</strong>: 각 쌍에 대해 어느 것(있다면)이 약한 개체여야 하는지 결정:</p>
<ul>
<li>(a) Building과 Room</li>
<li>(b) Invoice와 LineItem</li>
<li>(c) Student와 Course</li>
<li>(d) Bank와 Branch</li>
<li>(e) Order와 OrderItem</li>
</ul>
<p>각 약한 개체에 대해 부분 키와 식별 관계를 식별하세요.</p>
<h3 id="eer">EER<a class="header-link" href="#eer" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.7</strong>: 다음에 대한 EER 다이어그램 설계:</p>
<p>회사에 <strong>직원</strong>이 있습니다. 직원은 <strong>관리자</strong>, <strong>엔지니어</strong>, <strong>비서</strong>로 특수화됩니다. 엔지니어는 <strong>소프트웨어 엔지니어</strong>와 <strong>하드웨어 엔지니어</strong>로 더 특수화될 수 있습니다.</p>
<ul>
<li>특수화가 분리인지 중첩인지 결정</li>
<li>전체인지 부분인지 결정</li>
<li>각 하위클래스에 대해 최소 두 개의 특정 속성 추가</li>
<li>완전한 EER 다이어그램 그리기</li>
</ul>
<h3 id="er-">ER-관계형 매핑<a class="header-link" href="#er-" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.8</strong>: 다음 ER 다이어그램이 주어졌을 때, 7단계 매핑 알고리즘을 적용하여 SQL DDL과 함께 완전한 관계 스키마 생성:</p>
<div class="highlight"><pre><span></span><code>                     <span class="p">{</span><span class="n">skill</span><span class="p">}</span>
                       <span class="p">|</span>
  <span class="err">┌──────────┐</span>  <span class="mi">1</span><span class="p">:</span><span class="n">N</span>  <span class="err">┌──────────────┐</span>  <span class="n">M</span><span class="p">:</span><span class="n">N</span>   <span class="err">┌──────────┐</span>
  <span class="err">│</span><span class="n">DEPARTMENT</span><span class="err">│═══════</span><span class="o">&lt;</span><span class="n">WORKS_IN</span><span class="o">&gt;</span><span class="err">═══════│</span> <span class="n">EMPLOYEE</span> <span class="err">│════</span><span class="o">&lt;</span><span class="n">WORKS_ON</span><span class="o">&gt;</span><span class="err">════│</span> <span class="n">PROJECT</span>  <span class="err">│</span>
  <span class="err">└──────────┘</span>        <span class="err">└──────────────┘</span>  <span class="p">|</span><span class="n">hours</span><span class="p">|</span>  <span class="err">└──────────┘</span>
  <span class="p">(</span><span class="n">dept_id</span><span class="p">)</span>          <span class="p">(</span><span class="n">emp_id</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>              <span class="p">(</span><span class="n">proj_id</span><span class="p">)(</span><span class="n">name</span><span class="p">)</span>
  <span class="p">(</span><span class="n">name</span><span class="p">)</span>             <span class="p">(</span><span class="n">salary</span><span class="p">)</span>                    <span class="p">(</span><span class="n">budget</span><span class="p">)</span>
  <span class="p">(</span><span class="n">budget</span><span class="p">)</span>           <span class="p">(</span><span class="n">birth_date</span><span class="p">)</span>                <span class="p">(</span><span class="n">location</span><span class="p">)</span>
                          <span class="p">|</span>
                     <span class="mi">1</span><span class="p">:</span><span class="n">N</span>  <span class="p">|</span>
                          <span class="p">|</span>
                <span class="err">┌═══════════════┐</span>
                <span class="err">║</span>  <span class="n">DEPENDENT</span>   <span class="err">║</span>
                <span class="err">║</span><span class="p">(</span><span class="n">dep_name</span><span class="p">)</span>    <span class="err">║</span>
                <span class="err">║</span><span class="p">(</span><span class="n">birth_date</span><span class="p">)</span>  <span class="err">║</span>
                <span class="err">║</span><span class="p">(</span><span class="n">relationship</span><span class="p">)</span><span class="err">║</span>
                <span class="err">└═══════════════┘</span>
</code></pre></div>

<p>포함: 모든 테이블, PK, FK, 도메인 제약조건, ON DELETE 동작.</p>
<p><strong>연습 문제 4.9</strong>: 다음 특수화 계층을 세 가지 접근법 각각을 사용하여 관계 스키마로 매핑 (옵션 A: 단일 테이블, 옵션 B: 상위클래스 + 하위클래스 테이블, 옵션 C: 별도 테이블). 트레이드오프를 논의하세요.</p>
<div class="highlight"><pre><span></span><code><span class="w">            </span><span class="n">VEHICLE</span>
<span class="w">           </span><span class="p">(</span><span class="n">vin</span><span class="p">,</span><span class="w"> </span><span class="n">make</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">)</span>
<span class="w">              </span><span class="o">|</span>
<span class="w">            </span><span class="o">/</span><span class="w">   </span>\
<span class="w">          </span><span class="n">d</span><span class="p">,</span><span class="n">t</span>
<span class="w">          </span><span class="o">/</span><span class="w">       </span>\
<span class="w">       </span><span class="n">CAR</span><span class="w">          </span><span class="n">TRUCK</span>
<span class="w">    </span><span class="p">(</span><span class="n">num_doors</span><span class="p">,</span><span class="w">   </span><span class="p">(</span><span class="n">payload_cap</span><span class="p">,</span>
<span class="w">     </span><span class="n">trunk_vol</span><span class="p">)</span><span class="w">    </span><span class="n">num_axles</span><span class="p">,</span>
<span class="w">                   </span><span class="n">cab_type</span><span class="p">)</span>
</code></pre></div>

<h3 id="_39">설계 도전<a class="header-link" href="#_39" title="Permanent link">&para;</a></h3>
<p><strong>연습 문제 4.10</strong>: 지역 도서관에 데이터베이스 시스템이 필요합니다. 완전한 개념 스키마 (ER/EER 다이어그램)를 설계하고 관계 스키마로 매핑하세요. 요구사항:</p>
<ol>
<li>도서관은 각각 이름, 주소, 전화번호를 가진 여러 <strong>지점</strong>을 가짐</li>
<li><strong>책</strong>은 ISBN으로 식별되며 제목, 출판 연도, 판을 가짐</li>
<li>각 책은 한 명 이상의 <strong>저자</strong>를 가짐</li>
<li>책은 하나 이상의 <strong>범주</strong> (Fiction, Science, History 등)에 속함</li>
<li>각 지점은 각 책의 여러 <strong>사본</strong>을 유지관리. 각 사본은 사본 번호와 상태를 가짐</li>
<li><strong>회원</strong>은 카드 번호, 이름, 주소, 전화번호를 가짐. 회원은 특정 지점에 등록</li>
<li>회원은 사본을 <strong>대출</strong>할 수 있음. 각 대출은 대출 날짜, 반납 예정일, 반납 날짜를 기록</li>
<li>회원은 지점에서 책을 <strong>예약</strong>할 수 있음 (특정 사본이 아님)</li>
<li><strong>직원</strong>은 지점에서 일함. <strong>사서</strong>와 <strong>보조원</strong>이 있음 (분리 특수화)</li>
<li>각 지점은 <strong>지점 관리자</strong> 역할을 하는 한 명의 사서를 가짐</li>
</ol>
<p>제출물:
- 모든 제약조건을 포함한 완전한 ER/EER 다이어그램
- 관계 스키마 (7단계 모두 적용)
- 최소 5개의 주요 테이블에 대한 SQL DDL
- 설계가 도서관의 요구를 지원함을 보여주는 세 가지 샘플 쿼리</p>
<hr />
<p><strong>이전</strong>: <a href="./03_Relational_Algebra.md">관계 대수</a> | <strong>다음</strong>: <a href="./05_Functional_Dependencies.md">함수 종속성</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Database_Theory/03_Relational_Algebra.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">관계 대수(Relational Algebra)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Database_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Database_Theory/05_Functional_Dependencies.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 05: 함수 종속성(Functional Dependencies)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}