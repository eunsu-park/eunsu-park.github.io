{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10. 모노레포 관리 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Git/">Git</a>
    <span class="separator">/</span>
    <span class="current">10. 모노레포 관리</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>10. 모노레포 관리</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Git/09_Advanced_Git_Techniques.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">09. 고급 Git 기법</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Git/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_1">학습 목표</a></li>
<li><a href="#_2">목차</a></li>
<li><a href="#1">1. 모노레포 개요</a><ul>
<li><a href="#11-vs">1.1 모노레포 vs 멀티레포</a></li>
<li><a href="#12">1.2 모노레포 장단점</a></li>
<li><a href="#13">1.3 모노레포 사용 사례</a></li>
</ul>
</li>
<li><a href="#2">2. 모노레포 도구</a><ul>
<li><a href="#21">2.1 도구 비교</a></li>
<li><a href="#22-npmyarnpnpm-workspaces">2.2 기본 구조 (npm/yarn/pnpm workspaces)</a></li>
</ul>
</li>
<li><a href="#3-nx">3. Nx 활용</a><ul>
<li><a href="#31-nx">3.1 Nx 프로젝트 생성</a></li>
<li><a href="#32-nx">3.2 Nx 구조</a></li>
<li><a href="#33-nxjson">3.3 nx.json 설정</a></li>
<li><a href="#34-nx">3.4 Nx 명령어</a></li>
<li><a href="#35-nx-cloud">3.5 Nx Cloud (원격 캐싱)</a></li>
</ul>
</li>
<li><a href="#4-turborepo">4. Turborepo 활용</a><ul>
<li><a href="#41-turborepo">4.1 Turborepo 설정</a></li>
<li><a href="#42-turbojson">4.2 turbo.json 설정</a></li>
<li><a href="#43-turborepo">4.3 Turborepo 명령어</a></li>
<li><a href="#44-vercel">4.4 원격 캐싱 (Vercel)</a></li>
<li><a href="#45-turborepo">4.5 Turborepo 프로젝트 구조</a></li>
</ul>
</li>
<li><a href="#5">5. 의존성 관리</a><ul>
<li><a href="#51">5.1 내부 패키지 참조</a></li>
<li><a href="#52-typescript">5.2 TypeScript 경로 설정</a></li>
<li><a href="#53">5.3 버전 관리</a></li>
<li><a href="#54">5.4 공유 설정</a></li>
</ul>
</li>
<li><a href="#6-cicd">6. CI/CD 최적화</a><ul>
<li><a href="#61-github-actions">6.1 GitHub Actions 설정</a></li>
<li><a href="#62">6.2 영향 범위 분석</a></li>
<li><a href="#63">6.3 캐싱 전략</a></li>
<li><a href="#64">6.4 선택적 배포</a></li>
</ul>
</li>
<li><a href="#7">7. 연습 문제</a><ul>
<li><a href="#1_1">연습 1: 모노레포 초기 설정</a></li>
<li><a href="#2-nx">연습 2: Nx 워크스페이스</a></li>
<li><a href="#3-turborepo">연습 3: Turborepo 파이프라인</a></li>
<li><a href="#4-cicd">연습 4: CI/CD 최적화</a></li>
</ul>
</li>
<li><a href="#_3">다음 단계</a></li>
<li><a href="#_4">참고 자료</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="10">10. 모노레포 관리<a class="header-link" href="#10" title="Permanent link">&para;</a></h1>
<h2 id="_1">학습 목표<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>모노레포 개념과 장단점 이해</li>
<li>Nx, Turborepo를 활용한 빌드 최적화</li>
<li>의존성 관리와 코드 공유 전략</li>
<li>대규모 모노레포 성능 최적화</li>
</ul>
<h2 id="_2">목차<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-모노레포-개요">모노레포 개요</a></li>
<li><a href="#2-모노레포-도구">모노레포 도구</a></li>
<li><a href="#3-nx-활용">Nx 활용</a></li>
<li><a href="#4-turborepo-활용">Turborepo 활용</a></li>
<li><a href="#5-의존성-관리">의존성 관리</a></li>
<li><a href="#6-cicd-최적화">CI/CD 최적화</a></li>
<li><a href="#7-연습-문제">연습 문제</a></li>
</ol>
<hr />
<h2 id="1">1. 모노레포 개요<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11-vs">1.1 모노레포 vs 멀티레포<a class="header-link" href="#11-vs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">┌─────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">               </span><span class="nx">멀티레포</span><span class="w"> </span><span class="p">(</span><span class="nx">Polyrepo</span><span class="p">)</span><span class="w">                            </span><span class="err">│</span>
<span class="err">├─────────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">┌────────────┐</span><span class="w">  </span><span class="err">┌────────────┐</span><span class="w">  </span><span class="err">┌────────────┐</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">frontend</span><span class="w">   </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">backend</span><span class="w">    </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">shared</span><span class="o">-</span><span class="nx">lib</span><span class="w"> </span><span class="err">│</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="nx">repo</span><span class="p">)</span><span class="w">     </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="nx">repo</span><span class="p">)</span><span class="w">     </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">(</span><span class="nx">repo</span><span class="p">)</span><span class="w">     </span><span class="err">│</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">├────────────┤</span><span class="w">  </span><span class="err">├────────────┤</span><span class="w">  </span><span class="err">├────────────┤</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">.</span><span class="nx">git</span><span class="o">/</span><span class="w">      </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">.</span><span class="nx">git</span><span class="o">/</span><span class="w">      </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">.</span><span class="nx">git</span><span class="o">/</span><span class="w">      </span><span class="err">│</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="err">│</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">       </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">       </span><span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">       </span><span class="err">│</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">└────────────┘</span><span class="w">  </span><span class="err">└────────────┘</span><span class="w">  </span><span class="err">└────────────┘</span><span class="w">            </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="nx">특징</span><span class="p">:</span><span class="w">                                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">독립적인</span><span class="w"> </span><span class="nx">버전</span><span class="w"> </span><span class="nx">관리</span><span class="w">                                       </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">npm</span><span class="o">/</span><span class="nx">pypi</span><span class="w"> </span><span class="nx">등으로</span><span class="w"> </span><span class="nx">패키지</span><span class="w"> </span><span class="nx">공유</span><span class="w">                              </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">프로젝트별</span><span class="w"> </span><span class="nx">권한</span><span class="w"> </span><span class="nx">관리</span><span class="w"> </span><span class="nx">용이</span><span class="w">                                </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">의존성</span><span class="w"> </span><span class="nx">버전</span><span class="w"> </span><span class="nx">불일치</span><span class="w"> </span><span class="nx">위험</span><span class="w">                                  </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────┘</span>

<span class="err">┌─────────────────────────────────────────────────────────────┐</span>
<span class="err">│</span><span class="w">               </span><span class="nx">모노레포</span><span class="w"> </span><span class="p">(</span><span class="nx">Monorepo</span><span class="p">)</span><span class="w">                            </span><span class="err">│</span>
<span class="err">├─────────────────────────────────────────────────────────────┤</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">┌───────────────────────────────────────────────────────┐</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">my</span><span class="o">-</span><span class="nx">company</span><span class="w"> </span><span class="p">(</span><span class="nx">single</span><span class="w"> </span><span class="nx">repo</span><span class="p">)</span><span class="w">                              </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">├───────────────────────────────────────────────────────┤</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="p">.</span><span class="nx">git</span><span class="o">/</span><span class="w">                                                 </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="p">(</span><span class="nx">root</span><span class="p">)</span><span class="w">                                   </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">nx</span><span class="p">.</span><span class="nx">json</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">turbo</span><span class="p">.</span><span class="nx">json</span><span class="w">                                  </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">                                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="nx">packages</span><span class="o">/</span><span class="w">                                             </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">frontend</span><span class="o">/</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">backend</span><span class="o">/</span><span class="w">                                        </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">shared</span><span class="o">-</span><span class="nx">lib</span><span class="o">/</span><span class="w">                                     </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span><span class="w">                               </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span><span class="w">                                       </span><span class="err">│</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">└───────────────────────────────────────────────────────┘</span><span class="w"> </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="nx">특징</span><span class="p">:</span><span class="w">                                                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">단일</span><span class="w"> </span><span class="nx">저장소에서</span><span class="w"> </span><span class="nx">모든</span><span class="w"> </span><span class="nx">코드</span><span class="w"> </span><span class="nx">관리</span><span class="w">                           </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">원자적</span><span class="w"> </span><span class="nx">커밋</span><span class="w"> </span><span class="p">(</span><span class="nx">여러</span><span class="w"> </span><span class="nx">패키지</span><span class="w"> </span><span class="nx">동시</span><span class="w"> </span><span class="nx">수정</span><span class="p">)</span><span class="w">                      </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">코드</span><span class="w"> </span><span class="nx">재사용</span><span class="w"> </span><span class="nx">용이</span><span class="w">                                         </span><span class="err">│</span>
<span class="err">│</span><span class="w">  </span><span class="err">•</span><span class="w"> </span><span class="nx">일관된</span><span class="w"> </span><span class="nx">도구와</span><span class="w"> </span><span class="nx">설정</span><span class="w">                                       </span><span class="err">│</span>
<span class="err">│</span><span class="w">                                                             </span><span class="err">│</span>
<span class="err">└─────────────────────────────────────────────────────────────┘</span>
</code></pre></div>

<h3 id="12">1.2 모노레포 장단점<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌────────────────────────────────────────────────────────────────┐
│                          장점                                   │
├────────────────────────────────────────────────────────────────┤
│ ✓ 코드 공유가 쉬움                                             │
│   - 공유 라이브러리 즉시 사용 가능                             │
│   - 버전 불일치 문제 없음                                      │
│                                                                │
│ ✓ 원자적 변경                                                  │
│   - 여러 패키지에 걸친 변경을 하나의 커밋으로                  │
│   - API 변경과 클라이언트 수정 동시에                          │
│                                                                │
│ ✓ 일관성                                                       │
│   - 동일한 린트, 테스트, 빌드 설정                             │
│   - 동일한 의존성 버전                                         │
│                                                                │
│ ✓ 리팩토링 용이                                                │
│   - 전체 코드베이스에서 검색/수정                              │
│   - IDE 지원 (자동 완성, 참조 찾기)                            │
│                                                                │
│ ✓ 팀 협업                                                      │
│   - 다른 팀의 코드 쉽게 참조                                   │
│   - 코드 리뷰에서 전체 맥락 파악                               │
├────────────────────────────────────────────────────────────────┤
│                          단점                                   │
├────────────────────────────────────────────────────────────────┤
│ ✗ 저장소 크기                                                  │
│   - Clone 시간 증가                                            │
│   - CI 캐싱 복잡                                               │
│                                                                │
│ ✗ 빌드 시간                                                    │
│   - 전체 빌드 시 오래 걸림                                     │
│   - 영향받는 부분만 빌드하는 최적화 필요                       │
│                                                                │
│ ✗ 도구 복잡성                                                  │
│   - 전용 도구 필요 (Nx, Turborepo, Bazel)                     │
│   - 학습 곡선                                                  │
│                                                                │
│ ✗ 권한 관리                                                    │
│   - 코드별 접근 제어 어려움                                    │
│   - CODEOWNERS로 부분적 해결                                   │
│                                                                │
│ ✗ 의존성 충돌                                                  │
│   - 서로 다른 버전 필요 시 문제                                │
│   - hoisting 이슈                                              │
└────────────────────────────────────────────────────────────────┘
</code></pre></div>

<h3 id="13">1.3 모노레포 사용 사례<a class="header-link" href="#13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">주요</span><span class="w"> </span><span class="n">모노레포</span><span class="w"> </span><span class="nl">사례</span><span class="p">:</span>
<span class="err">•</span><span class="w"> </span><span class="n">Google</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">수십억</span><span class="w"> </span><span class="n">줄의</span><span class="w"> </span><span class="n">코드</span><span class="p">,</span><span class="w"> </span><span class="n">단일</span><span class="w"> </span><span class="n">저장소</span>
<span class="err">•</span><span class="w"> </span><span class="n">Facebook</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">React</span><span class="p">,</span><span class="w"> </span><span class="n">Jest</span><span class="w"> </span><span class="n">등</span>
<span class="err">•</span><span class="w"> </span><span class="n">Microsoft</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Rush</span><span class="p">.</span><span class="n">js로</span><span class="w"> </span><span class="n">관리</span>
<span class="err">•</span><span class="w"> </span><span class="n">Uber</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">Go</span><span class="w"> </span><span class="n">모노레포</span>
<span class="err">•</span><span class="w"> </span><span class="n">Airbnb</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">JavaScript</span><span class="w"> </span><span class="n">모노레포</span>

<span class="n">적합한</span><span class="w"> </span><span class="nl">경우</span><span class="p">:</span>
<span class="err">•</span><span class="w"> </span><span class="n">여러</span><span class="w"> </span><span class="n">앱이</span><span class="w"> </span><span class="n">공통</span><span class="w"> </span><span class="n">코드</span><span class="w"> </span><span class="n">공유</span>
<span class="err">•</span><span class="w"> </span><span class="n">마이크로서비스</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">공유</span><span class="w"> </span><span class="n">라이브러리</span>
<span class="err">•</span><span class="w"> </span><span class="n">같은</span><span class="w"> </span><span class="n">팀이</span><span class="w"> </span><span class="n">여러</span><span class="w"> </span><span class="n">패키지</span><span class="w"> </span><span class="n">관리</span>
<span class="err">•</span><span class="w"> </span><span class="n">API와</span><span class="w"> </span><span class="n">클라이언트</span><span class="w"> </span><span class="n">동기화</span><span class="w"> </span><span class="n">필요</span>

<span class="n">부적합한</span><span class="w"> </span><span class="nl">경우</span><span class="p">:</span>
<span class="err">•</span><span class="w"> </span><span class="n">완전히</span><span class="w"> </span><span class="n">독립적인</span><span class="w"> </span><span class="n">프로젝트</span>
<span class="err">•</span><span class="w"> </span><span class="n">다른</span><span class="w"> </span><span class="n">언어</span><span class="o">/</span><span class="n">기술</span><span class="w"> </span><span class="n">스택</span>
<span class="err">•</span><span class="w"> </span><span class="n">엄격한</span><span class="w"> </span><span class="n">접근</span><span class="w"> </span><span class="n">제어</span><span class="w"> </span><span class="n">필요</span>
<span class="err">•</span><span class="w"> </span><span class="n">외부</span><span class="w"> </span><span class="n">기여자가</span><span class="w"> </span><span class="n">많은</span><span class="w"> </span><span class="n">오픈소스</span>
</code></pre></div>

<hr />
<h2 id="2">2. 모노레포 도구<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 도구 비교<a class="header-link" href="#21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>┌────────────────────────────────────────────────────────────────┐
│                      모노레포 도구 비교                         │
├──────────────┬──────────────┬──────────────┬──────────────────┤
│              │     Nx       │  Turborepo   │     Lerna        │
├──────────────┼──────────────┼──────────────┼──────────────────┤
│ 개발사       │    Nrwl      │    Vercel    │   (유지보수)     │
│ 언어         │ JS/TS (+기타)│    JS/TS     │     JS/TS        │
│ 빌드 캐싱    │     ✓        │      ✓       │       ✗          │
│ 원격 캐싱    │   Nx Cloud   │Vercel/자체   │       ✗          │
│ 의존성 그래프│     ✓        │      ✓       │       △          │
│ 코드 생성    │     ✓        │      ✗       │       ✗          │
│ 플러그인     │    많음      │     적음     │     적음         │
│ 설정 복잡도  │    높음      │     낮음     │     낮음         │
│ 대규모 적합성│    매우 좋음 │     좋음     │     보통         │
└──────────────┴──────────────┴──────────────┴──────────────────┘
</code></pre></div>

<h3 id="22-npmyarnpnpm-workspaces">2.2 기본 구조 (npm/yarn/pnpm workspaces)<a class="header-link" href="#22-npmyarnpnpm-workspaces" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// package.json (root)</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-monorepo&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;private&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;workspaces&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;packages/*&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;apps/*&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run build --workspaces&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;test&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run test --workspaces&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run lint --workspaces&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;devDependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;typescript&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^5.0.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;eslint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^8.0.0&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># pnpm-workspace.yaml</span>
<span class="nt">packages</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;packages/*&#39;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;apps/*&#39;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="nx">my</span><span class="o">-</span><span class="nx">monorepo</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">pnpm</span><span class="o">-</span><span class="nx">workspace</span><span class="p">.</span><span class="nx">yaml</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">packages</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">ui</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">utils</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="err">└──</span><span class="w"> </span><span class="nx">apps</span><span class="o">/</span>
<span class="w">    </span><span class="err">├──</span><span class="w"> </span><span class="nx">web</span><span class="o">/</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="kn">api</span><span class="o">/</span>
<span class="w">        </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
</code></pre></div>

<hr />
<h2 id="3-nx">3. Nx 활용<a class="header-link" href="#3-nx" title="Permanent link">&para;</a></h2>
<h3 id="31-nx">3.1 Nx 프로젝트 생성<a class="header-link" href="#31-nx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 새 Nx 워크스페이스 생성</span>
npx<span class="w"> </span>create-nx-workspace@latest<span class="w"> </span>my-workspace

<span class="c1"># 옵션 선택:</span>
<span class="c1"># - 통합 모노레포 (integrated)</span>
<span class="c1"># - 패키지 기반 모노레포 (package-based)</span>
<span class="c1"># - 독립 실행형 앱 (standalone)</span>

<span class="c1"># 기존 저장소에 Nx 추가</span>
npx<span class="w"> </span>nx@latest<span class="w"> </span>init
</code></pre></div>

<h3 id="32-nx">3.2 Nx 구조<a class="header-link" href="#32-nx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">my</span><span class="o">-</span><span class="n">workspace</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="n">nx</span><span class="o">.</span><span class="n">json</span><span class="w">                 </span><span class="c1"># Nx 설정</span>
<span class="err">├──</span><span class="w"> </span><span class="n">workspace</span><span class="o">.</span><span class="n">json</span><span class="w">          </span><span class="c1"># (선택) 프로젝트 설정</span>
<span class="err">├──</span><span class="w"> </span><span class="n">package</span><span class="o">.</span><span class="n">json</span>
<span class="err">├──</span><span class="w"> </span><span class="n">tsconfig</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">json</span><span class="w">      </span><span class="c1"># 공유 TypeScript 설정</span>
<span class="err">├──</span><span class="w"> </span><span class="n">apps</span><span class="o">/</span><span class="w">                   </span><span class="c1"># 애플리케이션</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">web</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="n">json</span><span class="w">    </span><span class="c1"># 프로젝트별 설정</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">tsconfig</span><span class="o">.</span><span class="n">json</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">api</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="n">json</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="n">tsconfig</span><span class="o">.</span><span class="n">json</span>
<span class="err">├──</span><span class="w"> </span><span class="n">libs</span><span class="o">/</span><span class="w">                   </span><span class="c1"># 라이브러리</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">shared</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">ui</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="n">json</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="n">json</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="n">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">feature</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="n">auth</span><span class="o">/</span>
<span class="err">│</span><span class="w">           </span><span class="err">├──</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="n">json</span>
<span class="err">│</span><span class="w">           </span><span class="err">└──</span><span class="w"> </span><span class="n">src</span><span class="o">/</span>
<span class="err">└──</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="w">                  </span><span class="c1"># 커스텀 도구</span>
</code></pre></div>

<h3 id="33-nxjson">3.3 nx.json 설정<a class="header-link" href="#33-nxjson" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// nx.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./node_modules/nx/schemas/nx-schema.json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;targetDefaults&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;dependsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;^build&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;production&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;^production&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;test&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;^production&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{workspaceRoot}/jest.preset.js&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;lint&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{workspaceRoot}/.eslintrc.json&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;namedInputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;{projectRoot}/**/*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sharedGlobals&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;production&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;!{projectRoot}/**/*.spec.ts&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;!{projectRoot}/tsconfig.spec.json&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;!{projectRoot}/jest.config.ts&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;sharedGlobals&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;{workspaceRoot}/tsconfig.base.json&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;plugins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;plugin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@nx/vite/plugin&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;buildTargetName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;build&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;serveTargetName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;serve&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;defaultBase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="34-nx">3.4 Nx 명령어<a class="header-link" href="#34-nx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 프로젝트 그래프 시각화</span>
nx<span class="w"> </span>graph

<span class="c1"># 특정 프로젝트 빌드</span>
nx<span class="w"> </span>build<span class="w"> </span>web

<span class="c1"># 영향받은 프로젝트만 빌드</span>
nx<span class="w"> </span>affected:build<span class="w"> </span>--base<span class="o">=</span>main

<span class="c1"># 영향받은 프로젝트 테스트</span>
nx<span class="w"> </span>affected:test<span class="w"> </span>--base<span class="o">=</span>main

<span class="c1"># 병렬 실행</span>
nx<span class="w"> </span>run-many<span class="w"> </span>--target<span class="o">=</span>build<span class="w"> </span>--parallel<span class="o">=</span><span class="m">5</span>

<span class="c1"># 모든 프로젝트 실행</span>
nx<span class="w"> </span>run-many<span class="w"> </span>--target<span class="o">=</span>build<span class="w"> </span>--all

<span class="c1"># 특정 프로젝트들만</span>
nx<span class="w"> </span>run-many<span class="w"> </span>--target<span class="o">=</span><span class="nb">test</span><span class="w"> </span>--projects<span class="o">=</span>web,api

<span class="c1"># 캐시 상태 확인</span>
nx<span class="w"> </span>show<span class="w"> </span>project<span class="w"> </span>web

<span class="c1"># 코드 생성</span>
nx<span class="w"> </span>generate<span class="w"> </span>@nx/react:component<span class="w"> </span>button<span class="w"> </span>--project<span class="o">=</span>ui
nx<span class="w"> </span>generate<span class="w"> </span>@nx/node:application<span class="w"> </span>api
nx<span class="w"> </span>generate<span class="w"> </span>@nx/js:library<span class="w"> </span>utils

<span class="c1"># 마이그레이션</span>
nx<span class="w"> </span>migrate<span class="w"> </span>latest
nx<span class="w"> </span>migrate<span class="w"> </span>--run-migrations
</code></pre></div>

<h3 id="35-nx-cloud">3.5 Nx Cloud (원격 캐싱)<a class="header-link" href="#35-nx-cloud" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Nx Cloud 연결</span>
npx<span class="w"> </span>nx<span class="w"> </span>connect-to-nx-cloud

<span class="c1"># 또는 직접 설정</span>
<span class="c1"># nx.json에 추가:</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;tasksRunnerOptions&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;default&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;runner&quot;</span>:<span class="w"> </span><span class="s2">&quot;nx-cloud&quot;</span>,
<span class="w">      </span><span class="s2">&quot;options&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;accessToken&quot;</span>:<span class="w"> </span><span class="s2">&quot;your-access-token&quot;</span>,
<span class="w">        </span><span class="s2">&quot;cacheableOperations&quot;</span>:<span class="w"> </span><span class="o">[</span><span class="s2">&quot;build&quot;</span>,<span class="w"> </span><span class="s2">&quot;test&quot;</span>,<span class="w"> </span><span class="s2">&quot;lint&quot;</span><span class="o">]</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<hr />
<h2 id="4-turborepo">4. Turborepo 활용<a class="header-link" href="#4-turborepo" title="Permanent link">&para;</a></h2>
<h3 id="41-turborepo">4.1 Turborepo 설정<a class="header-link" href="#41-turborepo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 새 프로젝트 생성</span>
npx<span class="w"> </span>create-turbo@latest

<span class="c1"># 기존 모노레포에 추가</span>
npm<span class="w"> </span>install<span class="w"> </span>turbo<span class="w"> </span>--save-dev
</code></pre></div>

<h3 id="42-turbojson">4.2 turbo.json 설정<a class="header-link" href="#42-turbojson" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// turbo.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://turbo.build/schema.json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;globalDependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;**/.env.*local&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;pipeline&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;dependsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;^build&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;outputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;dist/**&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.next/**&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!.next/cache/**&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;test&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;dependsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;build&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src/**/*.tsx&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;src/**/*.ts&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;test/**/*.ts&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;lint&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;outputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;persistent&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;deploy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;dependsOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;build&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;lint&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="43-turborepo">4.3 Turborepo 명령어<a class="header-link" href="#43-turborepo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 패키지 빌드</span>
turbo<span class="w"> </span>build

<span class="c1"># 특정 패키지만</span>
turbo<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=</span>web

<span class="c1"># 의존성 포함</span>
turbo<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=</span>web...

<span class="c1"># 의존하는 패키지 포함</span>
turbo<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=</span>...shared-ui

<span class="c1"># 변경된 패키지만</span>
turbo<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=[</span>HEAD^1<span class="o">]</span>

<span class="c1"># 병렬 실행 제한</span>
turbo<span class="w"> </span>build<span class="w"> </span>--concurrency<span class="o">=</span><span class="m">10</span>

<span class="c1"># 그래프 시각화</span>
turbo<span class="w"> </span>build<span class="w"> </span>--graph

<span class="c1"># 캐시 없이 실행</span>
turbo<span class="w"> </span>build<span class="w"> </span>--force

<span class="c1"># 드라이 런</span>
turbo<span class="w"> </span>build<span class="w"> </span>--dry-run
</code></pre></div>

<h3 id="44-vercel">4.4 원격 캐싱 (Vercel)<a class="header-link" href="#44-vercel" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Vercel에 연결</span>
npx<span class="w"> </span>turbo<span class="w"> </span>login
npx<span class="w"> </span>turbo<span class="w"> </span>link

<span class="c1"># 또는 환경 변수로</span>
<span class="nv">TURBO_TOKEN</span><span class="o">=</span>your-token
<span class="nv">TURBO_TEAM</span><span class="o">=</span>your-team
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// turbo.json에 추가</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;remoteCache&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="45-turborepo">4.5 Turborepo 프로젝트 구조<a class="header-link" href="#45-turborepo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">my</span><span class="o">-</span><span class="nx">turborepo</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">turbo</span><span class="p">.</span><span class="nx">json</span>
<span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">├──</span><span class="w"> </span><span class="nx">apps</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">web</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">next</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">js</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">docs</span><span class="o">/</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="err">└──</span><span class="w"> </span><span class="nx">packages</span><span class="o">/</span>
<span class="w">    </span><span class="err">├──</span><span class="w"> </span><span class="nx">ui</span><span class="o">/</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
<span class="w">    </span><span class="err">├──</span><span class="w"> </span><span class="nx">config</span><span class="o">/</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nx">eslint</span><span class="o">/</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">    </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nx">typescript</span><span class="o">/</span>
<span class="w">    </span><span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="nx">utils</span><span class="o">/</span>
<span class="w">        </span><span class="err">├──</span><span class="w"> </span><span class="kn">package</span><span class="p">.</span><span class="nx">json</span>
<span class="w">        </span><span class="err">└──</span><span class="w"> </span><span class="nx">src</span><span class="o">/</span>
</code></pre></div>

<hr />
<h2 id="5">5. 의존성 관리<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1 내부 패키지 참조<a class="header-link" href="#51" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// packages/ui/package.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@myorg/ui&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;main&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/index.js&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;types&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/index.d.ts&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;exports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;.&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;import&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/index.mjs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;require&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/index.js&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;types&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/index.d.ts&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;./button&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;import&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/button.mjs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;require&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./dist/button.js&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tsup src/index.ts --format esm,cjs --dts&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// apps/web/package.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;web&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;@myorg/ui&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;workspace:*&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;@myorg/utils&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;workspace:*&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="52-typescript">5.2 TypeScript 경로 설정<a class="header-link" href="#52-typescript" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// tsconfig.base.json (root)</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;compilerOptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;baseUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;paths&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;@myorg/ui&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;packages/ui/src/index.ts&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;@myorg/ui/*&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;packages/ui/src/*&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;@myorg/utils&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;packages/utils/src/index.ts&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;@myorg/utils/*&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;packages/utils/src/*&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// apps/web/tsconfig.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;extends&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;../../tsconfig.base.json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;compilerOptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;rootDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;src&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;outDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dist&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;include&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;references&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;../../packages/ui&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;../../packages/utils&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="53">5.3 버전 관리<a class="header-link" href="#53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Changesets 사용 (버전 관리)</span>
npm<span class="w"> </span>install<span class="w"> </span>@changesets/cli<span class="w"> </span>-D
npx<span class="w"> </span>changeset<span class="w"> </span>init

<span class="c1"># 변경사항 추가</span>
npx<span class="w"> </span>changeset
<span class="c1"># 버전 범프 유형 선택: major/minor/patch</span>
<span class="c1"># 영향받는 패키지 선택</span>
<span class="c1"># 변경 설명 작성</span>

<span class="c1"># 버전 업데이트</span>
npx<span class="w"> </span>changeset<span class="w"> </span>version

<span class="c1"># 배포</span>
npx<span class="w"> </span>changeset<span class="w"> </span>publish
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// .changeset/config.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://unpkg.com/@changesets/config@3.0.0/schema.json&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;changelog&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@changesets/cli/changelog&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;commit&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;fixed&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">  </span><span class="nt">&quot;linked&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot;@myorg/ui&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;@myorg/utils&quot;</span><span class="p">]],</span>
<span class="w">  </span><span class="nt">&quot;access&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;restricted&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;baseBranch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updateInternalDependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;patch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;ignore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="54">5.4 공유 설정<a class="header-link" href="#54" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// packages/config/eslint/index.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">extends</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s1">&#39;eslint:recommended&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;plugin:@typescript-eslint/recommended&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;prettier&#39;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">parser</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;@typescript-eslint/parser&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;@typescript-eslint&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">rules</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 공통 규칙</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="c1">// apps/web/.eslintrc.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">root</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="k">extends</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;@myorg/eslint-config&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="c1">// 프로젝트별 추가 설정</span>
<span class="p">};</span>
</code></pre></div>

<hr />
<h2 id="6-cicd">6. CI/CD 최적화<a class="header-link" href="#6-cicd" title="Permanent link">&para;</a></h2>
<h3 id="61-github-actions">6.1 GitHub Actions 설정<a class="header-link" href="#61-github-actions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># .github/workflows/ci.yaml</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CI</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">main</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">main</span><span class="p p-Indicator">]</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">build</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">  </span><span class="c1"># 전체 히스토리 (affected 계산에 필요)</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pnpm/action-setup@v2</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;20&#39;</span>
<span class="w">        </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;pnpm&#39;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pnpm install --frozen-lockfile</span>

<span class="w">    </span><span class="c1"># Nx 사용 시</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Nx affected</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">npx nx affected:lint --base=origin/main</span>
<span class="w">        </span><span class="no">npx nx affected:test --base=origin/main</span>
<span class="w">        </span><span class="no">npx nx affected:build --base=origin/main</span>

<span class="w">    </span><span class="c1"># Turborepo 사용 시</span>
<span class="w">    </span><span class="c1"># - name: Turbo build</span>
<span class="w">    </span><span class="c1">#   run: pnpm turbo build --filter=[origin/main...]</span>

<span class="w">  </span><span class="c1"># 원격 캐싱 (Nx Cloud)</span>
<span class="w">  </span><span class="nt">nx-cloud</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pnpm/action-setup@v2</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v4</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;20&#39;</span>
<span class="w">        </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;pnpm&#39;</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pnpm install --frozen-lockfile</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build with Nx Cloud</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npx nx affected:build --base=origin/main</span>
<span class="w">      </span><span class="nt">env</span><span class="p">:</span>
<span class="w">        </span><span class="nt">NX_CLOUD_ACCESS_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.NX_CLOUD_ACCESS_TOKEN }}</span>
</code></pre></div>

<h3 id="62">6.2 영향 범위 분석<a class="header-link" href="#62" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Nx - 영향받은 프로젝트 목록</span>
nx<span class="w"> </span>show<span class="w"> </span>projects<span class="w"> </span>--affected<span class="w"> </span>--base<span class="o">=</span>main

<span class="c1"># 영향받은 파일 목록</span>
nx<span class="w"> </span>show<span class="w"> </span>projects<span class="w"> </span>--affected<span class="w"> </span>--base<span class="o">=</span>main<span class="w"> </span>--files

<span class="c1"># Turborepo - 변경된 패키지만</span>
turbo<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=[</span>HEAD^1<span class="o">]</span>

<span class="c1"># Git으로 변경 파일 확인</span>
git<span class="w"> </span>diff<span class="w"> </span>--name-only<span class="w"> </span>HEAD^1

<span class="c1"># 경로 기반 필터링 (GitHub Actions)</span>
-<span class="w"> </span>uses:<span class="w"> </span>dorny/paths-filter@v2
<span class="w">  </span>id:<span class="w"> </span>changes
<span class="w">  </span>with:
<span class="w">    </span>filters:<span class="w"> </span><span class="p">|</span>
<span class="w">      </span>web:
<span class="w">        </span>-<span class="w"> </span><span class="s1">&#39;apps/web/**&#39;</span>
<span class="w">      </span>api:
<span class="w">        </span>-<span class="w"> </span><span class="s1">&#39;apps/api/**&#39;</span>
<span class="w">      </span>shared:
<span class="w">        </span>-<span class="w"> </span><span class="s1">&#39;packages/**&#39;</span>

-<span class="w"> </span><span class="k">if</span>:<span class="w"> </span>steps.changes.outputs.web<span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;true&#39;</span>
<span class="w">  </span>run:<span class="w"> </span>pnpm<span class="w"> </span>build<span class="w"> </span>--filter<span class="o">=</span>web
</code></pre></div>

<h3 id="63">6.3 캐싱 전략<a class="header-link" href="#63" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># GitHub Actions 캐싱</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cache turbo build</span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/cache@v4</span>
<span class="w">  </span><span class="nt">with</span><span class="p">:</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.turbo</span>
<span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ runner.os }}-turbo-${{ github.sha }}</span>
<span class="w">    </span><span class="nt">restore-keys</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">${{ runner.os }}-turbo-</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cache node_modules</span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/cache@v4</span>
<span class="w">  </span><span class="nt">with</span><span class="p">:</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">node_modules</span>
<span class="w">      </span><span class="no">*/*/node_modules</span>
<span class="w">    </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ runner.os }}-modules-${{ hashFiles(&#39;**/pnpm-lock.yaml&#39;) }}</span>
</code></pre></div>

<h3 id="64">6.4 선택적 배포<a class="header-link" href="#64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 변경된 앱만 배포</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">main</span><span class="p p-Indicator">]</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">changes</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">outputs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">web</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ steps.filter.outputs.web }}</span>
<span class="w">      </span><span class="nt">api</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ steps.filter.outputs.api }}</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dorny/paths-filter@v2</span>
<span class="w">      </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">filter</span>
<span class="w">      </span><span class="nt">with</span><span class="p">:</span>
<span class="w">        </span><span class="nt">filters</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">web:</span>
<span class="w">            </span><span class="no">- &#39;apps/web/**&#39;</span>
<span class="w">            </span><span class="no">- &#39;packages/**&#39;</span>
<span class="w">          </span><span class="no">api:</span>
<span class="w">            </span><span class="no">- &#39;apps/api/**&#39;</span>
<span class="w">            </span><span class="no">- &#39;packages/**&#39;</span>

<span class="w">  </span><span class="nt">deploy-web</span><span class="p">:</span>
<span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changes</span>
<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">needs.changes.outputs.web == &#39;true&#39;</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo &quot;Deploying web...&quot;</span>

<span class="w">  </span><span class="nt">deploy-api</span><span class="p">:</span>
<span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changes</span>
<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">needs.changes.outputs.api == &#39;true&#39;</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo &quot;Deploying api...&quot;</span>
</code></pre></div>

<hr />
<h2 id="7">7. 연습 문제<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="1_1">연습 1: 모노레포 초기 설정<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 요구사항:</span>
<span class="c1"># 1. pnpm workspaces로 모노레포 설정</span>
<span class="c1"># 2. 공유 UI 라이브러리 생성</span>
<span class="c1"># 3. 웹 앱에서 UI 라이브러리 사용</span>
<span class="c1"># 4. TypeScript 경로 설정</span>

<span class="c1"># 구조 및 설정 파일 작성:</span>
</code></pre></div>

<h3 id="2-nx">연습 2: Nx 워크스페이스<a class="header-link" href="#2-nx" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 요구사항:</span>
<span class="c1"># 1. Nx 워크스페이스 생성</span>
<span class="c1"># 2. React 앱 추가</span>
<span class="c1"># 3. Node API 추가</span>
<span class="c1"># 4. 공유 라이브러리 생성</span>
<span class="c1"># 5. 의존성 그래프 확인</span>

<span class="c1"># 명령어 작성:</span>
</code></pre></div>

<h3 id="3-turborepo">연습 3: Turborepo 파이프라인<a class="header-link" href="#3-turborepo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// 요구사항:</span>
<span class="c1">// 1. build, test, lint, deploy 태스크 정의</span>
<span class="c1">// 2. 적절한 의존성 설정</span>
<span class="c1">// 3. 캐시 설정</span>
<span class="c1">// 4. 개발 서버 설정</span>

<span class="c1">// turbo.json 작성:</span>
</code></pre></div>

<h3 id="4-cicd">연습 4: CI/CD 최적화<a class="header-link" href="#4-cicd" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 요구사항:</span>
<span class="c1"># 1. 영향받은 프로젝트만 빌드/테스트</span>
<span class="c1"># 2. 원격 캐싱 설정</span>
<span class="c1"># 3. 변경된 앱만 배포</span>
<span class="c1"># 4. 캐싱으로 빌드 시간 단축</span>

<span class="c1"># GitHub Actions 워크플로우 작성:</span>
</code></pre></div>

<hr />
<h2 id="_3">다음 단계<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="08_Git_워크플로우_전략.md">08_Git_워크플로우_전략</a> - 워크플로우 복습</li>
<li><a href="09_고급_Git_기법.md">09_고급_Git_기법</a> - 고급 Git</li>
<li><a href="https://nx.dev/">Nx 공식 문서</a> - Nx 심화</li>
<li><a href="https://turbo.build/">Turborepo 공식 문서</a> - Turborepo 심화</li>
</ul>
<h2 id="_4">참고 자료<a class="header-link" href="#_4" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://nx.dev/getting-started/intro">Nx Documentation</a></li>
<li><a href="https://turbo.build/repo/docs">Turborepo Documentation</a></li>
<li><a href="https://pnpm.io/workspaces">pnpm Workspaces</a></li>
<li><a href="https://monorepo.tools/">Monorepo Explained</a></li>
<li><a href="https://github.com/changesets/changesets">Changesets</a></li>
</ul>
<hr />
<p><a href="09_고급_Git_기법.md">← 이전: 고급 Git 기법</a> | <a href="00_Overview.md">목차</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Git/09_Advanced_Git_Techniques.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">09. 고급 Git 기법</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Git/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}