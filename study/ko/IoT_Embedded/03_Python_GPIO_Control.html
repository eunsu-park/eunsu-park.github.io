{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03. Python GPIO ì œì–´ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/IoT_Embedded/">IoT Embedded</a>
    <span class="separator">/</span>
    <span class="current">03. Python GPIO ì œì–´</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>03. Python GPIO ì œì–´</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/IoT_Embedded/02_Raspberry_Pi_Setup.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">02. ë¼ì¦ˆë² ë¦¬íŒŒì´ ì„¤ì •</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/IoT_Embedded/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/IoT_Embedded/04_WiFi_Networking.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">04. WiFi ë„¤íŠ¸ì›Œí‚¹</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_1">í•™ìŠµ ëª©í‘œ</a></li>
<li><a href="#1-gpio">1. GPIO ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œìš”</a><ul>
<li><a href="#11">1.1 ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ</a></li>
<li><a href="#12">1.2 ì„¤ì¹˜</a></li>
</ul>
</li>
<li><a href="#2-rpigpio">2. RPi.GPIO ë¼ì´ë¸ŒëŸ¬ë¦¬</a><ul>
<li><a href="#21">2.1 ê¸°ë³¸ êµ¬ì¡°</a></li>
<li><a href="#22-led">2.2 LED ì œì–´ (ë””ì§€í„¸ ì¶œë ¥)</a></li>
<li><a href="#23-pwm">2.3 PWM ì¶œë ¥ (ë°ê¸° ì¡°ì ˆ)</a></li>
<li><a href="#24">2.4 ë²„íŠ¼ ì…ë ¥ (í´ë§ ë°©ì‹)</a></li>
<li><a href="#25">2.5 ë²„íŠ¼ ì…ë ¥ (ì¸í„°ëŸ½íŠ¸ ë°©ì‹)</a></li>
</ul>
</li>
<li><a href="#3-gpiozero">3. gpiozero ë¼ì´ë¸ŒëŸ¬ë¦¬</a><ul>
<li><a href="#31-gpiozero">3.1 gpiozero ì¥ì </a></li>
<li><a href="#32-led">3.2 LED ì œì–´</a></li>
<li><a href="#33-pwm-led">3.3 PWM LED</a></li>
<li><a href="#34">3.4 ë²„íŠ¼ ì²˜ë¦¬</a></li>
<li><a href="#35-led">3.5 ë²„íŠ¼ìœ¼ë¡œ LED í† ê¸€</a></li>
<li><a href="#36-led">3.6 ë‹¤ì¤‘ LED ì œì–´</a></li>
</ul>
</li>
<li><a href="#4">4. ì„¼ì„œ ì—°ê²°</a><ul>
<li><a href="#41-dht11">4.1 DHT11 ì˜¨ìŠµë„ ì„¼ì„œ</a></li>
<li><a href="#42-pir">4.2 PIR ëª¨ì…˜ ì„¼ì„œ</a></li>
<li><a href="#43-hc-sr04">4.3 ì´ˆìŒíŒŒ ê±°ë¦¬ ì„¼ì„œ (HC-SR04)</a></li>
</ul>
</li>
<li><a href="#5">5. ì¢…í•© ì˜ˆì œ: ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</a></li>
<li><a href="#6">6. ì‹œë®¬ë ˆì´ì…˜ (í•˜ë“œì›¨ì–´ ì—†ì´)</a><ul>
<li><a href="#61-mock">6.1 Mock í•€ íŒ©í† ë¦¬</a></li>
</ul>
</li>
<li><a href="#_2">ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1">ë¬¸ì œ 1: íŠ¸ë˜í”½ ë¼ì´íŠ¸</a></li>
<li><a href="#2">ë¬¸ì œ 2: ë²„íŠ¼ ì¹´ìš´í„°</a></li>
<li><a href="#3">ë¬¸ì œ 3: í™˜ê²½ ì•ŒëŒ</a></li>
</ul>
</li>
<li><a href="#_3">ë‹¤ìŒ ë‹¨ê³„</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="03-python-gpio">03. Python GPIO ì œì–´<a class="header-link" href="#03-python-gpio" title="Permanent link">&para;</a></h1>
<h2 id="_1">í•™ìŠµ ëª©í‘œ<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>RPi.GPIO ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²• ìŠµë“</li>
<li>gpiozero ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•œ ê°„í¸í•œ GPIO ì œì–´</li>
<li>LED ì¶œë ¥ ì œì–´ (ë””ì§€í„¸/PWM)</li>
<li>ë²„íŠ¼ ì…ë ¥ ì²˜ë¦¬ (í’€ì—…/í’€ë‹¤ìš´, ì¸í„°ëŸ½íŠ¸)</li>
<li>ì„¼ì„œ ì—°ê²° ë° ë°ì´í„° ì½ê¸° (DHT11, PIR)</li>
</ul>
<hr />
<h2 id="1-gpio">1. GPIO ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œìš”<a class="header-link" href="#1-gpio" title="Permanent link">&para;</a></h2>
<h3 id="11">1.1 ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ<a class="header-link" href="#11" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ë¼ì´ë¸ŒëŸ¬ë¦¬</th>
<th>íŠ¹ì§•</th>
<th>ë‚œì´ë„</th>
<th>ê¶Œì¥ ìš©ë„</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RPi.GPIO</strong></td>
<td>ì €ìˆ˜ì¤€, ì„¸ë°€í•œ ì œì–´</td>
<td>ì¤‘ê¸‰</td>
<td>ì •ë°€ ì œì–´, íƒ€ì´ë°</td>
</tr>
<tr>
<td><strong>gpiozero</strong></td>
<td>ê³ ìˆ˜ì¤€, ì§ê´€ì  API</td>
<td>ì…ë¬¸</td>
<td>êµìœ¡, ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘</td>
</tr>
<tr>
<td><strong>pigpio</strong></td>
<td>ì›ê²© ì œì–´, ì •ë°€ íƒ€ì´ë°</td>
<td>ê³ ê¸‰</td>
<td>ì„œë³´, ì •ë°€ PWM</td>
</tr>
<tr>
<td><strong>lgpio</strong></td>
<td>ìµœì‹ , Pi 5 ì§€ì›</td>
<td>ì¤‘ê¸‰</td>
<td>Pi 5 í”„ë¡œì íŠ¸</td>
</tr>
</tbody>
</table>
<h3 id="12">1.2 ì„¤ì¹˜<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># RPi.GPIO (ë³´í†µ ê¸°ë³¸ ì„¤ì¹˜ë¨)</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3-rpi.gpio

<span class="c1"># gpiozero (ê¶Œì¥)</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3-gpiozero

<span class="c1"># pigpio (ì •ë°€ íƒ€ì´ë° í•„ìš”ì‹œ)</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>pigpio<span class="w"> </span>python3-pigpio
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>pigpiod
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>pigpiod
</code></pre></div>

<hr />
<h2 id="2-rpigpio">2. RPi.GPIO ë¼ì´ë¸ŒëŸ¬ë¦¬<a class="header-link" href="#2-rpigpio" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 ê¸°ë³¸ êµ¬ì¡°<a class="header-link" href="#21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;RPi.GPIO ê¸°ë³¸ êµ¬ì¡°&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">RPi.GPIO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">GPIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="c1"># 1. í•€ ë²ˆí˜¸ ì²´ê³„ ì„¤ì •</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>  <span class="c1"># BCM ë²ˆí˜¸ ì‚¬ìš© (GPIO ë²ˆí˜¸)</span>
<span class="c1"># GPIO.setmode(GPIO.BOARD)  # ë¬¼ë¦¬ì  í•€ ë²ˆí˜¸ ì‚¬ìš©</span>

<span class="c1"># 2. ê²½ê³  ë©”ì‹œì§€ ë¹„í™œì„±í™” (ì„ íƒ)</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setwarnings</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># 3. í•€ ì„¤ì •</span>
<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>  <span class="c1"># ì¶œë ¥ í•€</span>

<span class="n">BUTTON_PIN</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_UP</span><span class="p">)</span>  <span class="c1"># ì…ë ¥ í•€ (í’€ì—…)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># 4. GPIO ì‚¬ìš©</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># 5. ì •ë¦¬ (í•„ìˆ˜!)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</code></pre></div>

<h3 id="22-led">2.2 LED ì œì–´ (ë””ì§€í„¸ ì¶œë ¥)<a class="header-link" href="#22-led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;LED ê¹œë¹¡ì´ê¸° (RPi.GPIO)&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">RPi.GPIO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">GPIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">17</span>

<span class="k">def</span><span class="w"> </span><span class="nf">blink_led</span><span class="p">(</span><span class="n">times</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;LEDë¥¼ ì§€ì • íšŸìˆ˜ë§Œí¼ ê¹œë¹¡ì„&quot;&quot;&quot;</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Blink </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">times</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">blink_led</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
</code></pre></div>

<h3 id="23-pwm">2.3 PWM ì¶œë ¥ (ë°ê¸° ì¡°ì ˆ)<a class="header-link" href="#23-pwm" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;LED ë°ê¸° ì¡°ì ˆ - PWM (RPi.GPIO)&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">RPi.GPIO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">GPIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">18</span>  <span class="c1"># í•˜ë“œì›¨ì–´ PWM ì§€ì› í•€ ê¶Œì¥</span>

<span class="k">def</span><span class="w"> </span><span class="nf">fade_led</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;LED í˜ì´ë“œ ì¸/ì•„ì›ƒ&quot;&quot;&quot;</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

    <span class="c1"># PWM ê°ì²´ ìƒì„± (í•€, ì£¼íŒŒìˆ˜ Hz)</span>
    <span class="n">pwm</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># 1kHz</span>
    <span class="n">pwm</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># ë“€í‹° ì‚¬ì´í´ 0%ë¡œ ì‹œì‘</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># í˜ì´ë“œ ì¸ (0% -&gt; 100%)</span>
            <span class="k">for</span> <span class="n">duty</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
                <span class="n">pwm</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">duty</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>

            <span class="c1"># í˜ì´ë“œ ì•„ì›ƒ (100% -&gt; 0%)</span>
            <span class="k">for</span> <span class="n">duty</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">):</span>
                <span class="n">pwm</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">duty</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">pwm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">fade_led</span><span class="p">()</span>
</code></pre></div>

<h3 id="24">2.4 ë²„íŠ¼ ì…ë ¥ (í´ë§ ë°©ì‹)<a class="header-link" href="#24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ë²„íŠ¼ ì…ë ¥ - í´ë§ ë°©ì‹ (RPi.GPIO)&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">RPi.GPIO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">GPIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">BUTTON_PIN</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">17</span>

<span class="k">def</span><span class="w"> </span><span class="nf">polling_button</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;í´ë§ìœ¼ë¡œ ë²„íŠ¼ ìƒíƒœ í™•ì¸&quot;&quot;&quot;</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_UP</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ LEDê°€ ì¼œì§‘ë‹ˆë‹¤. Ctrl+Cë¡œ ì¢…ë£Œ.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># í’€ì—…ì´ë¯€ë¡œ ë²„íŠ¼ ëˆ„ë¥´ë©´ LOW</span>
            <span class="k">if</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">)</span> <span class="o">==</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">:</span>
                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ ëˆŒë¦¼!&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># ë””ë°”ìš´ì‹±</span>

    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">polling_button</span><span class="p">()</span>
</code></pre></div>

<h3 id="25">2.5 ë²„íŠ¼ ì…ë ¥ (ì¸í„°ëŸ½íŠ¸ ë°©ì‹)<a class="header-link" href="#25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ë²„íŠ¼ ì…ë ¥ - ì¸í„°ëŸ½íŠ¸ ë°©ì‹ (RPi.GPIO)&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">RPi.GPIO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">GPIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">BUTTON_PIN</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">led_state</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">def</span><span class="w"> </span><span class="nf">button_callback</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ë²„íŠ¼ ëˆŒë¦¼ ì½œë°± í•¨ìˆ˜&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">led_state</span>
    <span class="n">led_state</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">led_state</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">led_state</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LED </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">led_state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">interrupt_button</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì¸í„°ëŸ½íŠ¸ë¡œ ë²„íŠ¼ ê°ì§€&quot;&quot;&quot;</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">BUTTON_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_UP</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

    <span class="c1"># ì¸í„°ëŸ½íŠ¸ ë“±ë¡ (í•˜ê°• ì—ì§€, ë””ë°”ìš´ì‹± 200ms)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">add_event_detect</span><span class="p">(</span>
        <span class="n">BUTTON_PIN</span><span class="p">,</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">FALLING</span><span class="p">,</span>
        <span class="n">callback</span><span class="o">=</span><span class="n">button_callback</span><span class="p">,</span>
        <span class="n">bouncetime</span><span class="o">=</span><span class="mi">200</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ LEDê°€ í† ê¸€ë©ë‹ˆë‹¤. Ctrl+Cë¡œ ì¢…ë£Œ.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># ë©”ì¸ ë£¨í”„ëŠ” ë‹¤ë¥¸ ì‘ì—… ê°€ëŠ¥</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">interrupt_button</span><span class="p">()</span>
</code></pre></div>

<hr />
<h2 id="3-gpiozero">3. gpiozero ë¼ì´ë¸ŒëŸ¬ë¦¬<a class="header-link" href="#3-gpiozero" title="Permanent link">&para;</a></h2>
<h3 id="31-gpiozero">3.1 gpiozero ì¥ì <a class="header-link" href="#31-gpiozero" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    gpiozero íŠ¹ì§•                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âœ“ ê°ì²´ ì§€í–¥ì  API                                          â”‚
â”‚  âœ“ ìë™ cleanup (with ë¬¸ ë˜ëŠ” ì¢…ë£Œì‹œ)                       â”‚
â”‚  âœ“ ë‹¤ì–‘í•œ ì¥ì¹˜ ì¶”ìƒí™” (LED, Button, Sensor ë“±)              â”‚
â”‚  âœ“ ê°€ë…ì„± ë†’ì€ ì½”ë“œ                                         â”‚
â”‚  âœ“ ì›ê²© GPIO ì§€ì› (ë‹¤ë¥¸ Pi ì œì–´)                            â”‚
â”‚  âœ“ Mock í•€ ì§€ì› (í…ŒìŠ¤íŠ¸ìš©)                                  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="32-led">3.2 LED ì œì–´<a class="header-link" href="#32-led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;LED ì œì–´ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">LED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># LED ê°ì²´ ìƒì„± (GPIO 17)</span>
<span class="n">led</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>

<span class="c1"># ê¸°ë³¸ ì œì–´</span>
<span class="n">led</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>        <span class="c1"># ì¼œê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>       <span class="c1"># ë„ê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># í† ê¸€</span>
<span class="n">led</span><span class="o">.</span><span class="n">toggle</span><span class="p">()</span>    <span class="c1"># ìƒíƒœ ë°˜ì „</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">toggle</span><span class="p">()</span>

<span class="c1"># ê¹œë¹¡ì´ê¸° (ë¹„ë™ê¸°)</span>
<span class="n">led</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="n">on_time</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">off_time</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ ì‹œ ìë™ cleanup</span>
</code></pre></div>

<h3 id="33-pwm-led">3.3 PWM LED<a class="header-link" href="#33-pwm-led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;PWM LED ì œì–´ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">PWMLED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>

<span class="n">led</span> <span class="o">=</span> <span class="n">PWMLED</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>

<span class="c1"># ë°ê¸° ì§ì ‘ ì„¤ì • (0.0 ~ 1.0)</span>
<span class="n">led</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># 50% ë°ê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">led</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># 100% ë°ê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># í˜ì´ë“œ íš¨ê³¼ (pulse)</span>
<span class="c1"># ê¸°ë³¸ê°’: fade_in_time=1, fade_out_time=1</span>
<span class="n">led</span><span class="o">.</span><span class="n">pulse</span><span class="p">(</span><span class="n">fade_in_time</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fade_out_time</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># ìˆ˜ë™ í˜ì´ë“œ</span>
<span class="k">for</span> <span class="n">brightness</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">led</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">brightness</span> <span class="o">/</span> <span class="mi">100</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div>

<h3 id="34">3.4 ë²„íŠ¼ ì²˜ë¦¬<a class="header-link" href="#34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ë²„íŠ¼ ì œì–´ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">Button</span><span class="p">,</span> <span class="n">LED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">pause</span>

<span class="n">led</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">pull_up</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bounce_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="c1"># ë°©ë²• 1: ì½œë°± í•¨ìˆ˜</span>
<span class="k">def</span><span class="w"> </span><span class="nf">on_pressed</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ ëˆŒë¦¼!&quot;</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_released</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ ë–¼ì§!&quot;</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="n">button</span><span class="o">.</span><span class="n">when_pressed</span> <span class="o">=</span> <span class="n">on_pressed</span>
<span class="n">button</span><span class="o">.</span><span class="n">when_released</span> <span class="o">=</span> <span class="n">on_released</span>

<span class="c1"># ë°©ë²• 2: LEDì™€ ì§ì ‘ ì—°ê²°</span>
<span class="c1"># led.source = button  # ë²„íŠ¼ ëˆ„ë¥´ë©´ LED ì¼œì§</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”. Ctrl+Cë¡œ ì¢…ë£Œ.&quot;</span><span class="p">)</span>
<span class="n">pause</span><span class="p">()</span>  <span class="c1"># í”„ë¡œê·¸ë¨ ìœ ì§€</span>
</code></pre></div>

<h3 id="35-led">3.5 ë²„íŠ¼ìœ¼ë¡œ LED í† ê¸€<a class="header-link" href="#35-led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ë²„íŠ¼ìœ¼ë¡œ LED í† ê¸€ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">Button</span><span class="p">,</span> <span class="n">LED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">pause</span>

<span class="n">led</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">bounce_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="c1"># ë²„íŠ¼ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ LED í† ê¸€</span>
<span class="n">button</span><span class="o">.</span><span class="n">when_pressed</span> <span class="o">=</span> <span class="n">led</span><span class="o">.</span><span class="n">toggle</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ LEDê°€ í† ê¸€ë©ë‹ˆë‹¤.&quot;</span><span class="p">)</span>
<span class="n">pause</span><span class="p">()</span>
</code></pre></div>

<h3 id="36-led">3.6 ë‹¤ì¤‘ LED ì œì–´<a class="header-link" href="#36-led" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ë‹¤ì¤‘ LED ì œì–´ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">LEDBoard</span><span class="p">,</span> <span class="n">LED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">pause</span>

<span class="c1"># ê°œë³„ LED</span>
<span class="n">leds</span> <span class="o">=</span> <span class="p">[</span><span class="n">LED</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span> <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">22</span><span class="p">]]</span>

<span class="c1"># ìˆœì°¨ ì ë“±</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">led</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">leds</span><span class="p">):</span>
    <span class="n">led</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="c1"># LEDBoard ì‚¬ìš©</span>
<span class="n">led_board</span> <span class="o">=</span> <span class="n">LEDBoard</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>

<span class="n">led_board</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>       <span class="c1"># ëª¨ë‘ ì¼œê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">led_board</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>      <span class="c1"># ëª¨ë‘ ë„ê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># ê¹œë¹¡ì´ê¸°</span>
<span class="n">led_board</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="n">on_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">off_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># ê°’ ì„¤ì • (ê°œë³„ ì œì–´)</span>
<span class="n">led_board</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># ì²«ì§¸, ì…‹ì§¸ë§Œ ì¼œê¸°</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="4">4. ì„¼ì„œ ì—°ê²°<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41-dht11">4.1 DHT11 ì˜¨ìŠµë„ ì„¼ì„œ<a class="header-link" href="#41-dht11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DHT11 ì—°ê²°ë„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚   DHT11 í•€           Raspberry Pi                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚   â”‚ VCC (+) â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3.3V (í•€ 1)                         â”‚
â”‚   â”‚ DATA    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ GPIO4 (í•€ 7) + 10kÎ© í’€ì—…           â”‚
â”‚   â”‚ NC      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì—°ê²° ì•ˆí•¨                           â”‚
â”‚   â”‚ GND (-) â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND (í•€ 6)                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;DHT11 ì˜¨ìŠµë„ ì„¼ì„œ ì½ê¸°&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="c1"># adafruit-circuitpython-dht ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©</span>
<span class="c1"># pip install adafruit-circuitpython-dht</span>
<span class="c1"># sudo apt install libgpiod2</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">adafruit_dht</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">board</span>

<span class="c1"># DHT11 ì„¼ì„œ ì´ˆê¸°í™” (GPIO4)</span>
<span class="n">dht</span> <span class="o">=</span> <span class="n">adafruit_dht</span><span class="o">.</span><span class="n">DHT11</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">D4</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">read_dht11</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;DHT11 ì„¼ì„œ ë°ì´í„° ì½ê¸°&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="n">dht</span><span class="o">.</span><span class="n">temperature</span>
        <span class="n">humidity</span> <span class="o">=</span> <span class="n">dht</span><span class="o">.</span><span class="n">humidity</span>

        <span class="k">if</span> <span class="n">humidity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">temperature</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">temperature</span><span class="p">,</span>
                <span class="s2">&quot;humidity&quot;</span><span class="p">:</span> <span class="n">humidity</span><span class="p">,</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Failed to read&quot;</span><span class="p">}</span>

    <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># DHT ì„¼ì„œëŠ” ê°€ë” ì½ê¸° ì‹¤íŒ¨í•¨ (ì •ìƒ)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">monitor_environment</span><span class="p">(</span><span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;í™˜ê²½ ëª¨ë‹ˆí„°ë§&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ì˜¨ìŠµë„ ëª¨ë‹ˆí„°ë§ ì‹œì‘ (Ctrl+Cë¡œ ì¢…ë£Œ)&quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">read_dht11</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ok&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ì˜¨ë„: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">Â°C, &quot;</span>
                  <span class="sa">f</span><span class="s2">&quot;ìŠµë„: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;humidity&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ì½ê¸° ì‹¤íŒ¨: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Unknown error&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">monitor_environment</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ëª¨ë‹ˆí„°ë§ ì¢…ë£Œ&quot;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">dht</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div>

<h3 id="42-pir">4.2 PIR ëª¨ì…˜ ì„¼ì„œ<a class="header-link" href="#42-pir" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PIR ì„¼ì„œ ì—°ê²°ë„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚   PIR í•€             Raspberry Pi                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚   â”‚ VCC     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ 5V (í•€ 2)                           â”‚
â”‚   â”‚ OUT     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ GPIO17 (í•€ 11)                      â”‚
â”‚   â”‚ GND     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND (í•€ 6)                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                              â”‚
â”‚   * ê°ë„/ì§€ì—° ì¡°ì ˆ: ì„¼ì„œ ë’·ë©´ ê°€ë³€ì €í•­ ì¡°ì ˆ                  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;PIR ëª¨ì…˜ ì„¼ì„œ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">MotionSensor</span><span class="p">,</span> <span class="n">LED</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">pause</span>

<span class="n">pir</span> <span class="o">=</span> <span class="n">MotionSensor</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">led</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">motion_detected</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ëª¨ì…˜ ê°ì§€ ì‹œ í˜¸ì¶œ&quot;&quot;&quot;</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s2">] ëª¨ì…˜ ê°ì§€!&quot;</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">motion_ended</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ëª¨ì…˜ ì¢…ë£Œ ì‹œ í˜¸ì¶œ&quot;&quot;&quot;</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s2">] ëª¨ì…˜ ì¢…ë£Œ&quot;</span><span class="p">)</span>
    <span class="n">led</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="n">pir</span><span class="o">.</span><span class="n">when_motion</span> <span class="o">=</span> <span class="n">motion_detected</span>
<span class="n">pir</span><span class="o">.</span><span class="n">when_no_motion</span> <span class="o">=</span> <span class="n">motion_ended</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PIR ëª¨ì…˜ ê°ì§€ ì‹œì‘...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ì„¼ì„œ ì•ˆì •í™” ëŒ€ê¸° ì¤‘ (ì•½ 10ì´ˆ)...&quot;</span><span class="p">)</span>
<span class="n">pir</span><span class="o">.</span><span class="n">wait_for_no_motion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ì¤€ë¹„ ì™„ë£Œ! ëª¨ì…˜ì„ ê°ì§€í•©ë‹ˆë‹¤.&quot;</span><span class="p">)</span>

<span class="n">pause</span><span class="p">()</span>
</code></pre></div>

<h3 id="43-hc-sr04">4.3 ì´ˆìŒíŒŒ ê±°ë¦¬ ì„¼ì„œ (HC-SR04)<a class="header-link" href="#43-hc-sr04" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;HC-SR04 ì´ˆìŒíŒŒ ê±°ë¦¬ ì„¼ì„œ (gpiozero)&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">DistanceSensor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># TRIGGER: GPIO23, ECHO: GPIO24</span>
<span class="c1"># ì£¼ì˜: ECHO í•€ì€ 5V ì¶œë ¥ì´ë¯€ë¡œ ë¶„ì•• íšŒë¡œ í•„ìš”!</span>
<span class="n">sensor</span> <span class="o">=</span> <span class="n">DistanceSensor</span><span class="p">(</span><span class="n">echo</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">max_distance</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">measure_distance</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ê±°ë¦¬ ì¸¡ì •&quot;&quot;&quot;</span>
    <span class="n">distance_m</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">distance</span>
    <span class="n">distance_cm</span> <span class="o">=</span> <span class="n">distance_m</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">return</span> <span class="n">distance_cm</span>

<span class="k">def</span><span class="w"> </span><span class="nf">proximity_monitor</span><span class="p">(</span><span class="n">threshold_cm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ê·¼ì ‘ ê°ì§€ ëª¨ë‹ˆí„°ë§&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ê±°ë¦¬ ì„ê³„ê°’: </span><span class="si">{</span><span class="n">threshold_cm</span><span class="si">}</span><span class="s2">cm&quot;</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="n">measure_distance</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="n">threshold_cm</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ê·¼ì ‘ ê°ì§€! ê±°ë¦¬: </span><span class="si">{</span><span class="n">distance</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">cm&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ê±°ë¦¬: </span><span class="si">{</span><span class="n">distance</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">cm&quot;</span><span class="p">)</span>

        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">proximity_monitor</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ì¢…ë£Œ&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="5">5. ì¢…í•© ì˜ˆì œ: ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;ì¢…í•© ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">Button</span><span class="p">,</span> <span class="n">LED</span><span class="p">,</span> <span class="n">MotionSensor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="k">class</span><span class="w"> </span><span class="nc">IoTSensorSystem</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;IoT ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># GPIO ì„¤ì •</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_status</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_alarm</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="n">bounce_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pir</span> <span class="o">=</span> <span class="n">MotionSensor</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

        <span class="c1"># ìƒíƒœ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_motion</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># ì½œë°± ì„¤ì •</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">when_pressed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_arm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pir</span><span class="o">.</span><span class="n">when_motion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_motion</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_arm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ì‹œìŠ¤í…œ í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_status</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span>

        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;í™œì„±í™”&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span> <span class="k">else</span> <span class="s2">&quot;ë¹„í™œì„±í™”&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ì‹œìŠ¤í…œ] </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ëª¨ì…˜ ê°ì§€ í•¸ë“¤ëŸ¬&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_motion</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ê²½ê³ ] ëª¨ì…˜ ê°ì§€! (ì´ </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">motion_count</span><span class="si">}</span><span class="s2">íšŒ)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trigger_alarm</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ì •ë³´] ëª¨ì…˜ ê°ì§€ (ì‹œìŠ¤í…œ ë¹„í™œì„±)&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">trigger_alarm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ì•ŒëŒ íŠ¸ë¦¬ê±°&quot;&quot;&quot;</span>
        <span class="c1"># LED ê¹œë¹¡ì„</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_alarm</span><span class="o">.</span><span class="n">blink</span><span class="p">(</span><span class="n">on_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">off_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;í˜„ì¬ ìƒíƒœ ë°˜í™˜&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;is_armed&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_armed</span><span class="p">,</span>
            <span class="s2">&quot;motion_count&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_count</span><span class="p">,</span>
            <span class="s2">&quot;last_motion&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_motion</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_motion</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ë©”ì¸ ë£¨í”„&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== IoT ì„¼ì„œ ì‹œìŠ¤í…œ ì‹œì‘ ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œìŠ¤í…œì„ í™œì„±í™”/ë¹„í™œì„±í™”í•©ë‹ˆë‹¤.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="c1"># ì£¼ê¸°ì ìœ¼ë¡œ ìƒíƒœ ì¶œë ¥</span>
                <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_status</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">ìƒíƒœ: </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">ì‹œìŠ¤í…œ ì¢…ë£Œ&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ì •ë¦¬&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_status</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">led_alarm</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">system</span> <span class="o">=</span> <span class="n">IoTSensorSystem</span><span class="p">()</span>
    <span class="n">system</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>

<hr />
<h2 id="6">6. ì‹œë®¬ë ˆì´ì…˜ (í•˜ë“œì›¨ì–´ ì—†ì´)<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61-mock">6.1 Mock í•€ íŒ©í† ë¦¬<a class="header-link" href="#61-mock" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;í•˜ë“œì›¨ì–´ ì—†ì´ GPIO ì‹œë®¬ë ˆì´ì…˜&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero</span><span class="w"> </span><span class="kn">import</span> <span class="n">Device</span><span class="p">,</span> <span class="n">LED</span><span class="p">,</span> <span class="n">Button</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gpiozero.pins.mock</span><span class="w"> </span><span class="kn">import</span> <span class="n">MockFactory</span>

<span class="c1"># Mock í•€ íŒ©í† ë¦¬ ì„¤ì •</span>
<span class="n">Device</span><span class="o">.</span><span class="n">pin_factory</span> <span class="o">=</span> <span class="n">MockFactory</span><span class="p">()</span>

<span class="n">led</span> <span class="o">=</span> <span class="n">LED</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>

<span class="c1"># LED ì œì–´</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LED ì´ˆê¸° ìƒíƒœ: </span><span class="si">{</span><span class="n">led</span><span class="o">.</span><span class="n">is_lit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LED on í›„: </span><span class="si">{</span><span class="n">led</span><span class="o">.</span><span class="n">is_lit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">led</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LED off í›„: </span><span class="si">{</span><span class="n">led</span><span class="o">.</span><span class="n">is_lit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># ë²„íŠ¼ ì‹œë®¬ë ˆì´ì…˜</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ë²„íŠ¼ ì´ˆê¸° ìƒíƒœ: </span><span class="si">{</span><span class="n">button</span><span class="o">.</span><span class="n">is_pressed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># ë²„íŠ¼ í•€ì„ ì§ì ‘ ì¡°ì‘í•˜ì—¬ ëˆ„ë¦„ ì‹œë®¬ë ˆì´ì…˜</span>
<span class="n">button</span><span class="o">.</span><span class="n">pin</span><span class="o">.</span><span class="n">drive_low</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ë²„íŠ¼ ëˆ„ë¦„: </span><span class="si">{</span><span class="n">button</span><span class="o">.</span><span class="n">is_pressed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">button</span><span class="o">.</span><span class="n">pin</span><span class="o">.</span><span class="n">drive_high</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ë²„íŠ¼ ë–¼ê¸°: </span><span class="si">{</span><span class="n">button</span><span class="o">.</span><span class="n">is_pressed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="_2">ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="1">ë¬¸ì œ 1: íŠ¸ë˜í”½ ë¼ì´íŠ¸<a class="header-link" href="#1" title="Permanent link">&para;</a></h3>
<p>ë¹¨ê°•-ë…¸ë‘-ì´ˆë¡ LED 3ê°œë¡œ ì‹ í˜¸ë“±ì„ êµ¬í˜„í•˜ì„¸ìš”:
- ë¹¨ê°• 3ì´ˆ â†’ ë…¸ë‘ 1ì´ˆ â†’ ì´ˆë¡ 3ì´ˆ â†’ ë…¸ë‘ 1ì´ˆ ë°˜ë³µ</p>
<h3 id="2">ë¬¸ì œ 2: ë²„íŠ¼ ì¹´ìš´í„°<a class="header-link" href="#2" title="Permanent link">&para;</a></h3>
<p>ë²„íŠ¼ì„ ëˆ„ë¥¸ íšŸìˆ˜ë¥¼ ì„¸ê³ , 5íšŒë§ˆë‹¤ LEDë¥¼ ê¹œë¹¡ì´ì„¸ìš”.</p>
<h3 id="3">ë¬¸ì œ 3: í™˜ê²½ ì•ŒëŒ<a class="header-link" href="#3" title="Permanent link">&para;</a></h3>
<p>DHT11 ì„¼ì„œë¡œ ì˜¨ë„ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³ , 30ë„ ì´ìƒì´ë©´ ì•ŒëŒ LEDë¥¼ ì¼œì„¸ìš”.</p>
<hr />
<h2 id="_3">ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="04_WiFi_Networking.md">04_WiFi_Networking.md</a>: ì„¼ì„œ ë°ì´í„°ë¥¼ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡</li>
<li><a href="06_MQTT_Protocol.md">06_MQTT_Protocol.md</a>: MQTTë¡œ ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„° ë°œí–‰</li>
</ul>
<hr />
<p><em>ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-01</em></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/IoT_Embedded/02_Raspberry_Pi_Setup.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">02. ë¼ì¦ˆë² ë¦¬íŒŒì´ ì„¤ì •</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/IoT_Embedded/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/IoT_Embedded/04_WiFi_Networking.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">04. WiFi ë„¤íŠ¸ì›Œí‚¹</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}