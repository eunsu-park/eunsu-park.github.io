{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μ»¤λ„ κ΄€λ¦¬ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">π </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">π’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        ν•κµ­μ–΄
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">β€οΈ</span>
                    <span class="theme-icon dark">π™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Linux/">Linux</a>
    <span class="separator">/</span>
    <span class="current">μ»¤λ„ κ΄€λ¦¬</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>μ»¤λ„ κ΄€λ¦¬</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Linux/19_Backup_Recovery.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">λ°±μ—… λ° λ³µκµ¬</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">π”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Linux/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">π“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Linux/21_Virtualization_KVM.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">κ°€μƒν™” (KVM)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">ν•™μµ λ©ν‘</a></li>
<li><a href="#_3">λ©μ°¨</a></li>
<li><a href="#1">1. μ»¤λ„ κ°μ”</a><ul>
<li><a href="#_4">μ»¤λ„μ μ—­ν• </a></li>
<li><a href="#_5">μ»¤λ„ κµ¬μ„± μ”μ†</a></li>
</ul>
</li>
<li><a href="#2">2. μ»¤λ„ λ²„μ „ κ΄€λ¦¬</a><ul>
<li><a href="#_6">ν„μ¬ μ»¤λ„ μ •λ³΄</a></li>
<li><a href="#_7">μ»¤λ„ λ²„μ „ μ²΄κ³„</a></li>
<li><a href="#_8">μ„¤μΉλ μ»¤λ„ λ©λ΅</a></li>
<li><a href="#_9">μ»¤λ„ μ—…λ°μ΄νΈ</a></li>
<li><a href="#_10">μ΄μ „ μ»¤λ„ μ κ±°</a></li>
</ul>
</li>
<li><a href="#3">3. μ»¤λ„ λ¨λ“</a><ul>
<li><a href="#_11">λ¨λ“ μ •λ³΄ ν™•μΈ</a></li>
<li><a href="#_12">λ¨λ“ λ΅λ“/μ–Έλ΅λ“</a></li>
<li><a href="#_13">λ¨λ“ νλΌλ―Έν„°</a></li>
<li><a href="#_14">λ¨λ“ μλ™ λ΅λ“ μ„¤μ •</a></li>
<li><a href="#_15">λ¨λ“ λ³„μΉ­</a></li>
</ul>
</li>
<li><a href="#4-dkms">4. DKMS</a><ul>
<li><a href="#dkms">DKMS κ°μ”</a></li>
<li><a href="#dkms_1">DKMS μƒνƒ ν™•μΈ</a></li>
<li><a href="#dkms_2">DKMS λ¨λ“ κ΄€λ¦¬</a></li>
<li><a href="#dkms_3">DKMS λ¨λ“ μƒμ„± μμ‹</a></li>
</ul>
</li>
<li><a href="#5">5. μ»¤λ„ μ»΄νμΌ</a><ul>
<li><a href="#_16">μ†μ¤ λ‹¤μ΄λ΅λ“</a></li>
<li><a href="#_17">λΉλ“ μμ΅΄μ„± μ„¤μΉ</a></li>
<li><a href="#_18">μ»¤λ„ μ„¤μ •</a></li>
<li><a href="#_19">μ£Όμ” μ„¤μ • μµμ…</a></li>
<li><a href="#_20">μ»΄νμΌ λ° μ„¤μΉ</a></li>
<li><a href="#_21">λΉ λ¥Έ ν…μ¤νΈ λΉλ“</a></li>
</ul>
</li>
<li><a href="#6-grub">6. GRUB λ¶€νΈλ΅λ”</a><ul>
<li><a href="#grub">GRUB μ„¤μ • νμΌ</a></li>
<li><a href="#etcdefaultgrub">/etc/default/grub μ„¤μ •</a></li>
<li><a href="#grub_1">GRUB μ—…λ°μ΄νΈ</a></li>
<li><a href="#grub_2">GRUB μ¬μ„¤μΉ</a></li>
<li><a href="#_22">λ¶€ν… ν•­λ© μλ™ μ¶”κ°€</a></li>
<li><a href="#_23">κΈ°λ³Έ λ¶€ν… μ»¤λ„ λ³€κ²½</a></li>
</ul>
</li>
<li><a href="#7">7. μ»¤λ„ νλΌλ―Έν„°</a><ul>
<li><a href="#_24">λ¶€ν… μ‹ νλΌλ―Έν„°</a></li>
<li><a href="#_25">μΌλ°μ μΈ μ»¤λ„ νλΌλ―Έν„°</a></li>
<li><a href="#sysctl">λ°νƒ€μ„ νλΌλ―Έν„° (sysctl)</a></li>
<li><a href="#sysctl_1">μ£Όμ” sysctl νλΌλ―Έν„°</a></li>
<li><a href="#initramfs">initramfs κ΄€λ¦¬</a></li>
</ul>
</li>
<li><a href="#_26">μ—°μµ λ¬Έμ </a><ul>
<li><a href="#1_1">λ¬Έμ  1: λ¨λ“ κ΄€λ¦¬</a></li>
<li><a href="#2-grub">λ¬Έμ  2: GRUB μ„¤μ •</a></li>
<li><a href="#3-sysctl">λ¬Έμ  3: sysctl μ„¤μ •</a></li>
</ul>
</li>
<li><a href="#_27">μ •λ‹µ</a><ul>
<li><a href="#1_2">λ¬Έμ  1 μ •λ‹µ</a></li>
<li><a href="#2_1">λ¬Έμ  2 μ •λ‹µ</a></li>
<li><a href="#3_1">λ¬Έμ  3 μ •λ‹µ</a></li>
</ul>
</li>
<li><a href="#_28">λ‹¤μ λ‹¨κ³„</a></li>
<li><a href="#_29">μ°Έκ³  μλ£</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">μ»¤λ„ κ΄€λ¦¬<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">ν•™μµ λ©ν‘<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>μ΄ λ¬Έμ„λ¥Ό ν†µν•΄ λ‹¤μμ„ ν•™μµν•©λ‹λ‹¤:</p>
<ul>
<li>Linux μ»¤λ„ κµ¬μ΅°μ™€ λ²„μ „ κ΄€λ¦¬</li>
<li>μ»¤λ„ λ¨λ“ κ΄€λ¦¬ (λ΅λ“, μ–Έλ΅λ“, μ„¤μ •)</li>
<li>μ»¤λ„ μ»΄νμΌκ³Ό μ„¤μΉ</li>
<li>GRUB λ¶€νΈλ΅λ” μ„¤μ •</li>
</ul>
<p><strong>λ‚μ΄λ„</strong>: β­β­β­β­ (κ³ κΈ‰)</p>
<hr />
<h2 id="_3">λ©μ°¨<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-μ»¤λ„-κ°μ”">μ»¤λ„ κ°μ”</a></li>
<li><a href="#2-μ»¤λ„-λ²„μ „-κ΄€λ¦¬">μ»¤λ„ λ²„μ „ κ΄€λ¦¬</a></li>
<li><a href="#3-μ»¤λ„-λ¨λ“">μ»¤λ„ λ¨λ“</a></li>
<li><a href="#4-dkms">DKMS</a></li>
<li><a href="#5-μ»¤λ„-μ»΄νμΌ">μ»¤λ„ μ»΄νμΌ</a></li>
<li><a href="#6-grub-λ¶€νΈλ΅λ”">GRUB λ¶€νΈλ΅λ”</a></li>
<li><a href="#7-μ»¤λ„-νλΌλ―Έν„°">μ»¤λ„ νλΌλ―Έν„°</a></li>
</ol>
<hr />
<h2 id="1">1. μ»¤λ„ κ°μ”<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="_4">μ»¤λ„μ μ—­ν• <a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     μ‚¬μ©μ κ³µκ°„                              β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”        β”‚
β”‚  β”‚ μ• ν”λ¦¬μΌ€μ΄μ…β”‚  β”‚  μ‰     β”‚  β”‚  μ„λΉ„μ¤  β”‚  β”‚  GUI    β”‚        β”‚
β”‚  β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”        β”‚
β”‚       β”‚            β”‚            β”‚            β”‚              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                   μ‹μ¤ν… νΈμ¶ μΈν„°νμ΄μ¤                      β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                      μ»¤λ„ κ³µκ°„                               β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚  ν”„λ΅μ„Έμ¤ κ΄€λ¦¬  β”‚  λ©”λ¨λ¦¬ κ΄€λ¦¬  β”‚  νμΌμ‹μ¤ν…  β”‚  λ„¤νΈμ›ν¬ β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚              λ””λ°”μ΄μ¤ λ“λΌμ΄λ²„ (λ¨λ“)                 β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                        ν•λ“μ›¨μ–΄                              β”‚
β”‚  CPU  β”‚  λ©”λ¨λ¦¬  β”‚  λ””μ¤ν¬  β”‚  λ„¤νΈμ›ν¬ μΉ΄λ“  β”‚  κΈ°νƒ€ μ¥μΉ    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
</code></pre></div>

<h3 id="_5">μ»¤λ„ κµ¬μ„± μ”μ†<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>κµ¬μ„± μ”μ†</th>
<th>μ—­ν• </th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ν”„λ΅μ„Έμ¤ κ΄€λ¦¬</strong></td>
<td>ν”„λ΅μ„Έμ¤ μƒμ„±, μ¤μΌ€μ¤„λ§, μΆ…λ£</td>
</tr>
<tr>
<td><strong>λ©”λ¨λ¦¬ κ΄€λ¦¬</strong></td>
<td>κ°€μƒ λ©”λ¨λ¦¬, νμ΄μ§•, μΊμ‹±</td>
</tr>
<tr>
<td><strong>νμΌμ‹μ¤ν…</strong></td>
<td>VFS, ext4, XFS, NFS λ“±</td>
</tr>
<tr>
<td><strong>λ„¤νΈμ›ν‚Ή</strong></td>
<td>TCP/IP μ¤νƒ, μ†μΌ“, λΌμ°ν…</td>
</tr>
<tr>
<td><strong>λ””λ°”μ΄μ¤ λ“λΌμ΄λ²„</strong></td>
<td>ν•λ“μ›¨μ–΄ μ¶”μƒν™”, λ¨λ“</td>
</tr>
<tr>
<td><strong>μ‹μ¤ν… νΈμ¶</strong></td>
<td>μ‚¬μ©μ κ³µκ°„κ³Ό μ»¤λ„ μΈν„°νμ΄μ¤</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2">2. μ»¤λ„ λ²„μ „ κ΄€λ¦¬<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="_6">ν„μ¬ μ»¤λ„ μ •λ³΄<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># μ»¤λ„ λ²„μ „ ν™•μΈ</span>
uname<span class="w"> </span>-r
<span class="c1"># μ: 5.15.0-91-generic</span>

<span class="c1"># μƒμ„Έ μ •λ³΄</span>
uname<span class="w"> </span>-a
<span class="c1"># Linux hostname 5.15.0-91-generic #101-Ubuntu SMP x86_64 GNU/Linux</span>

<span class="c1"># μ»¤λ„ μ„¤μ • μ •λ³΄</span>
cat<span class="w"> </span>/proc/version

<span class="c1"># μ»¤λ„ λΉλ“ μ„¤μ • (μ„¤μ •μΌλ΅ μ»΄νμΌλ κ²½μ°)</span>
cat<span class="w"> </span>/boot/config-<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-20
</code></pre></div>

<h3 id="_7">μ»¤λ„ λ²„μ „ μ²΄κ³„<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="mf">5.15.0</span><span class="o">-</span><span class="mf">91</span><span class="o">-</span><span class="n">generic</span>
<span class="err">β”‚</span><span class="w"> </span><span class="err">β”‚</span><span class="w">  </span><span class="err">β”‚</span><span class="w"> </span><span class="err">β”‚</span><span class="w">  </span><span class="err">β””β”€β”€β”€β”€β”€β”€β”€β”€</span><span class="w"> </span><span class="n">λ°°ν¬ν</span><span class="w"> </span><span class="n">νΉμ •</span><span class="w"> </span><span class="n">μ΄λ¦„</span>
<span class="err">β”‚</span><span class="w"> </span><span class="err">β”‚</span><span class="w">  </span><span class="err">β”‚</span><span class="w"> </span><span class="err">β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€</span><span class="w"> </span><span class="n">ABI</span><span class="w"> </span><span class="n">λ²„μ „</span><span class="w"> </span><span class="p">(</span><span class="n">λ°°ν¬ν</span><span class="w"> </span><span class="n">ν¨μΉ</span><span class="p">)</span>
<span class="err">β”‚</span><span class="w"> </span><span class="err">β”‚</span><span class="w">  </span><span class="err">β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€</span><span class="w"> </span><span class="n">ν¨μΉ</span><span class="w"> </span><span class="n">λ λ²¨</span>
<span class="err">β”‚</span><span class="w"> </span><span class="err">β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€</span><span class="w"> </span><span class="n">λ§μ΄λ„</span><span class="w"> </span><span class="n">λ²„μ „</span>
<span class="err">β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€</span><span class="w"> </span><span class="n">λ©”μ΄μ €</span><span class="w"> </span><span class="n">λ²„μ „</span>
</code></pre></div>

<h3 id="_8">μ„¤μΉλ μ»¤λ„ λ©λ΅<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu/Debian</span>
dpkg<span class="w"> </span>--list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>linux-image

<span class="c1"># RHEL/CentOS</span>
rpm<span class="w"> </span>-qa<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>kernel

<span class="c1"># λλ” /boot ν™•μΈ</span>
ls<span class="w"> </span>-la<span class="w"> </span>/boot/vmlinuz-*
</code></pre></div>

<h3 id="_9">μ»¤λ„ μ—…λ°μ΄νΈ<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>linux-image-generic

<span class="c1"># νΉμ • λ²„μ „ μ„¤μΉ</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>linux-image-5.15.0-92-generic

<span class="c1"># RHEL/CentOS</span>
sudo<span class="w"> </span>yum<span class="w"> </span>update<span class="w"> </span>kernel

<span class="c1"># νΉμ • λ²„μ „ μ„¤μΉ</span>
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>kernel-5.14.0-362.el9
</code></pre></div>

<h3 id="_10">μ΄μ „ μ»¤λ„ μ κ±°<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu - μλ™ μ κ±°</span>
sudo<span class="w"> </span>apt<span class="w"> </span>autoremove

<span class="c1"># Ubuntu - νΉμ • λ²„μ „ μ κ±°</span>
sudo<span class="w"> </span>apt<span class="w"> </span>remove<span class="w"> </span>linux-image-5.15.0-88-generic

<span class="c1"># ν„μ¬ μ»¤λ„ μ μ™Έν•κ³  μ΄μ „ μ»¤λ„ μ κ±°</span>
sudo<span class="w"> </span>apt<span class="w"> </span>purge<span class="w"> </span><span class="k">$(</span>dpkg<span class="w"> </span>--list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;linux-(image|headers|modules)&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="k">$(</span>uname<span class="w"> </span>-r<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/-generic//&#39;</span><span class="k">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="k">)</span>

<span class="c1"># RHEL/CentOS - μ¤λλ μ»¤λ„ μ κ±° (2κ° μ μ§€)</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>remove<span class="w"> </span><span class="k">$(</span>dnf<span class="w"> </span>repoquery<span class="w"> </span>--installonly<span class="w"> </span>--latest-limit<span class="o">=</span>-2<span class="w"> </span>-q<span class="k">)</span>
</code></pre></div>

<hr />
<h2 id="3">3. μ»¤λ„ λ¨λ“<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="_11">λ¨λ“ μ •λ³΄ ν™•μΈ<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ΅λ“λ λ¨λ“ λ©λ΅</span>
lsmod

<span class="c1"># νΉμ • λ¨λ“ μ •λ³΄</span>
modinfo<span class="w"> </span>ext4
modinfo<span class="w"> </span>nvidia

<span class="c1"># λ¨λ“ μμ΅΄μ„± ν™•μΈ</span>
modprobe<span class="w"> </span>--show-depends<span class="w"> </span>ext4

<span class="c1"># λ¨λ“ νμΌ μ„μΉ</span>
ls<span class="w"> </span>/lib/modules/<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>/kernel/
</code></pre></div>

<h3 id="_12">λ¨λ“ λ΅λ“/μ–Έλ΅λ“<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ¨λ“ λ΅λ“</span>
sudo<span class="w"> </span>modprobe<span class="w"> </span>nouveau
sudo<span class="w"> </span>modprobe<span class="w"> </span>snd-hda-intel

<span class="c1"># λ¨λ“ μ–Έλ΅λ“</span>
sudo<span class="w"> </span>modprobe<span class="w"> </span>-r<span class="w"> </span>nouveau
sudo<span class="w"> </span>rmmod<span class="w"> </span>nouveau

<span class="c1"># κ°•μ  μ–Έλ΅λ“ (μ„ν—)</span>
sudo<span class="w"> </span>rmmod<span class="w"> </span>-f<span class="w"> </span>nouveau

<span class="c1"># μμ΅΄μ„± ν¬ν•¨ λ΅λ“</span>
sudo<span class="w"> </span>modprobe<span class="w"> </span>-v<span class="w"> </span>nvidia
</code></pre></div>

<h3 id="_13">λ¨λ“ νλΌλ―Έν„°<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ¨λ“ νλΌλ―Έν„° ν™•μΈ</span>
modinfo<span class="w"> </span>-p<span class="w"> </span>e1000e

<span class="c1"># ν„μ¬ μ μ©λ νλΌλ―Έν„°</span>
cat<span class="w"> </span>/sys/module/e1000e/parameters/IntMode

<span class="c1"># νλΌλ―Έν„°μ™€ ν•¨κ» λ΅λ“</span>
sudo<span class="w"> </span>modprobe<span class="w"> </span>e1000e<span class="w"> </span><span class="nv">IntMode</span><span class="o">=</span><span class="m">2</span>

<span class="c1"># /etc/modprobe.d/ μ„¤μ • νμΌ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;options e1000e IntMode=2&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/modprobe.d/e1000e.conf
</code></pre></div>

<h3 id="_14">λ¨λ“ μλ™ λ΅λ“ μ„¤μ •<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ¶€ν… μ‹ μλ™ λ΅λ“</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;vhost_net&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/modules-load.d/vhost_net.conf

<span class="c1"># λ¨λ“ λΈ”λ™λ¦¬μ¤νΈ (λ΅λ“ λ°©μ§€)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;blacklist nouveau&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/modprobe.d/blacklist-nouveau.conf
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;options nouveau modeset=0&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/modprobe.d/blacklist-nouveau.conf

<span class="c1"># initramfs μ¬μƒμ„± ν•„μ”</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-u<span class="w">  </span><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>dracut<span class="w"> </span>-f<span class="w">            </span><span class="c1"># RHEL/CentOS</span>
</code></pre></div>

<h3 id="_15">λ¨λ“ λ³„μΉ­<a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ³„μΉ­ ν™•μΈ</span>
modprobe<span class="w"> </span>--show-depends<span class="w"> </span>-a<span class="w"> </span>pci:v00008086d00001502sv*sd*bc*sc*i*

<span class="c1"># ν•λ“μ›¨μ–΄ IDλ΅ λ¨λ“ μ°ΎκΈ°</span>
lspci<span class="w"> </span>-nn<span class="w">  </span><span class="c1"># PCI μ¥μΉμ™€ ID ν™•μΈ</span>
lspci<span class="w"> </span>-k<span class="w">   </span><span class="c1"># μ‚¬μ© μ¤‘μΈ λ¨λ“ ν™•μΈ</span>

<span class="c1"># USB μ¥μΉ</span>
lsusb
lsusb<span class="w"> </span>-t<span class="w">  </span><span class="c1"># νΈλ¦¬ ν•νƒ</span>
</code></pre></div>

<hr />
<h2 id="4-dkms">4. DKMS<a class="header-link" href="#4-dkms" title="Permanent link">&para;</a></h2>
<h3 id="dkms">DKMS κ°μ”<a class="header-link" href="#dkms" title="Permanent link">&para;</a></h3>
<p>DKMS (Dynamic Kernel Module Support)λ” μ»¤λ„ μ—…λ°μ΄νΈ μ‹ μ™Έλ¶€ λ¨λ“μ„ μλ™μΌλ΅ μ¬λΉλ“ν•©λ‹λ‹¤.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># DKMS μ„¤μΉ</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>dkms<span class="w">  </span><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>dkms<span class="w">  </span><span class="c1"># RHEL/CentOS</span>
</code></pre></div>

<h3 id="dkms_1">DKMS μƒνƒ ν™•μΈ<a class="header-link" href="#dkms_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ“±λ΅λ λ¨λ“ λ©λ΅</span>
dkms<span class="w"> </span>status

<span class="c1"># μμ‹ μ¶λ ¥:</span>
<span class="c1"># nvidia/535.154.05, 5.15.0-91-generic, x86_64: installed</span>
<span class="c1"># nvidia/535.154.05, 5.15.0-92-generic, x86_64: installed</span>
<span class="c1"># virtualbox/7.0.12_Ubuntu, 5.15.0-91-generic, x86_64: installed</span>
</code></pre></div>

<h3 id="dkms_2">DKMS λ¨λ“ κ΄€λ¦¬<a class="header-link" href="#dkms_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ¨λ“ μ¶”κ°€</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>add<span class="w"> </span>-m<span class="w"> </span>module-name<span class="w"> </span>-v<span class="w"> </span>version

<span class="c1"># λ¨λ“ λΉλ“</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>build<span class="w"> </span>-m<span class="w"> </span>module-name<span class="w"> </span>-v<span class="w"> </span>version

<span class="c1"># λ¨λ“ μ„¤μΉ</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>install<span class="w"> </span>-m<span class="w"> </span>module-name<span class="w"> </span>-v<span class="w"> </span>version

<span class="c1"># λ¨λ“ μ κ±°</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>remove<span class="w"> </span>-m<span class="w"> </span>module-name<span class="w"> </span>-v<span class="w"> </span>version<span class="w"> </span>--all

<span class="c1"># λ¨λ“  μ»¤λ„μ— λ€ν•΄ μ¬λΉλ“</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>autoinstall
</code></pre></div>

<h3 id="dkms_3">DKMS λ¨λ“ μƒμ„± μμ‹<a class="header-link" href="#dkms_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ¨λ“ λ””λ ‰ν† λ¦¬ κµ¬μ΅°</span>
/usr/src/mymodule-1.0/
β”β”€β”€<span class="w"> </span>dkms.conf
β”β”€β”€<span class="w"> </span>Makefile
β””β”€β”€<span class="w"> </span>mymodule.c
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># dkms.conf μμ‹</span>
<span class="nv">PACKAGE_NAME</span><span class="o">=</span><span class="s2">&quot;mymodule&quot;</span>
<span class="nv">PACKAGE_VERSION</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span>
BUILT_MODULE_NAME<span class="o">[</span><span class="m">0</span><span class="o">]=</span><span class="s2">&quot;mymodule&quot;</span>
DEST_MODULE_LOCATION<span class="o">[</span><span class="m">0</span><span class="o">]=</span><span class="s2">&quot;/kernel/drivers/misc&quot;</span>
<span class="nv">AUTOINSTALL</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Makefile μμ‹</span>
obj-m<span class="w"> </span>:<span class="o">=</span><span class="w"> </span>mymodule.o

KVERSION<span class="w"> </span>:<span class="o">=</span><span class="w"> </span><span class="k">$(</span>shell<span class="w"> </span>uname<span class="w"> </span>-r<span class="k">)</span>
KDIR<span class="w"> </span>:<span class="o">=</span><span class="w"> </span>/lib/modules/<span class="k">$(</span>KVERSION<span class="k">)</span>/build

all:
<span class="w">    </span><span class="k">$(</span>MAKE<span class="k">)</span><span class="w"> </span>-C<span class="w"> </span><span class="k">$(</span>KDIR<span class="k">)</span><span class="w"> </span><span class="nv">M</span><span class="o">=</span><span class="k">$(</span>PWD<span class="k">)</span><span class="w"> </span>modules

clean:
<span class="w">    </span><span class="k">$(</span>MAKE<span class="k">)</span><span class="w"> </span>-C<span class="w"> </span><span class="k">$(</span>KDIR<span class="k">)</span><span class="w"> </span><span class="nv">M</span><span class="o">=</span><span class="k">$(</span>PWD<span class="k">)</span><span class="w"> </span>clean
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># DKMSμ— λ“±λ΅</span>
sudo<span class="w"> </span>dkms<span class="w"> </span>add<span class="w"> </span>-m<span class="w"> </span>mymodule<span class="w"> </span>-v<span class="w"> </span><span class="m">1</span>.0
sudo<span class="w"> </span>dkms<span class="w"> </span>build<span class="w"> </span>-m<span class="w"> </span>mymodule<span class="w"> </span>-v<span class="w"> </span><span class="m">1</span>.0
sudo<span class="w"> </span>dkms<span class="w"> </span>install<span class="w"> </span>-m<span class="w"> </span>mymodule<span class="w"> </span>-v<span class="w"> </span><span class="m">1</span>.0
</code></pre></div>

<hr />
<h2 id="5">5. μ»¤λ„ μ»΄νμΌ<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="_16">μ†μ¤ λ‹¤μ΄λ΅λ“<a class="header-link" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># kernel.orgμ—μ„ λ‹¤μ΄λ΅λ“</span>
<span class="nb">cd</span><span class="w"> </span>/usr/src
wget<span class="w"> </span>https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.7.tar.xz
tar<span class="w"> </span>-xvf<span class="w"> </span>linux-6.7.tar.xz
<span class="nb">cd</span><span class="w"> </span>linux-6.7

<span class="c1"># λλ” gitμΌλ΅</span>
git<span class="w"> </span>clone<span class="w"> </span>https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git
<span class="nb">cd</span><span class="w"> </span>linux
git<span class="w"> </span>checkout<span class="w"> </span>v6.7
</code></pre></div>

<h3 id="_17">λΉλ“ μμ΅΄μ„± μ„¤μΉ<a class="header-link" href="#_17" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w"> </span>libncurses-dev<span class="w"> </span>bison<span class="w"> </span>flex<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>libssl-dev<span class="w"> </span>libelf-dev<span class="w"> </span>bc<span class="w"> </span>dwarves

<span class="c1"># RHEL/CentOS</span>
sudo<span class="w"> </span>yum<span class="w"> </span>groupinstall<span class="w"> </span><span class="s2">&quot;Development Tools&quot;</span>
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>ncurses-devel<span class="w"> </span>bison<span class="w"> </span>flex<span class="w"> </span>elfutils-libelf-devel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>openssl-devel<span class="w"> </span>bc<span class="w"> </span>dwarves
</code></pre></div>

<h3 id="_18">μ»¤λ„ μ„¤μ •<a class="header-link" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ν„μ¬ μ»¤λ„ μ„¤μ • λ³µμ‚¬</span>
cp<span class="w"> </span>/boot/config-<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span><span class="w"> </span>.config

<span class="c1"># λ©”λ‰΄ κΈ°λ° μ„¤μ •</span>
make<span class="w"> </span>menuconfig

<span class="c1"># λλ” κ·Έλν”½ μ„¤μ • (X11 ν•„μ”)</span>
make<span class="w"> </span>xconfig

<span class="c1"># λλ” ν…μ¤νΈ μ§μ λ°©μ‹</span>
make<span class="w"> </span>config

<span class="c1"># κΈ°μ΅΄ μ„¤μ • κΈ°λ°μΌλ΅ μƒ μµμ…λ§ μ§μ</span>
make<span class="w"> </span>oldconfig

<span class="c1"># κΈ°λ³Έκ°’μΌλ΅ μƒ μµμ… μ„¤μ •</span>
make<span class="w"> </span>olddefconfig
</code></pre></div>

<h3 id="_19">μ£Όμ” μ„¤μ • μµμ…<a class="header-link" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">General</span><span class="w"> </span><span class="n">setup</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="k">Local</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="k">release</span><span class="err">:</span><span class="w"> </span><span class="o">-</span><span class="n">custom</span>
<span class="w">    </span><span class="o">[</span><span class="n">*</span><span class="o">]</span><span class="w"> </span><span class="n">Automatically</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">information</span>

<span class="n">Processor</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="n">Processor</span><span class="w"> </span><span class="n">family</span><span class="w"> </span><span class="p">(</span><span class="n">Core</span><span class="w"> </span><span class="mi">2</span><span class="o">/</span><span class="n">newer</span><span class="w"> </span><span class="n">Xeon</span><span class="p">)</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="o">[</span><span class="n">*</span><span class="o">]</span><span class="w"> </span><span class="k">Symmetric</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">processing</span><span class="w"> </span><span class="n">support</span>

<span class="n">Device</span><span class="w"> </span><span class="n">Drivers</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="o">[</span><span class="n">M</span><span class="o">]</span><span class="w"> </span><span class="n">Network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="o">[</span><span class="n">M</span><span class="o">]</span><span class="w"> </span><span class="n">SCSI</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="c1">---&gt;</span>

<span class="k">File</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="c1">---&gt;</span>
<span class="w">    </span><span class="o">&lt;*&gt;</span><span class="w"> </span><span class="n">Ext4</span><span class="w"> </span><span class="n">POSIX</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">Lists</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">M</span><span class="o">&gt;</span><span class="w"> </span><span class="n">XFS</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">support</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">M</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Btrfs</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">support</span>
</code></pre></div>

<h3 id="_20">μ»΄νμΌ λ° μ„¤μΉ<a class="header-link" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># μ»΄νμΌ (λ³‘λ ¬ λΉλ“)</span>
make<span class="w"> </span>-j<span class="k">$(</span>nproc<span class="k">)</span>

<span class="c1"># λ¨λ“ μ»΄νμΌ</span>
make<span class="w"> </span>modules

<span class="c1"># λ¨λ“ μ„¤μΉ</span>
sudo<span class="w"> </span>make<span class="w"> </span>modules_install

<span class="c1"># μ»¤λ„ μ„¤μΉ</span>
sudo<span class="w"> </span>make<span class="w"> </span>install

<span class="c1"># initramfs μƒμ„± (μλ™μΌλ΅ λμ§€ μ•μ€ κ²½μ°)</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-c<span class="w"> </span>-k<span class="w"> </span><span class="m">6</span>.7.0-custom

<span class="c1"># GRUB μ—…λ°μ΄νΈ</span>
sudo<span class="w"> </span>update-grub
</code></pre></div>

<h3 id="_21">λΉ λ¥Έ ν…μ¤νΈ λΉλ“<a class="header-link" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># μµμ† μ„¤μ •μΌλ΅ μ‹μ‘</span>
make<span class="w"> </span>tinyconfig

<span class="c1"># λλ” ν„μ¬ ν•λ“μ›¨μ–΄μ— λ§λ” μµμ† μ„¤μ •</span>
make<span class="w"> </span>localmodconfig

<span class="c1"># λΉλ“</span>
make<span class="w"> </span>-j<span class="k">$(</span>nproc<span class="k">)</span>
</code></pre></div>

<hr />
<h2 id="6-grub">6. GRUB λ¶€νΈλ΅λ”<a class="header-link" href="#6-grub" title="Permanent link">&para;</a></h2>
<h3 id="grub">GRUB μ„¤μ • νμΌ<a class="header-link" href="#grub" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># λ©”μΈ μ„¤μ • (μμ •ν•μ§€ μ•μ)</span>
/boot/grub/grub.cfg

<span class="c1"># μ‚¬μ©μ μ„¤μ • (μ΄κ²ƒμ„ μμ •)</span>
/etc/default/grub

<span class="c1"># μ»¤μ¤ν…€ μ¤ν¬λ¦½νΈ</span>
/etc/grub.d/
</code></pre></div>

<h3 id="etcdefaultgrub">/etc/default/grub μ„¤μ •<a class="header-link" href="#etcdefaultgrub" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/default/grub</span>

<span class="c1"># κΈ°λ³Έ λ¶€ν… ν•­λ© (0λ¶€ν„° μ‹μ‘, λλ” &quot;saved&quot;)</span>
<span class="nv">GRUB_DEFAULT</span><span class="o">=</span><span class="m">0</span>

<span class="c1"># λ©”λ‰΄ ν‘μ‹ μ‹κ°„ (μ΄)</span>
<span class="nv">GRUB_TIMEOUT</span><span class="o">=</span><span class="m">5</span>

<span class="c1"># λ©”λ‰΄ μ¨κΉ€ (λ¶€ν… λΉ λ¥΄κ²)</span>
<span class="nv">GRUB_TIMEOUT_STYLE</span><span class="o">=</span>menu<span class="w">  </span><span class="c1"># menu, countdown, hidden</span>

<span class="c1"># μ»¤λ„ νλΌλ―Έν„°</span>
<span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash&quot;</span>
<span class="nv">GRUB_CMDLINE_LINUX</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="c1"># ν•΄μƒλ„</span>
<span class="nv">GRUB_GFXMODE</span><span class="o">=</span>1920x1080

<span class="c1"># λ³µκµ¬ λ¨λ“ ν•­λ© λΉ„ν™μ„±ν™”</span>
<span class="nv">GRUB_DISABLE_RECOVERY</span><span class="o">=</span><span class="s2">&quot;false&quot;</span>

<span class="c1"># OS ν”„λ΅λ²„ (λ‹¤λ¥Έ OS κ°μ§€)</span>
<span class="nv">GRUB_DISABLE_OS_PROBER</span><span class="o">=</span><span class="nb">false</span>
</code></pre></div>

<h3 id="grub_1">GRUB μ—…λ°μ΄νΈ<a class="header-link" href="#grub_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># μ„¤μ • λ³€κ²½ ν›„ μ μ©</span>
sudo<span class="w"> </span>update-grub<span class="w">  </span><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>grub2-mkconfig<span class="w"> </span>-o<span class="w"> </span>/boot/grub2/grub.cfg<span class="w">  </span><span class="c1"># RHEL/CentOS</span>

<span class="c1"># BIOS μ‹μ¤ν…</span>
sudo<span class="w"> </span>grub2-mkconfig<span class="w"> </span>-o<span class="w"> </span>/boot/grub2/grub.cfg

<span class="c1"># UEFI μ‹μ¤ν…</span>
sudo<span class="w"> </span>grub2-mkconfig<span class="w"> </span>-o<span class="w"> </span>/boot/efi/EFI/centos/grub.cfg
</code></pre></div>

<h3 id="grub_2">GRUB μ¬μ„¤μΉ<a class="header-link" href="#grub_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># BIOS μ‹μ¤ν…</span>
sudo<span class="w"> </span>grub-install<span class="w"> </span>/dev/sda
sudo<span class="w"> </span>update-grub

<span class="c1"># UEFI μ‹μ¤ν…</span>
sudo<span class="w"> </span>grub-install<span class="w"> </span>--target<span class="o">=</span>x86_64-efi<span class="w"> </span>--efi-directory<span class="o">=</span>/boot/efi
sudo<span class="w"> </span>update-grub
</code></pre></div>

<h3 id="_22">λ¶€ν… ν•­λ© μλ™ μ¶”κ°€<a class="header-link" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/grub.d/40_custom</span>
<span class="c1">#!/bin/sh</span>
<span class="nb">exec</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span>+3<span class="w"> </span><span class="nv">$0</span>

menuentry<span class="w"> </span><span class="s2">&quot;Custom Kernel&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">set</span><span class="w"> </span><span class="nv">root</span><span class="o">=</span><span class="s1">&#39;hd0,msdos1&#39;</span>
<span class="w">    </span>linux<span class="w"> </span>/boot/vmlinuz-6.7.0-custom<span class="w"> </span><span class="nv">root</span><span class="o">=</span>/dev/sda2<span class="w"> </span>ro<span class="w"> </span>quiet
<span class="w">    </span>initrd<span class="w"> </span>/boot/initrd.img-6.7.0-custom
<span class="o">}</span>

menuentry<span class="w"> </span><span class="s2">&quot;Recovery Mode&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">set</span><span class="w"> </span><span class="nv">root</span><span class="o">=</span><span class="s1">&#39;hd0,msdos1&#39;</span>
<span class="w">    </span>linux<span class="w"> </span>/boot/vmlinuz-6.7.0-custom<span class="w"> </span><span class="nv">root</span><span class="o">=</span>/dev/sda2<span class="w"> </span>ro<span class="w"> </span>single
<span class="w">    </span>initrd<span class="w"> </span>/boot/initrd.img-6.7.0-custom
<span class="o">}</span>
</code></pre></div>

<h3 id="_23">κΈ°λ³Έ λ¶€ν… μ»¤λ„ λ³€κ²½<a class="header-link" href="#_23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># μ‚¬μ© κ°€λ¥ν• λ©”λ‰΄ ν•­λ© ν™•μΈ</span>
grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;^menuentry|^submenu&quot;</span><span class="w"> </span>/boot/grub/grub.cfg

<span class="c1"># κΈ°λ³Έκ°’ μ„¤μ • (μΈλ±μ¤)</span>
sudo<span class="w"> </span>grub-set-default<span class="w"> </span><span class="m">2</span>

<span class="c1"># κΈ°λ³Έκ°’ μ„¤μ • (μ΄λ¦„)</span>
sudo<span class="w"> </span>grub-set-default<span class="w"> </span><span class="s2">&quot;Ubuntu, with Linux 5.15.0-92-generic&quot;</span>

<span class="c1"># μΌνμ„± λ¶€ν… μ„ νƒ</span>
sudo<span class="w"> </span>grub-reboot<span class="w"> </span><span class="s2">&quot;Ubuntu, with Linux 5.15.0-91-generic&quot;</span>

<span class="c1"># /etc/default/grubμ—μ„ GRUB_DEFAULT μ„¤μ •</span>
<span class="nv">GRUB_DEFAULT</span><span class="o">=</span><span class="s2">&quot;1&gt;2&quot;</span><span class="w">  </span><span class="c1"># μ„λΈλ©”λ‰΄ 1λ²μ 3λ²μ§Έ ν•­λ©</span>
</code></pre></div>

<hr />
<h2 id="7">7. μ»¤λ„ νλΌλ―Έν„°<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="_24">λ¶€ν… μ‹ νλΌλ―Έν„°<a class="header-link" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/default/grubμ—μ„ μ„¤μ •</span>
<span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash&quot;</span>
<span class="nv">GRUB_CMDLINE_LINUX</span><span class="o">=</span><span class="s2">&quot;crashkernel=auto rd.lvm.lv=centos/root&quot;</span>

<span class="c1"># λλ” GRUB λ©”λ‰΄μ—μ„ &#39;e&#39;λ¥Ό λλ¬ μΌμ‹μ  νΈμ§‘</span>
linux<span class="w"> </span>/boot/vmlinuz-...<span class="w"> </span><span class="nv">root</span><span class="o">=</span>...<span class="w"> </span>quiet<span class="w"> </span>splash<span class="w"> </span>nouveau.modeset<span class="o">=</span><span class="m">0</span>
</code></pre></div>

<h3 id="_25">μΌλ°μ μΈ μ»¤λ„ νλΌλ―Έν„°<a class="header-link" href="#_25" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>νλΌλ―Έν„°</th>
<th>μ„¤λ…</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>quiet</code></td>
<td>λ¶€ν… λ©”μ‹μ§€ μµμ†ν™”</td>
</tr>
<tr>
<td><code>splash</code></td>
<td>κ·Έλν”½ μ¤ν”λμ‹ ν™”λ©΄</td>
</tr>
<tr>
<td><code>single</code></td>
<td>λ‹¨μΌ μ‚¬μ©μ λ¨λ“</td>
</tr>
<tr>
<td><code>init=/bin/bash</code></td>
<td>μ§μ ‘ μ‰λ΅ λ¶€ν…</td>
</tr>
<tr>
<td><code>nomodeset</code></td>
<td>λΉ„λ””μ¤ λ¨λ“ μ„¤μ • λΉ„ν™μ„±ν™”</td>
</tr>
<tr>
<td><code>acpi=off</code></td>
<td>ACPI λΉ„ν™μ„±ν™”</td>
</tr>
<tr>
<td><code>noapic</code></td>
<td>APIC λΉ„ν™μ„±ν™”</td>
</tr>
<tr>
<td><code>mem=4G</code></td>
<td>μ‚¬μ© λ©”λ¨λ¦¬ μ ν•</td>
</tr>
<tr>
<td><code>maxcpus=2</code></td>
<td>CPU μ μ ν•</td>
</tr>
</tbody>
</table>
<h3 id="sysctl">λ°νƒ€μ„ νλΌλ―Έν„° (sysctl)<a class="header-link" href="#sysctl" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ν„μ¬ κ°’ ν™•μΈ</span>
sysctl<span class="w"> </span>-a
sysctl<span class="w"> </span>net.ipv4.ip_forward

<span class="c1"># μ„μ‹ λ³€κ²½</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-w<span class="w"> </span>net.ipv4.ip_forward<span class="o">=</span><span class="m">1</span>

<span class="c1"># μκµ¬ μ„¤μ •</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;net.ipv4.ip_forward = 1&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/sysctl.d/99-custom.conf
sudo<span class="w"> </span>sysctl<span class="w"> </span>-p<span class="w"> </span>/etc/sysctl.d/99-custom.conf

<span class="c1"># λλ” /etc/sysctl.conf νΈμ§‘ ν›„</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-p
</code></pre></div>

<h3 id="sysctl_1">μ£Όμ” sysctl νλΌλ―Έν„°<a class="header-link" href="#sysctl_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/sysctl.d/99-custom.conf</span>

<span class="c1"># λ„¤νΈμ›ν¬</span>
net.ipv4.ip_forward<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
net.ipv4.tcp_syncookies<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
net.core.somaxconn<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">65535</span>
net.ipv4.tcp_max_syn_backlog<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">65535</span>

<span class="c1"># λ©”λ¨λ¦¬</span>
vm.swappiness<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
vm.dirty_ratio<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">40</span>
vm.dirty_background_ratio<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>

<span class="c1"># νμΌ μ‹μ¤ν…</span>
fs.file-max<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2097152</span>
fs.inotify.max_user_watches<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">524288</span>

<span class="c1"># λ³΄μ•</span>
kernel.dmesg_restrict<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
kernel.kptr_restrict<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>

<h3 id="initramfs">initramfs κ΄€λ¦¬<a class="header-link" href="#initramfs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ν„μ¬ μ»¤λ„μ initramfs μ¬μƒμ„±</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-u

<span class="c1"># νΉμ • μ»¤λ„ λ²„μ „</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-u<span class="w"> </span>-k<span class="w"> </span><span class="m">5</span>.15.0-92-generic

<span class="c1"># μƒλ΅ μƒμ„±</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-c<span class="w"> </span>-k<span class="w"> </span><span class="m">5</span>.15.0-92-generic

<span class="c1"># RHEL/CentOS (dracut)</span>
sudo<span class="w"> </span>dracut<span class="w"> </span>-f
sudo<span class="w"> </span>dracut<span class="w"> </span>-f<span class="w"> </span>/boot/initramfs-<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>.img<span class="w"> </span><span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>

<span class="c1"># λ‚΄μ© ν™•μΈ</span>
lsinitramfs<span class="w"> </span>/boot/initrd.img-<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-50
</code></pre></div>

<hr />
<h2 id="_26">μ—°μµ λ¬Έμ <a class="header-link" href="#_26" title="Permanent link">&para;</a></h2>
<h3 id="1_1">λ¬Έμ  1: λ¨λ“ κ΄€λ¦¬<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<ol>
<li><code>nouveau</code> λ“λΌμ΄λ²„λ¥Ό λΈ”λ™λ¦¬μ¤νΈμ— μ¶”κ°€ν•κ³  ν™•μΈν•μ„Έμ”.</li>
<li>NVIDIA λ…μ  λ“λΌμ΄λ²„ μ‚¬μ© μ‹λ‚λ¦¬μ¤λ¥Ό κ°€μ •ν•©λ‹λ‹¤.</li>
</ol>
<h3 id="2-grub">λ¬Έμ  2: GRUB μ„¤μ •<a class="header-link" href="#2-grub" title="Permanent link">&para;</a></h3>
<p>λ‹¤μ μ”κµ¬μ‚¬ν•­μ„ λ§μ΅±ν•λ” GRUB μ„¤μ •μ„ μ‘μ„±ν•μ„Έμ”:
- λ¶€ν… νƒ€μ„μ•„μ›ƒ 10μ΄
- κΈ°λ³Έ μ»¤λ„: λ‘ λ²μ§Έ ν•­λ©
- λ©”λ¨λ¦¬ 4GB μ ν•
- μ΅°μ©ν• λ¶€ν…</p>
<h3 id="3-sysctl">λ¬Έμ  3: sysctl μ„¤μ •<a class="header-link" href="#3-sysctl" title="Permanent link">&para;</a></h3>
<p>μ›Ή μ„λ²„μ— μµμ ν™”λ sysctl μ„¤μ •μ„ μ‘μ„±ν•μ„Έμ”:
- μ—°κ²° λ°±λ΅κ·Έ μ¦κ°€
- νμΌ λ””μ¤ν¬λ¦½ν„° μ ν• μ¦κ°€
- TCP νλ‹</p>
<hr />
<h2 id="_27">μ •λ‹µ<a class="header-link" href="#_27" title="Permanent link">&para;</a></h2>
<h3 id="1_2">λ¬Έμ  1 μ •λ‹µ<a class="header-link" href="#1_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># nouveau λΈ”λ™λ¦¬μ¤νΈ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;blacklist nouveau&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/modprobe.d/blacklist-nouveau.conf
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;options nouveau modeset=0&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/modprobe.d/blacklist-nouveau.conf

<span class="c1"># initramfs μ—…λ°μ΄νΈ</span>
sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-u<span class="w">  </span><span class="c1"># Ubuntu</span>
sudo<span class="w"> </span>dracut<span class="w"> </span>-f<span class="w">            </span><span class="c1"># RHEL</span>

<span class="c1"># ν™•μΈ</span>
cat<span class="w"> </span>/etc/modprobe.d/blacklist-nouveau.conf

<span class="c1"># μ¬λ¶€ν… ν›„ ν™•μΈ</span>
lsmod<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>nouveau<span class="w">  </span><span class="c1"># μ¶λ ¥ μ—†μ–΄μ•Ό ν•¨</span>
</code></pre></div>

<h3 id="2_1">λ¬Έμ  2 μ •λ‹µ<a class="header-link" href="#2_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/default/grub</span>
<span class="nv">GRUB_DEFAULT</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GRUB_TIMEOUT</span><span class="o">=</span><span class="m">10</span>
<span class="nv">GRUB_TIMEOUT_STYLE</span><span class="o">=</span>menu
<span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash mem=4G&quot;</span>
<span class="nv">GRUB_CMDLINE_LINUX</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># μ μ©</span>
sudo<span class="w"> </span>update-grub
</code></pre></div>

<h3 id="3_1">λ¬Έμ  3 μ •λ‹µ<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/sysctl.d/99-webserver.conf</span>

<span class="c1"># μ—°κ²° λ°±λ΅κ·Έ</span>
net.core.somaxconn<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">65535</span>
net.ipv4.tcp_max_syn_backlog<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">65535</span>

<span class="c1"># νμΌ λ””μ¤ν¬λ¦½ν„°</span>
fs.file-max<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2097152</span>

<span class="c1"># TCP νλ‹</span>
net.ipv4.tcp_fin_timeout<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span>
net.ipv4.tcp_tw_reuse<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
net.ipv4.tcp_keepalive_time<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">300</span>
net.ipv4.tcp_keepalive_probes<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
net.ipv4.tcp_keepalive_intvl<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span>

<span class="c1"># λ©”λ¨λ¦¬ λ²„νΌ</span>
net.core.rmem_max<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16777216</span>
net.core.wmem_max<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16777216</span>
net.ipv4.tcp_rmem<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4096</span><span class="w"> </span><span class="m">12582912</span><span class="w"> </span><span class="m">16777216</span>
net.ipv4.tcp_wmem<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4096</span><span class="w"> </span><span class="m">12582912</span><span class="w"> </span><span class="m">16777216</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># μ μ©</span>
sudo<span class="w"> </span>sysctl<span class="w"> </span>-p<span class="w"> </span>/etc/sysctl.d/99-webserver.conf
</code></pre></div>

<hr />
<h2 id="_28">λ‹¤μ λ‹¨κ³„<a class="header-link" href="#_28" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="./21_Virtualization_KVM.md">21_Virtualization_KVM.md</a> - libvirt, virsh, VM κ΄€λ¦¬</li>
</ul>
<hr />
<h2 id="_29">μ°Έκ³  μλ£<a class="header-link" href="#_29" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.kernel.org/">The Linux Kernel Archives</a></li>
<li><a href="https://www.kernel.org/doc/html/latest/">Kernel Documentation</a></li>
<li><a href="https://www.gnu.org/software/grub/manual/">GRUB Manual</a></li>
<li><code>man modprobe</code>, <code>man dkms</code>, <code>man sysctl</code></li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Linux/19_Backup_Recovery.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">λ°±μ—… λ° λ³µκµ¬</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">π”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Linux/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">π“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Linux/21_Virtualization_KVM.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">κ°€μƒν™” (KVM)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">β†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}