{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜ì´ì§€ êµì²´ â­â­â­â­ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/OS_Theory/">OS Theory</a>
    <span class="separator">/</span>
    <span class="current">í˜ì´ì§€ êµì²´ â­â­â­â­</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>í˜ì´ì§€ êµì²´ â­â­â­â­</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/OS_Theory/14_Virtual_Memory.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ê°€ìƒ ë©”ëª¨ë¦¬ â­â­â­</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/OS_Theory/16_File_System_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ì´ˆ â­â­â­</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_2">ê°œìš”</a></li>
<li><a href="#_3">ëª©ì°¨</a></li>
<li><a href="#1">1. í˜ì´ì§€ êµì²´ì˜ í•„ìš”ì„±</a><ul>
<li><a href="#11-over-allocation">1.1 ì˜¤ë²„ì»¤ë°‹ (Over-allocation)</a></li>
<li><a href="#12">1.2 í˜ì´ì§€ êµì²´ ê³¼ì •</a></li>
<li><a href="#13-dirty-bit">1.3 ìˆ˜ì • ë¹„íŠ¸ (Dirty Bit)</a></li>
</ul>
</li>
<li><a href="#2-fifo">2. FIFO ì•Œê³ ë¦¬ì¦˜</a><ul>
<li><a href="#21">2.1 ê°œë…</a></li>
<li><a href="#22-fifo">2.2 FIFO êµ¬í˜„</a></li>
<li><a href="#23">2.3 ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#3-optimal">3. Optimal ì•Œê³ ë¦¬ì¦˜</a><ul>
<li><a href="#31">3.1 ê°œë…</a></li>
<li><a href="#32-optimal">3.2 Optimal êµ¬í˜„</a></li>
<li><a href="#33">3.3 ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#4-lru">4. LRU ì•Œê³ ë¦¬ì¦˜</a><ul>
<li><a href="#41">4.1 ê°œë…</a></li>
<li><a href="#42-lru">4.2 LRU êµ¬í˜„ ë°©ë²•</a></li>
<li><a href="#43-lru">4.3 LRU ìŠ¤íƒ êµ¬í˜„</a></li>
<li><a href="#44">4.4 ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#5-lru">5. LRU ê·¼ì‚¬ ì•Œê³ ë¦¬ì¦˜</a><ul>
<li><a href="#51-second-chance-clock">5.1 Second-Chance (Clock) ì•Œê³ ë¦¬ì¦˜</a></li>
<li><a href="#52-enhanced-second-chance">5.2 Enhanced Second-Chance</a></li>
<li><a href="#53-clock">5.3 Clock ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„</a></li>
</ul>
</li>
<li><a href="#6-beladys-anomaly">6. Belady's Anomaly</a><ul>
<li><a href="#61">6.1 í˜„ìƒ</a></li>
<li><a href="#62">6.2 ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜</a></li>
</ul>
</li>
<li><a href="#7-working-set">7. ìŠ¤ë˜ì‹±ê³¼ Working Set</a><ul>
<li><a href="#71-thrashing">7.1 ìŠ¤ë˜ì‹± (Thrashing)</a></li>
<li><a href="#72-working-set">7.2 Working Set ëª¨ë¸</a></li>
<li><a href="#73-page-fault-frequency-pff">7.3 Page Fault Frequency (PFF)</a></li>
<li><a href="#74-linux">7.4 Linuxì—ì„œì˜ ìŠ¤ë˜ì‹± ë°©ì§€</a></li>
</ul>
</li>
<li><a href="#_4">ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1_1">ë¬¸ì œ 1: ì•Œê³ ë¦¬ì¦˜ ë¹„êµ</a></li>
<li><a href="#2-second-chance">ë¬¸ì œ 2: Second-Chance</a></li>
<li><a href="#3-working-set">ë¬¸ì œ 3: Working Set</a></li>
<li><a href="#4-beladys-anomaly">ë¬¸ì œ 4: Belady's Anomaly ì¦ëª…</a></li>
<li><a href="#5">ë¬¸ì œ 5: ìŠ¤ë˜ì‹± í•´ê²°</a></li>
</ul>
</li>
<li><a href="#_5">ë‹¤ìŒ ë‹¨ê³„</a></li>
<li><a href="#_6">ì°¸ê³  ìë£Œ</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">í˜ì´ì§€ êµì²´ â­â­â­â­<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">ê°œìš”<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>ë¬¼ë¦¬ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•  ë•Œ ì–´ë–¤ í˜ì´ì§€ë¥¼ ë‚´ë³´ë‚¼ì§€ ê²°ì •í•˜ëŠ” ê²ƒì´ í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. FIFO, Optimal, LRU ë“± ì£¼ìš” ì•Œê³ ë¦¬ì¦˜ê³¼ Belady's Anomaly, ìŠ¤ë˜ì‹± í˜„ìƒì„ í•™ìŠµí•©ë‹ˆë‹¤.</p>
<hr />
<h2 id="_3">ëª©ì°¨<a class="header-link" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-í˜ì´ì§€-êµì²´ì˜-í•„ìš”ì„±">í˜ì´ì§€ êµì²´ì˜ í•„ìš”ì„±</a></li>
<li><a href="#2-fifo-ì•Œê³ ë¦¬ì¦˜">FIFO ì•Œê³ ë¦¬ì¦˜</a></li>
<li><a href="#3-optimal-ì•Œê³ ë¦¬ì¦˜">Optimal ì•Œê³ ë¦¬ì¦˜</a></li>
<li><a href="#4-lru-ì•Œê³ ë¦¬ì¦˜">LRU ì•Œê³ ë¦¬ì¦˜</a></li>
<li><a href="#5-lru-ê·¼ì‚¬-ì•Œê³ ë¦¬ì¦˜">LRU ê·¼ì‚¬ ì•Œê³ ë¦¬ì¦˜</a></li>
<li><a href="#6-beladys-anomaly">Belady's Anomaly</a></li>
<li><a href="#7-ìŠ¤ë˜ì‹±ê³¼-working-set">ìŠ¤ë˜ì‹±ê³¼ Working Set</a></li>
<li><a href="#ì—°ìŠµ-ë¬¸ì œ">ì—°ìŠµ ë¬¸ì œ</a></li>
</ol>
<hr />
<h2 id="1">1. í˜ì´ì§€ êµì²´ì˜ í•„ìš”ì„±<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11-over-allocation">1.1 ì˜¤ë²„ì»¤ë°‹ (Over-allocation)<a class="header-link" href="#11-over-allocation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë©”ëª¨ë¦¬ ì˜¤ë²„ì»¤ë°‹                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ë¬¼ë¦¬ ë©”ëª¨ë¦¬: 8GB (2,097,152 í”„ë ˆì„ @ 4KB)                             â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  í”„ë¡œì„¸ìŠ¤ 1: 2GB ê°€ìƒ ì£¼ì†Œ ê³µê°„                                    â”‚ â”‚
â”‚   â”‚  í”„ë¡œì„¸ìŠ¤ 2: 4GB ê°€ìƒ ì£¼ì†Œ ê³µê°„                                    â”‚ â”‚
â”‚   â”‚  í”„ë¡œì„¸ìŠ¤ 3: 3GB ê°€ìƒ ì£¼ì†Œ ê³µê°„                                    â”‚ â”‚
â”‚   â”‚  í”„ë¡œì„¸ìŠ¤ 4: 2GB ê°€ìƒ ì£¼ì†Œ ê³µê°„                                    â”‚ â”‚
â”‚   â”‚  ...                                                               â”‚ â”‚
â”‚   â”‚  ì´ ê°€ìƒ ì£¼ì†Œ ê³µê°„: 20GB                                          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â”‚   20GB &gt; 8GB â†’ ëª¨ë“  í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ë‘˜ ìˆ˜ ì—†ìŒ!                       â”‚
â”‚                                                                          â”‚
â”‚   í•´ê²°: ìš”êµ¬ í˜ì´ì§• + í˜ì´ì§€ êµì²´                                       â”‚
â”‚   - í™œë°œí•˜ê²Œ ì‚¬ìš©ë˜ëŠ” í˜ì´ì§€ë§Œ ë©”ëª¨ë¦¬ì—                                 â”‚
â”‚   - ë‚˜ë¨¸ì§€ëŠ” ë””ìŠ¤í¬ ìŠ¤ì™‘ ê³µê°„ì—                                         â”‚
â”‚   - í•„ìš” ì‹œ êµì²´                                                        â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="12">1.2 í˜ì´ì§€ êµì²´ ê³¼ì •<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       í˜ì´ì§€ êµì²´ ê³¼ì •                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   1. í˜ì´ì§€ í´íŠ¸ ë°œìƒ (í•„ìš”í•œ í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ì— ì—†ìŒ)                   â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â–¼                                                                   â”‚
â”‚   2. ë¹ˆ í”„ë ˆì„ ì°¾ê¸°                                                     â”‚
â”‚      â”œâ”€â”€ ìˆìœ¼ë©´: ê·¸ í”„ë ˆì„ ì‚¬ìš©                                         â”‚
â”‚      â””â”€â”€ ì—†ìœ¼ë©´: í˜ì´ì§€ êµì²´ í•„ìš”                                       â”‚
â”‚          â”‚                                                               â”‚
â”‚          â–¼                                                               â”‚
â”‚   3. í¬ìƒ í˜ì´ì§€ ì„ íƒ (í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©)                       â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â–¼                                                                   â”‚
â”‚   4. í¬ìƒ í˜ì´ì§€ ì²˜ë¦¬                                                   â”‚
â”‚      â”œâ”€â”€ ìˆ˜ì •ë¨(Dirty): ë””ìŠ¤í¬ì— ì“°ê¸°                                   â”‚
â”‚      â””â”€â”€ ìˆ˜ì • ì•ˆ ë¨: ë°”ë¡œ ë²„ë¦¼                                          â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â–¼                                                                   â”‚
â”‚   5. ìƒˆ í˜ì´ì§€ ë¡œë“œ                                                     â”‚
â”‚      - ë””ìŠ¤í¬ì—ì„œ í”„ë ˆì„ìœ¼ë¡œ ì½ê¸°                                       â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â–¼                                                                   â”‚
â”‚   6. í…Œì´ë¸” ì—…ë°ì´íŠ¸                                                    â”‚
â”‚      - í¬ìƒ í˜ì´ì§€: valid=0                                             â”‚
â”‚      - ìƒˆ í˜ì´ì§€: valid=1, frame ë²ˆí˜¸ ê¸°ë¡                              â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â–¼                                                                   â”‚
â”‚   7. ëª…ë ¹ì–´ ì¬ì‹¤í–‰                                                      â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="13-dirty-bit">1.3 ìˆ˜ì • ë¹„íŠ¸ (Dirty Bit)<a class="header-link" href="#13-dirty-bit" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// í˜ì´ì§€ êµì²´ ì‹œ Dirty Bit í™œìš©</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">replace_page</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">victim_frame</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PageTableEntry</span><span class="o">*</span><span class="w"> </span><span class="n">victim_pte</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_pte_for_frame</span><span class="p">(</span><span class="n">victim_frame</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">victim_pte</span><span class="o">-&gt;</span><span class="n">dirty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ìˆ˜ì •ëœ í˜ì´ì§€ - ë””ìŠ¤í¬ì— ì¨ì•¼ í•¨</span>
<span class="w">        </span><span class="n">write_to_swap</span><span class="p">(</span><span class="n">victim_frame</span><span class="p">,</span><span class="w"> </span><span class="n">victim_pte</span><span class="o">-&gt;</span><span class="n">swap_slot</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// I/O 2ë²ˆ: ì½ê¸° + ì“°ê¸°</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ìˆ˜ì • ì•ˆ ë¨ - ë””ìŠ¤í¬ì˜ ë³µì‚¬ë³¸ì´ ìœ íš¨</span>
<span class="w">        </span><span class="c1">// ê·¸ëƒ¥ ë²„ë¦¬ë©´ ë¨, ë””ìŠ¤í¬ ì“°ê¸° í•„ìš” ì—†ìŒ</span>
<span class="w">        </span><span class="c1">// I/O 1ë²ˆ: ì½ê¸°ë§Œ</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ìƒˆ í˜ì´ì§€ ë¡œë“œ</span>
<span class="w">    </span><span class="n">read_from_swap</span><span class="p">(</span><span class="n">victim_frame</span><span class="p">,</span><span class="w"> </span><span class="n">new_page_swap_slot</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="2-fifo">2. FIFO ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#2-fifo" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1 ê°œë…<a class="header-link" href="#21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIFO (First-In, First-Out)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ê·œì¹™: ê°€ì¥ ì˜¤ë˜ëœ í˜ì´ì§€ë¥¼ êµì²´                                       â”‚
â”‚                                                                          â”‚
â”‚   êµ¬í˜„: í ì‚¬ìš©                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚   í˜ì´ì§€ ë¡œë“œ ìˆœì„œ:  A â†’ B â†’ C â†’ D â†’ ...                        â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚   ë©”ëª¨ë¦¬ (3 í”„ë ˆì„):                                            â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                                                â”‚   â”‚
â”‚   â”‚   â”‚ A â”‚ B â”‚ C â”‚  â† ê°€ì¥ ì˜¤ë˜ëœ ê²ƒ: A                           â”‚   â”‚
â”‚   â”‚   â””â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                                                â”‚   â”‚
â”‚   â”‚     â”‚                                                            â”‚   â”‚
â”‚   â”‚     â–¼ D ì ‘ê·¼ ì‹œ                                                 â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                                                â”‚   â”‚
â”‚   â”‚   â”‚ D â”‚ B â”‚ C â”‚  â† A êµì²´ë¨                                    â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”˜                                                â”‚   â”‚
â”‚   â”‚         â”‚                                                        â”‚   â”‚
â”‚   â”‚         â–¼ E ì ‘ê·¼ ì‹œ                                             â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                                                â”‚   â”‚
â”‚   â”‚   â”‚ D â”‚ E â”‚ C â”‚  â† B êµì²´ë¨ (ì´ì œ Cê°€ ê°€ì¥ ì˜¤ë˜ë¨)             â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                                                â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚   ì¥ì : êµ¬í˜„ ê°„ë‹¨                                                       â”‚
â”‚   ë‹¨ì : ìì£¼ ì‚¬ìš©ë˜ëŠ” í˜ì´ì§€ë„ ì˜¤ë˜ë˜ë©´ êµì²´ë¨                          â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="22-fifo">2.2 FIFO êµ¬í˜„<a class="header-link" href="#22-fifo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#define MAX_FRAMES 10</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">pages</span><span class="p">[</span><span class="n">MAX_FRAMES</span><span class="p">];</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">front</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">rear</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">FIFOQueue</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fifo_init</span><span class="p">(</span><span class="n">FIFOQueue</span><span class="o">*</span><span class="w"> </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">fifo_contains</span><span class="p">(</span><span class="n">FIFOQueue</span><span class="o">*</span><span class="w"> </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">pages</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">fifo_access</span><span class="p">(</span><span class="n">FIFOQueue</span><span class="o">*</span><span class="w"> </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// í˜ì´ì§€ê°€ ì´ë¯¸ ìˆìœ¼ë©´ ì ì¤‘</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fifo_contains</span><span class="p">(</span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: ì ì¤‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// í˜ì´ì§€ í´íŠ¸ ì—†ìŒ</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// í˜ì´ì§€ í´íŠ¸</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: í´íŠ¸&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ë¹ˆ í”„ë ˆì„ ìˆìŒ</span>
<span class="w">        </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">pages</span><span class="p">[</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">        </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">rear</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">;</span>
<span class="w">        </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (ë¹ˆ í”„ë ˆì„ ì‚¬ìš©)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ê°€ì¥ ì˜¤ë˜ëœ í˜ì´ì§€ êµì²´</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">victim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">pages</span><span class="p">[</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">];</span>
<span class="w">        </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">pages</span><span class="p">[</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">        </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (í˜ì´ì§€ %d êµì²´)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">victim</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// í˜ì´ì§€ í´íŠ¸</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fifo_print</span><span class="p">(</span><span class="n">FIFOQueue</span><span class="o">*</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë©”ëª¨ë¦¬: [&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">front</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">pages</span><span class="p">[</span><span class="n">idx</span><span class="p">]);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">q</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;]</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">FIFOQueue</span><span class="w"> </span><span class="n">q</span><span class="p">;</span>
<span class="w">    </span><span class="n">fifo_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">reference_string</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">reference_string</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">reference_string</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page_faults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">page_faults</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fifo_access</span><span class="p">(</span><span class="o">&amp;</span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="n">reference_string</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">        </span><span class="n">fifo_print</span><span class="p">(</span><span class="o">&amp;</span><span class="n">q</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì´ í˜ì´ì§€ í´íŠ¸: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page_faults</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="23">2.3 ì˜ˆì œ<a class="header-link" href="#23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               FIFO ì˜ˆì œ (3 í”„ë ˆì„)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ë¬¸ìì—´: 7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2              â”‚
â”‚                                                                          â”‚
â”‚   ì ‘ê·¼  í”„ë ˆì„ 0   í”„ë ˆì„ 1   í”„ë ˆì„ 2    í´íŠ¸?                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚    7      7         -          -          í´íŠ¸                          â”‚
â”‚    0      7         0          -          í´íŠ¸                          â”‚
â”‚    1      7         0          1          í´íŠ¸                          â”‚
â”‚    2      2         0          1          í´íŠ¸ (7 êµì²´)                 â”‚
â”‚    0      2         0          1          ì ì¤‘                          â”‚
â”‚    3      2         3          1          í´íŠ¸ (0 êµì²´)                 â”‚
â”‚    0      2         3          0          í´íŠ¸ (1 êµì²´)                 â”‚
â”‚    4      4         3          0          í´íŠ¸ (2 êµì²´)                 â”‚
â”‚    2      4         2          0          í´íŠ¸ (3 êµì²´)                 â”‚
â”‚    3      4         2          3          í´íŠ¸ (0 êµì²´)                 â”‚
â”‚    0      0         2          3          í´íŠ¸ (4 êµì²´)                 â”‚
â”‚    3      0         2          3          ì ì¤‘                          â”‚
â”‚    2      0         2          3          ì ì¤‘                          â”‚
â”‚    1      0         1          3          í´íŠ¸ (2 êµì²´)                 â”‚
â”‚    2      0         1          2          í´íŠ¸ (3 êµì²´)                 â”‚
â”‚                                                                          â”‚
â”‚   ì´ í˜ì´ì§€ í´íŠ¸: 12                                                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="3-optimal">3. Optimal ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#3-optimal" title="Permanent link">&para;</a></h2>
<h3 id="31">3.1 ê°œë…<a class="header-link" href="#31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Optimal (OPT) ì•Œê³ ë¦¬ì¦˜                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ê·œì¹™: ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì„ í˜ì´ì§€ë¥¼ êµì²´                       â”‚
â”‚         (ë¯¸ë˜ë¥¼ ì•Œì•„ì•¼ í•¨ - ì´ìƒì ì¸ ì•Œê³ ë¦¬ì¦˜)                          â”‚
â”‚                                                                          â”‚
â”‚   ì˜ˆì‹œ:                                                                  â”‚
â”‚   ë¯¸ë˜ ì°¸ì¡°: ... D, E, F, A, B, C, A ...                                â”‚
â”‚                      â†‘                                                   â”‚
â”‚                   í˜„ì¬ ìœ„ì¹˜                                              â”‚
â”‚                                                                          â”‚
â”‚   ë©”ëª¨ë¦¬: [A, B, C]                                                     â”‚
â”‚   D ì ‘ê·¼ í•„ìš”, ë¬´ì—‡ì„ êµì²´?                                             â”‚
â”‚                                                                          â”‚
â”‚   - A: 4ë²ˆ í›„ì— ì‚¬ìš©ë¨                                                  â”‚
â”‚   - B: 5ë²ˆ í›„ì— ì‚¬ìš©ë¨                                                  â”‚
â”‚   - C: 6ë²ˆ í›„ì— ì‚¬ìš©ë¨ â† ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©ë¨                              â”‚
â”‚                                                                          â”‚
â”‚   â†’ Cë¥¼ êµì²´í•˜ëŠ” ê²ƒì´ ìµœì                                               â”‚
â”‚                                                                          â”‚
â”‚   ì¥ì : ìµœì†Œ í˜ì´ì§€ í´íŠ¸ ë³´ì¥ (ë¹„êµ ê¸°ì¤€)                               â”‚
â”‚   ë‹¨ì : ë¯¸ë˜ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥ â†’ ì‹¤ì œ êµ¬í˜„ ë¶ˆê°€ëŠ¥                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="32-optimal">3.2 Optimal êµ¬í˜„<a class="header-link" href="#32-optimal" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#define MAX_FRAMES 10</span>
<span class="cp">#define MAX_REFS 100</span>

<span class="kt">int</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">MAX_FRAMES</span><span class="p">];</span>
<span class="kt">int</span><span class="w"> </span><span class="n">frame_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="n">reference_string</span><span class="p">[</span><span class="n">MAX_REFS</span><span class="p">];</span>
<span class="kt">int</span><span class="w"> </span><span class="n">ref_length</span><span class="p">;</span>

<span class="c1">// í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ì— ìˆëŠ”ì§€ í™•ì¸</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">find_page</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">frame_count</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ì•ìœ¼ë¡œ ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©ë  í˜ì´ì§€ ì°¾ê¸°</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">find_victim</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">current_index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">victim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">farthest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">frame_count</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">next_use</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref_length</span><span class="p">;</span><span class="w">  </span><span class="c1">// ì‚¬ìš© ì•ˆ ë˜ë©´ ìµœëŒ€ê°’</span>

<span class="w">        </span><span class="c1">// ë¯¸ë˜ ì°¸ì¡°ì—ì„œ ì´ í˜ì´ì§€ê°€ ì–¸ì œ ì‚¬ìš©ë˜ëŠ”ì§€ ì°¾ê¸°</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ref_length</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reference_string</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">next_use</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">next_use</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">farthest</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">farthest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next_use</span><span class="p">;</span>
<span class="w">            </span><span class="n">victim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">victim</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">optimal_access</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">current_index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_page</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: ì ì¤‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: í´íŠ¸&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frame_count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">frame_count</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (ë¹ˆ í”„ë ˆì„ ì‚¬ìš©)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">victim_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_victim</span><span class="p">(</span><span class="n">current_index</span><span class="p">);</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (í˜ì´ì§€ %d êµì²´)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">victim_idx</span><span class="p">]);</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">victim_idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">refs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="w">    </span><span class="n">ref_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ref_length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">reference_string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">refs</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page_faults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ref_length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">page_faults</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">optimal_access</span><span class="p">(</span><span class="n">reference_string</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">ì´ í˜ì´ì§€ í´íŠ¸: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page_faults</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="33">3.3 ì˜ˆì œ<a class="header-link" href="#33" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Optimal ì˜ˆì œ (3 í”„ë ˆì„)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ë¬¸ìì—´: 7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2              â”‚
â”‚                                                                          â”‚
â”‚   ì ‘ê·¼  í”„ë ˆì„ 0   í”„ë ˆì„ 1   í”„ë ˆì„ 2    í´íŠ¸?   ì„ íƒ ì´ìœ              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚    7      7         -          -          í´íŠ¸                          â”‚
â”‚    0      7         0          -          í´íŠ¸                          â”‚
â”‚    1      7         0          1          í´íŠ¸                          â”‚
â”‚    2      2         0          1          í´íŠ¸    7: ì‚¬ìš© ì•ˆ ë¨        â”‚
â”‚    0      2         0          1          ì ì¤‘                          â”‚
â”‚    3      2         0          3          í´íŠ¸    1: ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©     â”‚
â”‚    0      2         0          3          ì ì¤‘                          â”‚
â”‚    4      2         4          3          í´íŠ¸    0: ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©     â”‚
â”‚    2      2         4          3          ì ì¤‘                          â”‚
â”‚    3      2         4          3          ì ì¤‘                          â”‚
â”‚    0      0         4          3          í´íŠ¸    2: ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©     â”‚
â”‚    3      0         4          3          ì ì¤‘                          â”‚
â”‚    2      0         2          3          í´íŠ¸    4: ì‚¬ìš© ì•ˆ ë¨        â”‚
â”‚    1      0         2          1          í´íŠ¸    3: ì‚¬ìš© ì•ˆ ë¨        â”‚
â”‚    2      0         2          1          ì ì¤‘                          â”‚
â”‚                                                                          â”‚
â”‚   ì´ í˜ì´ì§€ í´íŠ¸: 9 (FIFOë³´ë‹¤ 3ë²ˆ ì ìŒ!)                                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="4-lru">4. LRU ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#4-lru" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1 ê°œë…<a class="header-link" href="#41" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LRU (Least Recently Used)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ê·œì¹™: ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì€ í˜ì´ì§€ë¥¼ êµì²´                       â”‚
â”‚         (ìµœê·¼ ì‚¬ìš© = ê°€ê¹Œìš´ ë¯¸ë˜ì— ì‚¬ìš©ë  ê°€ëŠ¥ì„± ë†’ìŒ)                  â”‚
â”‚                                                                          â”‚
â”‚   Optimalê³¼ì˜ ë¹„êµ:                                                      â”‚
â”‚   - Optimal: ë¯¸ë˜ë¥¼ ë´„ (ì•ìœ¼ë¡œ ê°€ì¥ ëŠ¦ê²Œ ì‚¬ìš©ë  ê²ƒ)                     â”‚
â”‚   - LRU: ê³¼ê±°ë¥¼ ë´„ (ì§€ê¸ˆê¹Œì§€ ê°€ì¥ ì˜¤ë˜ ì‚¬ìš© ì•ˆ ëœ ê²ƒ)                   â”‚
â”‚                                                                          â”‚
â”‚   ì‹œê°„ì˜ ì§€ì—­ì„± (Temporal Locality) í™œìš©:                               â”‚
â”‚   &quot;ìµœê·¼ì— ì‚¬ìš©ëœ ë°ì´í„°ëŠ” ê°€ê¹Œìš´ ë¯¸ë˜ì— ë‹¤ì‹œ ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤&quot;      â”‚
â”‚                                                                          â”‚
â”‚   ì¥ì :                                                                  â”‚
â”‚   - Optimalì— ê·¼ì ‘í•œ ì„±ëŠ¥                                               â”‚
â”‚   - ì‹¤ì œ êµ¬í˜„ ê°€ëŠ¥                                                      â”‚
â”‚                                                                          â”‚
â”‚   ë‹¨ì :                                                                  â”‚
â”‚   - êµ¬í˜„ ë³µì¡ (ëª¨ë“  ì ‘ê·¼ ì‹œê°„ ì¶”ì  í•„ìš”)                                â”‚
â”‚   - í•˜ë“œì›¨ì–´ ì§€ì› ì—†ì´ëŠ” ì˜¤ë²„í—¤ë“œ í¼                                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="42-lru">4.2 LRU êµ¬í˜„ ë°©ë²•<a class="header-link" href="#42-lru" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                      </span><span class="nt">LRU</span><span class="w"> </span><span class="nt">êµ¬í˜„</span><span class="w"> </span><span class="nt">ë°©ë²•</span><span class="w">                                       </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">1</span><span class="o">.</span><span class="w"> </span><span class="nt">ì¹´ìš´í„°</span><span class="w"> </span><span class="nt">ê¸°ë°˜</span><span class="w">                                                        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">ê°</span><span class="w"> </span><span class="nt">í˜ì´ì§€ì—</span><span class="w"> </span><span class="nt">íƒ€ì„ìŠ¤íƒ¬í”„</span><span class="w"> </span><span class="nt">ì €ì¥</span><span class="w">                                     </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">í˜ì´ì§€</span><span class="w"> </span><span class="nt">ì ‘ê·¼</span><span class="w"> </span><span class="nt">ì‹œ</span><span class="o">:</span><span class="w">                                                 </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">page</span><span class="p">.</span><span class="nc">last_used</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="nt">global_counter</span><span class="o">;</span><span class="w">                             </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">êµì²´</span><span class="w"> </span><span class="nt">ì‹œ</span><span class="o">:</span><span class="w"> </span><span class="nt">ê°€ì¥</span><span class="w"> </span><span class="nt">ì‘ì€</span><span class="w"> </span><span class="nt">ì¹´ìš´í„°</span><span class="w"> </span><span class="nt">ê°’</span><span class="w"> </span><span class="nt">ê°€ì§„</span><span class="w"> </span><span class="nt">í˜ì´ì§€</span><span class="w"> </span><span class="nt">ì„ íƒ</span><span class="w">                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">ë‹¨ì </span><span class="o">:</span><span class="w"> </span><span class="nt">í…Œì´ë¸”</span><span class="w"> </span><span class="nt">ê²€ìƒ‰</span><span class="w"> </span><span class="nt">O</span><span class="o">(</span><span class="nt">n</span><span class="o">),</span><span class="w"> </span><span class="nt">ì˜¤ë²„í”Œë¡œìš°</span><span class="w"> </span><span class="nt">ì²˜ë¦¬</span><span class="w"> </span><span class="nt">í•„ìš”</span><span class="w">                   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="nt">2</span><span class="o">.</span><span class="w"> </span><span class="nt">ìŠ¤íƒ</span><span class="w"> </span><span class="nt">ê¸°ë°˜</span><span class="w">                                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">ì´ì¤‘</span><span class="w"> </span><span class="nt">ì—°ê²°</span><span class="w"> </span><span class="nt">ë¦¬ìŠ¤íŠ¸ë¡œ</span><span class="w"> </span><span class="nt">í˜ì´ì§€</span><span class="w"> </span><span class="nt">ê´€ë¦¬</span><span class="w">                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">í˜ì´ì§€</span><span class="w"> </span><span class="nt">ì ‘ê·¼</span><span class="w"> </span><span class="nt">ì‹œ</span><span class="o">:</span><span class="w"> </span><span class="nt">í•´ë‹¹</span><span class="w"> </span><span class="nt">í˜ì´ì§€ë¥¼</span><span class="w"> </span><span class="nt">ìŠ¤íƒ</span><span class="w"> </span><span class="nt">íƒ‘ìœ¼ë¡œ</span><span class="w"> </span><span class="nt">ì´ë™</span><span class="w">                 </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">êµì²´</span><span class="w"> </span><span class="nt">ì‹œ</span><span class="o">:</span><span class="w"> </span><span class="nt">ìŠ¤íƒ</span><span class="w"> </span><span class="nt">ë°”í…€ì˜</span><span class="w"> </span><span class="nt">í˜ì´ì§€</span><span class="w"> </span><span class="nt">ì œê±°</span><span class="w">                               </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">    </span><span class="nt">Top</span><span class="w">                                                          </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">     </span><span class="err">â†“</span><span class="w">                                                           </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”Œâ”€â”€â”€â”</span><span class="w">                                                         </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">A</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="nt">ê°€ì¥</span><span class="w"> </span><span class="nt">ìµœê·¼</span><span class="w"> </span><span class="nt">ì‚¬ìš©</span><span class="w">                                       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”¤</span><span class="w">                                                         </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">C</span><span class="w"> </span><span class="err">â”‚</span><span class="w">                                                         </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€â”€â”¤</span><span class="w">                                                         </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w"> </span><span class="nt">B</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="nt">ê°€ì¥</span><span class="w"> </span><span class="nt">ì˜¤ë˜ëœ</span><span class="w"> </span><span class="nt">ê²ƒ</span><span class="w"> </span><span class="o">(</span><span class="nt">êµì²´</span><span class="w"> </span><span class="nt">ëŒ€ìƒ</span><span class="o">)</span><span class="w">                           </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”˜</span><span class="w">                                                         </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="nt">Bottom</span><span class="w">                                                        </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">                                                                  </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">ì¥ì </span><span class="o">:</span><span class="w"> </span><span class="nt">êµì²´</span><span class="w"> </span><span class="nt">O</span><span class="o">(</span><span class="nt">1</span><span class="o">)</span><span class="w">                                                </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">ë‹¨ì </span><span class="o">:</span><span class="w"> </span><span class="nt">ì´ë™</span><span class="w"> </span><span class="nt">ì‹œ</span><span class="w"> </span><span class="nt">í¬ì¸í„°</span><span class="w"> </span><span class="nt">ê°±ì‹ </span><span class="w"> </span><span class="nt">í•„ìš”</span><span class="w">                                 </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="43-lru">4.3 LRU ìŠ¤íƒ êµ¬í˜„<a class="header-link" href="#43-lru" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">prev</span><span class="p">;</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">head</span><span class="p">;</span><span class="w">   </span><span class="c1">// ê°€ì¥ ìµœê·¼ ì‚¬ìš©</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">tail</span><span class="p">;</span><span class="w">   </span><span class="c1">// ê°€ì¥ ì˜¤ë˜ëœ ê²ƒ</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">LRUCache</span><span class="p">;</span>

<span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="nf">lru_create</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">LRUCache</span><span class="p">));</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cache</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// í˜ì´ì§€ ì°¾ê¸°</span>
<span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="nf">lru_find</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="o">-&gt;</span><span class="n">page</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">current</span><span class="p">;</span>
<span class="w">        </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ë…¸ë“œë¥¼ ë§¨ ì•ìœ¼ë¡œ ì´ë™</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">move_to_front</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w">  </span><span class="c1">// ì´ë¯¸ ë§¨ ì•</span>

<span class="w">    </span><span class="c1">// ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">)</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ë§¨ ì•ì— ì‚½ì…</span>
<span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ìƒˆ ë…¸ë“œ ë§¨ ì•ì— ì‚½ì…</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">insert_front</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Node</span><span class="p">));</span>
<span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>

<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ë§¨ ë’¤ ë…¸ë“œ ì œê±°</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">remove_tail</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>

<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">victim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">victim</span><span class="o">-&gt;</span><span class="n">page</span><span class="p">;</span>

<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">victim</span><span class="o">-&gt;</span><span class="n">prev</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>

<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">victim</span><span class="p">);</span>
<span class="w">    </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">--</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">lru_access</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lru_find</span><span class="p">(</span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ì ì¤‘: ë§¨ ì•ìœ¼ë¡œ ì´ë™</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: ì ì¤‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">        </span><span class="n">move_to_front</span><span class="p">(</span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// í´íŠ¸</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: í´íŠ¸&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ê°€ì¥ ì˜¤ë˜ëœ í˜ì´ì§€ êµì²´</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">victim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remove_tail</span><span class="p">(</span><span class="n">cache</span><span class="p">);</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (í˜ì´ì§€ %d êµì²´)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">victim</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">insert_front</span><span class="p">(</span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">lru_print</span><span class="p">(</span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë©”ëª¨ë¦¬ (MRUâ†’LRU): [&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">current</span><span class="o">-&gt;</span><span class="n">page</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;]</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">LRUCache</span><span class="o">*</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lru_create</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">refs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page_faults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">page_faults</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">lru_access</span><span class="p">(</span><span class="n">cache</span><span class="p">,</span><span class="w"> </span><span class="n">refs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">        </span><span class="n">lru_print</span><span class="p">(</span><span class="n">cache</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì´ í˜ì´ì§€ í´íŠ¸: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page_faults</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="44">4.4 ì˜ˆì œ<a class="header-link" href="#44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               LRU ì˜ˆì œ (3 í”„ë ˆì„)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ë¬¸ìì—´: 7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2, 1, 2              â”‚
â”‚                                                                          â”‚
â”‚   ì ‘ê·¼  ìŠ¤íƒ (MRUâ†’LRU)    í´íŠ¸?                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚
â”‚    7      [7]              í´íŠ¸                                         â”‚
â”‚    0      [0, 7]           í´íŠ¸                                         â”‚
â”‚    1      [1, 0, 7]        í´íŠ¸                                         â”‚
â”‚    2      [2, 1, 0]        í´íŠ¸ (7 êµì²´ - LRU)                          â”‚
â”‚    0      [0, 2, 1]        ì ì¤‘ (0ì„ MRUë¡œ)                             â”‚
â”‚    3      [3, 0, 2]        í´íŠ¸ (1 êµì²´ - LRU)                          â”‚
â”‚    0      [0, 3, 2]        ì ì¤‘ (0ì„ MRUë¡œ)                             â”‚
â”‚    4      [4, 0, 3]        í´íŠ¸ (2 êµì²´ - LRU)                          â”‚
â”‚    2      [2, 4, 0]        í´íŠ¸ (3 êµì²´ - LRU)                          â”‚
â”‚    3      [3, 2, 4]        í´íŠ¸ (0 êµì²´ - LRU)                          â”‚
â”‚    0      [0, 3, 2]        í´íŠ¸ (4 êµì²´ - LRU)                          â”‚
â”‚    3      [3, 0, 2]        ì ì¤‘ (3ì„ MRUë¡œ)                             â”‚
â”‚    2      [2, 3, 0]        ì ì¤‘ (2ë¥¼ MRUë¡œ)                             â”‚
â”‚    1      [1, 2, 3]        í´íŠ¸ (0 êµì²´ - LRU)                          â”‚
â”‚    2      [2, 1, 3]        ì ì¤‘ (2ë¥¼ MRUë¡œ)                             â”‚
â”‚                                                                          â”‚
â”‚   ì´ í˜ì´ì§€ í´íŠ¸: 10 (FIFO: 12, OPT: 9)                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="5-lru">5. LRU ê·¼ì‚¬ ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#5-lru" title="Permanent link">&para;</a></h2>
<h3 id="51-second-chance-clock">5.1 Second-Chance (Clock) ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#51-second-chance-clock" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Second-Chance ì•Œê³ ë¦¬ì¦˜                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ë¹„íŠ¸ ì‚¬ìš©:                                                        â”‚
â”‚   - í˜ì´ì§€ ì ‘ê·¼ ì‹œ: ì°¸ì¡° ë¹„íŠ¸ = 1                                       â”‚
â”‚   - êµì²´ ì‹œ: ì°¸ì¡° ë¹„íŠ¸ê°€ 0ì¸ í˜ì´ì§€ ì„ íƒ                                â”‚
â”‚                                                                          â”‚
â”‚   ì›í˜• íë¡œ êµ¬í˜„ (ì‹œê³„ ì•Œê³ ë¦¬ì¦˜):                                        â”‚
â”‚                                                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚              â”‚                   â”‚                                      â”‚
â”‚              â–¼                   â”‚                                      â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       â”‚Page A   â”‚â”€â”€â”€â”‚Page B   â”‚â”€â”€â”¼â”€â”€â”‚Page C   â”‚â”€â”€â”€â”€â”€â”                   â”‚
â”‚       â”‚Ref: 1   â”‚   â”‚Ref: 0   â”‚  â”‚  â”‚Ref: 1   â”‚     â”‚                   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                   â”‚
â”‚           â–²                      â”‚                   â”‚                   â”‚
â”‚           â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚                   â”‚
â”‚           â”‚          â”‚                               â”‚                   â”‚
â”‚           â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”‚Page F   â”‚â”€â”€â”€â”‚Page E   â”‚â”€â”€â”€â”‚Page D   â”‚               â”‚
â”‚                  â”‚Ref: 0   â”‚   â”‚Ref: 1   â”‚   â”‚Ref: 0   â”‚               â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                       â†‘                                                 â”‚
â”‚                    í¬ì¸í„°                                               â”‚
â”‚                                                                          â”‚
â”‚   êµì²´ ê³¼ì •:                                                             â”‚
â”‚   1. í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” í˜ì´ì§€ ê²€ì‚¬                                      â”‚
â”‚   2. Ref=1ì´ë©´: Ref=0ìœ¼ë¡œ ì„¤ì •, ë‹¤ìŒìœ¼ë¡œ ì´ë™ (ë‘ ë²ˆì§¸ ê¸°íšŒ)           â”‚
â”‚   3. Ref=0ì´ë©´: ì´ í˜ì´ì§€ êµì²´                                          â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="52-enhanced-second-chance">5.2 Enhanced Second-Chance<a class="header-link" href="#52-enhanced-second-chance" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Enhanced Second-Chance ì•Œê³ ë¦¬ì¦˜                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ë¹„íŠ¸ + ìˆ˜ì • ë¹„íŠ¸ ì‚¬ìš©                                            â”‚
â”‚                                                                          â”‚
â”‚   (ì°¸ì¡°, ìˆ˜ì •) ì¡°í•©ë³„ ìš°ì„ ìˆœìœ„:                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚    (Ref, Mod)  â”‚              ì„¤ëª…                  â”‚   ìš°ì„ ìˆœìœ„  â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚     (0, 0)     â”‚ ìµœê·¼ ì‚¬ìš© ì•ˆ ë¨, ìˆ˜ì • ì•ˆ ë¨       â”‚   1 (ìµœìš°ì„ )â”‚  â”‚
â”‚   â”‚     (0, 1)     â”‚ ìµœê·¼ ì‚¬ìš© ì•ˆ ë¨, ìˆ˜ì •ë¨           â”‚   2        â”‚  â”‚
â”‚   â”‚     (1, 0)     â”‚ ìµœê·¼ ì‚¬ìš©ë¨, ìˆ˜ì • ì•ˆ ë¨           â”‚   3        â”‚  â”‚
â”‚   â”‚     (1, 1)     â”‚ ìµœê·¼ ì‚¬ìš©ë¨, ìˆ˜ì •ë¨               â”‚   4 (ìµœí•˜)  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚   êµì²´ ì•Œê³ ë¦¬ì¦˜:                                                         â”‚
â”‚   1. (0,0) í˜ì´ì§€ íƒìƒ‰ â†’ ì°¾ìœ¼ë©´ êµì²´                                   â”‚
â”‚   2. (0,1) í˜ì´ì§€ íƒìƒ‰, ì§€ë‚˜ê°€ë©´ì„œ Ref=0 ì„¤ì •                          â”‚
â”‚   3. ì²˜ìŒë¶€í„° ë‹¤ì‹œ (0,0) íƒìƒ‰                                           â”‚
â”‚   4. (0,1) íƒìƒ‰ â†’ ì°¾ìœ¼ë©´ êµì²´                                          â”‚
â”‚                                                                          â”‚
â”‚   ì¥ì : Dirty í˜ì´ì§€ êµì²´ ìµœì†Œí™” â†’ I/O ê°ì†Œ                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="53-clock">5.3 Clock ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„<a class="header-link" href="#53-clock" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#define MAX_FRAMES 10</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">reference_bit</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">valid</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Frame</span><span class="p">;</span>

<span class="n">Frame</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">MAX_FRAMES</span><span class="p">];</span>
<span class="kt">int</span><span class="w"> </span><span class="n">clock_hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">clock_init</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">cap</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cap</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">MAX_FRAMES</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">valid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">find_page</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">valid</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">page</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">find_empty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">valid</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">clock_access</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_page</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ì ì¤‘: ì°¸ì¡° ë¹„íŠ¸ ì„¤ì •</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: ì ì¤‘</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">idx</span><span class="p">].</span><span class="n">reference_bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// í´íŠ¸</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;í˜ì´ì§€ %d: í´íŠ¸&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page</span><span class="p">);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_empty</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">empty</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ë¹ˆ í”„ë ˆì„ ì‚¬ìš©</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">empty</span><span class="p">].</span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">empty</span><span class="p">].</span><span class="n">reference_bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">empty</span><span class="p">].</span><span class="n">valid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (ë¹ˆ í”„ë ˆì„ %d ì‚¬ìš©)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Clock ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í¬ìƒì ì„ íƒ</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">frames</span><span class="p">[</span><span class="n">clock_hand</span><span class="p">].</span><span class="n">reference_bit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ì°¸ì¡° ë¹„íŠ¸ê°€ 0ì´ë©´ êµì²´</span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; (í”„ë ˆì„ %dì˜ í˜ì´ì§€ %d êµì²´)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">                   </span><span class="n">clock_hand</span><span class="p">,</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">clock_hand</span><span class="p">].</span><span class="n">page</span><span class="p">);</span>

<span class="w">            </span><span class="n">frames</span><span class="p">[</span><span class="n">clock_hand</span><span class="p">].</span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">            </span><span class="n">frames</span><span class="p">[</span><span class="n">clock_hand</span><span class="p">].</span><span class="n">reference_bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>

<span class="w">            </span><span class="n">clock_hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">clock_hand</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ì°¸ì¡° ë¹„íŠ¸ê°€ 1ì´ë©´ 0ìœ¼ë¡œ ì„¤ì •í•˜ê³  ë‹¤ìŒìœ¼ë¡œ</span>
<span class="w">        </span><span class="n">frames</span><span class="p">[</span><span class="n">clock_hand</span><span class="p">].</span><span class="n">reference_bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">clock_hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">clock_hand</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">clock_print</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ë©”ëª¨ë¦¬: [&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">valid</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d(R:%d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">page</span><span class="p">,</span>
<span class="w">                   </span><span class="n">frames</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">reference_bit</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">capacity</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;] í¬ì¸í„°: %d</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">clock_hand</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">clock_init</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">refs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page_faults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">page_faults</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">clock_access</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">        </span><span class="n">clock_print</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;ì´ í˜ì´ì§€ í´íŠ¸: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">page_faults</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="6-beladys-anomaly">6. Belady's Anomaly<a class="header-link" href="#6-beladys-anomaly" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1 í˜„ìƒ<a class="header-link" href="#61" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Belady&#39;s Anomaly                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì§ê´€: í”„ë ˆì„ì´ ë§ìœ¼ë©´ í˜ì´ì§€ í´íŠ¸ê°€ ì ì–´ì•¼ í•œë‹¤.                      â”‚
â”‚   Belady&#39;s Anomaly: FIFOì—ì„œ í”„ë ˆì„ ì¦ê°€ ì‹œ ì˜¤íˆë ¤ í´íŠ¸ ì¦ê°€!           â”‚
â”‚                                                                          â”‚
â”‚   ì˜ˆì‹œ: ì°¸ì¡° ë¬¸ìì—´ 1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5                  â”‚
â”‚                                                                          â”‚
â”‚   3 í”„ë ˆì„:                                                              â”‚
â”‚   1    [1, -, -]        í´íŠ¸                                            â”‚
â”‚   2    [1, 2, -]        í´íŠ¸                                            â”‚
â”‚   3    [1, 2, 3]        í´íŠ¸                                            â”‚
â”‚   4    [4, 2, 3]        í´íŠ¸                                            â”‚
â”‚   1    [4, 1, 3]        í´íŠ¸                                            â”‚
â”‚   2    [4, 1, 2]        í´íŠ¸                                            â”‚
â”‚   5    [5, 1, 2]        í´íŠ¸                                            â”‚
â”‚   1    [5, 1, 2]        ì ì¤‘                                            â”‚
â”‚   2    [5, 1, 2]        ì ì¤‘                                            â”‚
â”‚   3    [3, 1, 2]        í´íŠ¸                                            â”‚
â”‚   4    [3, 4, 2]        í´íŠ¸                                            â”‚
â”‚   5    [3, 4, 5]        í´íŠ¸  â†’ ì´ 9ë²ˆ í´íŠ¸                             â”‚
â”‚                                                                          â”‚
â”‚   4 í”„ë ˆì„:                                                              â”‚
â”‚   1    [1, -, -, -]     í´íŠ¸                                            â”‚
â”‚   2    [1, 2, -, -]     í´íŠ¸                                            â”‚
â”‚   3    [1, 2, 3, -]     í´íŠ¸                                            â”‚
â”‚   4    [1, 2, 3, 4]     í´íŠ¸                                            â”‚
â”‚   1    [1, 2, 3, 4]     ì ì¤‘                                            â”‚
â”‚   2    [1, 2, 3, 4]     ì ì¤‘                                            â”‚
â”‚   5    [5, 2, 3, 4]     í´íŠ¸                                            â”‚
â”‚   1    [5, 1, 3, 4]     í´íŠ¸                                            â”‚
â”‚   2    [5, 1, 2, 4]     í´íŠ¸                                            â”‚
â”‚   3    [5, 1, 2, 3]     í´íŠ¸                                            â”‚
â”‚   4    [4, 1, 2, 3]     í´íŠ¸                                            â”‚
â”‚   5    [4, 5, 2, 3]     í´íŠ¸  â†’ ì´ 10ë²ˆ í´íŠ¸                            â”‚
â”‚                                                                          â”‚
â”‚   3 í”„ë ˆì„: 9 í´íŠ¸ &lt; 4 í”„ë ˆì„: 10 í´íŠ¸  â† ì´ìƒ í˜„ìƒ!                   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="62">6.2 ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜<a class="header-link" href="#62" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜ (Stack Algorithm)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì •ì˜: nê°œ í”„ë ˆì„ì˜ í˜ì´ì§€ ì§‘í•©ì´ í•­ìƒ n+1ê°œ í”„ë ˆì„ì˜ ë¶€ë¶„ì§‘í•©         â”‚
â”‚        M(n) âŠ† M(n+1)                                                    â”‚
â”‚                                                                          â”‚
â”‚   ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜ = Belady&#39;s Anomaly ì—†ìŒ                                 â”‚
â”‚                                                                          â”‚
â”‚   ì˜ˆ: LRU                                                                â”‚
â”‚   3 í”„ë ˆì„: ë©”ëª¨ë¦¬ = {A, B, C}                                          â”‚
â”‚   4 í”„ë ˆì„: ë©”ëª¨ë¦¬ = {A, B, C, D}                                       â”‚
â”‚   â†’ {A, B, C} âŠ‚ {A, B, C, D} í•­ìƒ ì„±ë¦½                                  â”‚
â”‚                                                                          â”‚
â”‚   FIFOëŠ” ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜ì´ ì•„ë‹˜:                                          â”‚
â”‚   ì‹œì  tì—ì„œ 3í”„ë ˆì„: {1, 2, 3}                                         â”‚
â”‚   ì‹œì  tì—ì„œ 4í”„ë ˆì„: {2, 3, 4}                                         â”‚
â”‚   â†’ {1, 2, 3} âŠ„ {2, 3, 4} ê°€ëŠ¥                                          â”‚
â”‚                                                                          â”‚
â”‚   ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜ ì˜ˆ: LRU, Optimal, LFU                                   â”‚
â”‚   ë¹„ìŠ¤íƒ ì•Œê³ ë¦¬ì¦˜: FIFO                                                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="7-working-set">7. ìŠ¤ë˜ì‹±ê³¼ Working Set<a class="header-link" href="#7-working-set" title="Permanent link">&para;</a></h2>
<h3 id="71-thrashing">7.1 ìŠ¤ë˜ì‹± (Thrashing)<a class="header-link" href="#71-thrashing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ìŠ¤ë˜ì‹±                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ì •ì˜: í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë³´ë‹¤ í˜ì´ì§€ êµì²´ì— ë” ë§ì€ ì‹œê°„ì„ ë³´ë‚´ëŠ” ìƒíƒœ    â”‚
â”‚                                                                          â”‚
â”‚   CPU ì´ìš©ë¥                                                              â”‚
â”‚      â†‘                                                                   â”‚
â”‚      â”‚        â•±â”€â”€â•²                                                      â”‚
â”‚      â”‚       â•±    â•²                                                     â”‚
â”‚      â”‚      â•±      â•²                                                    â”‚
â”‚      â”‚     â•±        â•²                                                   â”‚
â”‚      â”‚    â•±          â•²                                                  â”‚
â”‚      â”‚   â•±            â•²    ìŠ¤ë˜ì‹±                                      â”‚
â”‚      â”‚  â•±              â•²   ì‹œì‘ì                                        â”‚
â”‚      â”‚ â•±                â•²                                               â”‚
â”‚      â”‚â•±                  â•²__________                                    â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ë‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° ìˆ˜ì¤€              â”‚
â”‚                                                                          â”‚
â”‚   ìŠ¤ë˜ì‹± ë°œìƒ ê³¼ì •:                                                      â”‚
â”‚   1. CPU ì´ìš©ë¥  ë‚®ìŒ â†’ OSê°€ ë” ë§ì€ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰                       â”‚
â”‚   2. í”„ë¡œì„¸ìŠ¤ ì¦ê°€ â†’ ê° í”„ë¡œì„¸ìŠ¤ì˜ í”„ë ˆì„ ê°ì†Œ                          â”‚
â”‚   3. í˜ì´ì§€ í´íŠ¸ ì¦ê°€ â†’ I/O ëŒ€ê¸° ì¦ê°€                                   â”‚
â”‚   4. CPU ì´ìš©ë¥  ë” ë‚®ì•„ì§ â†’ OSê°€ ë” ë§ì€ í”„ë¡œì„¸ìŠ¤... (ì•…ìˆœí™˜)           â”‚
â”‚                                                                          â”‚
â”‚   ê²°ê³¼: ì‹œìŠ¤í…œ ê±°ì˜ ë™ì‘í•˜ì§€ ì•ŠìŒ                                       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="72-working-set">7.2 Working Set ëª¨ë¸<a class="header-link" href="#72-working-set" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Working Set ëª¨ë¸                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Working Set: íŠ¹ì • ì‹œê°„ ì°½(Î”) ë™ì•ˆ ì°¸ì¡°ëœ í˜ì´ì§€ ì§‘í•©                  â”‚
â”‚                                                                          â”‚
â”‚   ì‹œê°„ ì°½ Î” = 10                                                        â”‚
â”‚                                                                          â”‚
â”‚   ì°¸ì¡° ìˆœì„œ: ... 1 2 3 4 5 1 2 3 1 2 | 7 8 9 0 7 8 9 0 7 8              â”‚
â”‚                               â†‘ í˜„ì¬ ì‹œì                                 â”‚
â”‚                                                                          â”‚
â”‚   Working Set(Î”=10) = {1, 2, 3, 4, 5}                                   â”‚
â”‚                                                                          â”‚
â”‚   Working Set í¬ê¸° ë³€í™”:                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â”‚  WSS                                                            â”‚   â”‚
â”‚   â”‚   â†‘      â•­â”€â”€â•®     â•­â”€â”€â•®                                         â”‚   â”‚
â”‚   â”‚   â”‚     â•±    â•²   â•±    â•²     ì§€ì—­ì„± ì „í™˜                        â”‚   â”‚
â”‚   â”‚   â”‚â”€â”€â”€â”€â•±      â•²â”€â•±      â•²â”€â”€â”€â”€                                   â”‚   â”‚
â”‚   â”‚   â”‚   ì•ˆì •     ì•ˆì •     ì•ˆì •                                   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ì‹œê°„                     â”‚   â”‚
â”‚   â”‚                                                                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚   ì›ë¦¬:                                                                  â”‚
â”‚   - WSS(i) = í”„ë¡œì„¸ìŠ¤ iì˜ Working Set í¬ê¸°                              â”‚
â”‚   - D = Î£ WSS(i) = ì´ ìš”êµ¬ í”„ë ˆì„ ìˆ˜                                    â”‚
â”‚   - D &gt; ì´ í”„ë ˆì„ ìˆ˜ â†’ ìŠ¤ë˜ì‹± ë°œìƒ                                      â”‚
â”‚                                                                          â”‚
â”‚   í•´ê²°: D &gt; mì´ë©´ í”„ë¡œì„¸ìŠ¤ í•˜ë‚˜ ì¼ì‹œ ì¤‘ë‹¨                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="73-page-fault-frequency-pff">7.3 Page Fault Frequency (PFF)<a class="header-link" href="#73-page-fault-frequency-pff" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Page Fault Frequency ê¸°ë²•                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   ê°œë…: í˜ì´ì§€ í´íŠ¸ ë¹ˆë„ë¡œ í”„ë ˆì„ í• ë‹¹ ì¡°ì ˆ                             â”‚
â”‚                                                                          â”‚
â”‚   í˜ì´ì§€ í´íŠ¸ìœ¨                                                          â”‚
â”‚      â†‘                                                                   â”‚
â”‚      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ìƒí•œì„                                                â”‚
â”‚      â”‚       â†‘                                                          â”‚
â”‚      â”‚       â”‚ í”„ë ˆì„ ë” í• ë‹¹                                          â”‚
â”‚      â”‚       â”‚                                                          â”‚
â”‚      â”‚   â”€ â”€ â”€ â”€ â”€ â”€  ëª©í‘œ ë²”ìœ„                                        â”‚
â”‚      â”‚       â”‚                                                          â”‚
â”‚      â”‚       â”‚ í”„ë ˆì„ íšŒìˆ˜                                              â”‚
â”‚      â”‚       â†“                                                          â”‚
â”‚      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ í•˜í•œì„                                                â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ í• ë‹¹ëœ í”„ë ˆì„ ìˆ˜                       â”‚
â”‚                                                                          â”‚
â”‚   ë™ì‘:                                                                  â”‚
â”‚   - í´íŠ¸ìœ¨ &gt; ìƒí•œì„ : í”„ë ˆì„ ì¶”ê°€ í• ë‹¹                                   â”‚
â”‚   - í´íŠ¸ìœ¨ &lt; í•˜í•œì„ : í”„ë ˆì„ ì¼ë¶€ íšŒìˆ˜                                   â”‚
â”‚   - í”„ë ˆì„ ë¶€ì¡±: ì¼ë¶€ í”„ë¡œì„¸ìŠ¤ ìŠ¤ì™‘ ì•„ì›ƒ                                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="74-linux">7.4 Linuxì—ì„œì˜ ìŠ¤ë˜ì‹± ë°©ì§€<a class="header-link" href="#74-linux" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># ìŠ¤ì™‘ ì‚¬ìš©ëŸ‰ í™•ì¸</span>
$<span class="w"> </span>free<span class="w"> </span>-h
<span class="w">              </span>total<span class="w">        </span>used<span class="w">        </span>free<span class="w">      </span>shared<span class="w">  </span>buff/cache<span class="w">   </span>available
Mem:<span class="w">           </span>15Gi<span class="w">       </span>10Gi<span class="w">       </span>500Mi<span class="w">       </span>100Mi<span class="w">       </span><span class="m">5</span>.0Gi<span class="w">       </span><span class="m">4</span>.5Gi
Swap:<span class="w">          </span><span class="m">8</span>.0Gi<span class="w">       </span><span class="m">2</span>.0Gi<span class="w">       </span><span class="m">6</span>.0Gi<span class="w">  </span>â†<span class="w"> </span>ìŠ¤ì™‘<span class="w"> </span>ì‚¬ìš©<span class="w"> </span>ì¤‘

<span class="c1"># swappiness í™•ì¸ (0-100, í´ìˆ˜ë¡ ì ê·¹ì ìœ¼ë¡œ ìŠ¤ì™‘)</span>
$<span class="w"> </span>cat<span class="w"> </span>/proc/sys/vm/swappiness
<span class="m">60</span>

<span class="c1"># swappiness ì¡°ì • (ìŠ¤ë˜ì‹± ë°©ì§€ë¥¼ ìœ„í•´ ë‚®ì¶¤)</span>
$<span class="w"> </span>sudo<span class="w"> </span>sysctl<span class="w"> </span>vm.swappiness<span class="o">=</span><span class="m">10</span>

<span class="c1"># OOM Killer ë¡œê·¸ í™•ì¸</span>
$<span class="w"> </span>dmesg<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;out of memory&quot;</span>

<span class="c1"># í”„ë¡œì„¸ìŠ¤ë³„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</span>
$<span class="w"> </span>ps<span class="w"> </span>aux<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-10

<span class="c1"># cgroupsë¡œ ë©”ëª¨ë¦¬ ì œí•œ (ì»¨í…Œì´ë„ˆ)</span>
$<span class="w"> </span>cat<span class="w"> </span>/sys/fs/cgroup/memory/memory.limit_in_bytes
</code></pre></div>

<hr />
<h2 id="_4">ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="1_1">ë¬¸ì œ 1: ì•Œê³ ë¦¬ì¦˜ ë¹„êµ<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>ì°¸ì¡° ë¬¸ìì—´ 1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5ì— ëŒ€í•´ 3ê°œì˜ í”„ë ˆì„ìœ¼ë¡œ FIFO, LRU, Optimal ê°ê°ì˜ í˜ì´ì§€ í´íŠ¸ ìˆ˜ë¥¼ êµ¬í•˜ì‹œì˜¤.</p>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>


<div class="highlight"><pre><span></span><code><span class="n">FIFO</span><span class="o">:</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,-,-]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,-]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">ì ì¤‘</span>
<span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">3</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="err">ì´</span><span class="o">:</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="err">í´íŠ¸</span>

<span class="n">LRU</span><span class="o">:</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">        </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">      </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">ì ì¤‘</span><span class="w">    </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">5</span><span class="o">]</span><span class="w"> </span><span class="err">ì ì¤‘</span>
<span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">3</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">4</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="err">ì´</span><span class="o">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">í´íŠ¸</span>

<span class="n">Optimal</span><span class="o">:</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,-,-]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,-]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">ì ì¤‘</span><span class="w">    </span><span class="mi">5</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">ì ì¤‘</span>
<span class="mi">4</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span><span class="w">    </span><span class="mi">3</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">3</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="err">í´íŠ¸</span>
<span class="err">ì´</span><span class="o">:</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="err">í´íŠ¸</span>
</code></pre></div>



</details>

<h3 id="2-second-chance">ë¬¸ì œ 2: Second-Chance<a class="header-link" href="#2-second-chance" title="Permanent link">&para;</a></h3>
<p>4ê°œì˜ í”„ë ˆì„ì´ ìˆê³  ìƒíƒœê°€ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ, ìƒˆ í˜ì´ì§€ Eë¥¼ ì‚½ì…í•˜ë©´ ì–´ë–¤ í˜ì´ì§€ê°€ êµì²´ë˜ëŠ”ê°€?</p>
<div class="highlight"><pre><span></span><code>í¬ì¸í„° â†’ [A, R=1] â†’ [B, R=0] â†’ [C, R=1] â†’ [D, R=0]
</code></pre></div>

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>


<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">í¬ì¸í„°ê°€</span><span class="w"> </span><span class="n">Aë¥¼</span><span class="w"> </span><span class="n">ê°€ë¦¬í‚´</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">1</span>
<span class="w">   </span><span class="err">â†’</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">0</span><span class="n">ìœ¼ë¡œ</span><span class="w"> </span><span class="n">ì„¤ì •</span><span class="p">,</span><span class="w"> </span><span class="n">ë‹¤ìŒìœ¼ë¡œ</span><span class="w"> </span><span class="n">ì´ë™</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">í¬ì¸í„°ê°€</span><span class="w"> </span><span class="n">Bë¥¼</span><span class="w"> </span><span class="n">ê°€ë¦¬í‚´</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">0</span>
<span class="w">   </span><span class="err">â†’</span><span class="w"> </span><span class="n">Bê°€</span><span class="w"> </span><span class="n">êµì²´ë¨</span><span class="err">!</span>

<span class="n">ê²°ê³¼</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">0</span><span class="err">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">[</span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">1</span><span class="err">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">[</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">1</span><span class="err">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">[</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">=</span><span class="mf">0</span><span class="err">]</span>
<span class="w">                  </span><span class="err">â†‘</span><span class="w"> </span><span class="n">ìƒˆ</span><span class="w"> </span><span class="n">í˜ì´ì§€</span>

<span class="n">í¬ì¸í„°ëŠ”</span><span class="w"> </span><span class="n">Cë¥¼</span><span class="w"> </span><span class="n">ê°€ë¦¬í‚¤ê²Œ</span><span class="w"> </span><span class="n">ë¨</span>
</code></pre></div>



</details>

<h3 id="3-working-set">ë¬¸ì œ 3: Working Set<a class="header-link" href="#3-working-set" title="Permanent link">&para;</a></h3>
<p>Î” = 5ì¼ ë•Œ, ì‹œê°„ t=10ì—ì„œì˜ Working Setì„ êµ¬í•˜ì‹œì˜¤.</p>
<div class="highlight"><pre><span></span><code><span class="err">ì‹œê°„</span><span class="o">:</span><span class="w">   </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">10</span>
<span class="err">í˜ì´ì§€</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w">   </span><span class="mi">2</span>
</code></pre></div>

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>


<div class="highlight"><pre><span></span><code>t=10ì—ì„œ Î”=5 ì´ì „ì˜ ì°¸ì¡° í™•ì¸:
t=6: í˜ì´ì§€ 1
t=7: í˜ì´ì§€ 3
t=8: í˜ì´ì§€ 4
t=9: í˜ì´ì§€ 5
t=10: í˜ì´ì§€ 2

Working Set(t=10, Î”=5) = {1, 2, 3, 4, 5}
WSS = 5

ì´ í”„ë¡œì„¸ìŠ¤ëŠ” ìµœì†Œ 5ê°œì˜ í”„ë ˆì„ì´ í•„ìš”
</code></pre></div>



</details>

<h3 id="4-beladys-anomaly">ë¬¸ì œ 4: Belady's Anomaly ì¦ëª…<a class="header-link" href="#4-beladys-anomaly" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ì°¸ì¡° ë¬¸ìì—´ì— ëŒ€í•´ FIFOë¡œ 3í”„ë ˆì„ê³¼ 4í”„ë ˆì„ì¼ ë•Œ í˜ì´ì§€ í´íŠ¸ ìˆ˜ë¥¼ ê³„ì‚°í•˜ì—¬ Belady's Anomalyë¥¼ í™•ì¸í•˜ì‹œì˜¤.</p>
<p>ì°¸ì¡° ë¬¸ìì—´: 1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5</p>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>


<div class="highlight"><pre><span></span><code><span class="mf">3</span><span class="w"> </span><span class="n">í”„ë ˆì„</span><span class="w"> </span><span class="p">(</span><span class="n">FIFO</span><span class="p">):</span>
<span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="o">-</span><span class="p">,</span><span class="o">-</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">3</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">3</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="o">-</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">4</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">3</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">5</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">5</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">4</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">H</span>
<span class="w">                </span><span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="err">]</span><span class="w"> </span><span class="n">H</span>
<span class="n">ì´</span><span class="p">:</span><span class="w"> </span><span class="mf">9</span><span class="w"> </span><span class="n">í´íŠ¸</span>

<span class="mf">4</span><span class="w"> </span><span class="n">í”„ë ˆì„</span><span class="w"> </span><span class="p">(</span><span class="n">FIFO</span><span class="p">):</span>
<span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="o">-</span><span class="p">,</span><span class="o">-</span><span class="p">,</span><span class="o">-</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">5</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">4</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="o">-</span><span class="p">,</span><span class="o">-</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">5</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">3</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="o">-</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">4</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">F</span><span class="w">    </span><span class="mf">3</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="err">]</span><span class="w"> </span><span class="n">F</span>
<span class="mf">1</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">H</span>
<span class="mf">2</span><span class="p">:</span><span class="w"> </span><span class="err">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="err">]</span><span class="w"> </span><span class="n">H</span>
<span class="n">ì´</span><span class="p">:</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="n">í´íŠ¸</span>

<span class="n">Belady</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Anomaly</span><span class="w"> </span><span class="n">í™•ì¸</span><span class="p">:</span>
<span class="mf">3</span><span class="w"> </span><span class="n">í”„ë ˆì„</span><span class="p">:</span><span class="w"> </span><span class="mf">9</span><span class="w"> </span><span class="n">í´íŠ¸</span>
<span class="mf">4</span><span class="w"> </span><span class="n">í”„ë ˆì„</span><span class="p">:</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="n">í´íŠ¸</span>
<span class="err">â†’</span><span class="w"> </span><span class="n">í”„ë ˆì„</span><span class="w"> </span><span class="n">ì¦ê°€ì—ë„</span><span class="w"> </span><span class="n">í´íŠ¸</span><span class="w"> </span><span class="n">ì¦ê°€</span><span class="err">!</span>
</code></pre></div>



</details>

<h3 id="5">ë¬¸ì œ 5: ìŠ¤ë˜ì‹± í•´ê²°<a class="header-link" href="#5" title="Permanent link">&para;</a></h3>
<p>ì‹œìŠ¤í…œì—ì„œ ë‹¤ìŒ í˜„ìƒì´ ê´€ì°°ë©ë‹ˆë‹¤. ì›ì¸ê³¼ í•´ê²° ë°©ë²•ì„ ì œì‹œí•˜ì‹œì˜¤.</p>
<ul>
<li>CPU ì‚¬ìš©ë¥ : 5%</li>
<li>ë””ìŠ¤í¬ I/O: 95%</li>
<li>ë©”ëª¨ë¦¬: ê±°ì˜ í’€ ì‚¬ìš©</li>
<li>ë§ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ëŒ€ê¸° ì¤‘</li>
</ul>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>


<div class="highlight"><pre><span></span><code>ì›ì¸ ë¶„ì„:
<span class="k">-</span> ì „í˜•ì ì¸ ìŠ¤ë˜ì‹± ìƒíƒœ
<span class="k">-</span> ë„ˆë¬´ ë§ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë¶€ì¡±í•œ ë©”ëª¨ë¦¬ë¥¼ ê²½ìŸ
<span class="k">-</span> ëŒ€ë¶€ë¶„ì˜ ì‹œê°„ì„ í˜ì´ì§€ í´íŠ¸ ì²˜ë¦¬(ë””ìŠ¤í¬ I/O)ì— ì‚¬ìš©

í•´ê²° ë°©ë²•:

1. ì¦‰ê°ì  í•´ê²°:
   <span class="k">-</span> ì¼ë¶€ í”„ë¡œì„¸ìŠ¤ ì¼ì‹œ ì¤‘ë‹¨ (suspend)
   <span class="k">-</span> ìŠ¤ì™‘ ì•„ì›ƒí•˜ì—¬ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— í”„ë ˆì„ í™•ë³´

2. ì‹œìŠ¤í…œ ì„¤ì • ì¡°ì •:
   <span class="k">-</span> swappiness ë‚®ì¶”ê¸° (vm.swappiness=10)
   <span class="k">-</span> ë©”ëª¨ë¦¬ ì˜¤ë²„ì»¤ë°‹ ì œí•œ (vm.overcommit_memory=2)

3. ì¥ê¸°ì  í•´ê²°:
   <span class="k">-</span> ë¬¼ë¦¬ ë©”ëª¨ë¦¬ ì¦ì„¤
   <span class="k">-</span> Working Set ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§ ë„ì…
   <span class="k">-</span> PFF (Page Fault Frequency) ëª¨ë‹ˆí„°ë§
   <span class="k">-</span> cgroupsë¡œ í”„ë¡œì„¸ìŠ¤ë³„ ë©”ëª¨ë¦¬ ì œí•œ

4. ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨:
   <span class="k">-</span> ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì ê²€
   <span class="k">-</span> ìºì‹œ í¬ê¸° ì¡°ì •
   <span class="k">-</span> í•„ìš” ì—†ëŠ” í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

ëª¨ë‹ˆí„°ë§ ëª…ë ¹:
$ vmstat 1   # si/so (swap in/out) í™•ì¸
$ sar -B 1   # pgpgin/pgpgout í™•ì¸
</code></pre></div>



</details>

<hr />
<h2 id="_5">ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#_5" title="Permanent link">&para;</a></h2>
<p><a href="./16_File_System_Basics.md">16_File_System_Basics.md</a>ì—ì„œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ ê°œë…ì„ ë°°ì›Œë´…ì‹œë‹¤!</p>
<hr />
<h2 id="_6">ì°¸ê³  ìë£Œ<a class="header-link" href="#_6" title="Permanent link">&para;</a></h2>
<ul>
<li>Silberschatz, "Operating System Concepts" Chapter 10</li>
<li>Tanenbaum, "Modern Operating Systems" Chapter 3</li>
<li>Linux kernel source: <code>mm/vmscan.c</code>, <code>mm/workingset.c</code></li>
<li>Belady, L.A. "A study of replacement algorithms for virtual-storage computer"</li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/OS_Theory/14_Virtual_Memory.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ê°€ìƒ ë©”ëª¨ë¦¬ â­â­â­</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/OS_Theory/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/OS_Theory/16_File_System_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ì´ˆ â­â­â­</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}