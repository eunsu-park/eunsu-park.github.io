{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell 기초와 실행 환경 - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">🏠</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">💻</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        한국어
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">☀️</span>
                    <span class="theme-icon dark">🌙</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Shell_Script/">Shell Script</a>
    <span class="separator">/</span>
    <span class="current">Shell 기초와 실행 환경</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Shell 기초와 실행 환경</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/00_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Shell Scripting 학습 가이드</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/02_Parameter_Expansion.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">매개변수 확장과 변수 속성 ⭐⭐</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1">1. 쉘의 종류</a><ul>
<li><a href="#_1">쉘 비교 표</a></li>
<li><a href="#_2">각 쉘을 사용해야 하는 경우</a></li>
</ul>
</li>
<li><a href="#2-posix">2. POSIX 호환성</a><ul>
<li><a href="#posix-vs-bash-isms">POSIX vs Bash-isms</a></li>
<li><a href="#posix">이식 가능한 POSIX 스크립트 작성</a></li>
</ul>
</li>
<li><a href="#3">3. 쉘 모드</a><ul>
<li><a href="#login-vs-non-login">Login vs Non-Login 쉘</a></li>
<li><a href="#interactive-vs-non-interactive">Interactive vs Non-Interactive 쉘</a></li>
</ul>
</li>
<li><a href="#4">4. 시작 파일 로딩 순서</a><ul>
<li><a href="#_3">시작 순서 다이어그램</a></li>
<li><a href="#_4">시작 파일 목적</a></li>
<li><a href="#_5">시작 파일 구조 예제</a></li>
</ul>
</li>
<li><a href="#5-exit-codes">5. 종료 코드(Exit Codes)</a><ul>
<li><a href="#_6">종료 코드 규칙</a></li>
<li><a href="#_7">종료 코드 사용하기</a></li>
<li><a href="#_8">종료 코드 모범 사례</a></li>
</ul>
</li>
<li><a href="#6">6. 쉘 옵션 개요</a><ul>
<li><a href="#set">중요한 set 옵션</a></li>
<li><a href="#set_1">일반적인 set 옵션</a></li>
<li><a href="#shopt">중요한 shopt 옵션</a></li>
<li><a href="#shopt_1">유용한 shopt 옵션</a></li>
<li><a href="#strict-mode">Strict Mode 예제</a></li>
</ul>
</li>
<li><a href="#7-env-usrbinenv-bash">7. env 명령과 #!/usr/bin/env bash</a><ul>
<li><a href="#usrbinenv-bash">#!/usr/bin/env bash를 사용하는 이유</a></li>
<li><a href="#env">env를 사용하여 환경 설정</a></li>
<li><a href="#env_1">깨끗한 환경을 위한 env</a></li>
<li><a href="#_9">모범 사례를 적용한 스크립트 템플릿</a></li>
</ul>
</li>
<li><a href="#_10">연습 문제</a><ul>
<li><a href="#1_1">문제 1: 쉘 감지 스크립트</a></li>
<li><a href="#2">문제 2: 시작 파일 분석기</a></li>
<li><a href="#3_1">문제 3: 종료 코드 로거</a></li>
<li><a href="#4_1">문제 4: 이식 가능한 스크립트 검사기</a></li>
<li><a href="#5">문제 5: 환경 스냅샷</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="shell">Shell 기초와 실행 환경<a class="header-link" href="#shell" title="Permanent link">&para;</a></h1>
<p><strong>다음</strong>: <a href="./02_Parameter_Expansion.md">02_Parameter_Expansion.md</a></p>
<hr />
<p>이 레슨에서는 쉘 실행 환경, 다양한 쉘 종류, 시작 메커니즘, 그리고 스크립트가 다른 컨텍스트에서 어떻게 동작하는지에 영향을 주는 기본 개념을 탐구합니다.</p>
<h2 id="1">1. 쉘의 종류<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<p>다양한 쉘은 서로 다른 기능과 호환성 수준을 제공합니다. 이러한 차이점을 이해하는 것은 이식 가능한 스크립트를 작성하는 데 중요합니다.</p>
<h3 id="_1">쉘 비교 표<a class="header-link" href="#_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>기능</th>
<th>bash</th>
<th>sh (dash)</th>
<th>zsh</th>
<th>fish</th>
</tr>
</thead>
<tbody>
<tr>
<td>POSIX 호환</td>
<td>대부분</td>
<td>예</td>
<td>대부분</td>
<td>아니오</td>
</tr>
<tr>
<td>배열(Arrays)</td>
<td>예</td>
<td>아니오</td>
<td>예 (더 좋음)</td>
<td>예</td>
</tr>
<tr>
<td>연관 배열(Associative arrays)</td>
<td>예 (4.0+)</td>
<td>아니오</td>
<td>예</td>
<td>예</td>
</tr>
<tr>
<td>[[ ]] 테스트</td>
<td>예</td>
<td>아니오</td>
<td>예</td>
<td>아니오</td>
</tr>
<tr>
<td>프로세스 치환(Process substitution)</td>
<td>예</td>
<td>아니오</td>
<td>예</td>
<td>예</td>
</tr>
<tr>
<td>Here 문자열(Here strings)</td>
<td>예</td>
<td>아니오</td>
<td>예</td>
<td>예</td>
</tr>
<tr>
<td>산술 연산 (( ))</td>
<td>예</td>
<td>아니오</td>
<td>예</td>
<td>아니오</td>
</tr>
<tr>
<td>명령 완성(Command completion)</td>
<td>좋음</td>
<td>기본</td>
<td>탁월</td>
<td>탁월</td>
</tr>
<tr>
<td>시작 성능</td>
<td>중간</td>
<td>빠름</td>
<td>느림</td>
<td>중간</td>
</tr>
<tr>
<td>스크립팅 초점</td>
<td>예</td>
<td>예</td>
<td>예</td>
<td>아니오</td>
</tr>
<tr>
<td>Debian/Ubuntu 기본값</td>
<td>bash</td>
<td>dash (/bin/sh)</td>
<td>bash</td>
<td>fish</td>
</tr>
<tr>
<td>설정 문법</td>
<td>bash</td>
<td>POSIX sh</td>
<td>zsh-extended</td>
<td>Fish-specific</td>
</tr>
</tbody>
</table>
<h3 id="_2">각 쉘을 사용해야 하는 경우<a class="header-link" href="#_2" title="Permanent link">&para;</a></h3>
<p><strong>bash</strong>: 범용 스크립팅, 대부분의 시스템에서 사용 가능, 기능과 이식성의 좋은 균형.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># 배열, [[, 프로세스 치환이 필요한 스크립트에는 bash 사용</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>config
config<span class="o">[</span>host<span class="o">]=</span><span class="s2">&quot;localhost&quot;</span>
config<span class="o">[</span>port<span class="o">]=</span><span class="m">8080</span>

<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">config</span><span class="p">[host]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Host: </span><span class="si">${</span><span class="nv">config</span><span class="p">[host]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<p><strong>sh (POSIX)</strong>: 최대 이식성, 임베디드 시스템, 최소 환경.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="c1"># POSIX 호환 스크립트 - bashisms 없음</span>
<span class="c1"># 배열 없음, [[ 없음, 프로세스 치환 없음</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$HOST</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Host: </span><span class="nv">$HOST</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="c1"># 정규식을 사용하는 [[ 대신 case 사용</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.txt<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text file&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">    </span>*.log<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Log file&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<p><strong>zsh</strong>: 대화형 사용, 고급 완성 기능, 더 나은 배열 처리.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/zsh</span>
<span class="c1"># zsh는 더 강력한 배열 기능을 가짐</span>
<span class="nv">array</span><span class="o">=(</span>one<span class="w"> </span>two<span class="w"> </span>three<span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$array</span><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w">  </span><span class="c1"># zsh 배열은 1-indexed (bash는 0-indexed 사용)</span>

<span class="c1"># 고급 글로빙</span>
setopt<span class="w"> </span>extended_glob
<span class="nv">files</span><span class="o">=(</span>^*.txt<span class="o">)</span><span class="w">  </span><span class="c1"># .txt를 제외한 모든 파일</span>
</code></pre></div>

<p><strong>fish</strong>: 대화형 쉘, 사용자 친화적, 이식 가능한 스크립트에는 적합하지 않음.</p>
<div class="highlight"><pre><span></span><code><span class="c">#!/usr/bin/fish</span>
<span class="c"># Fish는 다른 문법을 가짐 - POSIX 호환하지 않음</span>
<span class="k">set</span> host localhost
<span class="k">set</span> port 8080

<span class="k">if</span> <span class="k">test</span> -n <span class="s2">&quot;</span><span class="nv">$host</span><span class="s2">&quot;</span>
    <span class="k">echo</span> <span class="s2">&quot;Host: </span><span class="nv">$host</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="2-posix">2. POSIX 호환성<a class="header-link" href="#2-posix" title="Permanent link">&para;</a></h2>
<p>POSIX (Portable Operating System Interface)는 쉘 동작에 대한 표준을 정의합니다. POSIX 호환 스크립트는 모든 POSIX 쉘(sh, bash, dash, ksh 등)에서 실행됩니다.</p>
<h3 id="posix-vs-bash-isms">POSIX vs Bash-isms<a class="header-link" href="#posix-vs-bash-isms" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>기능</th>
<th>POSIX sh</th>
<th>bash 확장</th>
</tr>
</thead>
<tbody>
<tr>
<td>테스트 명령</td>
<td><code>[ ]</code></td>
<td><code>[[ ]]</code></td>
</tr>
<tr>
<td>문자열 비교</td>
<td><code>[ "$a" = "$b" ]</code></td>
<td><code>[[ $a == $b ]]</code></td>
</tr>
<tr>
<td>정규식 매칭</td>
<td>(grep 사용)</td>
<td><code>[[ $str =~ regex ]]</code></td>
</tr>
<tr>
<td>배열</td>
<td>지원 안 됨</td>
<td><code>arr=(1 2 3)</code></td>
</tr>
<tr>
<td>함수</td>
<td><code>func() { }</code></td>
<td><code>function func { }</code></td>
</tr>
<tr>
<td>산술 연산</td>
<td><code>expr</code>, <code>$(( ))</code></td>
<td><code>let</code>, <code>(( ))</code></td>
</tr>
<tr>
<td>프로세스 치환</td>
<td>지원 안 됨</td>
<td><code>&lt;(cmd)</code>, <code>&gt;(cmd)</code></td>
</tr>
<tr>
<td>Here 문자열</td>
<td>지원 안 됨</td>
<td><code>&lt;&lt;&lt; "string"</code></td>
</tr>
<tr>
<td>지역 변수</td>
<td>POSIX에 없음</td>
<td><code>local var=value</code></td>
</tr>
</tbody>
</table>
<h3 id="posix">이식 가능한 POSIX 스크립트 작성<a class="header-link" href="#posix" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="c1"># POSIX 호환 스크립트 예제</span>

<span class="c1"># [[ ]] 대신 [ ] 사용</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;start&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting service...&quot;</span>
<span class="k">fi</span>

<span class="c1"># 산술 연산에 $(( )) 사용 (이것은 POSIX입니다)</span>
<span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="nv">count</span><span class="o">=</span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>

<span class="c1"># 패턴 매칭에 case 사용</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.tar.gz<span class="p">|</span>*.tgz<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Compressed tarball&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.zip<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ZIP archive&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown format&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># 배열 피하기 - 위치 매개변수나 임시 파일 사용</span>
<span class="nb">set</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;item1&quot;</span><span class="w"> </span><span class="s2">&quot;item2&quot;</span><span class="w"> </span><span class="s2">&quot;item3&quot;</span>
<span class="k">for</span><span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$item</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># 백틱이 아닌 명령 치환 $(cmd) 사용</span>
<span class="nv">current_dir</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>

<span class="c1"># 이식 가능한 방식으로 명령 존재 확인</span>
<span class="k">if</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>docker<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Docker is installed&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="3">3. 쉘 모드<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<p>쉘은 호출 방식에 따라 다른 모드로 작동합니다. 이는 어떤 시작 파일을 읽을지에 영향을 줍니다.</p>
<h3 id="login-vs-non-login">Login vs Non-Login 쉘<a class="header-link" href="#login-vs-non-login" title="Permanent link">&para;</a></h3>
<p><strong>Login 쉘</strong>: 로그인할 때 시작됨(SSH, 콘솔 로그인, <code>bash --login</code>).</p>
<p><strong>Non-login 쉘</strong>: 기존 세션에서 시작됨(GUI에서 터미널 열기, bash에서 bash 실행).</p>
<p>쉘이 login 쉘인지 테스트:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># login 쉘로 실행 중인지 확인</span>
<span class="k">if</span><span class="w"> </span><span class="nb">shopt</span><span class="w"> </span>-q<span class="w"> </span>login_shell<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is a login shell&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is a non-login shell&quot;</span>
<span class="k">fi</span>

<span class="c1"># 대체 방법</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$-</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*l*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Login shell&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Non-login shell&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h3 id="interactive-vs-non-interactive">Interactive vs Non-Interactive 쉘<a class="header-link" href="#interactive-vs-non-interactive" title="Permanent link">&para;</a></h3>
<p><strong>Interactive</strong>: 터미널 연결됨, 사용자 입력 수락(일반 터미널 세션).</p>
<p><strong>Non-interactive</strong>: 스크립트 실행, 터미널 상호작용 없음.</p>
<p>쉘이 대화형인지 테스트:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># 대화형으로 실행 중인지 확인</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$-</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*i*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Interactive shell&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Non-interactive shell (script)&quot;</span>
<span class="k">fi</span>

<span class="c1"># 대체 방법</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$-</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*i*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Interactive&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Non-interactive&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># stdin이 터미널인지 확인</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-t<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;stdin is a terminal&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;stdin is not a terminal (piped/redirected)&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="4">4. 시작 파일 로딩 순서<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<p>bash가 설정 파일을 읽는 순서는 쉘 모드에 따라 다릅니다.</p>
<h3 id="_3">시작 순서 다이어그램<a class="header-link" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Login Shell (bash --login 또는 SSH)
├── /etc/profile (시스템 전체)
│   └── /etc/profile.d/*.sh (/etc/profile이 소싱하는 경우)
└── 첫 번째로 발견된 파일:
    ├── ~/.bash_profile
    ├── ~/.bash_login  (~/.bash_profile이 없는 경우)
    └── ~/.profile     (위 두 파일이 모두 없는 경우)
        └── (많은 .bash_profile 파일이 ~/.bashrc를 소싱함)

Non-Login Interactive Shell (터미널 윈도우)
├── /etc/bash.bashrc (Debian/Ubuntu)
└── ~/.bashrc

Non-Interactive Shell (스크립트)
├── $BASH_ENV (설정된 경우, 소싱할 파일 경로)
└── (일반적으로 없음)

Login Shell 종료
└── ~/.bash_logout
</code></pre></div>

<h3 id="_4">시작 파일 목적<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>파일</th>
<th>목적</th>
<th>일반적인 내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/etc/profile</code></td>
<td>시스템 전체 login 설정</td>
<td>PATH, LANG, umask</td>
</tr>
<tr>
<td><code>/etc/bash.bashrc</code></td>
<td>시스템 전체 대화형 설정</td>
<td>PS1, 별칭 (Debian/Ubuntu)</td>
</tr>
<tr>
<td><code>~/.bash_profile</code></td>
<td>사용자 login 설정</td>
<td>~/.bashrc 소싱, PATH 설정</td>
</tr>
<tr>
<td><code>~/.bashrc</code></td>
<td>사용자 대화형 설정</td>
<td>별칭, 함수, PS1</td>
</tr>
<tr>
<td><code>~/.profile</code></td>
<td>POSIX login 설정</td>
<td>이식 가능한 login 설정</td>
</tr>
<tr>
<td><code>~/.bash_logout</code></td>
<td>로그아웃 시 정리</td>
<td>화면 지우기, 임시 파일 정리</td>
</tr>
</tbody>
</table>
<h3 id="_5">시작 파일 구조 예제<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<p><strong>~/.bash_profile</strong> (login 쉘 진입점):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ~/.bash_profile - login 쉘이 로딩</span>

<span class="c1"># 사용자 바이너리를 위한 PATH 설정</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/bin:</span><span class="nv">$HOME</span><span class="s2">/.local/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>

<span class="c1"># .bashrc가 존재하면 로딩 (대화형 login 쉘용)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>~/.bashrc<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>.<span class="w"> </span>~/.bashrc
<span class="k">fi</span>

<span class="c1"># Login 전용 설정</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Last login: </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.login_log
</code></pre></div>

<p><strong>~/.bashrc</strong> (대화형 쉘 설정):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ~/.bashrc - 대화형 non-login 쉘이 로딩</span>

<span class="c1"># 대화형으로 실행 중이 아니면, 아무것도 하지 않음</span>
<span class="k">case</span><span class="w"> </span><span class="nv">$-</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*i*<span class="o">)</span><span class="w"> </span><span class="p">;;</span>
<span class="w">      </span>*<span class="o">)</span><span class="w"> </span><span class="k">return</span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># 히스토리 설정</span>
<span class="nv">HISTCONTROL</span><span class="o">=</span>ignoreboth
<span class="nv">HISTSIZE</span><span class="o">=</span><span class="m">10000</span>
<span class="nv">HISTFILESIZE</span><span class="o">=</span><span class="m">20000</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>histappend

<span class="c1"># 프롬프트</span>
<span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ &#39;</span>

<span class="c1"># 별칭</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -lah&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">grep</span><span class="o">=</span><span class="s1">&#39;grep --color=auto&#39;</span>

<span class="c1"># 별도 파일에서 함수 로딩</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>~/.bash_functions<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>.<span class="w"> </span>~/.bash_functions
<span class="k">fi</span>
</code></pre></div>

<p><strong>~/.profile</strong> (POSIX 호환 login 설정):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ~/.profile - POSIX 호환 login 설정</span>
<span class="c1"># bash가 sh로 호출될 때, 또는 다른 POSIX 쉘에서 사용</span>

<span class="c1"># PATH 설정</span>
<span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">export</span><span class="w"> </span>PATH

<span class="c1"># 환경 변수</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">EDITOR</span><span class="o">=</span>vim
<span class="nb">export</span><span class="w"> </span><span class="nv">PAGER</span><span class="o">=</span>less

<span class="c1"># bash인 경우, .bashrc 소싱</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BASH_VERSION</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.bashrc&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span>.<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/.bashrc&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="5-exit-codes">5. 종료 코드(Exit Codes)<a class="header-link" href="#5-exit-codes" title="Permanent link">&para;</a></h2>
<p>종료 코드는 명령이 성공했는지 실패했는지를 나타냅니다. 관례적으로:</p>
<h3 id="_6">종료 코드 규칙<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>코드</th>
<th>의미</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>성공</td>
</tr>
<tr>
<td>1</td>
<td>일반 오류</td>
</tr>
<tr>
<td>2</td>
<td>쉘 내장 명령의 잘못된 사용</td>
</tr>
<tr>
<td>126</td>
<td>명령을 찾았지만 실행 불가</td>
</tr>
<tr>
<td>127</td>
<td>명령을 찾을 수 없음</td>
</tr>
<tr>
<td>128</td>
<td>잘못된 exit 인자</td>
</tr>
<tr>
<td>128+N</td>
<td>치명적 오류 시그널 N (130 = Ctrl+C (SIGINT=2))</td>
</tr>
<tr>
<td>255</td>
<td>종료 상태 범위 초과</td>
</tr>
</tbody>
</table>
<h3 id="_7">종료 코드 사용하기<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># $?로 종료 코드 확인</span>
grep<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>file.txt
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pattern found&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pattern not found&quot;</span>
<span class="k">fi</span>

<span class="c1"># 더 좋은 방법: if에서 직접 명령 사용</span>
<span class="k">if</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span>file.txt<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pattern found&quot;</span>
<span class="k">fi</span>

<span class="c1"># 함수에서 사용자 정의 종료 코드 반환</span>
validate_input<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">input</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: input is empty&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: input must be numeric&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">2</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: input must be between 0 and 100&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">3</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># 함수 사용 및 종료 코드 확인</span>
<span class="k">if</span><span class="w"> </span>validate_input<span class="w"> </span><span class="s2">&quot;42&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Input is valid&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Empty input&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span><span class="m">2</span><span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Not numeric&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span><span class="m">3</span><span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Out of range&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">fi</span>

<span class="c1"># 특정 코드로 스크립트 종료</span>
check_prerequisites<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>docker<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: docker not found&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">127</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-r<span class="w"> </span>/etc/config.conf<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: config file not readable&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="_8">종료 코드 모범 사례<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">set</span><span class="w"> </span>-e<span class="w">  </span><span class="c1"># 오류 시 종료 (이것은 주의해서 사용)</span>

<span class="c1"># 명시적으로 오류 처리</span>
perform_backup<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">source</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>tar<span class="w"> </span>czf<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$dest</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$source</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup failed&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup successful&quot;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># 적절한 오류 처리로 명령 체이닝</span>
<span class="k">if</span><span class="w"> </span>perform_backup<span class="w"> </span><span class="s2">&quot;/data&quot;</span><span class="w"> </span><span class="s2">&quot;/backup/data.tar.gz&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up old backups...&quot;</span>
<span class="w">    </span>find<span class="w"> </span>/backup<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.tar.gz&quot;</span><span class="w"> </span>-mtime<span class="w"> </span>+7<span class="w"> </span>-delete
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup failed, keeping old backups&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="6">6. 쉘 옵션 개요<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<p>쉘 옵션은 쉘 동작을 제어합니다. 두 명령으로 옵션을 관리합니다:</p>
<ul>
<li><strong>set</strong>: POSIX 표준 옵션</li>
<li><strong>shopt</strong>: Bash 전용 확장 옵션</li>
</ul>
<h3 id="set">중요한 set 옵션<a class="header-link" href="#set" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># 현재 옵션 표시</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$-</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 예: &quot;himBH&quot; (각 문자는 활성 옵션)</span>

<span class="c1"># 옵션 활성화</span>
<span class="nb">set</span><span class="w"> </span>-e<span class="w">  </span><span class="c1"># 오류 시 종료 (errexit)</span>
<span class="nb">set</span><span class="w"> </span>-u<span class="w">  </span><span class="c1"># 정의되지 않은 변수 사용 시 오류 (nounset)</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>pipefail<span class="w">  </span><span class="c1"># 파이프라인에서 하나라도 실패하면 실패</span>
<span class="nb">set</span><span class="w"> </span>-x<span class="w">  </span><span class="c1"># 실행 전 명령 출력 (xtrace)</span>

<span class="c1"># 옵션 비활성화</span>
<span class="nb">set</span><span class="w"> </span>+e<span class="w">  </span><span class="c1"># 오류 시 종료 안 함</span>
<span class="nb">set</span><span class="w"> </span>+x<span class="w">  </span><span class="c1"># 명령 출력 중지</span>

<span class="c1"># 옵션 결합</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail<span class="w">  </span><span class="c1"># 일반적인 &quot;strict mode&quot;</span>

<span class="c1"># 예제: noclobber는 파일 덮어쓰기 방지</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>noclobber
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>file.txt<span class="w">  </span><span class="c1"># 파일 생성</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>file.txt<span class="w">  </span><span class="c1"># 오류: 파일 존재</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="w"> </span>&gt;<span class="p">|</span><span class="w"> </span>file.txt<span class="w">  </span><span class="c1"># &gt;|로 noclobber 무시</span>
</code></pre></div>

<h3 id="set_1">일반적인 set 옵션<a class="header-link" href="#set_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>옵션</th>
<th>짧은 형태</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-e</code> (errexit)</td>
<td><code>-e</code></td>
<td>명령 실패 시 종료</td>
</tr>
<tr>
<td><code>-u</code> (nounset)</td>
<td><code>-u</code></td>
<td>정의되지 않은 변수 사용 시 오류</td>
</tr>
<tr>
<td><code>-x</code> (xtrace)</td>
<td><code>-x</code></td>
<td>실행 전 명령 출력</td>
</tr>
<tr>
<td><code>-o pipefail</code></td>
<td>(긴 형태만)</td>
<td>파이프라인에서 하나라도 실패하면 실패</td>
</tr>
<tr>
<td><code>-o noclobber</code></td>
<td><code>-C</code></td>
<td>&gt;로 파일 덮어쓰기 방지</td>
</tr>
<tr>
<td><code>-o noglob</code></td>
<td><code>-f</code></td>
<td>경로명 확장 비활성화</td>
</tr>
<tr>
<td><code>-o vi</code></td>
<td>(긴 형태만)</td>
<td>Vi 스타일 명령줄 편집</td>
</tr>
<tr>
<td><code>-o emacs</code></td>
<td>(긴 형태만)</td>
<td>Emacs 스타일 편집 (기본값)</td>
</tr>
</tbody>
</table>
<h3 id="shopt">중요한 shopt 옵션<a class="header-link" href="#shopt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># bash 확장 옵션 활성화</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob<span class="w">  </span><span class="c1"># 확장 패턴 매칭</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>globstar<span class="w">  </span><span class="c1"># 재귀 glob을 위한 **</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob<span class="w">  </span><span class="c1"># 매칭 안 되는 glob은 빈 것으로 확장</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>dotglob<span class="w">  </span><span class="c1"># glob에 숨김 파일 포함</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nocaseglob<span class="w">  </span><span class="c1"># 대소문자 구분 안 하는 글로빙</span>

<span class="c1"># 옵션 비활성화</span>
<span class="nb">shopt</span><span class="w"> </span>-u<span class="w"> </span>dotglob<span class="w">  </span><span class="c1"># 숨김 파일 제외</span>

<span class="c1"># 옵션이 설정되었는지 확인</span>
<span class="k">if</span><span class="w"> </span><span class="nb">shopt</span><span class="w"> </span>-q<span class="w"> </span>nullglob<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;nullglob is enabled&quot;</span>
<span class="k">fi</span>

<span class="c1"># 예제: nullglob</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="nv">files</span><span class="o">=(</span>*.txt<span class="o">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No .txt files found&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Found </span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2"> .txt files&quot;</span>
<span class="k">fi</span>

<span class="c1"># 예제: globstar</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>globstar
<span class="c1"># 재귀적으로 모든 Python 파일 찾기</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>**/*.py<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># 예제: extglob (Lesson 04에서 더 자세히 다룸)</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob
rm<span class="w"> </span>!<span class="o">(</span>*.txt<span class="p">|</span>*.log<span class="o">)</span><span class="w">  </span><span class="c1"># .txt와 .log 파일을 제외한 모든 파일 삭제</span>
</code></pre></div>

<h3 id="shopt_1">유용한 shopt 옵션<a class="header-link" href="#shopt_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>옵션</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>extglob</code></td>
<td>확장 패턴 매칭 (!(pat), *(pat), 등)</td>
</tr>
<tr>
<td><code>globstar</code></td>
<td>**는 재귀적으로 매칭</td>
</tr>
<tr>
<td><code>nullglob</code></td>
<td>매칭 안 되는 glob은 null로 확장, 리터럴 아님</td>
</tr>
<tr>
<td><code>dotglob</code></td>
<td>경로명 확장에 숨김 파일 포함</td>
</tr>
<tr>
<td><code>nocaseglob</code></td>
<td>대소문자 구분 안 하는 경로명 확장</td>
</tr>
<tr>
<td><code>failglob</code></td>
<td>매칭 안 되는 glob은 오류 발생</td>
</tr>
<tr>
<td><code>checkjobs</code></td>
<td>종료 전 실행 중인 작업 확인</td>
</tr>
<tr>
<td><code>autocd</code></td>
<td>디렉터리명만 입력해도 디렉터리 변경</td>
</tr>
<tr>
<td><code>cdspell</code></td>
<td>cd 오류 자동 수정</td>
</tr>
</tbody>
</table>
<h3 id="strict-mode">Strict Mode 예제<a class="header-link" href="#strict-mode" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># 더 안전한 스크립트를 위한 strict mode</span>

<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail
<span class="nv">IFS</span><span class="o">=</span><span class="s1">$&#39;\n\t&#39;</span>

<span class="c1"># -e: 오류 시 종료</span>
<span class="c1"># -u: 정의되지 않은 변수 사용 시 오류</span>
<span class="c1"># -o pipefail: 파이프라인에서 하나라도 실패하면 실패</span>
<span class="c1"># IFS: 더 안전한 단어 분할</span>

<span class="c1"># 이제 오류가 스크립트를 중지시킴</span>
command_that_fails<span class="w">  </span><span class="c1"># 스크립트가 여기서 종료</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This won&#39;t execute&quot;</span>

<span class="c1"># 명시적으로 오류 처리하려면:</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>command_that_might_fail<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Command failed, handling error&quot;</span>
<span class="w">    </span><span class="c1"># 정리 작업 수행</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="7-env-usrbinenv-bash">7. env 명령과 #!/usr/bin/env bash<a class="header-link" href="#7-env-usrbinenv-bash" title="Permanent link">&para;</a></h2>
<h3 id="usrbinenv-bash">#!/usr/bin/env bash를 사용하는 이유<a class="header-link" href="#usrbinenv-bash" title="Permanent link">&para;</a></h3>
<p>셔뱅(shebang) 라인은 시스템에 어떤 인터프리터를 사용할지 알려줍니다. 두 가지 접근 방식:</p>
<p><strong>직접 경로</strong>: <code>#!/bin/bash</code>
- 빠름 (PATH 검색 없음)
- 이식 가능하지 않음 (bash가 /usr/local/bin에 있을 수 있음)</p>
<p><strong>env 접근</strong>: <code>#!/usr/bin/env bash</code>
- 이식 가능 (PATH에서 bash를 찾음)
- 현대 스크립트의 표준
- 다양한 시스템에서 작동</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="c1"># 이것은 PATH에서 bash가 어디 있든 찾아냄</span>

<span class="c1"># bash가 어디에 있는지 확인</span>
which<span class="w"> </span>bash

<span class="c1"># macOS: /bin/bash</span>
<span class="c1"># FreeBSD: /usr/local/bin/bash</span>
<span class="c1"># Nix: /nix/store/.../bin/bash</span>
</code></pre></div>

<h3 id="env">env를 사용하여 환경 설정<a class="header-link" href="#env" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env -S bash -euo pipefail</span>
<span class="c1"># -S 플래그는 여러 인자 전달 허용 (GNU env 8.30+)</span>

<span class="c1"># 이전 env를 위한 대안:</span>
<span class="c1">#!/usr/bin/env bash</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail
</code></pre></div>

<h3 id="env_1">깨끗한 환경을 위한 env<a class="header-link" href="#env_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 깨끗한 환경으로 명령 실행</span>
env<span class="w"> </span>-i<span class="w"> </span>bash<span class="w"> </span>--norc<span class="w"> </span>--noprofile

<span class="c1"># 특정 변수만으로 실행</span>
env<span class="w"> </span>-i<span class="w"> </span><span class="nv">HOME</span><span class="o">=</span>/tmp<span class="w"> </span><span class="nv">USER</span><span class="o">=</span>testuser<span class="w"> </span>bash

<span class="c1"># 특정 변수 제거</span>
env<span class="w"> </span>-u<span class="w"> </span>DISPLAY<span class="w"> </span>firefox

<span class="c1"># 변수 추가</span>
env<span class="w"> </span><span class="nv">FOO</span><span class="o">=</span>bar<span class="w"> </span>./script.sh

<span class="c1"># 환경 검사</span>
env<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort
</code></pre></div>

<h3 id="_9">모범 사례를 적용한 스크립트 템플릿<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="c1"># Script: example.sh</span>
<span class="c1"># Description: 모범 사례를 적용한 예제 스크립트</span>
<span class="c1"># Author: Your Name</span>
<span class="c1"># Created: 2026-02-13</span>

<span class="c1"># Strict mode</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail
<span class="nv">IFS</span><span class="o">=</span><span class="s1">$&#39;\n\t&#39;</span>

<span class="c1"># 오류 트랩</span>
<span class="nb">trap</span><span class="w"> </span><span class="s1">&#39;echo &quot;Error on line $LINENO&quot; &gt;&amp;2&#39;</span><span class="w"> </span>ERR

<span class="c1"># 유용한 쉘 옵션</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob<span class="w"> </span>globstar

<span class="c1"># 상수</span>
<span class="nb">readonly</span><span class="w"> </span><span class="nv">SCRIPT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">readonly</span><span class="w"> </span><span class="nv">SCRIPT_NAME</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># 함수</span>
usage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">Usage: $SCRIPT_NAME [OPTIONS] &lt;argument&gt;</span>

<span class="s">Options:</span>
<span class="s">    -h, --help      이 도움말 메시지 표시</span>
<span class="s">    -v, --verbose   상세 출력 활성화</span>
<span class="s">    -d, --debug     디버그 모드 활성화</span>

<span class="s">Examples:</span>
<span class="s">    $SCRIPT_NAME input.txt</span>
<span class="s">    $SCRIPT_NAME -v input.txt</span>
<span class="s">EOF</span>
<span class="o">}</span>

main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1"># 메인 스크립트 로직</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running from: </span><span class="nv">$SCRIPT_DIR</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Script name: </span><span class="nv">$SCRIPT_NAME</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># 인자 파싱</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>-h<span class="p">|</span>--help<span class="o">)</span>
<span class="w">            </span>usage
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">            </span><span class="nb">set</span><span class="w"> </span>-x
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-d<span class="p">|</span>--debug<span class="o">)</span>
<span class="w">            </span><span class="nb">set</span><span class="w"> </span>-x
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown option: </span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span>usage<span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># 메인 함수 실행</span>
main<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="_10">연습 문제<a class="header-link" href="#_10" title="Permanent link">&para;</a></h2>
<h3 id="1_1">문제 1: 쉘 감지 스크립트<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>다음을 감지하는 스크립트를 작성하세요:
- 실행 중인 쉘 (bash, zsh, sh 등)
- login 쉘인지 non-login 쉘인지
- 대화형인지 비대화형인지
- 쉘 버전</p>
<p><strong>예상 출력</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="n">Shell</span><span class="o">:</span><span class="w"> </span><span class="n">bash</span>
<span class="n">Version</span><span class="o">:</span><span class="w"> </span><span class="mf">5.1</span><span class="o">.</span><span class="mi">16</span>
<span class="n">Type</span><span class="o">:</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">login</span><span class="o">,</span><span class="w"> </span><span class="n">interactive</span>
</code></pre></div>

<h3 id="2">문제 2: 시작 파일 분석기<a class="header-link" href="#2" title="Permanent link">&para;</a></h3>
<p>다음을 수행하는 스크립트를 작성하세요:
- 시스템에 존재하는 모든 bash 시작 파일 나열
- login vs non-login 쉘에서 로딩되는 순서 표시
- 각 파일의 첫 5줄 표시
- 일반적인 실수 확인 (.bash_profile 대신 .bashrc에 별칭 설정 등)</p>
<h3 id="3_1">문제 3: 종료 코드 로거<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<p>모든 명령을 래핑하는 함수를 작성하세요:
- 실행되는 명령 로깅
- 종료 코드 캡처 및 로깅
- 실행 시간 로깅
- 로그 파일에 추가: <code>timestamp | command | exit_code | duration</code></p>
<p><strong>사용 예제</strong>:</p>
<div class="highlight"><pre><span></span><code>log_command<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>/nonexistent
<span class="c1"># 로깅되어야 함: 2026-02-13 10:30:45 | ls -la /nonexistent | 2 | 0.003s</span>
</code></pre></div>

<h3 id="4_1">문제 4: 이식 가능한 스크립트 검사기<a class="header-link" href="#4_1" title="Permanent link">&para;</a></h3>
<p>다른 bash 스크립트를 분석하고 다음을 보고하는 스크립트를 작성하세요:
- 사용된 비POSIX 구조 ([[, 배열 등)
- sh에서 실패할 Bashisms
- 더 이식 가능하게 만들기 위한 제안
- "이식성 점수" (0-100%)</p>
<p><strong>힌트</strong>: <code>[[</code>, <code>declare</code>, <code>function 키워드</code> 등의 패턴을 검색하세요.</p>
<h3 id="5">문제 5: 환경 스냅샷<a class="header-link" href="#5" title="Permanent link">&para;</a></h3>
<p>다음을 수행하는 스크립트를 작성하세요:
- 현재 환경 변수를 파일에 저장
- 현재 쉘 옵션(set -o, shopt -p)을 파일에 저장
- 저장된 상태에서 환경을 복원할 수 있음
- 저장된 상태와 현재 상태의 차이 표시</p>
<p><strong>사용법</strong>:</p>
<div class="highlight"><pre><span></span><code>./envsnap.sh<span class="w"> </span>save<span class="w"> </span>snapshot.env
<span class="c1"># ... 변경 수행 ...</span>
./envsnap.sh<span class="w"> </span>diff<span class="w"> </span>snapshot.env
./envsnap.sh<span class="w"> </span>restore<span class="w"> </span>snapshot.env
</code></pre></div>

<hr />
<p><strong>다음</strong>: <a href="./02_Parameter_Expansion.md">02_Parameter_Expansion.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/00_Overview.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Shell Scripting 학습 가이드</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">🔗</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">📋</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/02_Parameter_Expansion.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">매개변수 확장과 변수 속성 ⭐⭐</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">↑</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}