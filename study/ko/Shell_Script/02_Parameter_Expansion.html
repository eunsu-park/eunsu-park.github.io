{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§¤ê°œë³€ìˆ˜ í™•ì¥ê³¼ ë³€ìˆ˜ ì†ì„± â­â­ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Shell_Script/">Shell Script</a>
    <span class="separator">/</span>
    <span class="current">ë§¤ê°œë³€ìˆ˜ í™•ì¥ê³¼ ë³€ìˆ˜ ì†ì„± â­â­</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ë§¤ê°œë³€ìˆ˜ í™•ì¥ê³¼ ë³€ìˆ˜ ì†ì„± â­â­</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/01_Shell_Fundamentals.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Shell ê¸°ì´ˆì™€ ì‹¤í–‰ í™˜ê²½</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/03_Arrays_and_Data.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë°°ì—´ê³¼ ë°ì´í„° êµ¬ì¡° â­â­</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1">1. ë¬¸ìì—´ ì œê±° ì—°ì‚°ì</a><ul>
<li><a href="#and">ì‹œì‘ ë¶€ë¶„ì—ì„œ ì œê±° (# and ##)</a></li>
<li><a href="#and_1">ë ë¶€ë¶„ì—ì„œ ì œê±° (% and %%)</a></li>
<li><a href="#_2">ë¹„êµ í‘œ</a></li>
<li><a href="#_3">ì‹¤ìš© ì˜ˆì œ</a></li>
<li><a href="#_4">ì¼ê´„ íŒŒì¼ ì²˜ë¦¬</a></li>
</ul>
</li>
<li><a href="#2">2. ê²€ìƒ‰ ë° ì¹˜í™˜</a><ul>
<li><a href="#_5">ê¸°ë³¸ ê²€ìƒ‰ ë° ì¹˜í™˜</a></li>
<li><a href="#_6">íŒ¨í„´ ë§¤ì¹­</a></li>
<li><a href="#_7">ì‹¤ìš© ì‘ìš©</a></li>
<li><a href="#_8">ì¼ê´„ ì´ë¦„ ë³€ê²½</a></li>
</ul>
</li>
<li><a href="#3">3. ë¶€ë¶„ ë¬¸ìì—´ ë° ê¸¸ì´ ì—°ì‚°</a><ul>
<li><a href="#_9">ë¬¸ìì—´ ê¸¸ì´</a></li>
<li><a href="#_10">ë¶€ë¶„ ë¬¸ìì—´ ì¶”ì¶œ</a></li>
<li><a href="#_11">ë¬¸ìì—´ íŒ¨ë”©</a></li>
<li><a href="#_12">ì‹¤ìš© ë¬¸ìì—´ ì²˜ë¦¬</a></li>
</ul>
</li>
<li><a href="#4">4. ê¸°ë³¸ê°’ê³¼ ëŒ€ì²´ê°’</a><ul>
<li><a href="#_13">ê¸°ë³¸ê°’ ì—°ì‚°ì</a></li>
<li><a href="#_14">ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•œ ì„¤ì •</a></li>
<li><a href="#_15">ì„ íƒì  ê¸°ëŠ¥</a></li>
<li><a href="#_16">í•„ìˆ˜ ë³€ìˆ˜ íŒ¨í„´</a></li>
</ul>
</li>
<li><a href="#5">5. ëŒ€ì†Œë¬¸ì ë³€í™˜</a><ul>
<li><a href="#_17">ëŒ€ì†Œë¬¸ì ë³€í™˜ ì—°ì‚°ì</a></li>
<li><a href="#_18">ì…ë ¥ ì •ê·œí™”</a></li>
<li><a href="#_19">ì œëª© ëŒ€ì†Œë¬¸ì</a></li>
<li><a href="#_20">ì‹¤ìš© ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#6">6. ê°„ì ‘ ì°¸ì¡°</a><ul>
<li><a href="#_21">ê¸°ë³¸ ê°„ì ‘ ì°¸ì¡°</a></li>
<li><a href="#_22">ë³€ìˆ˜ ì´ë¦„ í™•ì¥</a></li>
<li><a href="#_23">ë™ì  ì„¤ì •</a></li>
<li><a href="#_24">ê¸°ëŠ¥ í”Œë˜ê·¸</a></li>
<li><a href="#_25">ë‹¤ì¤‘ í™˜ê²½ ë¹„ë°€ ì •ë³´</a></li>
</ul>
</li>
<li><a href="#7-declare">7. declare ë‚´ì¥ ëª…ë ¹ì–´ì™€ ë³€ìˆ˜ ì†ì„±</a><ul>
<li><a href="#declare">declare í”Œë˜ê·¸</a></li>
<li><a href="#declare_1">Declare í”Œë˜ê·¸ ë¹„êµ</a></li>
<li><a href="#_26">ì •ìˆ˜ ë³€ìˆ˜</a></li>
<li><a href="#_27">ì½ê¸° ì „ìš© ë³€ìˆ˜</a></li>
<li><a href="#_28">ëŒ€ì†Œë¬¸ì ë³€í™˜ ì†ì„±</a></li>
<li><a href="#_29">ì´ë¦„ ì°¸ì¡° ë³€ìˆ˜</a></li>
<li><a href="#_30">ë³€ìˆ˜ ê²€ì‚¬</a></li>
</ul>
</li>
<li><a href="#8">8. ì‹¤ì „ íŒ¨í„´</a><ul>
<li><a href="#url">URL íŒŒì„œ</a></li>
<li><a href="#_31">ì„¤ì • íŒŒì¼ íŒŒì„œ</a></li>
<li><a href="#_32">ê²½ë¡œ ì¡°ì‘ ë„êµ¬í‚·</a></li>
</ul>
</li>
<li><a href="#_33">ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1_1">ë¬¸ì œ 1: ê³ ê¸‰ íŒŒì¼ ì´ë¦„ ì²˜ë¦¬ê¸°</a></li>
<li><a href="#2_1">ë¬¸ì œ 2: í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ê¸°</a></li>
<li><a href="#3_1">ë¬¸ì œ 3: ê³ ê¸‰ ì„¤ì • íŒŒì¼ ê´€ë¦¬ì</a></li>
<li><a href="#4_1">ë¬¸ì œ 4: ë¬¸ìì—´ í…œí”Œë¦¿ ì—”ì§„</a></li>
<li><a href="#5_1">ë¬¸ì œ 5: ê²½ë¡œ í•´ê²° ë¼ì´ë¸ŒëŸ¬ë¦¬</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="_1">ë§¤ê°œë³€ìˆ˜ í™•ì¥ê³¼ ë³€ìˆ˜ ì†ì„± â­â­<a class="header-link" href="#_1" title="Permanent link">&para;</a></h1>
<p><strong>ì´ì „</strong>: <a href="./01_Shell_Fundamentals.md">01_Shell_Fundamentals.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./03_Arrays_and_Data.md">03_Arrays_and_Data.md</a></p>
<hr />
<p>ì´ ë ˆìŠ¨ì—ì„œëŠ” ì™¸ë¶€ ë„êµ¬ ì—†ì´ ì‰˜ì—ì„œ ì§ì ‘ ë³€ìˆ˜ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì¸ bash ë§¤ê°œë³€ìˆ˜ í™•ì¥(Parameter Expansion)ì„ íƒêµ¬í•©ë‹ˆë‹¤. ë¬¸ìì—´ ì—°ì‚°, ê¸°ë³¸ê°’, ë³€ìˆ˜ ì†ì„±, ê·¸ë¦¬ê³  ì‹¤ìš©ì ì¸ íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤.</p>
<h2 id="1">1. ë¬¸ìì—´ ì œê±° ì—°ì‚°ì<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<p>ë§¤ê°œë³€ìˆ˜ í™•ì¥ì€ ë¬¸ìì—´ì˜ ì‹œì‘ ë˜ëŠ” ëì—ì„œ íŒ¨í„´ì„ ì œê±°í•˜ëŠ” ë‚´ì¥ ì—°ì‚°ìë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” <code>sed</code>ë‚˜ ì™¸ë¶€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¦…ë‹ˆë‹¤.</p>
<h3 id="and">ì‹œì‘ ë¶€ë¶„ì—ì„œ ì œê±° (# and ##)<a class="header-link" href="#and" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># # removes shortest match from start</span>
<span class="c1"># ## removes longest match from start</span>

<span class="nv">filepath</span><span class="o">=</span><span class="s2">&quot;/usr/local/bin/script.sh&quot;</span>

<span class="c1"># Remove shortest match from start</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">#*/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># usr/local/bin/script.sh</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">#*/*/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># local/bin/script.sh</span>

<span class="c1"># Remove longest match from start</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># script.sh (basename)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># sh (extension)</span>

<span class="c1"># Practical: extract filename from path</span>
<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Filename: </span><span class="nv">$filename</span><span class="s2">&quot;</span>

<span class="c1"># Remove path, keep filename</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/path/to/file.tar.gz&quot;</span>
<span class="nv">file</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File: </span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># file.tar.gz</span>
</code></pre></div>

<h3 id="and_1">ë ë¶€ë¶„ì—ì„œ ì œê±° (% and %%)<a class="header-link" href="#and_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># % removes shortest match from end</span>
<span class="c1"># %% removes longest match from end</span>

<span class="nv">filepath</span><span class="o">=</span><span class="s2">&quot;/usr/local/bin/script.sh&quot;</span>

<span class="c1"># Remove shortest match from end</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">%/*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># /usr/local/bin (dirname)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># /usr/local/bin/script (remove extension)</span>

<span class="c1"># Remove longest match from end</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">%%/*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># (empty, removes everything)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">%%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># /usr/local/bin/script</span>

<span class="c1"># Practical: get directory from path</span>
<span class="nv">directory</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filepath</span><span class="p">%/*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Directory: </span><span class="nv">$directory</span><span class="s2">&quot;</span>

<span class="c1"># Remove extension</span>
<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;archive.tar.gz&quot;</span>
<span class="nv">base</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># archive.tar</span>
<span class="nv">base</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">%%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># archive (remove all extensions)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Base: </span><span class="nv">$base</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_2">ë¹„êµ í‘œ<a class="header-link" href="#_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ì—°ì‚°ì</th>
<th>ë°©í–¥</th>
<th>ë§¤ì¹­</th>
<th>ì˜ˆì œ</th>
<th>ê²°ê³¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${var#pattern}` | ì‹œì‘ë¶€í„° | ìµœë‹¨ | `${path#*/}</code></td>
<td>ì²« ë””ë ‰í„°ë¦¬ ì œê±°</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>${var##pattern}` | ì‹œì‘ë¶€í„° | ìµœì¥ | `${path##*/}</code></td>
<td>Basename</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>${var%pattern}` | ëë¶€í„° | ìµœë‹¨ | `${file%.*}</code></td>
<td>í™•ì¥ì ì œê±°</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>${var%%pattern}` | ëë¶€í„° | ìµœì¥ | `${file%%.*}</code></td>
<td>ëª¨ë“  í™•ì¥ì ì œê±°</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="_3">ì‹¤ìš© ì˜ˆì œ<a class="header-link" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Extract components from URLs</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">&quot;https://user@example.com:8080/path/to/resource.html?query=1#anchor&quot;</span>

<span class="c1"># Remove protocol</span>
<span class="nv">no_protocol</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">#*://</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No protocol: </span><span class="nv">$no_protocol</span><span class="s2">&quot;</span>
<span class="c1"># user@example.com:8080/path/to/resource.html?query=1#anchor</span>

<span class="c1"># Extract domain</span>
<span class="nv">temp</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">#*://</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">domain</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">temp</span><span class="p">%%/*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Domain: </span><span class="nv">$domain</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># user@example.com:8080</span>

<span class="c1"># Extract path</span>
<span class="nv">temp</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">#*://</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">temp</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">temp</span><span class="p">#*/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">path</span><span class="o">=</span><span class="s2">&quot;/</span><span class="si">${</span><span class="nv">temp</span><span class="p">%%</span><span class="se">\?</span><span class="p">*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Path: </span><span class="nv">$path</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># /path/to/resource.html</span>

<span class="c1"># Remove query string and anchor</span>
<span class="nv">clean_url</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">%%</span><span class="se">\?</span><span class="p">*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">clean_url</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">clean_url</span><span class="p">%%#*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Clean URL: </span><span class="nv">$clean_url</span><span class="s2">&quot;</span>
<span class="c1"># https://user@example.com:8080/path/to/resource.html</span>

<span class="c1"># Extract filename without extension from path</span>
<span class="nv">fullpath</span><span class="o">=</span><span class="s2">&quot;/var/log/nginx/access.log.2024-02-13&quot;</span>
<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">fullpath</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># access.log.2024-02-13</span>
<span class="nv">basename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">%%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># access</span>
<span class="nv">extension</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">#*.</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># log.2024-02-13</span>
<span class="nv">first_ext</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># 2024-02-13</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File: </span><span class="nv">$filename</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Base: </span><span class="nv">$basename</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Full ext: </span><span class="nv">$extension</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Last ext: </span><span class="nv">$first_ext</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_4">ì¼ê´„ íŒŒì¼ ì²˜ë¦¬<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Remove extensions from multiple files</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.tar.gz<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">base</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">%.tar.gz</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Extracting </span><span class="nv">$file</span><span class="s2"> to </span><span class="nv">$base</span><span class="s2">/&quot;</span>
<span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$base</span><span class="s2">&quot;</span>
<span class="w">    </span>tar<span class="w"> </span>xzf<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$base</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># Convert file extensions</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.jpeg<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">newname</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">%.jpeg</span><span class="si">}</span><span class="s2">.jpg&quot;</span>
<span class="w">    </span>mv<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># Clean up numbered backups</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.txt.<span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">continue</span>
<span class="w">    </span><span class="nv">original</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Remove .1, .2, etc.</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup: </span><span class="nv">$file</span><span class="s2"> -&gt; original: </span><span class="nv">$original</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h2 id="2">2. ê²€ìƒ‰ ë° ì¹˜í™˜<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<p>ë§¤ê°œë³€ìˆ˜ í™•ì¥ì€ íŒ¨í„´ ê²€ìƒ‰ê³¼ ì¹˜í™˜ì„ ì§€ì›í•˜ë©°, ê°„ë‹¨í•œ ë¬¸ìì—´ ì—°ì‚°ì„ ìœ„í•œ <code>sed</code>ì˜ ê²½ëŸ‰ ëŒ€ì•ˆì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="_5">ê¸°ë³¸ ê²€ìƒ‰ ë° ì¹˜í™˜<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># / replaces first occurrence</span>
<span class="c1"># // replaces all occurrences</span>

<span class="nv">text</span><span class="o">=</span><span class="s2">&quot;Hello World World World&quot;</span>

<span class="c1"># Replace first occurrence</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">text</span><span class="p">/World/Bash</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># Hello Bash World World</span>

<span class="c1"># Replace all occurrences</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">text</span><span class="p">//World/Bash</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># Hello Bash Bash Bash</span>

<span class="c1"># Replace at start (prefix with #)</span>
<span class="nv">text</span><span class="o">=</span><span class="s2">&quot;prefixSuffixprefix&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">text</span><span class="p">/#prefix/START</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># STARTSuffixprefix</span>

<span class="c1"># Replace at end (prefix with %)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">text</span><span class="p">/%prefix/END</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># prefixSuffixEND</span>

<span class="c1"># Delete pattern (replace with empty)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">text</span><span class="p">//prefix/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">       </span><span class="c1"># Suffix</span>
</code></pre></div>

<h3 id="_6">íŒ¨í„´ ë§¤ì¹­<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Use glob patterns in search</span>
<span class="nv">path</span><span class="o">=</span><span class="s2">&quot;/usr/local/bin:/usr/bin:/bin&quot;</span>

<span class="c1"># Replace first path separator</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">/:/ : </span><span class="si">}</span><span class="s2">&quot;</span><span class="w">          </span><span class="c1"># /usr/local/bin : /usr/bin:/bin</span>

<span class="c1"># Replace all path separators</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">//:/ : </span><span class="si">}</span><span class="s2">&quot;</span><span class="w">         </span><span class="c1"># /usr/local/bin : /usr/bin : /bin</span>

<span class="c1"># Remove all digits</span>
<span class="nv">version</span><span class="o">=</span><span class="s2">&quot;bash-5.1.16-release&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">version</span><span class="p">//[0-9]/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># bash-..-release</span>

<span class="c1"># Remove all non-alphanumeric</span>
<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;Hello, World! 123&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">//[^a-zA-Z0-9]/</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># HelloWorld123</span>
</code></pre></div>

<h3 id="_7">ì‹¤ìš© ì‘ìš©<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Sanitize filenames</span>
sanitize_filename<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Replace spaces with underscores</span>
<span class="w">    </span><span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">// /_</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Remove special characters</span>
<span class="w">    </span><span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">//[^a-zA-Z0-9._-]/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Replace multiple underscores with single</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>__<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">filename</span><span class="p">//__/_</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>sanitize_filename<span class="w"> </span><span class="s1">&#39;My Document (draft).txt&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># My_Document_draft.txt</span>

<span class="c1"># Convert between separators</span>
csv_to_tsv<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">//,/</span><span class="s1">$&#39;\t&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

tsv_to_csv<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">//</span><span class="s1">$&#39;\t&#39;</span><span class="p">/,</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">data</span><span class="o">=</span><span class="s2">&quot;name,age,city&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;CSV: </span><span class="nv">$data</span><span class="s2">&quot;</span>
<span class="nv">tsv</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>csv_to_tsv<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$data</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;TSV: </span><span class="nv">$tsv</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Back to CSV: </span><span class="k">$(</span>tsv_to_csv<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tsv</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># URL encoding (basic)</span>
urlencode<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">// /%20</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">//&amp;/%26</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">//=/%3D</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">//</span><span class="se">\?</span><span class="p">/%3F</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">url</span><span class="o">=</span><span class="s2">&quot;search?q=hello world&amp;lang=en&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Encoded: </span><span class="k">$(</span>urlencode<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$url</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># search%3Fq%3Dhello%20world%26lang%3Den</span>
</code></pre></div>

<h3 id="_8">ì¼ê´„ ì´ë¦„ ë³€ê²½<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Rename files by replacing patterns</span>
batch_rename<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">pattern</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">replacement</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">extension</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="p">*</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.<span class="s2">&quot;</span><span class="nv">$extension</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Skip if pattern not found</span>
<span class="w">        </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span>*<span class="s2">&quot;</span><span class="nv">$pattern</span><span class="s2">&quot;</span>*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">continue</span>

<span class="w">        </span><span class="c1"># Generate new name</span>
<span class="w">        </span><span class="nv">newname</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">//</span><span class="nv">$pattern</span><span class="p">/</span><span class="nv">$replacement</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Rename if new name is different</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$newname</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Renaming: </span><span class="nv">$file</span><span class="s2"> -&gt; </span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="w">            </span>mv<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Usage examples:</span>
<span class="c1"># batch_rename &quot;draft&quot; &quot;final&quot; &quot;txt&quot;</span>
<span class="c1"># batch_rename &quot; &quot; &quot;_&quot; &quot;md&quot;</span>
<span class="c1"># batch_rename &quot;2024&quot; &quot;2025&quot; &quot;*&quot;</span>

<span class="c1"># Remove date stamps from filenames</span>
remove_datestamp<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*_<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>-<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>-<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>.*<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Remove pattern _YYYY-MM-DD</span>
<span class="w">        </span><span class="nv">newname</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">/_[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Renaming: </span><span class="nv">$file</span><span class="s2"> -&gt; </span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="w">        </span>mv<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Lowercase all extensions</span>
lowercase_extensions<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.*<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">ext</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">newext</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ext</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Lowercase (see section 5)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ext</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$newext</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Renaming: </span><span class="nv">$file</span><span class="s2"> -&gt; </span><span class="nv">$name</span><span class="s2">.</span><span class="nv">$newext</span><span class="s2">&quot;</span>
<span class="w">            </span>mv<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">.</span><span class="nv">$newext</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>
</code></pre></div>

<h2 id="3">3. ë¶€ë¶„ ë¬¸ìì—´ ë° ê¸¸ì´ ì—°ì‚°<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<p>ë§¤ê°œë³€ìˆ˜ í™•ì¥ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ìì—´ì˜ ì¼ë¶€ë¥¼ ì¶”ì¶œí•˜ê³  ë¬¸ìì—´ ê¸¸ì´ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
<h3 id="_9">ë¬¸ìì—´ ê¸¸ì´<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ${#var} returns string length</span>

<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;Hello, World!&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Length: </span><span class="si">${#</span><span class="nv">string</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 13</span>

<span class="c1"># Length of empty string</span>
<span class="nv">empty</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Empty length: </span><span class="si">${#</span><span class="nv">empty</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 0</span>

<span class="c1"># Validate input length</span>
validate_password<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">password</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">min_length</span><span class="o">=</span><span class="m">8</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">max_length</span><span class="o">=</span><span class="m">64</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">password</span><span class="si">}</span><span class="w"> </span>-lt<span class="w"> </span><span class="nv">$min_length</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password too short (min: </span><span class="nv">$min_length</span><span class="s2">)&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">password</span><span class="si">}</span><span class="w"> </span>-gt<span class="w"> </span><span class="nv">$max_length</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password too long (max: </span><span class="nv">$max_length</span><span class="s2">)&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password length OK: </span><span class="si">${#</span><span class="nv">password</span><span class="si">}</span><span class="s2"> characters&quot;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

validate_password<span class="w"> </span><span class="s2">&quot;abc&quot;</span><span class="w">      </span><span class="c1"># Too short</span>
validate_password<span class="w"> </span><span class="s2">&quot;SecureP@ssw0rd&quot;</span><span class="w">  </span><span class="c1"># OK</span>
</code></pre></div>

<h3 id="_10">ë¶€ë¶„ ë¬¸ìì—´ ì¶”ì¶œ<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ${var:offset:length}</span>
<span class="c1"># Offset is 0-indexed</span>
<span class="c1"># Negative offset counts from end (bash 4.2+)</span>

<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;Hello, World!&quot;</span>

<span class="c1"># Extract from position 0, length 5</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">5</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># Hello</span>

<span class="c1"># Extract from position 7 to end</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">:</span><span class="nv">7</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">        </span><span class="c1"># World!</span>

<span class="c1"># Extract last 6 characters (negative offset)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">: -6</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># World!</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">:(-6)</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># World! (alternative syntax)</span>

<span class="c1"># Extract 5 characters starting 6 from end</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">: -6:</span><span class="nv">5</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># World</span>

<span class="c1"># Practical: extract date components</span>
<span class="nv">date</span><span class="o">=</span><span class="s2">&quot;2024-02-13&quot;</span>
<span class="nv">year</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">date</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">4</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">month</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">date</span><span class="p">:</span><span class="nv">5</span><span class="p">:</span><span class="nv">2</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">day</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">date</span><span class="p">:</span><span class="nv">8</span><span class="p">:</span><span class="nv">2</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Year: </span><span class="nv">$year</span><span class="s2">, Month: </span><span class="nv">$month</span><span class="s2">, Day: </span><span class="nv">$day</span><span class="s2">&quot;</span>
<span class="c1"># Year: 2024, Month: 02, Day: 13</span>

<span class="c1"># Extract time components</span>
<span class="nv">timestamp</span><span class="o">=</span><span class="s2">&quot;2024-02-13T14:30:45Z&quot;</span>
<span class="nv">time</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">timestamp</span><span class="p">:</span><span class="nv">11</span><span class="p">:</span><span class="nv">8</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Time: </span><span class="nv">$time</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 14:30:45</span>

<span class="c1"># Truncate long strings</span>
truncate<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">max_length</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">50</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">string</span><span class="si">}</span><span class="w"> </span>-le<span class="w"> </span><span class="nv">$max_length</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">$max_length</span><span class="si">}</span><span class="s2">...&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="nv">long_text</span><span class="o">=</span><span class="s2">&quot;This is a very long string that needs to be truncated for display purposes.&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>truncate<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$long_text</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">30</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># This is a very long string th...</span>
</code></pre></div>

<h3 id="_11">ë¬¸ìì—´ íŒ¨ë”©<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Pad string to specific width</span>
pad_left<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">padchar</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="p"> </span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Default to space</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">len</span><span class="o">=</span><span class="si">${#</span><span class="nv">string</span><span class="si">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$len</span><span class="w"> </span>-ge<span class="w"> </span><span class="nv">$width</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">padding_needed</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">len</span><span class="k">))</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">padding_needed</span><span class="si">}</span><span class="s2">s%s&quot;</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$padchar</span><span class="s2">&quot;</span>
<span class="o">}</span>

pad_right<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">padchar</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="p"> </span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">len</span><span class="o">=</span><span class="si">${#</span><span class="nv">string</span><span class="si">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$len</span><span class="w"> </span>-ge<span class="w"> </span><span class="nv">$width</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%-</span><span class="si">${</span><span class="nv">width</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$string</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$padchar</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Format table</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pad_right<span class="w"> </span><span class="s1">&#39;Name&#39;</span><span class="w"> </span><span class="m">20</span><span class="k">)</span><span class="s2"> </span><span class="k">$(</span>pad_left<span class="w"> </span><span class="s1">&#39;Value&#39;</span><span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pad_right<span class="w"> </span><span class="s1">&#39;----&#39;</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="k">)</span><span class="s2"> </span><span class="k">$(</span>pad_left<span class="w"> </span><span class="s1">&#39;-----&#39;</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pad_right<span class="w"> </span><span class="s1">&#39;CPU Usage&#39;</span><span class="w"> </span><span class="m">20</span><span class="k">)</span><span class="s2"> </span><span class="k">$(</span>pad_left<span class="w"> </span><span class="s1">&#39;45%&#39;</span><span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pad_right<span class="w"> </span><span class="s1">&#39;Memory&#39;</span><span class="w"> </span><span class="m">20</span><span class="k">)</span><span class="s2"> </span><span class="k">$(</span>pad_left<span class="w"> </span><span class="s1">&#39;2.3 GB&#39;</span><span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>pad_right<span class="w"> </span><span class="s1">&#39;Disk&#39;</span><span class="w"> </span><span class="m">20</span><span class="k">)</span><span class="s2"> </span><span class="k">$(</span>pad_left<span class="w"> </span><span class="s1">&#39;123 GB&#39;</span><span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># Zero-pad numbers</span>
zero_pad<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">number</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">3</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%0</span><span class="si">${</span><span class="nv">width</span><span class="si">}</span><span class="s2">d&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$number</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File_</span><span class="k">$(</span>zero_pad<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">3</span><span class="k">)</span><span class="s2">.txt&quot;</span><span class="w">     </span><span class="c1"># File_005.txt</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File_</span><span class="k">$(</span>zero_pad<span class="w"> </span><span class="m">42</span><span class="w"> </span><span class="m">4</span><span class="k">)</span><span class="s2">.txt&quot;</span><span class="w">    </span><span class="c1"># File_0042.txt</span>
</code></pre></div>

<h3 id="_12">ì‹¤ìš© ë¬¸ìì—´ ì²˜ë¦¬<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Parse log timestamps</span>
parse_log_line<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Format: [2024-02-13 14:30:45] INFO: Message</span>

<span class="w">    </span><span class="c1"># Extract timestamp (chars 1-19)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">timestamp</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">:</span><span class="nv">1</span><span class="p">:</span><span class="nv">19</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Extract level (after timestamp + 2 chars for &#39;] &#39;)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">rest</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">:</span><span class="nv">22</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">level</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">%%:*</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Extract message (after level + &#39;: &#39;)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">message</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">#*: </span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Timestamp: </span><span class="nv">$timestamp</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Level: </span><span class="nv">$level</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Message: </span><span class="nv">$message</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">log_line</span><span class="o">=</span><span class="s2">&quot;[2024-02-13 14:30:45] ERROR: Connection timeout&quot;</span>
parse_log_line<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$log_line</span><span class="s2">&quot;</span>

<span class="c1"># Credit card masking</span>
mask_credit_card<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">cc</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Show only last 4 digits</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">masked</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">cc</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="si">${#</span><span class="nv">cc</span><span class="si">}</span><span class="p">-4</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">masked</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">masked</span><span class="p">//[0-9]/X</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">visible</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">cc</span><span class="p">: -4</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">masked</span><span class="si">}${</span><span class="nv">visible</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>mask_credit_card<span class="w"> </span><span class="s1">&#39;1234567890123456&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># XXXXXXXXXXXX3456</span>

<span class="c1"># Extract domain from email</span>
extract_domain<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">email</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">email</span><span class="p">#*@</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

extract_username<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">email</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">email</span><span class="p">%@*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Username: </span><span class="k">$(</span>extract_username<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Domain: </span><span class="k">$(</span>extract_domain<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="4">4. ê¸°ë³¸ê°’ê³¼ ëŒ€ì²´ê°’<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<p>ë§¤ê°œë³€ìˆ˜ í™•ì¥ì€ ì •ì˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë¹„ì–´ìˆëŠ” ë³€ìˆ˜ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ì—°ì‚°ìë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="_13">ê¸°ë³¸ê°’ ì—°ì‚°ì<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ${var:-default}  Use default if unset or empty</span>
<span class="c1"># ${var-default}   Use default if unset (not if empty)</span>
<span class="c1"># ${var:=default}  Assign and use default if unset or empty</span>
<span class="c1"># ${var=default}   Assign and use default if unset (not if empty)</span>
<span class="c1"># ${var:+alternate} Use alternate if set and not empty</span>
<span class="c1"># ${var+alternate}  Use alternate if set (even if empty)</span>
<span class="c1"># ${var:?error}    Error if unset or empty</span>
<span class="c1"># ${var?error}     Error if unset (not if empty)</span>

<span class="c1"># :- Use default value</span>
<span class="nb">unset</span><span class="w"> </span>name
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="k">:-</span><span class="nv">Anonymous</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Anonymous (name still unset)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w">               </span><span class="c1"># (empty)</span>

<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="k">:-</span><span class="nv">Anonymous</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Anonymous (empty treated as unset)</span>

<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="k">:-</span><span class="nv">Anonymous</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># John</span>

<span class="c1"># - Use default only if truly unset</span>
<span class="nb">unset</span><span class="w"> </span>value
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">-default</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># default</span>
<span class="nv">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">-default</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># (empty string, not default)</span>

<span class="c1"># := Assign default value</span>
<span class="nb">unset</span><span class="w"> </span>port
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">port</span><span class="p">:=8080</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">       </span><span class="c1"># 8080</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$port</span><span class="s2">&quot;</span><span class="w">               </span><span class="c1"># 8080 (now assigned)</span>

<span class="c1"># :+ Use alternate value if set</span>
<span class="nb">unset</span><span class="w"> </span>debug
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Debug: </span><span class="si">${</span><span class="nv">debug</span><span class="p">:+enabled</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># Debug: (empty)</span>

<span class="nv">debug</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Debug: </span><span class="si">${</span><span class="nv">debug</span><span class="p">:+enabled</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># Debug: enabled</span>

<span class="c1"># :? Error if unset</span>
check_required<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">file</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">:?Error: filename required</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># check_required           # Error: filename required</span>
check_required<span class="w"> </span><span class="s2">&quot;data.txt&quot;</span><span class="w">  </span><span class="c1"># Processing: data.txt</span>
</code></pre></div>

<h3 id="_14">ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•œ ì„¤ì •<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Configuration pattern with environment variables and defaults</span>
<span class="nv">DB_HOST</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DB_HOST</span><span class="k">:-</span><span class="nv">localhost</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DB_PORT</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DB_PORT</span><span class="k">:-</span><span class="nv">5432</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DB_NAME</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DB_NAME</span><span class="k">:-</span><span class="nv">myapp</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DB_USER</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DB_USER</span><span class="k">:-</span><span class="nv">postgres</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DB_PASSWORD</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DB_PASSWORD</span><span class="p">:?Error: DB_PASSWORD must be set</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nv">LOG_LEVEL</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOG_LEVEL</span><span class="k">:-</span><span class="nv">INFO</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOG_FILE</span><span class="k">:-</span><span class="p">/var/log/app.log</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">MAX_CONNECTIONS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">MAX_CONNECTIONS</span><span class="k">:-</span><span class="nv">100</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">TIMEOUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">TIMEOUT</span><span class="k">:-</span><span class="nv">30</span><span class="si">}</span><span class="s2">&quot;</span>

cat<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">Database Configuration:</span>
<span class="s">  Host: $DB_HOST</span>
<span class="s">  Port: $DB_PORT</span>
<span class="s">  Database: $DB_NAME</span>
<span class="s">  User: $DB_USER</span>

<span class="s">Application Settings:</span>
<span class="s">  Log Level: $LOG_LEVEL</span>
<span class="s">  Log File: $LOG_FILE</span>
<span class="s">  Max Connections: $MAX_CONNECTIONS</span>
<span class="s">  Timeout: ${TIMEOUT}s</span>
<span class="s">EOF</span>

<span class="c1"># Connect to database</span>
connect_db<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>psql<span class="w"> </span>-h<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DB_HOST</span><span class="s2">&quot;</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DB_PORT</span><span class="s2">&quot;</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DB_NAME</span><span class="s2">&quot;</span><span class="w"> </span>-U<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DB_USER</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Usage with environment variables:</span>
<span class="c1"># DB_PASSWORD=secret ./script.sh</span>
<span class="c1"># DB_HOST=prod-db DB_PORT=5433 DB_PASSWORD=secret ./script.sh</span>
</code></pre></div>

<h3 id="_15">ì„ íƒì  ê¸°ëŠ¥<a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Enable optional features based on environment</span>
<span class="nv">VERBOSE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">VERBOSE</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DEBUG</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DEBUG</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">DRY_RUN</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DRY_RUN</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span>

log_verbose<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$VERBOSE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[VERBOSE] </span><span class="nv">$*</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="o">}</span>

log_debug<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DEBUG</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[DEBUG] </span><span class="nv">$*</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="o">}</span>

execute<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">cmd</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>

<span class="w">    </span>log_debug<span class="w"> </span><span class="s2">&quot;Command: </span><span class="nv">$cmd</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$DRY_RUN</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[DRY-RUN] Would execute: </span><span class="nv">$cmd</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Main logic</span>
log_verbose<span class="w"> </span><span class="s2">&quot;Starting process...&quot;</span>
log_debug<span class="w"> </span><span class="s2">&quot;Working directory: </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>

execute<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>temp.txt
execute<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>output

log_verbose<span class="w"> </span><span class="s2">&quot;Process complete&quot;</span>

<span class="c1"># Usage:</span>
<span class="c1"># ./script.sh                           # Normal mode</span>
<span class="c1"># VERBOSE=1 ./script.sh                 # Verbose mode</span>
<span class="c1"># DEBUG=1 ./script.sh                   # Debug mode</span>
<span class="c1"># DRY_RUN=1 ./script.sh                 # Dry-run mode</span>
<span class="c1"># VERBOSE=1 DEBUG=1 DRY_RUN=1 ./script.sh  # All flags</span>
</code></pre></div>

<h3 id="_16">í•„ìˆ˜ ë³€ìˆ˜ íŒ¨í„´<a class="header-link" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Check multiple required variables</span>
check_required<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">missing</span><span class="o">=()</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>var<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!var</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nv">missing</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">missing</span><span class="p">[@]</span><span class="si">}</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Required variables not set:&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;  %s\n&#39;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">missing</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># Define required variables</span>
<span class="nv">REQUIRED_VARS</span><span class="o">=(</span>
<span class="w">    </span>API_KEY
<span class="w">    </span>API_SECRET
<span class="w">    </span>ENDPOINT_URL
<span class="o">)</span>

<span class="c1"># Check all at once</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>check_required<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REQUIRED_VARS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Please set all required environment variables&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># Or check individually with custom errors</span>
<span class="nv">API_KEY</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">API_KEY</span><span class="p">:?Error: API_KEY is required. Get one at https://example.com/api</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">API_SECRET</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">API_SECRET</span><span class="p">:?Error: API_SECRET is required</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">ENDPOINT_URL</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ENDPOINT_URL</span><span class="p">:?Error: ENDPOINT_URL is required</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Configuration valid, proceeding...&quot;</span>
</code></pre></div>

<h2 id="5">5. ëŒ€ì†Œë¬¸ì ë³€í™˜<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<p>Bash 4.0+ëŠ” ëŒ€ì†Œë¬¸ì ë³€í™˜ì„ ìœ„í•œ ë§¤ê°œë³€ìˆ˜ í™•ì¥ ì—°ì‚°ìë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="_17">ëŒ€ì†Œë¬¸ì ë³€í™˜ ì—°ì‚°ì<a class="header-link" href="#_17" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ^   Uppercase first character</span>
<span class="c1"># ^^  Uppercase all characters</span>
<span class="c1"># ,   Lowercase first character</span>
<span class="c1"># ,,  Lowercase all characters</span>

<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span>

<span class="c1"># Uppercase operations</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">^</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># Hello World (first char of first word)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">^^</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># HELLO WORLD (all chars)</span>

<span class="c1"># Lowercase operations</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># hello World (first char)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># hello world (all chars)</span>

<span class="c1"># Pattern-based conversion (bash 4.0+)</span>
<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;hello world&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">^^[hw]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Hello World (uppercase h and w)</span>

<span class="nv">string</span><span class="o">=</span><span class="s2">&quot;HELLO WORLD&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">,,[HW]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># hELLO wORLD (lowercase H and W)</span>
</code></pre></div>

<h3 id="_18">ì…ë ¥ ì •ê·œí™”<a class="header-link" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Normalize user input to lowercase</span>
normalize_input<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">input</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">input</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Case-insensitive comparison</span>
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Continue? (yes/no): &quot;</span><span class="w"> </span>answer
<span class="nv">answer</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>normalize_input<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$answer</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$answer</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>yes<span class="p">|</span>y<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Continuing...&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>no<span class="p">|</span>n<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Aborting...&quot;</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid input: </span><span class="nv">$answer</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c1"># Normalize file extensions</span>
process_files<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob

<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>*<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">continue</span>

<span class="w">        </span><span class="c1"># Get extension in lowercase</span>
<span class="w">        </span><span class="nv">ext</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">file</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">ext_lower</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ext</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ext_lower</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>jpg<span class="p">|</span>jpeg<span class="p">|</span>png<span class="p">|</span>gif<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Image: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>mp4<span class="p">|</span>avi<span class="p">|</span>mkv<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Video: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>txt<span class="p">|</span>md<span class="p">|</span>log<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Other: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="_19">ì œëª© ëŒ€ì†Œë¬¸ì<a class="header-link" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Convert to title case (capitalize first letter of each word)</span>
to_title_case<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>word

<span class="w">    </span><span class="c1"># Convert to lowercase first</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Process each word</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>word<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">$string</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Capitalize first letter</span>
<span class="w">        </span><span class="nv">result</span><span class="o">+=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">word</span><span class="p">^</span><span class="si">}</span><span class="s2"> &quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="c1"># Remove trailing space</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">result</span><span class="p">% </span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>to_title_case<span class="w"> </span><span class="s1">&#39;hello world from bash&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># Hello World From Bash</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>to_title_case<span class="w"> </span><span class="s1">&#39;THE QUICK BROWN FOX&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># The Quick Brown Fox</span>

<span class="c1"># Sentence case (first letter of first word only)</span>
to_sentence_case<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">string</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">string</span><span class="p">^</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>to_sentence_case<span class="w"> </span><span class="s1">&#39;HELLO WORLD&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># Hello world</span>
</code></pre></div>

<h3 id="_20">ì‹¤ìš© ì˜ˆì œ<a class="header-link" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Environment variable name normalization</span>
normalize_env_var<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Convert to uppercase and replace invalid chars with underscore</span>
<span class="w">    </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="p">^^</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="p">//[^A-Z0-9_]/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>normalize_env_var<span class="w"> </span><span class="s1">&#39;my-app.config.port&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># MY_APP_CONFIG_PORT</span>

<span class="c1"># SQL identifier quoting</span>
quote_sql_identifier<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">identifier</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Convert to lowercase (PostgreSQL convention)</span>
<span class="w">    </span><span class="nv">identifier</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">identifier</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\&quot;</span><span class="nv">$identifier</span><span class="s2">\&quot;&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;SELECT * FROM </span><span class="k">$(</span>quote_sql_identifier<span class="w"> </span><span class="s1">&#39;UserData&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1"># SELECT * FROM &quot;userdata&quot;</span>

<span class="c1"># HTTP header normalization</span>
normalize_http_header<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">header</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Title-Case-With-Dashes</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;-&#39;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">words</span><span class="o">=(</span><span class="nv">$header</span><span class="o">)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>word<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">words</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">word</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">word</span><span class="p">,,</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">result</span><span class="o">+=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">word</span><span class="p">^</span><span class="si">}</span><span class="s2">-&quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">result</span><span class="p">%-</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>normalize_http_header<span class="w"> </span><span class="s1">&#39;content-type&#39;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># Content-Type</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>normalize_http_header<span class="w"> </span><span class="s1">&#39;X-REQUEST-ID&#39;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># X-Request-Id</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>normalize_http_header<span class="w"> </span><span class="s1">&#39;accept-encoding&#39;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># Accept-Encoding</span>
</code></pre></div>

<h2 id="6">6. ê°„ì ‘ ì°¸ì¡°<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<p>ê°„ì ‘ ì°¸ì¡°(Indirect References)ë¥¼ ì‚¬ìš©í•˜ë©´ í•œ ë³€ìˆ˜ì˜ ê°’ì„ ë‹¤ë¥¸ ë³€ìˆ˜ì˜ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="_21">ê¸°ë³¸ ê°„ì ‘ ì°¸ì¡°<a class="header-link" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ${!var} - indirect expansion</span>

<span class="c1"># Direct access</span>
<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># John</span>

<span class="c1"># Indirect access</span>
<span class="nv">var_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!var_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># John (value of $name)</span>

<span class="c1"># Set value indirectly using declare</span>
<span class="nb">declare</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$var_name</span><span class="s2">=Jane&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w">      </span><span class="c1"># Jane</span>

<span class="c1"># More complex example</span>
<span class="nv">DB_HOST_DEV</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="nv">DB_HOST_PROD</span><span class="o">=</span><span class="s2">&quot;db.example.com&quot;</span>
<span class="nv">DB_HOST_STAGING</span><span class="o">=</span><span class="s2">&quot;staging-db.example.com&quot;</span>

<span class="nv">environment</span><span class="o">=</span><span class="s2">&quot;PROD&quot;</span>
<span class="nv">var_name</span><span class="o">=</span><span class="s2">&quot;DB_HOST_</span><span class="si">${</span><span class="nv">environment</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Connecting to: </span><span class="si">${</span><span class="p">!var_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># db.example.com</span>
</code></pre></div>

<h3 id="_22">ë³€ìˆ˜ ì´ë¦„ í™•ì¥<a class="header-link" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ${!prefix*} - expands to names of variables starting with prefix</span>
<span class="c1"># ${!prefix@} - same but quoted (safer)</span>

<span class="c1"># Set multiple related variables</span>
<span class="nv">DB_HOST</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="nv">DB_PORT</span><span class="o">=</span><span class="s2">&quot;5432&quot;</span>
<span class="nv">DB_NAME</span><span class="o">=</span><span class="s2">&quot;myapp&quot;</span>
<span class="nv">DB_USER</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span>

<span class="c1"># Get all DB_* variable names</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Database configuration variables:&quot;</span>
<span class="k">for</span><span class="w"> </span>var_name<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="si">${</span><span class="p">!DB_*</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$var_name</span><span class="s2"> = </span><span class="si">${</span><span class="p">!var_name</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># Output:</span>
<span class="c1"># Database configuration variables:</span>
<span class="c1">#   DB_HOST = localhost</span>
<span class="c1">#   DB_NAME = myapp</span>
<span class="c1">#   DB_PORT = 5432</span>
<span class="c1">#   DB_USER = admin</span>

<span class="c1"># Safer version with @ (properly quoted)</span>
<span class="k">for</span><span class="w"> </span>var_name<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!DB_@</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$var_name</span><span class="s2"> = </span><span class="si">${</span><span class="p">!var_name</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="_23">ë™ì  ì„¤ì •<a class="header-link" href="#_23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Load configuration for specific environment</span>
load_config<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">env</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">dev</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">env</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">env</span><span class="p">^^</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Uppercase</span>

<span class="w">    </span><span class="c1"># Define configs for each environment</span>
<span class="w">    </span><span class="nv">CONFIG_HOST_DEV</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_PORT_DEV</span><span class="o">=</span><span class="s2">&quot;8080&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_DB_DEV</span><span class="o">=</span><span class="s2">&quot;dev_database&quot;</span>

<span class="w">    </span><span class="nv">CONFIG_HOST_PROD</span><span class="o">=</span><span class="s2">&quot;prod.example.com&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_PORT_PROD</span><span class="o">=</span><span class="s2">&quot;443&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_DB_PROD</span><span class="o">=</span><span class="s2">&quot;prod_database&quot;</span>

<span class="w">    </span><span class="nv">CONFIG_HOST_STAGING</span><span class="o">=</span><span class="s2">&quot;staging.example.com&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_PORT_STAGING</span><span class="o">=</span><span class="s2">&quot;8443&quot;</span>
<span class="w">    </span><span class="nv">CONFIG_DB_STAGING</span><span class="o">=</span><span class="s2">&quot;staging_database&quot;</span>

<span class="w">    </span><span class="c1"># Load variables for selected environment</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>var<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="si">${</span><span class="p">!CONFIG_*</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*_<span class="si">${</span><span class="nv">env</span><span class="si">}</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="c1"># Extract base name (CONFIG_HOST_DEV -&gt; CONFIG_HOST)</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">base_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">var</span><span class="p">%_*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="c1"># Set variable without environment suffix</span>
<span class="w">            </span><span class="nb">declare</span><span class="w"> </span>-g<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$base_name</span><span class="s2">=</span><span class="si">${</span><span class="p">!var</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Load production config</span>
load_config<span class="w"> </span><span class="s2">&quot;prod&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Host: </span><span class="nv">$CONFIG_HOST</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Port: </span><span class="nv">$CONFIG_PORT</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Database: </span><span class="nv">$CONFIG_DB</span><span class="s2">&quot;</span>

<span class="c1"># Load dev config</span>
load_config<span class="w"> </span><span class="s2">&quot;dev&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Host: </span><span class="nv">$CONFIG_HOST</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Port: </span><span class="nv">$CONFIG_PORT</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Database: </span><span class="nv">$CONFIG_DB</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_24">ê¸°ëŠ¥ í”Œë˜ê·¸<a class="header-link" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Feature flag system</span>
<span class="nv">FEATURE_NEW_UI</span><span class="o">=</span><span class="s2">&quot;enabled&quot;</span>
<span class="nv">FEATURE_BETA_API</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span>
<span class="nv">FEATURE_ANALYTICS</span><span class="o">=</span><span class="s2">&quot;enabled&quot;</span>
<span class="nv">FEATURE_DARK_MODE</span><span class="o">=</span><span class="s2">&quot;enabled&quot;</span>

is_feature_enabled<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">feature</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">var_name</span><span class="o">=</span><span class="s2">&quot;FEATURE_</span><span class="si">${</span><span class="nv">feature</span><span class="p">^^</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">status</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!var_name</span><span class="k">:-</span><span class="nv">disabled</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$status</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;enabled&quot;</span><span class="w"> </span><span class="o">]</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="k">if</span><span class="w"> </span>is_feature_enabled<span class="w"> </span><span class="s2">&quot;new_ui&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Loading new UI...&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Loading classic UI...&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span>is_feature_enabled<span class="w"> </span><span class="s2">&quot;dark_mode&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Dark mode: ON&quot;</span>
<span class="k">fi</span>

<span class="c1"># List all features</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Feature flags:&quot;</span>
<span class="k">for</span><span class="w"> </span>var<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="si">${</span><span class="p">!FEATURE_*</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">feature</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">var</span><span class="p">#FEATURE_</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">status</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!var</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$feature</span><span class="s2">: </span><span class="nv">$status</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="_25">ë‹¤ì¤‘ í™˜ê²½ ë¹„ë°€ ì •ë³´<a class="header-link" href="#_25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Store secrets for multiple environments</span>
<span class="nv">SECRET_API_KEY_DEV</span><span class="o">=</span><span class="s2">&quot;dev-key-12345&quot;</span>
<span class="nv">SECRET_API_KEY_STAGING</span><span class="o">=</span><span class="s2">&quot;staging-key-67890&quot;</span>
<span class="nv">SECRET_API_KEY_PROD</span><span class="o">=</span><span class="s2">&quot;prod-key-abcdef&quot;</span>

<span class="nv">SECRET_DB_PASSWORD_DEV</span><span class="o">=</span><span class="s2">&quot;dev-password&quot;</span>
<span class="nv">SECRET_DB_PASSWORD_STAGING</span><span class="o">=</span><span class="s2">&quot;staging-password&quot;</span>
<span class="nv">SECRET_DB_PASSWORD_PROD</span><span class="o">=</span><span class="s2">&quot;prod-password&quot;</span>

get_secret<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">secret_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">environment</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">dev</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">environment</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">environment</span><span class="p">^^</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">var_name</span><span class="o">=</span><span class="s2">&quot;SECRET_</span><span class="si">${</span><span class="nv">secret_name</span><span class="p">^^</span><span class="si">}</span><span class="s2">_</span><span class="si">${</span><span class="nv">environment</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">secret</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!var_name</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$secret</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Secret </span><span class="nv">$secret_name</span><span class="s2"> not found for </span><span class="nv">$environment</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$secret</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nv">ENVIRONMENT</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span>
<span class="nv">API_KEY</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>get_secret<span class="w"> </span><span class="s2">&quot;api_key&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ENVIRONMENT</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nv">DB_PASSWORD</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>get_secret<span class="w"> </span><span class="s2">&quot;db_password&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ENVIRONMENT</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;API Key: </span><span class="si">${</span><span class="nv">API_KEY</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">10</span><span class="si">}</span><span class="s2">...&quot;</span><span class="w"> </span><span class="c1"># Show only first 10 chars</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password: </span><span class="si">${</span><span class="nv">DB_PASSWORD</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">5</span><span class="si">}</span><span class="s2">...&quot;</span>
</code></pre></div>

<h2 id="7-declare">7. declare ë‚´ì¥ ëª…ë ¹ì–´ì™€ ë³€ìˆ˜ ì†ì„±<a class="header-link" href="#7-declare" title="Permanent link">&para;</a></h2>
<p><code>declare</code> ë‚´ì¥ ëª…ë ¹ì–´ëŠ” ë³€ìˆ˜ ì†ì„±ì„ ì„¤ì •í•˜ê³  ë³€ìˆ˜ ë™ì‘ì„ ì œì–´í•©ë‹ˆë‹¤.</p>
<h3 id="declare">declare í”Œë˜ê·¸<a class="header-link" href="#declare" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># declare -flag variable=value</span>

<span class="c1"># -i: Integer attribute</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="nv">count</span><span class="o">=</span>count+1<span class="w">        </span><span class="c1"># Arithmetic without $(( ))</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">        </span><span class="c1"># 1</span>

<span class="nv">count</span><span class="o">=</span><span class="s2">&quot;5 + 3&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">        </span><span class="c1"># 8 (evaluated as arithmetic)</span>

<span class="nv">count</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span><span class="w">        </span><span class="c1"># Invalid, becomes 0</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">        </span><span class="c1"># 0</span>

<span class="c1"># -r: Readonly (const)</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">PI</span><span class="o">=</span><span class="m">3</span>.14159
<span class="c1"># PI=3.14  # Error: PI: readonly variable</span>

<span class="c1"># -l: Lowercase</span>
<span class="nb">declare</span><span class="w"> </span>-l<span class="w"> </span><span class="nv">lowercase</span><span class="o">=</span><span class="s2">&quot;HELLO WORLD&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$lowercase</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># hello world</span>
<span class="nv">lowercase</span><span class="o">=</span><span class="s2">&quot;MIXED CaSe&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$lowercase</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># mixed case</span>

<span class="c1"># -u: Uppercase</span>
<span class="nb">declare</span><span class="w"> </span>-u<span class="w"> </span><span class="nv">uppercase</span><span class="o">=</span><span class="s2">&quot;hello world&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$uppercase</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># HELLO WORLD</span>
<span class="nv">uppercase</span><span class="o">=</span><span class="s2">&quot;Mixed CaSe&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$uppercase</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># MIXED CASE</span>

<span class="c1"># -n: Nameref (reference to another variable)</span>
<span class="nv">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span>
<span class="nb">declare</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">name_ref</span><span class="o">=</span>name
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name_ref</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># John</span>
<span class="nv">name_ref</span><span class="o">=</span><span class="s2">&quot;Jane&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w">         </span><span class="c1"># Jane</span>

<span class="c1"># -a: Indexed array</span>
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">array</span><span class="o">=(</span>one<span class="w"> </span>two<span class="w"> </span>three<span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">array</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># one</span>

<span class="c1"># -A: Associative array</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span><span class="nv">config</span><span class="o">=([</span>host<span class="o">]=</span>localhost<span class="w"> </span><span class="o">[</span>port<span class="o">]=</span><span class="m">8080</span><span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">config</span><span class="p">[host]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># localhost</span>

<span class="c1"># -x: Export (make available to child processes)</span>
<span class="nb">declare</span><span class="w"> </span>-x<span class="w"> </span><span class="nv">ENVIRONMENT</span><span class="o">=</span><span class="s2">&quot;production&quot;</span>
bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo $ENVIRONMENT&#39;</span><span class="w">  </span><span class="c1"># production</span>

<span class="c1"># -p: Print variable definition</span>
<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>PI
<span class="c1"># declare -r PI=&quot;3.14159&quot;</span>
</code></pre></div>

<h3 id="declare_1">Declare í”Œë˜ê·¸ ë¹„êµ<a class="header-link" href="#declare_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>í”Œë˜ê·¸</th>
<th>ì„¤ëª…</th>
<th>ì˜ˆì œ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-i</code></td>
<td>ì •ìˆ˜(Integer)</td>
<td><code>declare -i count=5</code></td>
</tr>
<tr>
<td><code>-r</code></td>
<td>ì½ê¸° ì „ìš©(Readonly)</td>
<td><code>declare -r CONST=100</code></td>
</tr>
<tr>
<td><code>-l</code></td>
<td>ì†Œë¬¸ì(Lowercase)</td>
<td><code>declare -l name="JOHN"</code></td>
</tr>
<tr>
<td><code>-u</code></td>
<td>ëŒ€ë¬¸ì(Uppercase)</td>
<td><code>declare -u name="john"</code></td>
</tr>
<tr>
<td><code>-n</code></td>
<td>ì´ë¦„ ì°¸ì¡°(Nameref)</td>
<td><code>declare -n ref=var</code></td>
</tr>
<tr>
<td><code>-a</code></td>
<td>ì¸ë±ìŠ¤ ë°°ì—´(Indexed array)</td>
<td><code>declare -a arr=(1 2 3)</code></td>
</tr>
<tr>
<td><code>-A</code></td>
<td>ì—°ê´€ ë°°ì—´(Associative array)</td>
<td><code>declare -A map=([key]=val)</code></td>
</tr>
<tr>
<td><code>-x</code></td>
<td>ë‚´ë³´ë‚´ê¸°(Export)</td>
<td><code>declare -x VAR=value</code></td>
</tr>
<tr>
<td><code>-g</code></td>
<td>ì „ì—­(Global, í•¨ìˆ˜ ë‚´)</td>
<td><code>declare -g GLOBAL=1</code></td>
</tr>
<tr>
<td><code>-p</code></td>
<td>ì„ ì–¸ ì¶œë ¥(Print declaration)</td>
<td><code>declare -p VAR</code></td>
</tr>
<tr>
<td><code>-f</code></td>
<td>í•¨ìˆ˜ ì´ë¦„(Function names)</td>
<td><code>declare -f func_name</code></td>
</tr>
<tr>
<td><code>-F</code></td>
<td>í•¨ìˆ˜ ì´ë¦„ë§Œ(Function names only)</td>
<td><code>declare -F</code></td>
</tr>
</tbody>
</table>
<h3 id="_26">ì •ìˆ˜ ë³€ìˆ˜<a class="header-link" href="#_26" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Integer variables auto-evaluate arithmetic</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span><span class="nv">counter</span><span class="o">=</span><span class="m">0</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span>result

<span class="c1"># Arithmetic without $(( ))</span>
<span class="nv">counter</span><span class="o">+=</span><span class="m">1</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Counter: </span><span class="nv">$counter</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 1</span>

<span class="nv">counter</span><span class="o">=</span>counter+10
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Counter: </span><span class="nv">$counter</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 11</span>

<span class="c1"># Expressions evaluated</span>
<span class="nv">result</span><span class="o">=</span><span class="m">5</span>*3+2
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Result: </span><span class="nv">$result</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># 17</span>

<span class="c1"># Division</span>
<span class="nv">result</span><span class="o">=</span><span class="m">20</span>/3
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Result: </span><span class="nv">$result</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># 6 (integer division)</span>

<span class="c1"># Use in loops</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span>i
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..5<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;i = </span><span class="nv">$i</span><span class="s2">, i*2 = </span><span class="k">$((</span><span class="nv">i</span><span class="o">*</span><span class="m">2</span><span class="k">))</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># Automatic base conversion</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span>hex
<span class="nv">hex</span><span class="o">=</span>0xff
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$hex</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 255</span>

<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span>octal
<span class="nv">octal</span><span class="o">=</span><span class="m">0755</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$octal</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 493</span>
</code></pre></div>

<h3 id="_27">ì½ê¸° ì „ìš© ë³€ìˆ˜<a class="header-link" href="#_27" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Readonly variables (constants)</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">APP_NAME</span><span class="o">=</span><span class="s2">&quot;MyApp&quot;</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">AUTHOR</span><span class="o">=</span><span class="s2">&quot;Your Name&quot;</span>

<span class="c1"># Multiple readonly declarations</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">MAX_CONNECTIONS</span><span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">TIMEOUT</span><span class="o">=</span><span class="m">30</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">RETRY_COUNT</span><span class="o">=</span><span class="m">3</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$APP_NAME</span><span class="s2"> v</span><span class="nv">$VERSION</span><span class="s2"> by </span><span class="nv">$AUTHOR</span><span class="s2">&quot;</span>

<span class="c1"># Check if variable is readonly</span>
<span class="k">if</span><span class="w"> </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>APP_NAME<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-q<span class="w"> </span><span class="s1">&#39;declare -r&#39;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;APP_NAME is readonly&quot;</span>
<span class="k">fi</span>

<span class="c1"># Attempt to modify causes error</span>
<span class="c1"># APP_NAME=&quot;NewName&quot;  # bash: APP_NAME: readonly variable</span>

<span class="c1"># Make existing variable readonly</span>
<span class="nv">config_file</span><span class="o">=</span><span class="s2">&quot;/etc/app/config.yml&quot;</span>
<span class="nb">readonly</span><span class="w"> </span>config_file
<span class="c1"># config_file=&quot;/tmp/config&quot;  # Error: readonly variable</span>
</code></pre></div>

<h3 id="_28">ëŒ€ì†Œë¬¸ì ë³€í™˜ ì†ì„±<a class="header-link" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Automatic lowercase</span>
<span class="nb">declare</span><span class="w"> </span>-l<span class="w"> </span>email
<span class="nv">email</span><span class="o">=</span><span class="s2">&quot;User@EXAMPLE.COM&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># user@example.com</span>

<span class="c1"># Automatic uppercase</span>
<span class="nb">declare</span><span class="w"> </span>-u<span class="w"> </span>env_name
<span class="nv">env_name</span><span class="o">=</span><span class="s2">&quot;production&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$env_name</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># PRODUCTION</span>

<span class="c1"># Use in functions for input normalization</span>
process_input<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">declare</span><span class="w"> </span>-l<span class="w"> </span><span class="nv">normalized</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$normalized</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>yes<span class="p">|</span>y<span class="p">|</span>true<span class="p">|</span><span class="m">1</span><span class="o">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>no<span class="p">|</span>n<span class="p">|</span>false<span class="p">|</span><span class="m">0</span><span class="o">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid input: </span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="o">}</span>

process_input<span class="w"> </span><span class="s2">&quot;YES&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Confirmed&quot;</span>
process_input<span class="w"> </span><span class="s2">&quot;No&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This won&#39;t print&quot;</span>
</code></pre></div>

<h3 id="_29">ì´ë¦„ ì°¸ì¡° ë³€ìˆ˜<a class="header-link" href="#_29" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Nameref: reference to another variable</span>
<span class="nv">original</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span>
<span class="nb">declare</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">reference</span><span class="o">=</span>original

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$reference</span><span class="s2">&quot;</span><span class="w">    </span><span class="c1"># Hello</span>
<span class="nv">reference</span><span class="o">=</span><span class="s2">&quot;World&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$original</span><span class="s2">&quot;</span><span class="w">     </span><span class="c1"># World</span>

<span class="c1"># Use in functions to modify caller&#39;s variables</span>
increment_var<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">var_ref</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nv">var_ref</span><span class="o">=</span><span class="k">$((</span><span class="nv">var_ref</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
<span class="o">}</span>

<span class="nv">counter</span><span class="o">=</span><span class="m">10</span>
increment_var<span class="w"> </span>counter
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$counter</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 11</span>

<span class="c1"># Swap variables</span>
swap<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">b</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">temp</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">a</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">b</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$temp</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">x</span><span class="o">=</span><span class="m">5</span>
<span class="nv">y</span><span class="o">=</span><span class="m">10</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Before: x=</span><span class="nv">$x</span><span class="s2">, y=</span><span class="nv">$y</span><span class="s2">&quot;</span>
swap<span class="w"> </span>x<span class="w"> </span>y
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;After: x=</span><span class="nv">$x</span><span class="s2">, y=</span><span class="nv">$y</span><span class="s2">&quot;</span>
<span class="c1"># Before: x=5, y=10</span>
<span class="c1"># After: x=10, y=5</span>

<span class="c1"># Pass arrays by reference</span>
sum_array<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">arr</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>element

<span class="w">    </span><span class="k">for</span><span class="w"> </span>element<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">sum</span><span class="o">=</span><span class="k">$((</span><span class="nv">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">element</span><span class="k">))</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$sum</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="nv">numbers</span><span class="o">=(</span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="o">)</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>sum_array<span class="w"> </span>numbers<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Sum: </span><span class="nv">$result</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 15</span>
</code></pre></div>

<h3 id="_30">ë³€ìˆ˜ ê²€ì‚¬<a class="header-link" href="#_30" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Print variable declarations</span>
<span class="nb">declare</span><span class="w"> </span>-i<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">5</span>
<span class="nb">declare</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span>
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">files</span><span class="o">=(</span>a.txt<span class="w"> </span>b.txt<span class="o">)</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span><span class="nv">config</span><span class="o">=([</span>host<span class="o">]=</span>localhost<span class="o">)</span>

<span class="c1"># Print specific variable</span>
<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>count
<span class="c1"># declare -i count=&quot;5&quot;</span>

<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span>VERSION
<span class="c1"># declare -r VERSION=&quot;1.0&quot;</span>

<span class="c1"># Print all variables</span>
<span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-20

<span class="c1"># Print only exported variables</span>
<span class="nb">declare</span><span class="w"> </span>-px

<span class="c1"># Print all functions</span>
<span class="nb">declare</span><span class="w"> </span>-F

<span class="c1"># Print specific function</span>
<span class="nb">declare</span><span class="w"> </span>-f<span class="w"> </span>sum_array

<span class="c1"># Check variable attributes</span>
is_readonly<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-q<span class="w"> </span><span class="s1">&#39;declare -r&#39;</span>
<span class="o">}</span>

is_integer<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">declare</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-q<span class="w"> </span><span class="s1">&#39;declare -i&#39;</span>
<span class="o">}</span>

is_readonly<span class="w"> </span><span class="s2">&quot;VERSION&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;VERSION is readonly&quot;</span>
is_integer<span class="w"> </span><span class="s2">&quot;count&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;count is integer&quot;</span>
</code></pre></div>

<h2 id="8">8. ì‹¤ì „ íŒ¨í„´<a class="header-link" href="#8" title="Permanent link">&para;</a></h2>
<h3 id="url">URL íŒŒì„œ<a class="header-link" href="#url" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Complete URL parser using parameter expansion</span>
parse_url<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">url</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Extract protocol</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">%%://*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">rest</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">#*://</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Extract credentials if present</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">credentials</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">user</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">password</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$rest</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*@*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">credentials</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">%%@*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">rest</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">#*@</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">user</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">credentials</span><span class="p">%%:*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">password</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">credentials</span><span class="p">#*:</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># Extract host and port</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">host_port</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">%%/*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">host_port</span><span class="p">%%:*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">port</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">host_port</span><span class="p">#*:</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$port</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$host</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">port</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w">  </span><span class="c1"># No port specified</span>

<span class="w">    </span><span class="c1"># Extract path</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path_query</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">rest</span><span class="p">#*/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path_query</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$rest</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">path_query</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w">  </span><span class="c1"># No path</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;/</span><span class="si">${</span><span class="nv">path_query</span><span class="p">%%</span><span class="se">\?</span><span class="p">*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/</span><span class="nv">$path_query</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;/</span><span class="si">${</span><span class="nv">path_query</span><span class="p">%%#*</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Extract query string</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">query</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path_query</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*<span class="se">\?</span>*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">query</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path_query</span><span class="p">#*</span><span class="se">\?</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">query</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">query</span><span class="p">%%#*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># Extract fragment</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">fragment</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$url</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*#*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">fragment</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">url</span><span class="p">##*#</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># Print results</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;URL: </span><span class="nv">$url</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Protocol: </span><span class="nv">$protocol</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$user</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  User: </span><span class="nv">$user</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$password</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Password: </span><span class="si">${</span><span class="nv">password</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">3</span><span class="si">}</span><span class="s2">***&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Host: </span><span class="nv">$host</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$port</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Port: </span><span class="nv">$port</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Path: </span><span class="nv">$path</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$query</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Query: </span><span class="nv">$query</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$fragment</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Fragment: </span><span class="nv">$fragment</span><span class="s2">&quot;</span>
<span class="o">}</span>

parse_url<span class="w"> </span><span class="s2">&quot;https://user:pass@example.com:8080/path/to/resource.html?key=value&amp;foo=bar#section&quot;</span>
</code></pre></div>

<h3 id="_31">ì„¤ì • íŒŒì¼ íŒŒì„œ<a class="header-link" href="#_31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Parse key=value config files</span>
parse_config<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">config_file</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">config_array</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span>line<span class="w"> </span>key<span class="w"> </span>value
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Skip empty lines and comments</span>
<span class="w">        </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[[</span>:space:<span class="o">]]</span>*$<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">continue</span>
<span class="w">        </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[[</span>:space:<span class="o">]]</span>*#<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">continue</span>

<span class="w">        </span><span class="c1"># Remove inline comments</span>
<span class="w">        </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">%%#*</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Trim whitespace</span>
<span class="w">        </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">#</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">%%[![:</span><span class="nv">space</span><span class="p">:]]*</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">line</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">%</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">##*[![:</span><span class="nv">space</span><span class="p">:]]</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Parse key=value</span>
<span class="w">        </span><span class="nv">key</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">%%=*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">line</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Trim key and value</span>
<span class="w">        </span><span class="nv">key</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">key</span><span class="p">#</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">key</span><span class="p">%%[![:</span><span class="nv">space</span><span class="p">:]]*</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">key</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">key</span><span class="p">%</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">key</span><span class="p">##*[![:</span><span class="nv">space</span><span class="p">:]]</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">#</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">%%[![:</span><span class="nv">space</span><span class="p">:]]*</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">%</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">##*[![:</span><span class="nv">space</span><span class="p">:]]</span><span class="si">}</span><span class="s2">&quot;</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Remove quotes from value</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$value</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="se">\&quot;</span>.*<span class="se">\&quot;</span>$<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$value</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="se">\&#39;</span>.*<span class="se">\&#39;</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">value</span><span class="p">:</span><span class="nv">1</span><span class="k">:-</span><span class="nv">1</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="c1"># Store in associative array</span>
<span class="w">        </span>config_array<span class="o">[</span><span class="s2">&quot;</span><span class="nv">$key</span><span class="s2">&quot;</span><span class="o">]=</span><span class="s2">&quot;</span><span class="nv">$value</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_file</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>config

cat<span class="w"> </span>&gt;<span class="w"> </span>test_config.conf<span class="w"> </span><span class="s">&lt;&lt;&#39;EOF&#39;</span>
<span class="s"># Database configuration</span>
<span class="s">db_host = localhost</span>
<span class="s">db_port = 5432</span>
<span class="s">db_name = &quot;myapp&quot;</span>

<span class="s"># Application settings</span>
<span class="s">app_name = My Application</span>
<span class="s">log_level = INFO  # inline comment</span>
<span class="s">timeout = 30</span>
<span class="s">EOF</span>

parse_config<span class="w"> </span><span class="s2">&quot;test_config.conf&quot;</span><span class="w"> </span>config

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Configuration loaded:&quot;</span>
<span class="k">for</span><span class="w"> </span>key<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!config[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$key</span><span class="s2"> = </span><span class="si">${</span><span class="nv">config</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>

rm<span class="w"> </span>test_config.conf
</code></pre></div>

<h3 id="_32">ê²½ë¡œ ì¡°ì‘ ë„êµ¬í‚·<a class="header-link" href="#_32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Complete path manipulation library</span>

<span class="c1"># Get absolute path</span>
abspath<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/</span><span class="nv">$path</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Get directory name (like dirname)</span>
dirname<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Remove trailing slashes</span>
<span class="w">    </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">%/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Get directory part</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">dir</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">%/*</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># If no directory part, return .</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$dir</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">dir</span><span class="o">=</span><span class="s2">&quot;.&quot;</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$dir</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Get filename (like basename)</span>
basename<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">suffix</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Remove trailing slashes</span>
<span class="w">    </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">%/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Get filename</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Remove suffix if provided</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$suffix</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="p">%</span><span class="nv">$suffix</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Get file extension</span>
get_extension<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># No extension if no dot or starts with dot</span>
<span class="w">    </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span>*.*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">return</span>
<span class="w">    </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>.*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">return</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">name</span><span class="p">##*.</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Remove extension</span>
remove_extension<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Replace extension</span>
replace_extension<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">new_ext</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">base</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">%.*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">base</span><span class="si">}</span><span class="s2">.</span><span class="si">${</span><span class="nv">new_ext</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Join paths</span>
join_path<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;/&#39;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">joined</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Remove duplicate slashes</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$joined</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>//<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">joined</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">joined</span><span class="p">//</span><span class="se">\/\/</span><span class="p">/</span><span class="se">\/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$joined</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Normalize path (remove ./ and ../)</span>
normalize_path<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;/&#39;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">parts</span><span class="o">=(</span><span class="nv">$path</span><span class="o">)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">result</span><span class="o">=()</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>part<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">parts</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$part</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>.<span class="p">|</span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">                </span><span class="k">continue</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>..<span class="o">)</span>
<span class="w">                </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">result</span><span class="p">[@]</span><span class="si">}</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">unset</span><span class="w"> </span><span class="s1">&#39;result[-1]&#39;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">result</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$part</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">normalized</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">result</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">path</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">normalized</span><span class="o">=</span><span class="s2">&quot;/</span><span class="nv">$normalized</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$normalized</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Test the toolkit</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== Path Manipulation Toolkit ===&quot;</span>
<span class="nv">path</span><span class="o">=</span><span class="s2">&quot;/usr/local/bin/script.sh&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Original: </span><span class="nv">$path</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Directory: </span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Filename: </span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Extension: </span><span class="k">$(</span>get_extension<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Without ext: </span><span class="k">$(</span>remove_extension<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Replace ext: </span><span class="k">$(</span>replace_extension<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;bash&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Join: </span><span class="k">$(</span>join_path<span class="w"> </span><span class="s2">&quot;/usr&quot;</span><span class="w"> </span><span class="s2">&quot;local&quot;</span><span class="w"> </span><span class="s2">&quot;bin&quot;</span><span class="w"> </span><span class="s2">&quot;test.sh&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Normalize: </span><span class="k">$(</span>normalize_path<span class="w"> </span><span class="s2">&quot;/usr/./local/../local/bin//script.sh&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="_33">ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#_33" title="Permanent link">&para;</a></h2>
<h3 id="1_1">ë¬¸ì œ 1: ê³ ê¸‰ íŒŒì¼ ì´ë¦„ ì²˜ë¦¬ê¸°<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ íŒŒì¼ ì´ë¦„ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì„¸ìš”:
- ë‹¤ì–‘í•œ í˜•ì‹ì˜ ë‚ ì§œ ìŠ¤íƒ¬í”„ ì¶”ì¶œ (YYYYMMDD, YYYY-MM-DD, YYYY_MM_DD)
- ë‚ ì§œ ìŠ¤íƒ¬í”„ ì œê±° ë˜ëŠ” ì •ê·œí™”
- ë²„ì „ ë²ˆí˜¸ ì¶”ì¶œ (v1.0, version-2.3.4 ë“±)
- íŒŒì¼ ì´ë¦„ ì •ë¦¬ (íŠ¹ìˆ˜ ë¬¸ì ì œê±°, ê³µë°± ì •ê·œí™”)
- í˜„ì¬ ë‚ ì§œ/ë²„ì „ìœ¼ë¡œ ìƒˆ íŒŒì¼ ì´ë¦„ ìƒì„±</p>
<p><strong>ì˜ˆì œ</strong>:</p>
<div class="highlight"><pre><span></span><code>process_filename<span class="w"> </span><span class="s2">&quot;report_20240213_v1.3.pdf&quot;</span>
<span class="c1"># Date: 2024-02-13</span>
<span class="c1"># Version: 1.3</span>
<span class="c1"># Base: report</span>
<span class="c1"># Extension: pdf</span>
<span class="c1"># Normalized: report_2024-02-13_v1.3.pdf</span>
</code></pre></div>

<h3 id="2_1">ë¬¸ì œ 2: í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ê¸°<a class="header-link" href="#2_1" title="Permanent link">&para;</a></h3>
<p>í™˜ê²½ ë³€ìˆ˜ë¥¼ ê²€ì¦í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“œì„¸ìš”:
- í•„ìˆ˜ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆê³  ë¹„ì–´ìˆì§€ ì•Šì€ì§€ í™•ì¸
- ë³€ìˆ˜ íƒ€ì… ê²€ì¦ (ì •ìˆ˜, ë¶€ìš¸, ì—´ê±°í˜•)
- ê°’ ë²”ìœ„ ë° ì œì•½ ì¡°ê±´ í™•ì¸
- ì œì•ˆì„ í¬í•¨í•œ ìƒì„¸í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì œê³µ
- .env íŒŒì¼ì—ì„œ ë¡œë“œ ì§€ì›</p>
<p><strong>ì˜ˆì œ</strong>:</p>
<div class="highlight"><pre><span></span><code>validate_env<span class="w"> </span>PORT<span class="w">        </span>--type<span class="w"> </span>int<span class="w"> </span>--range<span class="w"> </span><span class="m">1024</span>-65535<span class="w"> </span>--required
validate_env<span class="w"> </span>DEBUG<span class="w">       </span>--type<span class="w"> </span>bool<span class="w"> </span>--default<span class="w"> </span><span class="nb">false</span>
validate_env<span class="w"> </span>ENVIRONMENT<span class="w"> </span>--type<span class="w"> </span>enum<span class="w"> </span>--values<span class="w"> </span><span class="s2">&quot;dev,staging,prod&quot;</span><span class="w"> </span>--required
validate_env<span class="w"> </span>API_KEY<span class="w">     </span>--type<span class="w"> </span>string<span class="w"> </span>--min-length<span class="w"> </span><span class="m">32</span><span class="w"> </span>--required
</code></pre></div>

<h3 id="3_1">ë¬¸ì œ 3: ê³ ê¸‰ ì„¤ì • íŒŒì¼ ê´€ë¦¬ì<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ì„¤ì • íŒŒì¼ ê´€ë¦¬ìë¥¼ ì‘ì„±í•˜ì„¸ìš”:
- ì„¹ì…˜ì´ ìˆëŠ” INI ìŠ¤íƒ€ì¼ ì„¤ì • íŒŒì¼ ì½ê¸°
- ì—¬ëŸ¬ ë°ì´í„° íƒ€ì… ì§€ì› (ë¬¸ìì—´, ì •ìˆ˜, ë¶€ìš¸, ë°°ì—´)
- ì¤‘ì²© ì„¹ì…˜ í—ˆìš© (section.subsection.key)
- get/set ì—°ì‚° ì œê³µ
- ìŠ¤í‚¤ë§ˆì— ëŒ€í•œ ê°’ ê²€ì¦
- ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ ë³‘í•©</p>
<p><strong>ì˜ˆì œ ì„¤ì •</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="k">[database]</span>
<span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">localhost</span>
<span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">5432</span>
<span class="na">databases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[&quot;app&quot;, &quot;cache&quot;, &quot;logs&quot;]</span>

<span class="k">[database.pool]</span>
<span class="na">min_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">5</span>
<span class="na">max_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20</span>
</code></pre></div>

<h3 id="4_1">ë¬¸ì œ 4: ë¬¸ìì—´ í…œí”Œë¦¿ ì—”ì§„<a class="header-link" href="#4_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ê°„ë‹¨í•œ í…œí”Œë¦¿ ì—”ì§„ì„ ë§Œë“œì„¸ìš”:
- ë³€ìˆ˜ ì¹˜í™˜: <code>Hello {{name}}!</code>
- ê¸°ë³¸ê°’ ì§€ì›: <code>{{var:default}}</code>
- ì¡°ê±´ë¶€ ì„¹ì…˜: <code>{{#if var}}...{{/if}}</code>
- ë°˜ë³µ: <code>{{#each items}}...{{/each}}</code>
- í•„í„°: <code>{{name | uppercase}}</code>
- ì´ìŠ¤ì¼€ì´í•‘: <code>{{!raw}}</code></p>
<p><strong>ì˜ˆì œ</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="nv">template</span><span class="o">=</span><span class="s1">&#39;Hello {{name:Guest}}! {{#if premium}}Welcome premium member{{/if}}&#39;</span>
render<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$template</span><span class="s2">&quot;</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="w"> </span><span class="nv">premium</span><span class="o">=</span><span class="nb">true</span>
<span class="c1"># Output: Hello John! Welcome premium member</span>
</code></pre></div>

<h3 id="5_1">ë¬¸ì œ 5: ê²½ë¡œ í•´ê²° ë¼ì´ë¸ŒëŸ¬ë¦¬<a class="header-link" href="#5_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ê²½ë¡œ í•´ê²° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ êµ¬í˜„í•˜ì„¸ìš”:
- ìƒëŒ€ ê²½ë¡œë¥¼ ì ˆëŒ€ ê²½ë¡œë¡œ í•´ê²°
- ì‹¬ë³¼ë¦­ ë§í¬ ì²˜ë¦¬
- ìˆœí™˜ ì‹¬ë³¼ë¦­ ë§í¬ ê°ì§€
- PATHì—ì„œ íŒŒì¼ ì°¾ê¸°
- ë³€ìˆ˜ê°€ í¬í•¨ëœ ê²½ë¡œ í•´ê²° ($HOME, ~ ë“±)
- í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì› (Windows ê²½ë¡œ ì²˜ë¦¬)
- ì•ˆì „ì„± ê²€ì‚¬ (ë””ë ‰í„°ë¦¬ ìˆœíšŒ ë°©ì§€)</p>
<p><strong>ì˜ˆì œ</strong>:</p>
<div class="highlight"><pre><span></span><code>resolve_path<span class="w"> </span><span class="s2">&quot;~/Documents/../Downloads/./file.txt&quot;</span>
<span class="c1"># /home/user/Downloads/file.txt</span>

find_in_path<span class="w"> </span><span class="s2">&quot;python3&quot;</span>
<span class="c1"># /usr/bin/python3</span>

is_subpath<span class="w"> </span><span class="s2">&quot;/var/www/html&quot;</span><span class="w"> </span><span class="s2">&quot;/var/www/html/../../../../etc/passwd&quot;</span>
<span class="c1"># Error: Directory traversal detected</span>
</code></pre></div>

<hr />
<p><strong>ì´ì „</strong>: <a href="./01_Shell_Fundamentals.md">01_Shell_Fundamentals.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./03_Arrays_and_Data.md">03_Arrays_and_Data.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/01_Shell_Fundamentals.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Shell ê¸°ì´ˆì™€ ì‹¤í–‰ í™˜ê²½</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/03_Arrays_and_Data.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë°°ì—´ê³¼ ë°ì´í„° êµ¬ì¡° â­â­</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}