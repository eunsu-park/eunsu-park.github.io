{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Control Flow ‚≠ê‚≠ê - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        ÌïúÍµ≠Ïñ¥
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Shell_Script/">Shell Script</a>
    <span class="separator">/</span>
    <span class="current">Advanced Control Flow ‚≠ê‚≠ê</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Advanced Control Flow ‚≠ê‚≠ê</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/03_Arrays_and_Data.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Î∞∞Ïó¥Í≥º Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ ‚≠ê‚≠ê</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/05_Functions_and_Libraries.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Î†àÏä® 05: Ìï®ÏàòÏôÄ ÎùºÏù¥Î∏åÎü¨Î¶¨(Functions and Libraries)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-test-commands-comparison">1. Test Commands Comparison</a><ul>
<li><a href="#the-three-test-constructs">The Three Test Constructs</a></li>
<li><a href="#comprehensive-comparison-table">Comprehensive Comparison Table</a></li>
<li><a href="#when-to-use-each">When to Use Each</a></li>
<li><a href="#dangerous-patterns-with">Dangerous Patterns with [ ]</a></li>
</ul>
</li>
<li><a href="#2-advanced-features">2. [[ ]] Advanced Features</a><ul>
<li><a href="#pattern-matching">Pattern Matching</a></li>
<li><a href="#regex-matching">Regex Matching</a></li>
<li><a href="#string-comparison">String Comparison</a></li>
<li><a href="#logical-operators">Logical Operators</a></li>
<li><a href="#preventing-word-splitting-and-globbing">Preventing Word Splitting and Globbing</a></li>
</ul>
</li>
<li><a href="#3-arithmetic-evaluation">3. Arithmetic Evaluation</a><ul>
<li><a href="#arithmetic-methods-comparison">Arithmetic Methods Comparison</a></li>
<li><a href="#comparison-of-arithmetic-methods">Comparison of Arithmetic Methods</a></li>
<li><a href="#arithmetic-expansion">$(( )) Arithmetic Expansion</a></li>
<li><a href="#let-command">let Command</a></li>
<li><a href="#arithmetic-evaluation">(( )) Arithmetic Evaluation</a></li>
<li><a href="#integer-limitations-and-overflow">Integer Limitations and Overflow</a></li>
</ul>
</li>
<li><a href="#4-floating-point-with-bc">4. Floating Point with bc</a><ul>
<li><a href="#basic-bc-usage">Basic bc Usage</a></li>
<li><a href="#here-document-with-bc">Here-Document with bc</a></li>
<li><a href="#comparison-idiom">Comparison Idiom</a></li>
<li><a href="#practical-calculations">Practical Calculations</a></li>
</ul>
</li>
<li><a href="#5-extended-globbing-extglob">5. Extended Globbing (extglob)</a><ul>
<li><a href="#enabling-extglob">Enabling extglob</a></li>
<li><a href="#extended-glob-patterns">Extended Glob Patterns</a></li>
<li><a href="#file-matching-examples">File Matching Examples</a></li>
<li><a href="#using-in-case-statements">Using in case Statements</a></li>
</ul>
</li>
<li><a href="#6-select-menu">6. select Menu</a><ul>
<li><a href="#basic-select-menu">Basic select Menu</a></li>
<li><a href="#custom-ps3-prompt">Custom PS3 Prompt</a></li>
<li><a href="#input-validation">Input Validation</a></li>
<li><a href="#nested-menus">Nested Menus</a></li>
<li><a href="#combining-select-with-case">Combining select with case</a></li>
</ul>
</li>
<li><a href="#7-advanced-case-patterns">7. Advanced case Patterns</a><ul>
<li><a href="#multiple-patterns">Multiple Patterns</a></li>
<li><a href="#character-ranges">Character Ranges</a></li>
<li><a href="#glob-patterns">Glob Patterns</a></li>
<li><a href="#extended-glob-in-case-requires-extglob">Extended Glob in case (requires extglob)</a></li>
<li><a href="#fall-through-and">Fall-Through (;&amp; and ;;&amp;)</a></li>
<li><a href="#http-status-code-example">HTTP Status Code Example</a></li>
</ul>
</li>
<li><a href="#8-flow-control-patterns">8. Flow Control Patterns</a><ul>
<li><a href="#retry-loop-with-backoff">Retry Loop with Backoff</a></li>
<li><a href="#state-machine">State Machine</a></li>
<li><a href="#dispatch-table">Dispatch Table</a></li>
<li><a href="#circuit-breaker-pattern">Circuit Breaker Pattern</a></li>
</ul>
</li>
<li><a href="#practice-problems">Practice Problems</a><ul>
<li><a href="#problem-1-advanced-input-validator">Problem 1: Advanced Input Validator</a></li>
<li><a href="#problem-2-expression-evaluator">Problem 2: Expression Evaluator</a></li>
<li><a href="#problem-3-pattern-matcher">Problem 3: Pattern Matcher</a></li>
<li><a href="#problem-4-interactive-wizard">Problem 4: Interactive Wizard</a></li>
<li><a href="#problem-5-smart-retry-system">Problem 5: Smart Retry System</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="advanced-control-flow">Advanced Control Flow ‚≠ê‚≠ê<a class="header-link" href="#advanced-control-flow" title="Permanent link">&para;</a></h1>
<p><strong>Ïù¥Ï†Ñ</strong>: <a href="./03_Arrays_and_Data.md">03_Arrays_and_Data.md</a> | <strong>Îã§Ïùå</strong>: <a href="./05_Functions_and_Libraries.md">05_Functions_and_Libraries.md</a></p>
<hr />
<p>Ïù¥ Î†àÏä®ÏùÄ bashÏùò Í≥†Í∏â Ï†úÏñ¥ ÌùêÎ¶Ñ Íµ¨Ï°∞Î•º Îã§Î£πÎãàÎã§. Îã§ÏñëÌïú ÌÖåÏä§Ìä∏ Î™ÖÎ†π Î≥ÄÌòï, ÏÇ∞Ïà† ÌèâÍ∞Ä, Ìå®ÌÑ¥ Îß§Ïπ≠, ÎåÄÌôîÌòï Î©îÎâ¥, Í∑∏Î¶¨Í≥† Ï†ïÍµêÌïú ÌùêÎ¶Ñ Ï†úÏñ¥ Ìå®ÌÑ¥ÏùÑ Ìè¨Ìï®Ìï©ÎãàÎã§.</p>
<h2 id="1-test-commands-comparison">1. Test Commands Comparison<a class="header-link" href="#1-test-commands-comparison" title="Permanent link">&para;</a></h2>
<p>BashÎäî Ï°∞Í±¥ÏùÑ ÌÖåÏä§Ìä∏ÌïòÎäî Ïó¨Îü¨ Í∞ÄÏßÄ Î∞©Î≤ïÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. Ïù¥Îì§Ïùò Ï∞®Ïù¥Ï†êÏùÑ Ïù¥Ìï¥ÌïòÎäî Í≤ÉÏùÄ Ïò¨Î∞îÎ•¥Í≥† Ìö®Ïú®Ï†ÅÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏Î•º ÏûëÏÑ±ÌïòÎäî Îç∞ Ï§ëÏöîÌï©ÎãàÎã§.</p>
<h3 id="the-three-test-constructs">The Three Test Constructs<a class="header-link" href="#the-three-test-constructs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># 1. [ ] - POSIX test command (alias for &#39;test&#39;)</span>
<span class="c1"># 2. [[ ]] - Bash keyword (extended test)</span>
<span class="c1"># 3. (( )) - Arithmetic evaluation</span>

<span class="c1"># [ ] - Single bracket (POSIX)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running as root&quot;</span>
<span class="k">fi</span>

<span class="c1"># [[ ]] - Double bracket (Bash)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running as root&quot;</span>
<span class="k">fi</span>

<span class="c1"># (( )) - Arithmetic</span>
<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="nv">UID</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running as root&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="comprehensive-comparison-table">Comprehensive Comparison Table<a class="header-link" href="#comprehensive-comparison-table" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Í∏∞Îä•</th>
<th><code>[ ]</code> (test)</th>
<th><code>[[ ]]</code> (keyword)</th>
<th><code>(( ))</code> (arithmetic)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>POSIX Compliant</strong></td>
<td>Yes</td>
<td>No (bash only)</td>
<td>No (bash only)</td>
</tr>
<tr>
<td><strong>Word Splitting</strong></td>
<td>Yes (dangerous)</td>
<td>No (safe)</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>Pathname Expansion</strong></td>
<td>Yes (dangerous)</td>
<td>No (safe)</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>Pattern Matching</strong></td>
<td>No</td>
<td>Yes (<code>==</code>, <code>!=</code> with globs)</td>
<td>No</td>
</tr>
<tr>
<td><strong>Regex Matching</strong></td>
<td>No</td>
<td>Yes (<code>=~</code>)</td>
<td>No</td>
</tr>
<tr>
<td><strong>String Comparison</strong></td>
<td><code>=</code>, <code>!=</code></td>
<td><code>=</code>, <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code></td>
<td>No</td>
</tr>
<tr>
<td><strong>Numeric Comparison</strong></td>
<td><code>-eq</code>, <code>-ne</code>, <code>-lt</code>, <code>-le</code>, <code>-gt</code>, <code>-ge</code></td>
<td>Same</td>
<td><code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></td>
</tr>
<tr>
<td><strong>Logical Operators</strong></td>
<td><code>-a</code>, <code>-o</code>, <code>!</code></td>
<td><code>&amp;&amp;</code>, <code>||</code>, <code>!</code></td>
<td><code>&amp;&amp;</code>, <code>||</code>, <code>!</code></td>
</tr>
<tr>
<td><strong>Grouping</strong></td>
<td><code>\( \)</code> (escaped)</td>
<td><code>( )</code> (normal)</td>
<td><code>( )</code> (normal)</td>
</tr>
<tr>
<td><strong>Variable Quoting</strong></td>
<td>Required</td>
<td>Optional</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Slower (external command)</td>
<td>Faster (builtin)</td>
<td>Fastest</td>
</tr>
</tbody>
</table>
<h3 id="when-to-use-each">When to Use Each<a class="header-link" href="#when-to-use-each" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Use [ ] for POSIX compatibility</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span>/etc/passwd<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password file exists&quot;</span>
<span class="k">fi</span>

<span class="c1"># Use [[ ]] for bash-specific features</span>
<span class="c1"># - Pattern matching</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.txt<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text file&quot;</span>
<span class="k">fi</span>

<span class="c1"># - Regex matching</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span>a-zA-Z0-9._%+-<span class="o">]</span>+@<span class="o">[</span>a-zA-Z0-9.-<span class="o">]</span>+<span class="se">\.</span><span class="o">[</span>a-zA-Z<span class="o">]{</span><span class="m">2</span>,<span class="o">}</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid email&quot;</span>
<span class="k">fi</span>

<span class="c1"># - Safe with unquoted variables</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w">  </span><span class="c1"># Safe even if $var is empty</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Match&quot;</span>
<span class="k">fi</span>

<span class="c1"># Use (( )) for arithmetic</span>
<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span>count<span class="w"> </span>&gt;<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Count exceeds 100&quot;</span>
<span class="k">fi</span>

<span class="c1"># - Complex arithmetic</span>
<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="o">(</span>x<span class="w"> </span>+<span class="w"> </span>y<span class="o">)</span><span class="w"> </span>*<span class="w"> </span><span class="m">2</span><span class="w"> </span>&gt;<span class="w"> </span>threshold<span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Calculation exceeds threshold&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="dangerous-patterns-with">Dangerous Patterns with [ ]<a class="header-link" href="#dangerous-patterns-with" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># DANGEROUS: Word splitting</span>
<span class="nv">file</span><span class="o">=</span><span class="s2">&quot;my document.txt&quot;</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Expands to: [ -f my document.txt ]</span>
<span class="w">              </span><span class="c1"># Error: too many arguments</span>

<span class="c1"># SAFE: Quote the variable</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Correct</span>

<span class="c1"># DANGEROUS: Glob expansion</span>
<span class="nv">pattern</span><span class="o">=</span><span class="s2">&quot;*.txt&quot;</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$pattern</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Expands to: [ -f file1.txt file2.txt ... ]</span>
<span class="w">                 </span><span class="c1"># Error: too many arguments</span>

<span class="c1"># SAFE: Quote or use [[</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pattern</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Checks for file literally named &quot;*.txt&quot;</span>
<span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$pattern</span><span class="w"> </span><span class="o">]]</span><span class="w">  </span><span class="c1"># No expansion, safe even unquoted</span>

<span class="c1"># DANGEROUS: Empty variables</span>
<span class="nv">var</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Expands to: [ = &quot;value&quot; ]</span>
<span class="w">                    </span><span class="c1"># Error: unary operator expected</span>

<span class="c1"># SAFE: Quote the variable</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># Correct</span>
<span class="o">[[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w">  </span><span class="c1"># Safe even unquoted</span>
</code></pre></div>

<h2 id="2-advanced-features">2. [[ ]] Advanced Features<a class="header-link" href="#2-advanced-features" title="Permanent link">&para;</a></h2>
<p>Ïù¥Ï§ë ÎåÄÍ¥ÑÌò∏Îäî Îã®Ïùº ÎåÄÍ¥ÑÌò∏ÏóêÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÎäî Í∞ïÎ†•Ìïú Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.</p>
<h3 id="pattern-matching">Pattern Matching<a class="header-link" href="#pattern-matching" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;document.txt&quot;</span>

<span class="c1"># Glob pattern matching with ==</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.txt<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text file&quot;</span>
<span class="k">fi</span>

<span class="c1"># Multiple patterns</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.txt<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.md<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Document file&quot;</span>
<span class="k">fi</span>

<span class="c1"># Negation</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span>*.log<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Not a log file&quot;</span>
<span class="k">fi</span>

<span class="c1"># Case-insensitive (with nocaseglob)</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nocaseglob
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*.TXT<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text file (case-insensitive)&quot;</span>
<span class="k">fi</span>
<span class="nb">shopt</span><span class="w"> </span>-u<span class="w"> </span>nocaseglob

<span class="c1"># Complex patterns (requires extglob)</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>+<span class="o">(</span>*.txt<span class="p">|</span>*.md<span class="p">|</span>*.rst<span class="o">)</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Documentation file&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="regex-matching">Regex Matching<a class="header-link" href="#regex-matching" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># =~ operator for regex matching</span>

<span class="c1"># Email validation</span>
<span class="nv">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span>a-zA-Z0-9._%+-<span class="o">]</span>+@<span class="o">[</span>a-zA-Z0-9.-<span class="o">]</span>+<span class="se">\.</span><span class="o">[</span>a-zA-Z<span class="o">]{</span><span class="m">2</span>,<span class="o">}</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid email&quot;</span>
<span class="k">fi</span>

<span class="c1"># Extract parts using BASH_REMATCH</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$email</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">([</span>^@<span class="o">]</span>+<span class="o">)</span>@<span class="o">(</span>.+<span class="o">)</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">username</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[1]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">domain</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Username: </span><span class="nv">$username</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Domain: </span><span class="nv">$domain</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="c1"># IP address validation</span>
<span class="nv">ip</span><span class="o">=</span><span class="s2">&quot;192.168.1.1&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ip</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">1</span>,3<span class="o">}</span><span class="se">\.</span><span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">1</span>,3<span class="o">}</span><span class="se">\.</span><span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">1</span>,3<span class="o">}</span><span class="se">\.</span><span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">1</span>,3<span class="o">}</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid IP format&quot;</span>
<span class="k">fi</span>

<span class="c1"># Phone number</span>
<span class="nv">phone</span><span class="o">=</span><span class="s2">&quot;(555) 123-4567&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$phone</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="se">\(</span><span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">3</span><span class="o">}</span><span class="se">\)\ </span><span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">3</span><span class="o">}</span>-<span class="o">[</span><span class="m">0</span>-9<span class="o">]{</span><span class="m">4</span><span class="o">}</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid phone number&quot;</span>
<span class="k">fi</span>

<span class="c1"># URL parsing</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">&quot;https://example.com:8080/path&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$url</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">(</span>https?://<span class="o">)</span>?<span class="o">([</span>^:/<span class="o">]</span>+<span class="o">)(</span>:<span class="o">([</span><span class="m">0</span>-9<span class="o">]</span>+<span class="o">))</span>?<span class="o">(</span>/.*<span class="o">)</span>?$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[1]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">host</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">port</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[4]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">path</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_REMATCH</span><span class="p">[5]</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Protocol: </span><span class="si">${</span><span class="nv">protocol</span><span class="k">:-</span><span class="nv">http</span><span class="p">://</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Host: </span><span class="nv">$host</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Port: </span><span class="si">${</span><span class="nv">port</span><span class="k">:-</span><span class="nv">80</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Path: </span><span class="si">${</span><span class="nv">path</span><span class="k">:-</span><span class="p">/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="string-comparison">String Comparison<a class="header-link" href="#string-comparison" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># [[ ]] supports &lt; and &gt; for lexicographic comparison</span>

<span class="nv">str1</span><span class="o">=</span><span class="s2">&quot;apple&quot;</span>
<span class="nv">str2</span><span class="o">=</span><span class="s2">&quot;banana&quot;</span>

<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2">&quot;</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2"> comes before </span><span class="nv">$str2</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$str1</span><span class="s2"> comes after </span><span class="nv">$str2</span><span class="s2">&quot;</span>
<span class="k">fi</span>

<span class="c1"># Version comparison (simple)</span>
<span class="nv">ver1</span><span class="o">=</span><span class="s2">&quot;1.2.3&quot;</span>
<span class="nv">ver2</span><span class="o">=</span><span class="s2">&quot;1.10.0&quot;</span>

<span class="c1"># This is lexicographic, not numeric!</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ver1</span><span class="s2">&quot;</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ver2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ver1</span><span class="s2"> &lt; </span><span class="nv">$ver2</span><span class="s2">&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ver1</span><span class="s2"> &gt;= </span><span class="nv">$ver2</span><span class="s2">&quot;</span>
<span class="k">fi</span>
<span class="c1"># Output: 1.2.3 &gt;= 1.10.0 (wrong! because &quot;2&quot; &gt; &quot;1&quot; lexicographically)</span>
</code></pre></div>

<h3 id="logical-operators">Logical Operators<a class="header-link" href="#logical-operators" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># &amp;&amp; (AND), || (OR), ! (NOT)</span>

<span class="nv">age</span><span class="o">=</span><span class="m">25</span>
<span class="nv">citizen</span><span class="o">=</span><span class="nb">true</span>

<span class="c1"># AND</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-ge<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$citizen</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eligible to vote&quot;</span>
<span class="k">fi</span>

<span class="c1"># OR</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">65</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Discounted ticket&quot;</span>
<span class="k">fi</span>

<span class="c1"># NOT</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>/tmp/lock<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No lock file&quot;</span>
<span class="k">fi</span>

<span class="c1"># Grouping</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>!<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$citizen</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>-f<span class="w"> </span>/tmp/register<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Need to register&quot;</span>
<span class="k">fi</span>

<span class="c1"># Complex conditions</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$env</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;prod&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$user</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$user</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Production admin access&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="preventing-word-splitting-and-globbing">Preventing Word Splitting and Globbing<a class="header-link" href="#preventing-word-splitting-and-globbing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># [[ ]] doesn&#39;t perform word splitting or glob expansion</span>

<span class="nv">files</span><span class="o">=</span><span class="s2">&quot;*.txt&quot;</span>
<span class="nv">sentence</span><span class="o">=</span><span class="s2">&quot;hello world&quot;</span>

<span class="c1"># With [ ], this would fail</span>
<span class="c1"># [ $sentence = &quot;hello world&quot; ]  # Error: too many arguments</span>

<span class="c1"># With [[ ]], it works fine</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$sentence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Match (unquoted variable works)&quot;</span>
<span class="k">fi</span>

<span class="c1"># No glob expansion</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;*.txt&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Literal match (no expansion)&quot;</span>
<span class="k">fi</span>

<span class="c1"># Still, quoting is good practice for clarity</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$files</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;*.txt&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Quoted match&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="3-arithmetic-evaluation">3. Arithmetic Evaluation<a class="header-link" href="#3-arithmetic-evaluation" title="Permanent link">&para;</a></h2>
<p>BashÎäî ÏÇ∞Ïà† Ïó∞ÏÇ∞ÏùÑ ÏàòÌñâÌïòÎäî Ïó¨Îü¨ Í∞ÄÏßÄ Î∞©Î≤ïÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.</p>
<h3 id="arithmetic-methods-comparison">Arithmetic Methods Comparison<a class="header-link" href="#arithmetic-methods-comparison" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Four methods for arithmetic</span>

<span class="c1"># 1. $(( )) - Arithmetic expansion (POSIX)</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$((</span><span class="m">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">3</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;5 + 3 = </span><span class="nv">$result</span><span class="s2">&quot;</span>

<span class="c1"># 2. let - Builtin command</span>
<span class="nb">let</span><span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="m">5</span>+3
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;5 + 3 = </span><span class="nv">$result</span><span class="s2">&quot;</span>

<span class="c1"># 3. (( )) - Arithmetic evaluation (returns exit status)</span>
<span class="o">((</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>+<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;5 + 3 = </span><span class="nv">$result</span><span class="s2">&quot;</span>

<span class="c1"># 4. expr - External command (deprecated, slow)</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>expr<span class="w"> </span><span class="m">5</span><span class="w"> </span>+<span class="w"> </span><span class="m">3</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;5 + 3 = </span><span class="nv">$result</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="comparison-of-arithmetic-methods">Comparison of Arithmetic Methods<a class="header-link" href="#comparison-of-arithmetic-methods" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Î∞©Î≤ï</th>
<th>POSIX</th>
<th>ÏÜçÎèÑ</th>
<th>ÏÇ¨Ïö© ÏÇ¨Î°Ä</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$(( ))</code></td>
<td>Yes</td>
<td>Fast</td>
<td>Calculations, assignments</td>
</tr>
<tr>
<td><code>let</code></td>
<td>No</td>
<td>Fast</td>
<td>Multiple assignments</td>
</tr>
<tr>
<td><code>(( ))</code></td>
<td>No</td>
<td>Fast</td>
<td>Conditionals, loops</td>
</tr>
<tr>
<td><code>expr</code></td>
<td>Yes</td>
<td>Slow</td>
<td>Avoid (legacy)</td>
</tr>
<tr>
<td><code>bc</code></td>
<td>External</td>
<td>Slow</td>
<td>Floating point</td>
</tr>
</tbody>
</table>
<h3 id="arithmetic-expansion">$(( )) Arithmetic Expansion<a class="header-link" href="#arithmetic-expansion" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Basic operations</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">3</span><span class="k">))</span><span class="w">      </span><span class="c1"># 8</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">10</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="k">))</span><span class="w">     </span><span class="c1"># 6</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">7</span><span class="k">))</span><span class="w">      </span><span class="c1"># 42</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">20</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="k">))</span><span class="w">     </span><span class="c1"># 6 (integer division)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">20</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">3</span><span class="k">))</span><span class="w">     </span><span class="c1"># 2 (modulo)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">2</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="m">10</span><span class="k">))</span><span class="w">    </span><span class="c1"># 1024 (exponentiation)</span>

<span class="c1"># Variables (no $ needed inside $(( )))</span>
<span class="nv">a</span><span class="o">=</span><span class="m">5</span>
<span class="nv">b</span><span class="o">=</span><span class="m">3</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">      </span><span class="c1"># 8</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span><span class="w">      </span><span class="c1"># 15</span>

<span class="c1"># Assignment</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">         </span><span class="c1"># 17</span>

<span class="c1"># Increment/decrement</span>
<span class="nv">count</span><span class="o">=</span><span class="m">10</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="o">++</span><span class="k">))</span><span class="w">    </span><span class="c1"># 10 (post-increment)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">          </span><span class="c1"># 11</span>

<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="o">++</span><span class="nv">count</span><span class="k">))</span><span class="w">    </span><span class="c1"># 12 (pre-increment)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">          </span><span class="c1"># 12</span>

<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="o">--</span><span class="k">))</span><span class="w">    </span><span class="c1"># 12 (post-decrement)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">          </span><span class="c1"># 11</span>

<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="o">--</span><span class="nv">count</span><span class="k">))</span><span class="w">    </span><span class="c1"># 10 (pre-decrement)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">          </span><span class="c1"># 10</span>

<span class="c1"># Compound assignment</span>
<span class="nv">count</span><span class="o">=</span><span class="m">5</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="m">3</span><span class="k">))</span><span class="w"> </span><span class="c1"># 8</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w"> </span><span class="c1"># 16</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="m">4</span><span class="k">))</span><span class="w"> </span><span class="c1"># 4</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">%=</span><span class="w"> </span><span class="m">3</span><span class="k">))</span><span class="w"> </span><span class="c1"># 1</span>

<span class="c1"># Bitwise operations</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">8</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="m">4</span><span class="k">))</span><span class="w">      </span><span class="c1"># 0 (AND)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="m">4</span><span class="k">))</span><span class="w">      </span><span class="c1"># 12 (OR)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">8</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="m">4</span><span class="k">))</span><span class="w">      </span><span class="c1"># 12 (XOR)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span>~8<span class="k">))</span><span class="w">         </span><span class="c1"># -9 (NOT)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">8</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w">     </span><span class="c1"># 32 (left shift)</span>
<span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="m">8</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w">     </span><span class="c1"># 2 (right shift)</span>

<span class="c1"># Ternary operator</span>
<span class="nv">age</span><span class="o">=</span><span class="m">20</span>
<span class="nv">status</span><span class="o">=</span><span class="k">$((</span><span class="nv">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">18</span><span class="w"> </span>?<span class="w"> </span><span class="m">1</span><span class="w"> </span>:<span class="w"> </span><span class="m">0</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$status</span><span class="w">         </span><span class="c1"># 1</span>
</code></pre></div>

<h3 id="let-command">let Command<a class="header-link" href="#let-command" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Multiple assignments</span>
<span class="nb">let</span><span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">b</span><span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="nv">c</span><span class="o">=</span><span class="m">15</span>

<span class="c1"># Arithmetic</span>
<span class="nb">let</span><span class="w"> </span><span class="s2">&quot;result = a + b * c&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 155</span>

<span class="c1"># No spaces around = when unquoted</span>
<span class="nb">let</span><span class="w"> </span><span class="nv">result</span><span class="o">=</span>a+b
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 15</span>

<span class="c1"># Increment</span>
<span class="nb">let</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">10</span>
<span class="nb">let</span><span class="w"> </span>count++
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">  </span><span class="c1"># 11</span>

<span class="c1"># Multiple operations</span>
<span class="nb">let</span><span class="w"> </span><span class="s2">&quot;x = 5&quot;</span><span class="w"> </span><span class="s2">&quot;y = 10&quot;</span><span class="w"> </span><span class="s2">&quot;z = x + y&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$z</span><span class="w">  </span><span class="c1"># 15</span>
</code></pre></div>

<h3 id="arithmetic-evaluation">(( )) Arithmetic Evaluation<a class="header-link" href="#arithmetic-evaluation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Used in conditionals (returns exit status)</span>
<span class="nv">count</span><span class="o">=</span><span class="m">5</span>

<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span>count<span class="w"> </span>&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Count is positive&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span>count<span class="w"> </span>&gt;<span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>count<span class="w"> </span>&lt;<span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Count in range&quot;</span>
<span class="k">fi</span>

<span class="c1"># Used in loops</span>
<span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>i&lt;<span class="m">5</span><span class="p">;</span><span class="w"> </span>i++<span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Iteration </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># Assignment</span>
<span class="o">((</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>+<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 8</span>

<span class="c1"># Multiple operations</span>
<span class="o">((</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>,<span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>a<span class="w"> </span>+<span class="w"> </span>b<span class="w"> </span><span class="o">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$c</span><span class="w">  </span><span class="c1"># 15</span>

<span class="c1"># As standalone command</span>
<span class="o">((</span><span class="w"> </span>count++<span class="w"> </span><span class="o">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$count</span><span class="w">  </span><span class="c1"># 6</span>
</code></pre></div>

<h3 id="integer-limitations-and-overflow">Integer Limitations and Overflow<a class="header-link" href="#integer-limitations-and-overflow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Bash uses signed long integers (typically 64-bit)</span>

<span class="c1"># Maximum value (2^63 - 1)</span>
<span class="nv">max</span><span class="o">=</span><span class="k">$((</span><span class="m">2</span><span class="o">**</span><span class="m">63</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Max: </span><span class="nv">$max</span><span class="s2">&quot;</span>
<span class="c1"># Max: 9223372036854775807</span>

<span class="c1"># Overflow wraps around</span>
<span class="nv">overflowed</span><span class="o">=</span><span class="k">$((</span><span class="nv">max</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Overflowed: </span><span class="nv">$overflowed</span><span class="s2">&quot;</span>
<span class="c1"># Overflowed: -9223372036854775808</span>

<span class="c1"># No floating point</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$((</span><span class="m">10</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 3 (not 3.333...)</span>

<span class="c1"># Division by zero</span>
<span class="c1"># echo $((5 / 0))  # Error: division by 0</span>
</code></pre></div>

<h2 id="4-floating-point-with-bc">4. Floating Point with bc<a class="header-link" href="#4-floating-point-with-bc" title="Permanent link">&para;</a></h2>
<p>Î∂ÄÎèôÏÜåÏàòÏ†ê ÏÇ∞Ïà†Ïùò Í≤ΩÏö∞ <code>bc</code> Í≥ÑÏÇ∞Í∏∞Î•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.</p>
<h3 id="basic-bc-usage">Basic bc Usage<a class="header-link" href="#basic-bc-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Simple calculation</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;10 / 3&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="w"> </span>-l<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 3.33333333333333333333</span>

<span class="c1"># Set precision (scale)</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; 10 / 3&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 3.33</span>

<span class="c1"># Multiple operations</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=4; (10 + 5) / 3&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 5.0000</span>

<span class="c1"># Using variables</span>
<span class="nv">a</span><span class="o">=</span><span class="m">10</span>
<span class="nv">b</span><span class="o">=</span><span class="m">3</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; </span><span class="nv">$a</span><span class="s2"> / </span><span class="nv">$b</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 3.33</span>
</code></pre></div>

<h3 id="here-document-with-bc">Here-Document with bc<a class="header-link" href="#here-document-with-bc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Multi-line bc script</span>
<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>bc<span class="w"> </span>-l<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">    scale=2</span>
<span class="s">    a = 10</span>
<span class="s">    b = 3</span>
<span class="s">    c = a / b</span>
<span class="s">    c * 100</span>
<span class="s">EOF</span>
<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$result</span><span class="w">  </span><span class="c1"># 333.33</span>

<span class="c1"># Complex calculation</span>
calculate_compound_interest<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">principal</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">rate</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="nv">$3</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">n</span><span class="o">=</span><span class="nv">$4</span><span class="w">  </span><span class="c1"># compounds per year</span>

<span class="w">    </span>bc<span class="w"> </span>-l<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">        scale=2</span>
<span class="s">        p = $principal</span>
<span class="s">        r = $rate / 100</span>
<span class="s">        t = $time</span>
<span class="s">        n = $n</span>
<span class="s">        a = p * (1 + r/n)^(n*t)</span>
<span class="s">        print a</span>
<span class="s">EOF</span>
<span class="o">}</span>

<span class="nv">amount</span><span class="o">=</span><span class="k">$(</span>calculate_compound_interest<span class="w"> </span><span class="m">1000</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">12</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Amount: \$</span><span class="nv">$amount</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="comparison-idiom">Comparison Idiom<a class="header-link" href="#comparison-idiom" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># bc returns 1 for true, 0 for false</span>

compare_float<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">op</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">b</span><span class="o">=</span><span class="nv">$3</span>

<span class="w">    </span><span class="nv">result</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> </span><span class="nv">$op</span><span class="s2"> </span><span class="nv">$b</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="w"> </span>-l<span class="k">)</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$result</span><span class="s2">&quot;</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="k">if</span><span class="w"> </span>compare_float<span class="w"> </span><span class="m">3</span>.14<span class="w"> </span><span class="s2">&quot;&gt;&quot;</span><span class="w"> </span><span class="m">3</span>.0<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3.14 &gt; 3.0&quot;</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span>compare_float<span class="w"> </span><span class="m">2</span>.5<span class="w"> </span><span class="s2">&quot;&lt;=&quot;</span><span class="w"> </span><span class="m">2</span>.5<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2.5 &lt;= 2.5&quot;</span>
<span class="k">fi</span>

<span class="c1"># Inline</span>
<span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3.14 &gt; 3.0&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="w"> </span>-l<span class="k">)</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3.14 &gt; 3.0&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="practical-calculations">Practical Calculations<a class="header-link" href="#practical-calculations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Percentage calculation</span>
calculate_percentage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">value</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">total</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; (</span><span class="nv">$value</span><span class="s2"> / </span><span class="nv">$total</span><span class="s2">) * 100&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

<span class="nv">score</span><span class="o">=</span><span class="k">$(</span>calculate_percentage<span class="w"> </span><span class="m">45</span><span class="w"> </span><span class="m">50</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Score: </span><span class="si">${</span><span class="nv">score</span><span class="si">}</span><span class="s2">%&quot;</span>

<span class="c1"># Average</span>
calculate_average<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">sum</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="nv">$#</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>num<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">sum</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$sum</span><span class="s2"> + </span><span class="nv">$num</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc<span class="k">)</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; </span><span class="nv">$sum</span><span class="s2"> / </span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

<span class="nv">avg</span><span class="o">=</span><span class="k">$(</span>calculate_average<span class="w"> </span><span class="m">85</span>.5<span class="w"> </span><span class="m">90</span>.0<span class="w"> </span><span class="m">78</span>.5<span class="w"> </span><span class="m">92</span>.0<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Average: </span><span class="nv">$avg</span><span class="s2">&quot;</span>

<span class="c1"># Temperature conversion</span>
celsius_to_fahrenheit<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">celsius</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; (</span><span class="nv">$celsius</span><span class="s2"> * 9/5) + 32&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

fahrenheit_to_celsius<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">fahrenheit</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; (</span><span class="nv">$fahrenheit</span><span class="s2"> - 32) * 5/9&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

<span class="nv">temp_f</span><span class="o">=</span><span class="k">$(</span>celsius_to_fahrenheit<span class="w"> </span><span class="m">25</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;25¬∞C = </span><span class="si">${</span><span class="nv">temp_f</span><span class="si">}</span><span class="s2">¬∞F&quot;</span>

<span class="nv">temp_c</span><span class="o">=</span><span class="k">$(</span>fahrenheit_to_celsius<span class="w"> </span><span class="m">77</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;77¬∞F = </span><span class="si">${</span><span class="nv">temp_c</span><span class="si">}</span><span class="s2">¬∞C&quot;</span>

<span class="c1"># Unit conversion</span>
miles_to_km<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; </span><span class="nv">$1</span><span class="s2"> * 1.60934&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

km_to_miles<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;scale=2; </span><span class="nv">$1</span><span class="s2"> / 1.60934&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
<span class="o">}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;10 miles = </span><span class="k">$(</span>miles_to_km<span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2"> km&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;10 km = </span><span class="k">$(</span>km_to_miles<span class="w"> </span><span class="m">10</span><span class="k">)</span><span class="s2"> miles&quot;</span>
</code></pre></div>

<h2 id="5-extended-globbing-extglob">5. Extended Globbing (extglob)<a class="header-link" href="#5-extended-globbing-extglob" title="Permanent link">&para;</a></h2>
<p>ÌôïÏû• Í∏ÄÎ°úÎπô(Extended Globbing)ÏùÄ Í∞ïÎ†•Ìïú Ìå®ÌÑ¥ Îß§Ïπ≠ Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.</p>
<h3 id="enabling-extglob">Enabling extglob<a class="header-link" href="#enabling-extglob" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Enable extended globbing</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob

<span class="c1"># Check if enabled</span>
<span class="nb">shopt</span><span class="w"> </span>-q<span class="w"> </span>extglob<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;extglob is enabled&quot;</span>
</code></pre></div>

<h3 id="extended-glob-patterns">Extended Glob Patterns<a class="header-link" href="#extended-glob-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob

<span class="c1"># ?(pattern) - Matches zero or one occurrence</span>
<span class="c1"># *(pattern) - Matches zero or more occurrences</span>
<span class="c1"># +(pattern) - Matches one or more occurrences</span>
<span class="c1"># @(pattern) - Matches exactly one occurrence</span>
<span class="c1"># !(pattern) - Matches anything except pattern</span>

<span class="c1"># Create test files</span>
touch<span class="w"> </span>file.txt<span class="w"> </span>file.log<span class="w"> </span>file.bak<span class="w"> </span>test.txt<span class="w"> </span>data.csv

<span class="c1"># ?(pattern) - zero or one</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>nullglob
<span class="nb">echo</span><span class="w"> </span>file.?<span class="o">(</span>txt<span class="p">|</span>log<span class="o">)</span>
<span class="c1"># file.txt file.log</span>

<span class="c1"># *(pattern) - zero or more</span>
<span class="c1"># Match files with any number of .bak extensions</span>
touch<span class="w"> </span>file.bak<span class="w"> </span>file.bak.bak
<span class="nb">echo</span><span class="w"> </span>*.*<span class="o">(</span>bak<span class="o">)</span>
<span class="c1"># Lists all files</span>

<span class="c1"># +(pattern) - one or more</span>
<span class="c1"># Match files ending with one or more digits</span>
touch<span class="w"> </span>file1.txt<span class="w"> </span>file22.txt<span class="w"> </span>file333.txt
<span class="nb">echo</span><span class="w"> </span>file+<span class="o">([</span><span class="m">0</span>-9<span class="o">])</span>.txt
<span class="c1"># file1.txt file22.txt file333.txt</span>

<span class="c1"># @(pattern) - exactly one</span>
<span class="nb">echo</span><span class="w"> </span>file.@<span class="o">(</span>txt<span class="p">|</span>log<span class="p">|</span>csv<span class="o">)</span>
<span class="c1"># file.txt file.log</span>

<span class="c1"># !(pattern) - negation</span>
<span class="nb">echo</span><span class="w"> </span>!<span class="o">(</span>*.txt<span class="o">)</span>
<span class="c1"># Lists all files except .txt files</span>

<span class="c1"># Clean up</span>
rm<span class="w"> </span>-f<span class="w"> </span>file.*<span class="w"> </span>test.txt<span class="w"> </span>data.csv
</code></pre></div>

<h3 id="file-matching-examples">File Matching Examples<a class="header-link" href="#file-matching-examples" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob

<span class="c1"># Remove all except specific types</span>
<span class="c1"># rm !(*.txt|*.log)  # Remove all except .txt and .log</span>

<span class="c1"># Match version numbers</span>
<span class="c1"># file-1.2.3.tar.gz</span>
<span class="c1"># file-+([0-9]).+([0-9]).+([0-9]).tar.gz</span>

<span class="c1"># Match optional prefix</span>
<span class="c1"># ?(pre-)test.txt matches both &quot;test.txt&quot; and &quot;pre-test.txt&quot;</span>

<span class="c1"># Match multiple extensions</span>
<span class="c1"># backup.@(tar.gz|zip|tar.bz2)</span>
</code></pre></div>

<h3 id="using-in-case-statements">Using in case Statements<a class="header-link" href="#using-in-case-statements" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob

<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.@<span class="o">(</span>jpg<span class="p">|</span>jpeg<span class="p">|</span>png<span class="p">|</span>gif<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Image file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>mp4<span class="p">|</span>avi<span class="p">|</span>mkv<span class="p">|</span>mov<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Video file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>mp3<span class="p">|</span>wav<span class="p">|</span>flac<span class="p">|</span>ogg<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Audio file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>txt<span class="p">|</span>md<span class="p">|</span>rst<span class="p">|</span>doc<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Document file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.+<span class="o">(</span>tar.@<span class="o">(</span>gz<span class="p">|</span>bz2<span class="p">|</span>xz<span class="o">)</span><span class="p">|</span>zip<span class="p">|</span>rar<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Archive file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>!<span class="o">(</span>*.<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No extension&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown file type&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h2 id="6-select-menu">6. select Menu<a class="header-link" href="#6-select-menu" title="Permanent link">&para;</a></h2>
<p><code>select</code> Î™ÖÎ†πÏùÄ ÎåÄÌôîÌòï Î©îÎâ¥Î•º ÏâΩÍ≤å ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§.</p>
<h3 id="basic-select-menu">Basic select Menu<a class="header-link" href="#basic-select-menu" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Simple menu</span>
<span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Install&quot;</span><span class="w"> </span><span class="s2">&quot;Update&quot;</span><span class="w"> </span><span class="s2">&quot;Remove&quot;</span><span class="w"> </span><span class="s2">&quot;Quit&quot;</span><span class="o">)</span>

<span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>Install<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installing...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>Update<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Updating...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>Remove<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Removing...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>Quit<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Goodbye!&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option </span><span class="nv">$REPLY</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="custom-ps3-prompt">Custom PS3 Prompt<a class="header-link" href="#custom-ps3-prompt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Customize the select prompt</span>
<span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Please select an option: &quot;</span>

<span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Start Server&quot;</span><span class="w"> </span><span class="s2">&quot;Stop Server&quot;</span><span class="w"> </span><span class="s2">&quot;Restart Server&quot;</span><span class="w"> </span><span class="s2">&quot;Exit&quot;</span><span class="o">)</span>

<span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span><span class="s2">&quot;Start Server&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting server...&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="s2">&quot;Stop Server&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Stopping server...&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="s2">&quot;Restart Server&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Restarting server...&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="s2">&quot;Exit&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Exiting...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option. Please try again.&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="input-validation">Input Validation<a class="header-link" href="#input-validation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Select environment: &quot;</span>

<span class="nv">environments</span><span class="o">=(</span><span class="s2">&quot;Development&quot;</span><span class="w"> </span><span class="s2">&quot;Staging&quot;</span><span class="w"> </span><span class="s2">&quot;Production&quot;</span><span class="o">)</span>

<span class="k">select</span><span class="w"> </span>env<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">environments</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="c1"># Check if choice is valid</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$env</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;You selected: </span><span class="nv">$env</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># Confirm for production</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$env</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Production&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Are you sure you want to deploy to production? (yes/no): &quot;</span><span class="w"> </span>confirm
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$confirm</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;yes&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Deploying to production...&quot;</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Deployment cancelled.&quot;</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Deploying to </span><span class="nv">$env</span><span class="s2">...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid selection. Please try again.&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="nested-menus">Nested Menus<a class="header-link" href="#nested-menus" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

main_menu<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Main Menu: &quot;</span>
<span class="w">    </span><span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Database&quot;</span><span class="w"> </span><span class="s2">&quot;Web Server&quot;</span><span class="w"> </span><span class="s2">&quot;Cache&quot;</span><span class="w"> </span><span class="s2">&quot;Exit&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>Database<span class="o">)</span>
<span class="w">                </span>database_menu
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span><span class="s2">&quot;Web Server&quot;</span><span class="o">)</span>
<span class="w">                </span>webserver_menu
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Cache<span class="o">)</span>
<span class="w">                </span>cache_menu
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Exit<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Goodbye!&quot;</span>
<span class="w">                </span><span class="k">return</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

database_menu<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Database Menu: &quot;</span>
<span class="w">    </span><span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Start&quot;</span><span class="w"> </span><span class="s2">&quot;Stop&quot;</span><span class="w"> </span><span class="s2">&quot;Backup&quot;</span><span class="w"> </span><span class="s2">&quot;Back&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>Start<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting database...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Stop<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Stopping database...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Backup<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backing up database...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Back<span class="o">)</span>
<span class="w">                </span><span class="k">return</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

webserver_menu<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Web Server Menu: &quot;</span>
<span class="w">    </span><span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Start&quot;</span><span class="w"> </span><span class="s2">&quot;Stop&quot;</span><span class="w"> </span><span class="s2">&quot;Reload&quot;</span><span class="w"> </span><span class="s2">&quot;Back&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>Start<span class="p">|</span>Stop<span class="p">|</span>Reload<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">choice</span><span class="si">}</span><span class="s2">ing web server...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Back<span class="o">)</span>
<span class="w">                </span><span class="k">return</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

cache_menu<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Cache Menu: &quot;</span>
<span class="w">    </span><span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Start&quot;</span><span class="w"> </span><span class="s2">&quot;Stop&quot;</span><span class="w"> </span><span class="s2">&quot;Clear&quot;</span><span class="w"> </span><span class="s2">&quot;Back&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="k">select</span><span class="w"> </span>choice<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$choice</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>Start<span class="p">|</span>Stop<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">choice</span><span class="si">}</span><span class="s2">ing cache...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Clear<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Clearing cache...&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>Back<span class="o">)</span>
<span class="w">                </span><span class="k">return</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Start application</span>
main_menu
</code></pre></div>

<h3 id="combining-select-with-case">Combining select with case<a class="header-link" href="#combining-select-with-case" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># File operations menu</span>
<span class="nv">PS3</span><span class="o">=</span><span class="s2">&quot;Select operation: &quot;</span>

<span class="nv">files</span><span class="o">=(</span>*.txt<span class="o">)</span>
<span class="nv">files</span><span class="o">+=(</span><span class="s2">&quot;All files&quot;</span><span class="w"> </span><span class="s2">&quot;Quit&quot;</span><span class="o">)</span>

<span class="k">select</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$REPLY</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span><span class="k">$((</span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="o">-</span><span class="m">1</span><span class="k">))</span><span class="o">)</span><span class="w">  </span><span class="c1"># &quot;All files&quot; index</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing all files...&quot;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.txt<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Processing </span><span class="nv">$f</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">done</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="o">)</span><span class="w">  </span><span class="c1"># &quot;Quit&quot; index</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Exiting...&quot;</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;All files&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;Quit&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="c1"># Process the file</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid selection&quot;</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>
</code></pre></div>

<h2 id="7-advanced-case-patterns">7. Advanced case Patterns<a class="header-link" href="#7-advanced-case-patterns" title="Permanent link">&para;</a></h2>
<p><code>case</code> Î¨∏ÏùÄ Ï†ïÍµêÌïú Ìå®ÌÑ¥ Îß§Ïπ≠ÏùÑ ÏßÄÏõêÌï©ÎãàÎã§.</p>
<h3 id="multiple-patterns">Multiple Patterns<a class="header-link" href="#multiple-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">response</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$response</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>y<span class="p">|</span>Y<span class="p">|</span>yes<span class="p">|</span>Yes<span class="p">|</span>YES<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Affirmative&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>n<span class="p">|</span>N<span class="p">|</span>no<span class="p">|</span>No<span class="p">|</span>NO<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Negative&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>q<span class="p">|</span>Q<span class="p">|</span>quit<span class="p">|</span>Quit<span class="p">|</span>QUIT<span class="p">|</span>exit<span class="p">|</span>Exit<span class="p">|</span>EXIT<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Exiting...&quot;</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown response&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h3 id="character-ranges">Character Ranges<a class="header-link" href="#character-ranges" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">char</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$char</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span><span class="o">[</span>a-z<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Lowercase letter&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="o">[</span>A-Z<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Uppercase letter&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="o">[</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Digit&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="o">[[</span>:space:<span class="o">]])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Whitespace&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="o">[[</span>:punct:<span class="o">]])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Punctuation&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Other character&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h3 id="glob-patterns">Glob Patterns<a class="header-link" href="#glob-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$filename</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.txt<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Text file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.log<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Log file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.tar.gz<span class="p">|</span>*.tgz<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Gzipped tarball&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.tar.bz2<span class="p">|</span>*.tbz2<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Bzipped tarball&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>backup_*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup file&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*_<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>-<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>-<span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">]</span>.*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File with date stamp&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown file type&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h3 id="extended-glob-in-case-requires-extglob">Extended Glob in case (requires extglob)<a class="header-link" href="#extended-glob-in-case-requires-extglob" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>extglob

<span class="nv">file</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>*.@<span class="o">(</span>jpg<span class="p">|</span>jpeg<span class="p">|</span>png<span class="p">|</span>gif<span class="p">|</span>bmp<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Image file: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;image&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>mp4<span class="p">|</span>avi<span class="p">|</span>mkv<span class="p">|</span>mov<span class="p">|</span>wmv<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Video file: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;video&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>mp3<span class="p">|</span>wav<span class="p">|</span>flac<span class="p">|</span>ogg<span class="p">|</span>m4a<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Audio file: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*.@<span class="o">(</span>zip<span class="p">|</span>tar.@<span class="o">(</span>gz<span class="p">|</span>bz2<span class="p">|</span>xz<span class="o">)</span><span class="p">|</span>rar<span class="p">|</span>7z<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Archive file: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;archive&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>!<span class="o">(</span>*.<span class="o">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No extension: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;no_extension&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown file type: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">file_type</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Type: </span><span class="nv">$file_type</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="fall-through-and">Fall-Through (;&amp; and ;;&amp;)<a class="header-link" href="#fall-through-and" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># ;&amp; - Fall through to next pattern (bash 4.0+)</span>
<span class="c1"># ;;&amp; - Continue testing patterns (bash 4.0+)</span>

<span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Using ;&amp; (fall through):&quot;</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$value</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span><span class="o">[</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;It&#39;s a digit&quot;</span>
<span class="w">        </span><span class="p">;&amp;</span>
<span class="w">    </span><span class="o">[</span>a-z<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;It&#39;s lowercase (if it was)&quot;</span>
<span class="w">        </span><span class="p">;&amp;</span>
<span class="w">    </span><span class="o">[</span>A-Z<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;It&#39;s uppercase (if it was)&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\nUsing ;;&amp; (continue matching):&quot;</span>
<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$value</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span><span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starts with digit&quot;</span>
<span class="w">        </span><span class="p">;;&amp;</span>
<span class="w">    </span>*<span class="o">[</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Ends with digit&quot;</span>
<span class="w">        </span><span class="p">;;&amp;</span>
<span class="w">    </span>*<span class="o">[</span>a-z<span class="o">]</span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Contains lowercase&quot;</span>
<span class="w">        </span><span class="p">;;&amp;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Matched catchall&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>

<h3 id="http-status-code-example">HTTP Status Code Example<a class="header-link" href="#http-status-code-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">http_code</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$http_code</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span><span class="m">2</span><span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Success&quot;</span>
<span class="w">        </span><span class="nv">severity</span><span class="o">=</span><span class="s2">&quot;info&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="m">3</span><span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Redirection&quot;</span>
<span class="w">        </span><span class="nv">severity</span><span class="o">=</span><span class="s2">&quot;info&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="m">4</span><span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Client Error&quot;</span>
<span class="w">        </span><span class="nv">severity</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$http_code</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="m">401</span><span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Unauthorized - check credentials&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span><span class="m">403</span><span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Forbidden - insufficient permissions&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span><span class="m">404</span><span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  Not Found - check URL&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="m">5</span><span class="o">[</span><span class="m">0</span>-9<span class="o">][</span><span class="m">0</span>-9<span class="o">])</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Server Error&quot;</span>
<span class="w">        </span><span class="nv">severity</span><span class="o">=</span><span class="s2">&quot;error&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>*<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown status code&quot;</span>
<span class="w">        </span><span class="nv">severity</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span>
<span class="w">        </span><span class="p">;;</span>
<span class="k">esac</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Severity: </span><span class="nv">$severity</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="8-flow-control-patterns">8. Flow Control Patterns<a class="header-link" href="#8-flow-control-patterns" title="Permanent link">&para;</a></h2>
<h3 id="retry-loop-with-backoff">Retry Loop with Backoff<a class="header-link" href="#retry-loop-with-backoff" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

retry_with_backoff<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">max_attempts</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">shift</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">command</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">attempt</span><span class="o">=</span><span class="m">1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">delay</span><span class="o">=</span><span class="m">1</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$attempt</span><span class="w"> </span>-le<span class="w"> </span><span class="nv">$max_attempts</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Attempt </span><span class="nv">$attempt</span><span class="s2"> of </span><span class="nv">$max_attempts</span><span class="s2">...&quot;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">command</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Success!&quot;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$attempt</span><span class="w"> </span>-lt<span class="w"> </span><span class="nv">$max_attempts</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed. Retrying in </span><span class="si">${</span><span class="nv">delay</span><span class="si">}</span><span class="s2">s...&quot;</span>
<span class="w">            </span>sleep<span class="w"> </span><span class="nv">$delay</span>
<span class="w">            </span><span class="nv">delay</span><span class="o">=</span><span class="k">$((</span><span class="nv">delay</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w">  </span><span class="c1"># Exponential backoff</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="o">((</span>attempt++<span class="o">))</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;All attempts failed.&quot;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
unreliable_command<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1"># Simulates command that fails randomly</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">((</span><span class="w"> </span>RANDOM<span class="w"> </span>%<span class="w"> </span><span class="nv">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

retry_with_backoff<span class="w"> </span><span class="m">5</span><span class="w"> </span>unreliable_command
</code></pre></div>

<h3 id="state-machine">State Machine<a class="header-link" href="#state-machine" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Simple state machine for order processing</span>
process_order<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;pending&quot;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Current state: </span><span class="nv">$state</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$state</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>pending<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Validating order...&quot;</span>
<span class="w">                </span><span class="c1"># Validation logic</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span>validate_order<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;validated&quot;</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;rejected&quot;</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>validated<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing payment...&quot;</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span>process_payment<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;paid&quot;</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;payment_failed&quot;</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>paid<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Preparing shipment...&quot;</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span>prepare_shipment<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;shipped&quot;</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;shipment_failed&quot;</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>shipped<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Order completed successfully!&quot;</span>
<span class="w">                </span><span class="nv">state</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>completed<span class="p">|</span>rejected<span class="p">|</span>payment_failed<span class="p">|</span>shipment_failed<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Terminal state: </span><span class="nv">$state</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown state: </span><span class="nv">$state</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>

<span class="w">        </span>sleep<span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="c1"># Simulate processing time</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

validate_order<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
process_payment<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
prepare_shipment<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

process_order
</code></pre></div>

<h3 id="dispatch-table">Dispatch Table<a class="header-link" href="#dispatch-table" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Dispatch table using associative array</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>commands

<span class="c1"># Register commands</span>
commands<span class="o">[</span>start<span class="o">]=</span><span class="s2">&quot;start_service&quot;</span>
commands<span class="o">[</span>stop<span class="o">]=</span><span class="s2">&quot;stop_service&quot;</span>
commands<span class="o">[</span>restart<span class="o">]=</span><span class="s2">&quot;restart_service&quot;</span>
commands<span class="o">[</span>status<span class="o">]=</span><span class="s2">&quot;check_status&quot;</span>
commands<span class="o">[</span>reload<span class="o">]=</span><span class="s2">&quot;reload_config&quot;</span>

<span class="c1"># Command implementations</span>
start_service<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting service...&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
stop_service<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Stopping service...&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
restart_service<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>stop_service<span class="p">;</span><span class="w"> </span>start_service<span class="p">;</span><span class="w"> </span><span class="o">}</span>
check_status<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Service is running&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
reload_config<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Reloading configuration...&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

<span class="c1"># Dispatcher</span>
dispatch<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">command</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-v<span class="w"> </span>commands<span class="o">[</span><span class="nv">$command</span><span class="o">]</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="si">${</span><span class="nv">commands</span><span class="p">[</span><span class="nv">$command</span><span class="p">]</span><span class="si">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown command: </span><span class="nv">$command</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Available commands: </span><span class="si">${</span><span class="p">!commands[*]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
dispatch<span class="w"> </span>start
dispatch<span class="w"> </span>status
dispatch<span class="w"> </span>restart
dispatch<span class="w"> </span>invalid
</code></pre></div>

<h3 id="circuit-breaker-pattern">Circuit Breaker Pattern<a class="header-link" href="#circuit-breaker-pattern" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Circuit breaker for service calls</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span><span class="nv">circuit_breaker</span><span class="o">=(</span>
<span class="w">    </span><span class="o">[</span>state<span class="o">]=</span><span class="s2">&quot;closed&quot;</span>
<span class="w">    </span><span class="o">[</span>failures<span class="o">]=</span><span class="m">0</span>
<span class="w">    </span><span class="o">[</span>threshold<span class="o">]=</span><span class="m">3</span>
<span class="w">    </span><span class="o">[</span>timeout<span class="o">]=</span><span class="m">10</span>
<span class="o">)</span>

call_service<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">service_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">circuit_breaker</span><span class="p">[state]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>closed<span class="o">)</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span>make_service_call<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$service_name</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>failures<span class="o">]=</span><span class="m">0</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="o">((</span>circuit_breaker<span class="o">[</span>failures<span class="o">]</span>++<span class="o">))</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${</span><span class="nv">circuit_breaker</span><span class="p">[failures]</span><span class="si">}</span><span class="w"> </span>-ge<span class="w"> </span><span class="si">${</span><span class="nv">circuit_breaker</span><span class="p">[threshold]</span><span class="si">}</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span>circuit_breaker<span class="o">[</span>state<span class="o">]=</span><span class="s2">&quot;open&quot;</span>
<span class="w">                    </span>circuit_breaker<span class="o">[</span>opened_at<span class="o">]=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span>
<span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Circuit breaker OPEN&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>open<span class="o">)</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">now</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">elapsed</span><span class="o">=</span><span class="k">$((</span><span class="nv">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">circuit_breaker</span><span class="o">[</span><span class="nv">opened_at</span><span class="o">]</span><span class="k">))</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$elapsed</span><span class="w"> </span>-ge<span class="w"> </span><span class="si">${</span><span class="nv">circuit_breaker</span><span class="p">[timeout]</span><span class="si">}</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>state<span class="o">]=</span><span class="s2">&quot;half_open&quot;</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Circuit breaker HALF-OPEN (testing)&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span>call_service<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$service_name</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Circuit breaker OPEN, failing fast&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>half_open<span class="o">)</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span>make_service_call<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$service_name</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>state<span class="o">]=</span><span class="s2">&quot;closed&quot;</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>failures<span class="o">]=</span><span class="m">0</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Circuit breaker CLOSED (recovered)&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>state<span class="o">]=</span><span class="s2">&quot;open&quot;</span>
<span class="w">                </span>circuit_breaker<span class="o">[</span>opened_at<span class="o">]=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Circuit breaker OPEN (still failing)&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="o">}</span>

make_service_call<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">service</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Simulate service call</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Calling </span><span class="nv">$service</span><span class="s2">...&quot;</span>
<span class="w">    </span><span class="o">((</span><span class="w"> </span>RANDOM<span class="w"> </span>%<span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">))</span><span class="w">  </span><span class="c1"># 50% success rate</span>
<span class="o">}</span>

<span class="c1"># Test circuit breaker</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;--- Attempt </span><span class="nv">$i</span><span class="s2"> ---&quot;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>call_service<span class="w"> </span><span class="s2">&quot;external-api&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Success&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">1</span>
<span class="k">done</span>
</code></pre></div>

<h2 id="practice-problems">Practice Problems<a class="header-link" href="#practice-problems" title="Permanent link">&para;</a></h2>
<h3 id="problem-1-advanced-input-validator">Problem 1: Advanced Input Validator<a class="header-link" href="#problem-1-advanced-input-validator" title="Permanent link">&para;</a></h3>
<p>Îã§Ïùå Í∏∞Îä•ÏùÑ Í∞ñÏ∂ò Ìè¨Í¥ÑÏ†ÅÏù∏ ÏûÖÎ†• Í≤ÄÏ¶ù ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÎßåÎìúÏÑ∏Ïöî:
- Îã§ÏñëÌïú Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ Í≤ÄÏ¶ù (email, URL, IP, phone, credit card, date Îì±)
- ÏÇ¨Ïö©Ïûê Ï†ïÏùò regex Ìå®ÌÑ¥ ÏßÄÏõê
- ÏÉÅÏÑ∏Ìïú Ïò§Î•ò Î©îÏãúÏßÄ Ï†úÍ≥µ
- Íµ¨Ï°∞ÌôîÎêú Í≤ÄÏ¶ù Í≤∞Í≥º Î∞òÌôò (pass/fail + Ïò§Î•ò ÏÑ∏Î∂ÄÏ†ïÎ≥¥)
- Î≥µÌï© Í≤ÄÏ¶ù ÏßÄÏõê (ÌïòÎÇòÏùò ÏûÖÎ†•Ïóê ÎåÄÌïú Ïó¨Îü¨ Í≤ÄÏ¶ù)
- ÏÑ±Îä• ÏµúÏ†ÅÌôî (Ï†ÅÏ†àÌïú ÌÖåÏä§Ìä∏ Íµ¨Ï°∞ ÏÇ¨Ïö©)</p>
<p><strong>ÏòàÏ†ú</strong>:</p>
<div class="highlight"><pre><span></span><code>validate<span class="w"> </span><span class="s2">&quot;user@example.com&quot;</span><span class="w"> </span>email
validate<span class="w"> </span><span class="s2">&quot;192.168.1.1&quot;</span><span class="w"> </span>ipv4
validate<span class="w"> </span><span class="s2">&quot;2024-02-13&quot;</span><span class="w"> </span>date<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;YYYY-MM-DD&quot;</span>
validate<span class="w"> </span><span class="s2">&quot;password123&quot;</span><span class="w"> </span>password<span class="w"> </span>--min-length<span class="w"> </span><span class="m">8</span><span class="w"> </span>--require-digit<span class="w"> </span>--require-special
</code></pre></div>

<h3 id="problem-2-expression-evaluator">Problem 2: Expression Evaluator<a class="header-link" href="#problem-2-expression-evaluator" title="Permanent link">&para;</a></h3>
<p>Îã§Ïùå Í∏∞Îä•ÏùÑ Í∞ñÏ∂ò ÌëúÌòÑÏãù ÌèâÍ∞ÄÍ∏∞Î•º ÎßåÎìúÏÑ∏Ïöî:
- ÏÇ∞Ïà† ÌëúÌòÑÏãù ÌååÏã± Î∞è ÌèâÍ∞Ä
- Î≥ÄÏàò Î∞è Ìï®Ïàò ÏßÄÏõê
- Î∂ÄÎèôÏÜåÏàòÏ†ê Ïó∞ÏÇ∞ Ï≤òÎ¶¨ (bc ÌÜµÌï©)
- ÎÖºÎ¶¨ ÌëúÌòÑÏãù ÏßÄÏõê
- ÏúÑÏπò Ï†ïÎ≥¥Î•º Ìè¨Ìï®Ìïú Ïò§Î•ò Î≥¥Í≥†
- ÏùºÎ∞òÏ†ÅÏù∏ ÏàòÌïô Ìï®Ïàò Ìè¨Ìï® (sin, cos, sqrt Îì±)</p>
<p><strong>ÏòàÏ†ú</strong>:</p>
<div class="highlight"><pre><span></span><code>eval_expr<span class="w"> </span><span class="s2">&quot;2 + 3 * 4&quot;</span><span class="w">                    </span><span class="c1"># 14</span>
eval_expr<span class="w"> </span><span class="s2">&quot;x = 5; y = 10; x + y&quot;</span><span class="w">         </span><span class="c1"># 15</span>
eval_expr<span class="w"> </span><span class="s2">&quot;sqrt(16) + pow(2, 3)&quot;</span><span class="w">         </span><span class="c1"># 12</span>
eval_expr<span class="w"> </span><span class="s2">&quot;if(x &gt; 5, x * 2, x / 2)&quot;</span><span class="w"> </span><span class="nv">x</span><span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="c1"># 20</span>
</code></pre></div>

<h3 id="problem-3-pattern-matcher">Problem 3: Pattern Matcher<a class="header-link" href="#problem-3-pattern-matcher" title="Permanent link">&para;</a></h3>
<p>Îã§Ïùå Í∏∞Îä•ÏùÑ Í∞ñÏ∂ò Ìå®ÌÑ¥ Îß§Ïπ≠ ÎèÑÍµ¨Î•º Í∞úÎ∞úÌïòÏÑ∏Ïöî:
- Ïó¨Îü¨ Ìå®ÌÑ¥ ÌÉÄÏûÖÍ≥º ÌååÏùº Îß§Ïπ≠ (glob, regex, extended glob)
- Ìè¨Ìï® Î∞è Ï†úÏô∏ Ìå®ÌÑ¥ ÏßÄÏõê
- Ìå®ÌÑ¥ ÏÑ§Î™Ö Ï†úÍ≥µ
- Ìå®ÌÑ¥ Îß§Ïπ≠ ÏàúÏÑú ÏµúÏ†ÅÌôî
- ÏòàÏ†úÎ°úÎ∂ÄÌÑ∞ Ìå®ÌÑ¥ ÏÉùÏÑ±
- ÏÇ¨Ïö© Ï†Ñ Ìå®ÌÑ¥ Í≤ÄÏ¶ù</p>
<p><strong>ÏòàÏ†ú</strong>:</p>
<div class="highlight"><pre><span></span><code>pattern_match<span class="w"> </span><span class="s2">&quot;file.txt&quot;</span><span class="w"> </span>--glob<span class="w"> </span><span class="s2">&quot;*.txt&quot;</span><span class="w"> </span>--exclude<span class="w"> </span><span class="s2">&quot;temp_*&quot;</span>
pattern_match<span class="w"> </span><span class="s2">&quot;192.168.1.1&quot;</span><span class="w"> </span>--regex<span class="w"> </span><span class="s2">&quot;^([0-9]{1,3}\.){3}[0-9]{1,3}</span>$<span class="s2">&quot;</span>
pattern_explain<span class="w"> </span><span class="s2">&quot;*.@(jpg|png|gif)&quot;</span>
pattern_generate<span class="w"> </span>--from-examples<span class="w"> </span><span class="s2">&quot;test1.log&quot;</span><span class="w"> </span><span class="s2">&quot;test2.log&quot;</span><span class="w"> </span><span class="s2">&quot;prod.log&quot;</span>
</code></pre></div>

<h3 id="problem-4-interactive-wizard">Problem 4: Interactive Wizard<a class="header-link" href="#problem-4-interactive-wizard" title="Permanent link">&para;</a></h3>
<p>Îã§Ïùå Í∏∞Îä•ÏùÑ Í∞ñÏ∂ò ÎåÄÌôîÌòï ÏúÑÏ†ÄÎìú ÌîÑÎ†àÏûÑÏõåÌÅ¨Î•º ÎßåÎìúÏÑ∏Ïöî:
- Îã§Îã®Í≥Ñ Ìèº Íµ¨Ï∂ï
- Í∞Å Îã®Í≥ÑÏóêÏÑú ÏûÖÎ†• Í≤ÄÏ¶ù
- Ï°∞Í±¥Î∂Ä Îã®Í≥Ñ ÏßÄÏõê (Ïù¥Ï†Ñ ÎãµÎ≥ÄÏóê Îî∞Îùº Í±¥ÎÑàÎõ∞Í∏∞)
- ÏöîÏïΩ Î∞è ÌôïÏù∏ Ï†úÍ≥µ
- Ïù¥Ï†Ñ Îã®Í≥ÑÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞ ÌóàÏö©
- ÏßÑÌñâ ÏÉÅÌô© Ï†ÄÏû• (ÎÇòÏ§ëÏóê Ïû¨Í∞ú)
- Îã§ÏñëÌïú ÏûÖÎ†• ÌÉÄÏûÖ ÏßÄÏõê (text, select, multi-select, yes/no)</p>
<p><strong>ÏòàÏ†ú</strong>:</p>
<div class="highlight"><pre><span></span><code>wizard_start<span class="w"> </span><span class="s2">&quot;Setup Database&quot;</span>
wizard_step<span class="w"> </span><span class="s2">&quot;host&quot;</span><span class="w"> </span>--prompt<span class="w"> </span><span class="s2">&quot;Database host&quot;</span><span class="w"> </span>--default<span class="w"> </span><span class="s2">&quot;localhost&quot;</span><span class="w"> </span>--validate<span class="w"> </span>ipv4_or_hostname
wizard_step<span class="w"> </span><span class="s2">&quot;port&quot;</span><span class="w"> </span>--prompt<span class="w"> </span><span class="s2">&quot;Port&quot;</span><span class="w"> </span>--default<span class="w"> </span><span class="m">5432</span><span class="w"> </span>--validate<span class="w"> </span>port_number
wizard_step<span class="w"> </span><span class="s2">&quot;ssl&quot;</span><span class="w"> </span>--prompt<span class="w"> </span><span class="s2">&quot;Use SSL?&quot;</span><span class="w"> </span>--type<span class="w"> </span>yesno
wizard_step<span class="w"> </span><span class="s2">&quot;cert&quot;</span><span class="w"> </span>--prompt<span class="w"> </span><span class="s2">&quot;Certificate path&quot;</span><span class="w"> </span>--if<span class="w"> </span><span class="s2">&quot;ssl==yes&quot;</span><span class="w"> </span>--validate<span class="w"> </span>file_exists
wizard_confirm
wizard_execute
</code></pre></div>

<h3 id="problem-5-smart-retry-system">Problem 5: Smart Retry System<a class="header-link" href="#problem-5-smart-retry-system" title="Permanent link">&para;</a></h3>
<p>Îã§Ïùå Í∏∞Îä•ÏùÑ Í∞ñÏ∂ò Í≥†Í∏â Ïû¨ÏãúÎèÑ ÏãúÏä§ÌÖúÏùÑ Íµ¨ÌòÑÌïòÏÑ∏Ïöî:
- Ïó¨Îü¨ Ïû¨ÏãúÎèÑ Ï†ÑÎûµ (constant, linear, exponential backoff, fibonacci)
- Jitter (thundering herd Î∞©ÏßÄÎ•º ÏúÑÌïú Î¨¥ÏûëÏúÑÏÑ±)
- Circuit breaker ÌÜµÌï©
- ÏÑ±Í≥µ/Ïã§Ìå® ÏΩúÎ∞±
- ÏãúÎèÑÎãπ ÌÉÄÏûÑÏïÑÏõÉ
- Ï°∞Í±¥Î∂Ä Ïû¨ÏãúÎèÑ (ÌäπÏ†ï Ïò§Î•òÏóêÏÑúÎßå Ïû¨ÏãúÎèÑ)
- Î©îÌä∏Î¶≠ ÏàòÏßë (ÏãúÎèÑ ÌöüÏàò, ÏÑ±Í≥µÎ•†, ÌèâÍ∑† ÏßÄÏó∞ÏãúÍ∞Ñ)</p>
<p><strong>ÏòàÏ†ú</strong>:</p>
<div class="highlight"><pre><span></span><code>retry<span class="w"> </span>--strategy<span class="w"> </span>exponential<span class="w"> </span>--max-attempts<span class="w"> </span><span class="m">5</span><span class="w"> </span>--initial-delay<span class="w"> </span><span class="m">1</span><span class="w"> </span>--max-delay<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--jitter<span class="w"> </span><span class="m">0</span>.1<span class="w"> </span>--timeout<span class="w"> </span><span class="m">10</span><span class="w"> </span>--on-success<span class="w"> </span>log_success<span class="w"> </span>--on-failure<span class="w"> </span>alert<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--retry-on<span class="w"> </span><span class="s2">&quot;1,2,3&quot;</span><span class="w"> </span>--<span class="w"> </span>curl<span class="w"> </span>https://api.example.com/endpoint
</code></pre></div>

<hr />
<p><strong>Ïù¥Ï†Ñ</strong>: <a href="./03_Arrays_and_Data.md">03_Arrays_and_Data.md</a> | <strong>Îã§Ïùå</strong>: <a href="./05_Functions_and_Libraries.md">05_Functions_and_Libraries.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/03_Arrays_and_Data.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Î∞∞Ïó¥Í≥º Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ ‚≠ê‚≠ê</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">üîó</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">üìã</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/05_Functions_and_Libraries.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Î†àÏä® 05: Ìï®ÏàòÏôÄ ÎùºÏù¥Î∏åÎü¨Î¶¨(Functions and Libraries)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">‚Üë</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}