{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 06: I/Oì™€ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection) - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Shell_Script/">Shell Script</a>
    <span class="separator">/</span>
    <span class="current">Lesson 06: I/Oì™€ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection)</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Lesson 06: I/Oì™€ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection)</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/05_Functions_and_Libraries.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë ˆìŠ¨ 05: í•¨ìˆ˜ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬(Functions and Libraries)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/07_String_Processing.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 07: ë¬¸ìì—´ ì²˜ë¦¬ì™€ í…ìŠ¤íŠ¸ ì¡°ì‘</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1-file-descriptors">1. íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(File Descriptors)</a><ul>
<li><a href="#11">1.1 í‘œì¤€ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°</a></li>
<li><a href="#12">1.2 ì‚¬ìš©ì ì •ì˜ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°</a></li>
<li><a href="#13">1.3 ì½ê¸°/ì“°ê¸°ìš© íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì—´ê¸°</a></li>
<li><a href="#14">1.4 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ë³µì œ</a></li>
<li><a href="#15">1.5 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ê²€ì‚¬</a></li>
</ul>
</li>
<li><a href="#2">2. ê³ ê¸‰ ë¦¬ë‹¤ì´ë ‰ì…˜</a><ul>
<li><a href="#21-stderr">2.1 Stderr ë³„ë„ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</a></li>
<li><a href="#22-stdout-stderr">2.2 Stdoutê³¼ Stderr ë³‘í•©</a></li>
<li><a href="#23">2.3 ì¶œë ¥ ë²„ë¦¬ê¸°</a></li>
<li><a href="#24-stdout-stderr">2.4 Stdoutê³¼ Stderr ë°”ê¾¸ê¸°</a></li>
<li><a href="#25">2.5 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì €ì¥ ë° ë³µì›</a></li>
<li><a href="#26-append-vs-truncate">2.6 ì¶”ê°€(Append) vs ë®ì–´ì“°ê¸°(Truncate)</a></li>
</ul>
</li>
<li><a href="#3-here-documents-here-strings">3. Here Documentsì™€ Here Strings</a><ul>
<li><a href="#31-here-document">3.1 ê¸°ë³¸ Here Document</a></li>
<li><a href="#32-here-document">3.2 ë³€ìˆ˜ í™•ì¥ ì—†ëŠ” Here Document</a></li>
<li><a href="#33-here-document">3.3 ë³€ìˆ˜ì— Here Document ì €ì¥</a></li>
<li><a href="#34-here-document">3.4 ëª…ë ¹ ì…ë ¥ê³¼ Here Document</a></li>
<li><a href="#35-here-strings">3.5 Here Strings</a></li>
<li><a href="#36">3.6 ì‹¤ì „ í…œí”Œë¦¿ ìƒì„±</a></li>
</ul>
</li>
<li><a href="#4-process-substitution">4. í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜(Process Substitution)</a><ul>
<li><a href="#41">4.1 ì…ë ¥ í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜</a></li>
<li><a href="#42">4.2 ì¶œë ¥ í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜</a></li>
<li><a href="#43">4.3 ì„œë¸Œì…¸ ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ íšŒí”¼</a></li>
<li><a href="#44">4.4 ë‹¤ì¤‘ ì…ë ¥ ìŠ¤íŠ¸ë¦¼</a></li>
<li><a href="#45">4.5 ì‹¤ì „ ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#5-named-pipes-fifos">5. ëª…ëª…ëœ íŒŒì´í”„(Named Pipes - FIFOs)</a><ul>
<li><a href="#51-fifo">5.1 FIFO ìƒì„± ë° ì‚¬ìš©</a></li>
<li><a href="#52-">5.2 ìƒì‚°ì-ì†Œë¹„ì íŒ¨í„´</a></li>
<li><a href="#53">5.3 ì–‘ë°©í–¥ í†µì‹ </a></li>
<li><a href="#54-fifo-vs">5.4 FIFO vs í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ ì‚¬ìš© ì‹œê¸°</a></li>
</ul>
</li>
<li><a href="#6">6. íŒŒì´í”„ í•¨ì •ê³¼ í•´ê²°ì±…</a><ul>
<li><a href="#61">6.1 ì„œë¸Œì…¸ ë³€ìˆ˜ ìŠ¤ì½”í”„ ì†ì‹¤</a></li>
<li><a href="#62-pipestatus">6.2 PIPESTATUS ë°°ì—´</a></li>
<li><a href="#63">6.3 íŒŒì´í”„ë¼ì¸ ì—ëŸ¬ ì²˜ë¦¬</a></li>
<li><a href="#64">6.4 ëª…ëª…ëœ íŒŒì´í”„ êµì°© ìƒíƒœ ë°©ì§€</a></li>
</ul>
</li>
<li><a href="#7-io">7. ì‹¤ì „ I/O íŒ¨í„´</a><ul>
<li><a href="#71-tee">7.1 ì—¬ëŸ¬ ëª©ì ì§€ë¡œ Tee</a></li>
<li><a href="#72">7.2 ì½˜ì†”ê³¼ íŒŒì¼ì— ë¡œê¹…</a></li>
<li><a href="#73">7.3 ë™ì¼ íŒŒì¼ ì•ˆì „í•˜ê²Œ ì½ê³  ì“°ê¸°</a></li>
<li><a href="#74">7.4 ì›ìì  íŒŒì¼ ì“°ê¸°</a></li>
<li><a href="#75">7.5 ì•ˆì „í•œ ë™ì‹œ ì ‘ê·¼ì„ ìœ„í•œ íŒŒì¼ ì ê¸ˆ</a></li>
<li><a href="#76-fifo">7.6 FIFOë¥¼ ì‚¬ìš©í•œ ì§„í–‰ ìƒí™© í‘œì‹œ</a></li>
</ul>
</li>
<li><a href="#_1">ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1">ë¬¸ì œ 1: ë‹¤ì¤‘ ëŒ€ìƒ ë¡œê±°</a></li>
<li><a href="#2_1">ë¬¸ì œ 2: íŒŒì´í”„ë¼ì¸ ëª¨ë‹ˆí„°</a></li>
<li><a href="#3-fifo">ë¬¸ì œ 3: FIFO ê¸°ë°˜ í ì‹œìŠ¤í…œ</a></li>
<li><a href="#4">ë¬¸ì œ 4: ì„¤ì • ê²€ì¦ê¸°</a></li>
<li><a href="#5-fd">ë¬¸ì œ 5: FDë¥¼ ì‚¬ìš©í•œ ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì„œ</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="lesson-06-io-redirection">Lesson 06: I/Oì™€ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection)<a class="header-link" href="#lesson-06-io-redirection" title="Permanent link">&para;</a></h1>
<p><strong>ë‚œì´ë„</strong>: â­â­â­</p>
<p><strong>ì´ì „</strong>: <a href="./05_Functions_and_Libraries.md">05_Functions_and_Libraries.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./07_String_Processing.md">07_String_Processing.md</a></p>
<hr />
<h2 id="1-file-descriptors">1. íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(File Descriptors)<a class="header-link" href="#1-file-descriptors" title="Permanent link">&para;</a></h2>
<p>íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(FD)ëŠ” ì—´ë¦° íŒŒì¼ì´ë‚˜ I/O ìŠ¤íŠ¸ë¦¼ì„ ì°¸ì¡°í•˜ëŠ” ì •ìˆ˜ì…ë‹ˆë‹¤. bashì—ì„œ I/O ë¦¬ë‹¤ì´ë ‰ì…˜ì„ ë§ˆìŠ¤í„°í•˜ë ¤ë©´ ì´ë“¤ì„ ì´í•´í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.</p>
<h3 id="11">1.1 í‘œì¤€ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°<a class="header-link" href="#11" title="Permanent link">&para;</a></h3>
<p>ëª¨ë“  í”„ë¡œì„¸ìŠ¤ëŠ” ì„¸ ê°œì˜ í‘œì¤€ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:</p>
<table>
<thead>
<tr>
<th>FD</th>
<th>ì´ë¦„</th>
<th>ëª©ì </th>
<th>ê¸°ë³¸ê°’</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>stdin</td>
<td>í‘œì¤€ ì…ë ¥(Standard input)</td>
<td>í‚¤ë³´ë“œ</td>
</tr>
<tr>
<td>1</td>
<td>stdout</td>
<td>í‘œì¤€ ì¶œë ¥(Standard output)</td>
<td>í„°ë¯¸ë„</td>
</tr>
<tr>
<td>2</td>
<td>stderr</td>
<td>í‘œì¤€ ì—ëŸ¬(Standard error)</td>
<td>í„°ë¯¸ë„</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># stdin(FD 0)ì—ì„œ ì½ê¸°</span>
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter your name: &quot;</span><span class="w"> </span>name
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, </span><span class="nv">$name</span><span class="s2">&quot;</span>

<span class="c1"># stdout(FD 1)ì— ì“°ê¸°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This goes to stdout&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w">  </span><span class="c1"># ëª…ì‹œì  (ì¼ë°˜ echoì™€ ë™ì¼)</span>

<span class="c1"># stderr(FD 2)ì— ì“°ê¸°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is an error message&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
</code></pre></div>

<h3 id="12">1.2 ì‚¬ìš©ì ì •ì˜ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°<a class="header-link" href="#12" title="Permanent link">&para;</a></h3>
<p>3-9ë²ˆ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ë¥¼ ì‚¬ìš©ì ì •ì˜ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># FD 3ì— ì½ê¸°ìš©ìœ¼ë¡œ íŒŒì¼ ì—´ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&lt;<span class="w"> </span>input.txt

<span class="c1"># FD 3ì—ì„œ ì½ê¸°</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-u<span class="w"> </span><span class="m">3</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Line: </span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># FD 3 ë‹«ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&lt;<span class="p">&amp;</span>-

<span class="c1"># FD 4ì— ì“°ê¸°ìš©ìœ¼ë¡œ íŒŒì¼ ì—´ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">4</span>&gt;<span class="w"> </span>output.txt

<span class="c1"># FD 4ì— ì“°ê¸°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;First line&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">4</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Second line&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">4</span>

<span class="c1"># FD 4 ë‹«ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">4</span>&gt;<span class="p">&amp;</span>-
</code></pre></div>

<h3 id="13">1.3 ì½ê¸°/ì“°ê¸°ìš© íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì—´ê¸°<a class="header-link" href="#13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># FD 5ì— ì½ê¸°ì™€ ì“°ê¸° ëª¨ë‘ ê°€ëŠ¥í•˜ê²Œ íŒŒì¼ ì—´ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">5</span>&lt;&gt;<span class="w"> </span>datafile.txt

<span class="c1"># í˜„ì¬ ë‚´ìš© ì½ê¸°</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-u<span class="w"> </span><span class="m">5</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Read: </span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="c1"># ìƒˆ ë‚´ìš© ì“°ê¸° (ì¶”ê°€ë¨)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;New data&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">5</span>

<span class="c1"># FD 5 ë‹«ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">5</span>&gt;<span class="p">&amp;</span>-
</code></pre></div>

<h3 id="14">1.4 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ë³µì œ<a class="header-link" href="#14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># stdout(FD 1)ì„ FD 3ìœ¼ë¡œ ë³µì œ</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

<span class="c1"># ì´ì œ stdoutì„ íŒŒì¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="w"> </span>output.log

<span class="c1"># ì´ê²ƒì€ output.logë¡œ ê°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Logging to file&quot;</span>

<span class="c1"># ì´ê²ƒì€ ì—¬ì „íˆ í„°ë¯¸ë„ë¡œ ê° (FD 3 ì‚¬ìš©)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Direct to terminal&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">3</span>

<span class="c1"># FD 3ì—ì„œ stdout ë³µì›</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">3</span>

<span class="c1"># FD 3 ë‹«ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span>-

<span class="c1"># ì´ì œ ë‹¤ì‹œ í„°ë¯¸ë„ë¡œ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Back to normal stdout&quot;</span>
</code></pre></div>

<h3 id="15">1.5 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ê²€ì‚¬<a class="header-link" href="#15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># í˜„ì¬ ì…¸ì˜ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ë³´ê¸°</span>
ls<span class="w"> </span>-l<span class="w"> </span>/dev/fd/
<span class="c1"># ë˜ëŠ”</span>
ls<span class="w"> </span>-l<span class="w"> </span>/proc/self/fd/

<span class="c1"># FDê°€ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-e<span class="w"> </span>/dev/fd/3<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;FD 3 is open&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;FD 3 is closed&quot;</span>
<span class="k">fi</span>

<span class="c1"># FDì— ëŒ€í•œ ì •ë³´ ì–»ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">5</span>&gt;<span class="w"> </span>myfile.txt
readlink<span class="w"> </span>/proc/self/fd/5<span class="w">  </span><span class="c1"># íŒŒì¼ ê²½ë¡œ í‘œì‹œ</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">5</span>&gt;<span class="p">&amp;</span>-
</code></pre></div>

<h2 id="2">2. ê³ ê¸‰ ë¦¬ë‹¤ì´ë ‰ì…˜<a class="header-link" href="#2" title="Permanent link">&para;</a></h2>
<p>ê¸°ë³¸ <code>&gt;</code>ì™€ <code>&lt;</code> ì´ì™¸ì—ë„, bashëŠ” ê°•ë ¥í•œ ë¦¬ë‹¤ì´ë ‰ì…˜ ì—°ì‚°ìë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="21-stderr">2.1 Stderr ë³„ë„ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸<a class="header-link" href="#21-stderr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># stdoutì„ file1ë¡œ, stderrë¥¼ file2ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>stdout.log<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>stderr.log

<span class="c1"># ì˜ˆì œ: C í”„ë¡œê·¸ë¨ ì»´íŒŒì¼</span>
gcc<span class="w"> </span>program.c<span class="w"> </span>-o<span class="w"> </span>program<span class="w"> </span>&gt;<span class="w"> </span>compile_output.txt<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>compile_errors.txt

<span class="c1"># ì»´íŒŒì¼ ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-s<span class="w"> </span>compile_errors.txt<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Compilation failed:&quot;</span>
<span class="w">    </span>cat<span class="w"> </span>compile_errors.txt
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Compilation successful!&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="22-stdout-stderr">2.2 Stdoutê³¼ Stderr ë³‘í•©<a class="header-link" href="#22-stdout-stderr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë°©ë²• 1: stderrë¥¼ stdoutìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>output.log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

<span class="c1"># ë°©ë²• 2: ë‹¨ì¶• í‘œê¸°ë²• (Bash 4+)</span>
<span class="nb">command</span><span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>output.log

<span class="c1"># ë°©ë²• 3: ë‘˜ ë‹¤ ì¶”ê°€</span>
<span class="nb">command</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>output.log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

<span class="c1"># ì˜ˆì œ: í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì‹¤í–‰</span>
./run_tests.sh<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>test_results.log

<span class="c1"># ì´ê²ƒì€ ì˜ëª»ë¨ (ìˆœì„œê°€ ì¤‘ìš”):</span>
<span class="nb">command</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>output.log<span class="w">  </span><span class="c1"># stderrëŠ” ì—¬ì „íˆ í„°ë¯¸ë„ë¡œ!</span>
<span class="c1"># ì˜¬ë°”ë¥¸ ë°©ë²•:</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>output.log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w">  </span><span class="c1"># stderrê°€ stdoutì„ ë”°ë¼ íŒŒì¼ë¡œ</span>
</code></pre></div>

<h3 id="23">2.3 ì¶œë ¥ ë²„ë¦¬ê¸°<a class="header-link" href="#23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># stdout ë²„ë¦¬ê¸°</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null

<span class="c1"># stderr ë²„ë¦¬ê¸°</span>
<span class="nb">command</span><span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null

<span class="c1"># ë‘˜ ë‹¤ ë²„ë¦¬ê¸°</span>
<span class="nb">command</span><span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null

<span class="c1"># ì˜ˆì œ: ë¬´ìŒ ì‘ì—…</span>
<span class="k">if</span><span class="w"> </span>some_command<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Command succeeded (silently)&quot;</span>
<span class="k">fi</span>

<span class="c1"># stderr ìœ ì§€, stdout ë²„ë¦¬ê¸°</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null

<span class="c1"># ì˜ˆì œ: ëª…ë ¹ì–´ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</span>
<span class="k">if</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>python3<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;python3 is installed&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="24-stdout-stderr">2.4 Stdoutê³¼ Stderr ë°”ê¾¸ê¸°<a class="header-link" href="#24-stdout-stderr" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># stdoutê³¼ stderr ë°”ê¾¸ê¸°</span>
<span class="nb">command</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span>-

<span class="c1"># ì„¤ëª…:</span>
<span class="c1"># 3&gt;&amp;1  - stdoutì„ FD 3ì— ì €ì¥</span>
<span class="c1"># 1&gt;&amp;2  - stdoutì„ stderrë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="c1"># 2&gt;&amp;3  - stderrë¥¼ FD 3ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì›ë˜ stdout)</span>
<span class="c1"># 3&gt;&amp;-  - FD 3 ë‹«ê¸°</span>

<span class="c1"># ì‹¤ì „ ì˜ˆì œ: ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ stdoutìœ¼ë¡œ, ì¼ë°˜ ì¶œë ¥ì„ stderrë¡œ</span>
swap_outputs<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span>-
<span class="o">}</span>

<span class="c1"># ì´ì œ ì—ëŸ¬ê°€ stdoutì— ë‚˜íƒ€ë‚¨ (ìº¡ì²˜ ê°€ëŠ¥)</span>
<span class="nv">errors</span><span class="o">=</span><span class="k">$(</span>swap_outputs<span class="w"> </span>some_command<span class="k">)</span>
</code></pre></div>

<h3 id="25">2.5 íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì €ì¥ ë° ë³µì›<a class="header-link" href="#25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì›ë˜ì˜ stdoutê³¼ stderr ì €ì¥</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="m">4</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="c1"># stdoutê³¼ stderrë¥¼ íŒŒì¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="w"> </span>output.log<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>error.log

<span class="c1"># ì—¬ê¸° ìˆëŠ” ëª…ë ¹ë“¤ì€ ë¡œê·¸ íŒŒì¼ì— ì”€</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This goes to output.log&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is an error&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="c1"># ì›ë˜ì˜ stdoutê³¼ stderr ë³µì›</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">4</span>

<span class="c1"># ë°±ì—… FD ë‹«ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span>-<span class="w"> </span><span class="m">4</span>&gt;<span class="p">&amp;</span>-

<span class="c1"># ì´ì œ ë‹¤ì‹œ í„°ë¯¸ë„ë¡œ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Back to terminal&quot;</span>
</code></pre></div>

<h3 id="26-append-vs-truncate">2.6 ì¶”ê°€(Append) vs ë®ì–´ì“°ê¸°(Truncate)<a class="header-link" href="#26-append-vs-truncate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># íŒŒì¼ ë®ì–´ì“°ê¸°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;New content&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>file.txt

<span class="c1"># íŒŒì¼ì— ì¶”ê°€</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Additional content&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>file.txt

<span class="c1"># stderr ì¶”ê°€</span>
<span class="nb">command</span><span class="w"> </span><span class="m">2</span>&gt;&gt;<span class="w"> </span>error.log

<span class="c1"># stdoutê³¼ stderr ëª¨ë‘ ì¶”ê°€</span>
<span class="nb">command</span><span class="w"> </span><span class="p">&amp;</span>&gt;&gt;<span class="w"> </span>output.log
</code></pre></div>

<h2 id="3-here-documents-here-strings">3. Here Documentsì™€ Here Strings<a class="header-link" href="#3-here-documents-here-strings" title="Permanent link">&para;</a></h2>
<p>Here documentsëŠ” ì„ì‹œ íŒŒì¼ì„ ë§Œë“¤ì§€ ì•Šê³  ëª…ë ¹ì— ì—¬ëŸ¬ ì¤„ì˜ ì…ë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="31-here-document">3.1 ê¸°ë³¸ Here Document<a class="header-link" href="#31-here-document" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ê¸°ë³¸ here document</span>
cat<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">This is a multi-line</span>
<span class="s">here document.</span>
<span class="s">It can contain variables: $HOME</span>
<span class="s">And command substitution: $(date)</span>
<span class="s">EOF</span>

<span class="c1"># ë“¤ì—¬ì“°ê¸° í¬í•¨ (&lt;&lt;-ëŠ” ì„ í–‰ íƒ­ ì œê±°, ê³µë°±ì€ ì•„ë‹˜)</span>
cat<span class="w"> </span><span class="s">&lt;&lt;-EOF</span>
<span class="s">    This is indented with tabs</span>
<span class="s">    The tabs will be removed</span>
<span class="s">    But the text stays aligned</span>
<span class="s">EOF</span>
</code></pre></div>

<h3 id="32-here-document">3.2 ë³€ìˆ˜ í™•ì¥ ì—†ëŠ” Here Document<a class="header-link" href="#32-here-document" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># êµ¬ë¶„ìë¥¼ ë”°ì˜´í‘œë¡œ ë¬¶ì–´ í™•ì¥ ë°©ì§€</span>
cat<span class="w"> </span><span class="s">&lt;&lt;&#39;EOF&#39;</span>
<span class="s">Variables are literal: $HOME</span>
<span class="s">Command substitution is literal: $(date)</span>
<span class="s">This is useful for generating scripts or code.</span>
<span class="s">EOF</span>

<span class="c1"># ì˜ˆì œ: bash ìŠ¤í¬ë¦½íŠ¸ ìƒì„±</span>
cat<span class="w"> </span><span class="s">&lt;&lt;&#39;SCRIPT&#39; &gt; myscript.sh</span>
<span class="s">#!/bin/bash</span>
<span class="s">echo &quot;Hello from generated script&quot;</span>
<span class="s">echo &quot;Current directory: $PWD&quot;</span>
<span class="s">SCRIPT</span>

chmod<span class="w"> </span>+x<span class="w"> </span>myscript.sh
</code></pre></div>

<h3 id="33-here-document">3.3 ë³€ìˆ˜ì— Here Document ì €ì¥<a class="header-link" href="#33-here-document" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># here documentë¥¼ ë³€ìˆ˜ì— í• ë‹¹</span>
<span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span>sql_query<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">SELECT u.name, u.email, o.order_id</span>
<span class="s">FROM users u</span>
<span class="s">JOIN orders o ON u.id = o.user_id</span>
<span class="s">WHERE o.status = &#39;pending&#39;</span>
<span class="s">ORDER BY o.created_at DESC</span>
<span class="s">LIMIT 10;</span>
<span class="s">EOF</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Executing query:&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$sql_query</span><span class="s2">&quot;</span>

<span class="c1"># ëŒ€ì•ˆ ë°©ë²• (ëª…ë ¹ ì¹˜í™˜ ì‚¬ìš©)</span>
<span class="nv">json_data</span><span class="o">=</span><span class="k">$(</span>cat<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">{</span>
<span class="s">    &quot;name&quot;: &quot;John Doe&quot;,</span>
<span class="s">    &quot;email&quot;: &quot;john@example.com&quot;,</span>
<span class="s">    &quot;age&quot;: 30,</span>
<span class="s">    &quot;roles&quot;: [&quot;admin&quot;, &quot;user&quot;]</span>
<span class="s">}</span>
<span class="s">EOF</span>
<span class="k">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$json_data</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="34-here-document">3.4 ëª…ë ¹ ì…ë ¥ê³¼ Here Document<a class="header-link" href="#34-here-document" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ëª…ë ¹ì— ì—¬ëŸ¬ ì¤„ ì…ë ¥ ë³´ë‚´ê¸°</span>
mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p<span class="w"> </span><span class="s">&lt;&lt;SQL</span>
<span class="s">USE mydb;</span>
<span class="s">CREATE TABLE IF NOT EXISTS users (</span>
<span class="s">    id INT PRIMARY KEY AUTO_INCREMENT,</span>
<span class="s">    username VARCHAR(50) NOT NULL,</span>
<span class="s">    email VARCHAR(100) NOT NULL,</span>
<span class="s">    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span>
<span class="s">);</span>
<span class="s">INSERT INTO users (username, email) VALUES (&#39;alice&#39;, &#39;alice@example.com&#39;);</span>
<span class="s">SQL</span>

<span class="c1"># Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</span>
python3<span class="w"> </span><span class="s">&lt;&lt;PYTHON</span>
<span class="s">import sys</span>
<span class="s">import json</span>

<span class="s">data = {</span>
<span class="s">    &#39;message&#39;: &#39;Hello from Python&#39;,</span>
<span class="s">    &#39;version&#39;: sys.version</span>
<span class="s">}</span>

<span class="s">print(json.dumps(data, indent=2))</span>
<span class="s">PYTHON</span>
</code></pre></div>

<h3 id="35-here-strings">3.5 Here Strings<a class="header-link" href="#35-here-strings" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Here string: í•œ ì¤„ ì…ë ¥</span>
grep<span class="w"> </span><span class="s2">&quot;pattern&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;This is a test pattern string&quot;</span>

<span class="c1"># ë³€ìˆ˜ íŒŒì´í•‘ì— ìœ ìš©</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>word<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Word: </span><span class="nv">$word</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;one two three four five&quot;</span>

<span class="c1"># ì˜ˆì œ: CSV ì¤„ íŒŒì‹±</span>
<span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>name<span class="w"> </span>age<span class="w"> </span>city<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;John,30,NYC&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Name: </span><span class="nv">$name</span><span class="s2">, Age: </span><span class="nv">$age</span><span class="s2">, City: </span><span class="nv">$city</span><span class="s2">&quot;</span>

<span class="c1"># ë¬¸ìì—´ì„ Base64 ì¸ì½”ë”©</span>
<span class="nv">encoded</span><span class="o">=</span><span class="k">$(</span>base64<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;Secret message&quot;</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Encoded: </span><span class="nv">$encoded</span><span class="s2">&quot;</span>

<span class="c1"># ë‹¤ì‹œ ë””ì½”ë”©</span>
<span class="nv">decoded</span><span class="o">=</span><span class="k">$(</span>base64<span class="w"> </span>-d<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$encoded</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decoded: </span><span class="nv">$decoded</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="36">3.6 ì‹¤ì „ í…œí”Œë¦¿ ìƒì„±<a class="header-link" href="#36" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

generate_html<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">title</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">content</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt;HTML</span>
<span class="s">&lt;!DOCTYPE html&gt;</span>
<span class="s">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="s">&lt;head&gt;</span>
<span class="s">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="s">    &lt;title&gt;$title&lt;/title&gt;</span>
<span class="s">&lt;/head&gt;</span>
<span class="s">&lt;body&gt;</span>
<span class="s">    &lt;h1&gt;$title&lt;/h1&gt;</span>
<span class="s">    &lt;p&gt;$content&lt;/p&gt;</span>
<span class="s">    &lt;footer&gt;Generated on $(date)&lt;/footer&gt;</span>
<span class="s">&lt;/body&gt;</span>
<span class="s">&lt;/html&gt;</span>
<span class="s">HTML</span>
<span class="o">}</span>

<span class="c1"># HTML í˜ì´ì§€ ìƒì„±</span>
generate_html<span class="w"> </span><span class="s2">&quot;My Page&quot;</span><span class="w"> </span><span class="s2">&quot;Welcome to my website!&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html

<span class="c1"># ì„¤ì • íŒŒì¼ ìƒì„±</span>
generate_config<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">port</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt;CONFIG &gt; app.conf</span>
<span class="s"># Application Configuration</span>
<span class="s"># Generated: $(date)</span>

<span class="s">[server]</span>
<span class="s">host = $host</span>
<span class="s">port = $port</span>
<span class="s">workers = 4</span>

<span class="s">[database]</span>
<span class="s">host = localhost</span>
<span class="s">port = 5432</span>
<span class="s">name = myapp</span>

<span class="s">[logging]</span>
<span class="s">level = INFO</span>
<span class="s">file = /var/log/myapp.log</span>
<span class="s">CONFIG</span>
<span class="o">}</span>

generate_config<span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="w"> </span><span class="s2">&quot;8080&quot;</span>
</code></pre></div>

<h2 id="4-process-substitution">4. í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜(Process Substitution)<a class="header-link" href="#4-process-substitution" title="Permanent link">&para;</a></h2>
<p>í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ì€ ëª…ë ¹ ì¶œë ¥ì— ëŒ€í•œ ì„ì‹œ ëª…ëª…ëœ íŒŒì´í”„ë¥¼ ìƒì„±í•˜ì—¬, íŒŒì¼ì´ í•„ìš”í•œ ê³³ì— ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
<h3 id="41">4.1 ì…ë ¥ í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜<a class="header-link" href="#41" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë‘ ëª…ë ¹ì˜ ì¶œë ¥ ë¹„êµ</span>
diff<span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span>dir1<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span>dir2<span class="o">)</span>

<span class="c1"># ë” ë³µì¡í•œ ì˜ˆì œ: ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸ ë¹„êµ</span>
diff<span class="w"> </span>&lt;<span class="o">(</span>sort<span class="w"> </span>file1.txt<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>sort<span class="w"> </span>file2.txt<span class="o">)</span>

<span class="c1"># ë‘ ì‹œìŠ¤í…œì˜ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ë¹„êµ</span>
diff<span class="w"> </span>&lt;<span class="o">(</span>ssh<span class="w"> </span>server1<span class="w"> </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ssh<span class="w"> </span>server2<span class="w"> </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="o">)</span>

<span class="c1"># ì˜ˆì œ: ë‘ ëª…ë ¹ ì¶œë ¥ì˜ ê³µí†µ ì¤„ ì°¾ê¸°</span>
comm<span class="w"> </span>-12<span class="w"> </span>&lt;<span class="o">(</span>sort<span class="w"> </span>list1.txt<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>sort<span class="w"> </span>list2.txt<span class="o">)</span>
</code></pre></div>

<h3 id="42">4.2 ì¶œë ¥ í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜<a class="header-link" href="#42" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì—¬ëŸ¬ íŒŒì¼ì— ë™ì‹œì— ì“°ê¸°</span>
tee<span class="w"> </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>errors.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;WARN&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>warnings.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;INFO&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>info.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&lt;<span class="w"> </span>application.log<span class="w"> </span>&gt;<span class="w"> </span>/dev/null

<span class="c1"># ì˜ˆì œ: ë¡œê·¸ë¥¼ ì‹¬ê°ë„ë¡œ ë¶„í• </span>
process_logs<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">logfile</span><span class="o">=</span><span class="nv">$1</span>

<span class="w">    </span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$logfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>errors.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;WARN&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>warnings.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>&gt;<span class="w"> </span>all.log
<span class="o">}</span>
</code></pre></div>

<h3 id="43">4.3 ì„œë¸Œì…¸ ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ íšŒí”¼<a class="header-link" href="#43" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë¬¸ì œ: íŒŒì´í”„ë¼ì¸ì˜ ë³€ìˆ˜ëŠ” ì„œë¸Œì…¸ì— ìˆìŒ</span>
<span class="nv">count</span><span class="o">=</span><span class="m">0</span>
cat<span class="w"> </span>file.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span>count++<span class="o">))</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Lines: </span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì¶œë ¥: 0 (ë³€ìˆ˜ê°€ ìˆ˜ì •ë˜ì§€ ì•ŠìŒ!)</span>

<span class="c1"># í•´ê²°ì±… 1: í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜</span>
<span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span>count++<span class="o">))</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>cat<span class="w"> </span>file.txt<span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Lines: </span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì˜¬ë°”ë¥¸ ì¹´ìš´íŠ¸</span>

<span class="c1"># í•´ê²°ì±… 2: ëª…ë ¹ ì¹˜í™˜ê³¼ here string ì‚¬ìš© (ì‘ì€ íŒŒì¼ìš©)</span>
<span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span>count++<span class="o">))</span>
<span class="k">done</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>cat<span class="w"> </span>file.txt<span class="k">)</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Lines: </span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì˜¬ë°”ë¥¸ ì¹´ìš´íŠ¸</span>
</code></pre></div>

<h3 id="44">4.4 ë‹¤ì¤‘ ì…ë ¥ ìŠ¤íŠ¸ë¦¼<a class="header-link" href="#44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì—¬ëŸ¬ íŒŒì¼ì—ì„œ ë³‘ë ¬ë¡œ ì½ê¸°</span>
paste<span class="w"> </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f1<span class="w"> </span>file1.csv<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f2<span class="w"> </span>file2.csv<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f3<span class="w"> </span>file3.csv<span class="o">)</span>

<span class="c1"># ì˜ˆì œ: ì—¬ëŸ¬ ì†ŒìŠ¤ì˜ ë°ì´í„° ë³‘í•©</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-u<span class="w"> </span><span class="m">3</span><span class="w"> </span>name<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-u<span class="w"> </span><span class="m">4</span><span class="w"> </span>age<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-u<span class="w"> </span><span class="m">5</span><span class="w"> </span>city<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2"> is </span><span class="nv">$age</span><span class="s2"> years old and lives in </span><span class="nv">$city</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span><span class="m">3</span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f1<span class="w"> </span>data.csv<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span><span class="m">4</span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f2<span class="w"> </span>data.csv<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span><span class="m">5</span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>cut<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span><span class="w"> </span>-f3<span class="w"> </span>data.csv<span class="o">)</span>
</code></pre></div>

<h3 id="45">4.5 ì‹¤ì „ ì˜ˆì œ<a class="header-link" href="#45" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì˜ˆì œ 1: ìµœê·¼ 24ì‹œê°„ ë‚´ ìˆ˜ì •ëœ íŒŒì¼ ì¤‘ íŒ¨í„´ì´ í¬í•¨ëœ íŒŒì¼ ì°¾ê¸°</span>
grep<span class="w"> </span><span class="s2">&quot;TODO&quot;</span><span class="w"> </span>&lt;<span class="o">(</span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-mtime<span class="w"> </span>-1<span class="w"> </span>-exec<span class="w"> </span>cat<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span><span class="o">)</span>

<span class="c1"># ì˜ˆì œ 2: ë¡œê·¸ íŒŒì¼ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì „ì†¡</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$line</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>*<span class="s2">&quot;CRITICAL&quot;</span>*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Alert: </span><span class="nv">$line</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>mail<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;Critical Error&quot;</span><span class="w"> </span>admin@example.com
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/app.log<span class="o">)</span>

<span class="c1"># ì˜ˆì œ 3: ì••ì¶• íŒŒì¼ì„ ì¶”ì¶œí•˜ì§€ ì•Šê³  ì²˜ë¦¬</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>gunzip<span class="w"> </span>-c<span class="w"> </span>data.txt.gz<span class="o">)</span>

<span class="c1"># ì˜ˆì œ 4: ì²˜ë¦¬ë¥¼ ìœ„í•œ ì„ì‹œ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ìƒì„±</span>
tar<span class="w"> </span>czf<span class="w"> </span>backup.tar.gz<span class="w"> </span>-T<span class="w"> </span>&lt;<span class="o">(</span>find<span class="w"> </span>/data<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-mtime<span class="w"> </span>-7<span class="o">)</span>
</code></pre></div>

<h2 id="5-named-pipes-fifos">5. ëª…ëª…ëœ íŒŒì´í”„(Named Pipes - FIFOs)<a class="header-link" href="#5-named-pipes-fifos" title="Permanent link">&para;</a></h2>
<p>ëª…ëª…ëœ íŒŒì´í”„ëŠ” íŒŒì¼ì‹œìŠ¤í…œì„ í†µí•œ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.</p>
<h3 id="51-fifo">5.1 FIFO ìƒì„± ë° ì‚¬ìš©<a class="header-link" href="#51-fifo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ëª…ëª…ëœ íŒŒì´í”„ ìƒì„±</span>
mkfifo<span class="w"> </span>mypipe

<span class="c1"># ìƒì‚°ì (ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤)</span>
<span class="o">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Message </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">done</span><span class="w"> </span>&gt;<span class="w"> </span>mypipe
<span class="o">}</span><span class="w"> </span><span class="p">&amp;</span>

<span class="c1"># ì†Œë¹„ì</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Received: </span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>mypipe

<span class="c1"># ì •ë¦¬</span>
rm<span class="w"> </span>mypipe
</code></pre></div>

<h3 id="52-">5.2 ìƒì‚°ì-ì†Œë¹„ì íŒ¨í„´<a class="header-link" href="#52-" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">PIPE</span><span class="o">=</span><span class="s2">&quot;/tmp/data_pipe_</span><span class="nv">$$</span><span class="s2">&quot;</span>

<span class="c1"># íŒŒì´í”„ ìƒì„± ë° ì •ë¦¬ìš© trap ì„¤ì •</span>
mkfifo<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PIPE</span><span class="s2">&quot;</span>
<span class="nb">trap</span><span class="w"> </span><span class="s2">&quot;rm -f &#39;</span><span class="nv">$PIPE</span><span class="s2">&#39;&quot;</span><span class="w"> </span>EXIT

<span class="c1"># ìƒì‚°ì: ë°ì´í„° ìƒì„±</span>
producer<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">pipe</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Producer starting...&quot;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..100<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Data item </span><span class="nv">$i</span><span class="s2">: </span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span><span class="s2">&quot;</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">0</span>.1
<span class="w">    </span><span class="k">done</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pipe</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Producer finished&quot;</span>
<span class="o">}</span>

<span class="c1"># ì†Œë¹„ì: ë°ì´í„° ì²˜ë¦¬</span>
consumer<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">pipe</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Consumer starting...&quot;</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="o">((</span>count++<span class="o">))</span>
<span class="w">        </span><span class="c1"># ë°ì´í„° ì²˜ë¦¬ (ì‘ì—… ì‹œë®¬ë ˆì´ì…˜)</span>
<span class="w">        </span><span class="o">[[</span><span class="w"> </span><span class="k">$((</span><span class="nv">count</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">10</span><span class="k">))</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processed </span><span class="nv">$count</span><span class="s2"> items&quot;</span>
<span class="w">    </span><span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pipe</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Consumer finished: </span><span class="nv">$count</span><span class="s2"> items processed&quot;</span>
<span class="o">}</span>

<span class="c1"># ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìƒì‚°ì ì‹¤í–‰</span>
producer<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PIPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">&amp;</span>
<span class="nv">producer_pid</span><span class="o">=</span><span class="nv">$!</span>

<span class="c1"># í¬ê·¸ë¼ìš´ë“œì—ì„œ ì†Œë¹„ì ì‹¤í–‰</span>
consumer<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PIPE</span><span class="s2">&quot;</span>

<span class="c1"># ìƒì‚°ìê°€ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°</span>
<span class="nb">wait</span><span class="w"> </span><span class="nv">$producer_pid</span>
</code></pre></div>

<h3 id="53">5.3 ì–‘ë°©í–¥ í†µì‹ <a class="header-link" href="#53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">REQUEST_PIPE</span><span class="o">=</span><span class="s2">&quot;/tmp/request_</span><span class="nv">$$</span><span class="s2">&quot;</span>
<span class="nv">RESPONSE_PIPE</span><span class="o">=</span><span class="s2">&quot;/tmp/response_</span><span class="nv">$$</span><span class="s2">&quot;</span>

<span class="c1"># íŒŒì´í”„ ìƒì„±</span>
mkfifo<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$REQUEST_PIPE</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="nb">trap</span><span class="w"> </span><span class="s2">&quot;rm -f &#39;</span><span class="nv">$REQUEST_PIPE</span><span class="s2">&#39; &#39;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&#39;&quot;</span><span class="w"> </span>EXIT

<span class="c1"># ì„œë²„ í”„ë¡œì„¸ìŠ¤</span>
server<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Server started&quot;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># ìš”ì²­ ì½ê¸°</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>request<span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$REQUEST_PIPE</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="c1"># ìš”ì²­ ì²˜ë¦¬</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$request</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="s2">&quot;PING&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;PONG&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span><span class="s2">&quot;TIME&quot;</span><span class="o">)</span>
<span class="w">                </span>date<span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span><span class="s2">&quot;QUIT&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;BYE&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ERROR: Unknown command&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Server stopped&quot;</span>
<span class="o">}</span>

<span class="c1"># í´ë¼ì´ì–¸íŠ¸ í•¨ìˆ˜</span>
client<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">command</span><span class="o">=</span><span class="nv">$1</span>

<span class="w">    </span><span class="c1"># ìš”ì²­ ì „ì†¡</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$command</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$REQUEST_PIPE</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># ì‘ë‹µ ì½ê¸°</span>
<span class="w">    </span><span class="nb">read</span><span class="w"> </span>response<span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$RESPONSE_PIPE</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Response: </span><span class="nv">$response</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ì‹œì‘</span>
server<span class="w"> </span><span class="p">&amp;</span>
<span class="nv">server_pid</span><span class="o">=</span><span class="nv">$!</span>

sleep<span class="w"> </span><span class="m">1</span><span class="w">  </span><span class="c1"># ì„œë²„ê°€ ì‹œì‘í•  ì‹œê°„ ì¤Œ</span>

<span class="c1"># ìš”ì²­ ì „ì†¡</span>
client<span class="w"> </span><span class="s2">&quot;PING&quot;</span>
client<span class="w"> </span><span class="s2">&quot;TIME&quot;</span>
client<span class="w"> </span><span class="s2">&quot;QUIT&quot;</span>

<span class="c1"># ì„œë²„ ëŒ€ê¸°</span>
<span class="nb">wait</span><span class="w"> </span><span class="nv">$server_pid</span>
</code></pre></div>

<h3 id="54-fifo-vs">5.4 FIFO vs í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ ì‚¬ìš© ì‹œê¸°<a class="header-link" href="#54-fifo-vs" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>íŠ¹ì§•</th>
<th>FIFO</th>
<th>í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜(Process Substitution)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ì§€ì†ì„±</td>
<td>ì˜ˆ (ì‚­ì œë  ë•Œê¹Œì§€)</td>
<td>ì•„ë‹ˆì˜¤ (ìë™ ì •ë¦¬)</td>
</tr>
<tr>
<td>ë‹¤ì¤‘ reader/writer</td>
<td>ì˜ˆ</td>
<td>ì•„ë‹ˆì˜¤</td>
</tr>
<tr>
<td>ëª…ì‹œì  ë™ê¸°í™”</td>
<td>ì˜ˆ</td>
<td>ì•„ë‹ˆì˜¤</td>
</tr>
<tr>
<td>ë°±ê·¸ë¼ìš´ë“œ ì‚¬ìš©</td>
<td>ì‰¬ì›€</td>
<td>ë³µì¡í•¨</td>
</tr>
<tr>
<td>ì •ë¦¬ í•„ìš”</td>
<td>ìˆ˜ë™</td>
<td>ìë™</td>
</tr>
<tr>
<td>ìµœì  ìš©ë„</td>
<td>ì¥ê¸° ì‹¤í–‰ IPC</td>
<td>ì¼íšŒì„± ì‘ì—…</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì¼íšŒì„± ë¹„êµì—ëŠ” í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ ì‚¬ìš©</span>
diff<span class="w"> </span>&lt;<span class="o">(</span>command1<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>command2<span class="o">)</span>

<span class="c1"># ì§€ì†ì  í†µì‹ ì—ëŠ” FIFO ì‚¬ìš©</span>
mkfifo<span class="w"> </span>/tmp/logpipe
tail<span class="w"> </span>-f<span class="w"> </span>/var/log/app.log<span class="w"> </span>&gt;<span class="w"> </span>/tmp/logpipe<span class="w"> </span><span class="p">&amp;</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>process_log_line<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>/tmp/logpipe
</code></pre></div>

<h2 id="6">6. íŒŒì´í”„ í•¨ì •ê³¼ í•´ê²°ì±…<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1 ì„œë¸Œì…¸ ë³€ìˆ˜ ìŠ¤ì½”í”„ ì†ì‹¤<a class="header-link" href="#61" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë¬¸ì œ: íŒŒì´í”„ë¼ì¸ì˜ ë§ˆì§€ë§‰ ëª…ë ¹ì´ ì„œë¸Œì…¸ì—ì„œ ì‹¤í–‰ë¨</span>
<span class="nv">total</span><span class="o">=</span><span class="m">0</span>
cat<span class="w"> </span>numbers.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>num<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span><span class="nv">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>num<span class="o">))</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total: </span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì¶œë ¥: 0 (ìˆ˜ì •ë˜ì§€ ì•ŠìŒ!)</span>

<span class="c1"># í•´ê²°ì±… 1: í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜</span>
<span class="nv">total</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>num<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span><span class="nv">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>num<span class="o">))</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>&lt;<span class="o">(</span>cat<span class="w"> </span>numbers.txt<span class="o">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total: </span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì˜¬ë°”ë¦„</span>

<span class="c1"># í•´ê²°ì±… 2: lastpipe ì‚¬ìš© (Bash 4.2+, ìŠ¤í¬ë¦½íŠ¸ì—ì„œë§Œ)</span>
<span class="nb">shopt</span><span class="w"> </span>-s<span class="w"> </span>lastpipe
<span class="nv">total</span><span class="o">=</span><span class="m">0</span>
cat<span class="w"> </span>numbers.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>num<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span><span class="nv">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>num<span class="o">))</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total: </span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì˜¬ë°”ë¦„</span>

<span class="c1"># í•´ê²°ì±… 3: ì„ì‹œ íŒŒì¼</span>
<span class="nv">tmpfile</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="k">)</span>
cat<span class="w"> </span>numbers.txt<span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>
<span class="nv">total</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>num<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">((</span><span class="nv">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span>num<span class="o">))</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>
rm<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total: </span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># ì˜¬ë°”ë¦„</span>
</code></pre></div>

<h3 id="62-pipestatus">6.2 PIPESTATUS ë°°ì—´<a class="header-link" href="#62-pipestatus" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># íŒŒì´í”„ë¼ì¸ì˜ ëª¨ë“  ëª…ë ¹ ì¢…ë£Œ ìƒíƒœ í™•ì¸</span>
command1<span class="w"> </span><span class="p">|</span><span class="w"> </span>command2<span class="w"> </span><span class="p">|</span><span class="w"> </span>command3

<span class="c1"># PIPESTATUSëŠ” ëª¨ë“  ëª…ë ¹ì˜ ì¢…ë£Œ ì½”ë“œë¥¼ í¬í•¨</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Exit codes: </span><span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># ì˜ˆì œ: íŒŒì´í”„ë¼ì¸ ì–´ë””ì„œë“  ì‹¤íŒ¨ ê°ì§€</span>
<span class="nb">false</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nb">true</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[0]</span><span class="si">}</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;First command failed&quot;</span>
<span class="k">fi</span>

<span class="c1"># ì‹¤ì „ ì˜ˆì œ: ë°ì´í„°ë² ì´ìŠ¤ íŒŒì´í”„ë¼ì¸</span>
<span class="o">{</span>
<span class="w">    </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p<span class="w"> </span>mydb<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SELECT * FROM users&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sort<span class="w"> </span>-k2
<span class="o">}</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null

<span class="nv">pipeline_status</span><span class="o">=(</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PIPESTATUS</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">pipeline_status</span><span class="p">[0]</span><span class="si">}</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Database query failed&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">pipeline_status</span><span class="p">[1]</span><span class="si">}</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Grep failed&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="si">${</span><span class="nv">pipeline_status</span><span class="p">[2]</span><span class="si">}</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Sort failed&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pipeline succeeded&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="63">6.3 íŒŒì´í”„ë¼ì¸ ì—ëŸ¬ ì²˜ë¦¬<a class="header-link" href="#63" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># pipefail í™œì„±í™”: ì–´ë–¤ ëª…ë ¹ì´ë“  ì‹¤íŒ¨í•˜ë©´ íŒŒì´í”„ë¼ì¸ ì‹¤íŒ¨</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>pipefail

<span class="c1"># ì´ì œ íŒŒì´í”„ë¼ì¸ì€ ì–´ë–¤ ëª…ë ¹ì´ë“  ì‹¤íŒ¨í•˜ë©´ 0ì´ ì•„ë‹Œ ê°’ì„ ë°˜í™˜</span>
<span class="k">if</span><span class="w"> </span>command1<span class="w"> </span><span class="p">|</span><span class="w"> </span>command2<span class="w"> </span><span class="p">|</span><span class="w"> </span>command3<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pipeline succeeded&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pipeline failed&quot;</span>
<span class="k">fi</span>

<span class="c1"># ì‹¤ì „ ì˜ˆì œ: ì•ˆì „í•œ ë°ì´í„° ì²˜ë¦¬</span>
<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail<span class="w">  </span><span class="c1"># ì—ëŸ¬, ë¯¸ì •ì˜ ë³€ìˆ˜, íŒŒì´í”„ë¼ì¸ ì‹¤íŒ¨ ì‹œ ì¢…ë£Œ</span>

process_data<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">input</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^#&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>sort<span class="w"> </span>-u<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>sed<span class="w"> </span><span class="s1">&#39;s/foo/bar/g&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$output</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># ì–´ë–¤ ëª…ë ¹ì´ë“  ì‹¤íŒ¨í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ</span>
<span class="o">}</span>

<span class="c1"># pipefailê³¼ í•¨ê»˜ ì—ëŸ¬ ì²˜ë¦¬</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>pipefail
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>tar<span class="w"> </span>czf<span class="w"> </span>backup.tar.gz<span class="w"> </span>--exclude<span class="o">=</span><span class="s2">&quot;*.tmp&quot;</span><span class="w"> </span>-T<span class="w"> </span>&lt;<span class="o">(</span>find<span class="w"> </span>/data<span class="w"> </span>-type<span class="w"> </span>f<span class="o">)</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Backup failed&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="64">6.4 ëª…ëª…ëœ íŒŒì´í”„ êµì°© ìƒíƒœ ë°©ì§€<a class="header-link" href="#64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë¬¸ì œ: reader/writerê°€ ì¡°ìœ¨ë˜ì§€ ì•Šìœ¼ë©´ êµì°© ìƒíƒœ</span>
mkfifo<span class="w"> </span>mypipe
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>mypipe<span class="w">  </span><span class="c1"># ì˜ì›íˆ ë¸”ë¡! (reader ì—†ìŒ)</span>

<span class="c1"># í•´ê²°ì±… 1: ì½ê¸°ì™€ ì“°ê¸° ëª¨ë‘ë¡œ íŒŒì´í”„ ì—´ê¸°</span>
mkfifo<span class="w"> </span>mypipe
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&lt;&gt;<span class="w"> </span>mypipe<span class="w">  </span><span class="c1"># ì½ê¸°/ì“°ê¸°ë¡œ ì—´ê¸°</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w">  </span><span class="c1"># ì“°ê¸°</span>
<span class="nb">read</span><span class="w"> </span>line<span class="w"> </span>&lt;<span class="p">&amp;</span><span class="m">3</span><span class="w">    </span><span class="c1"># ì½ê¸°</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span>-<span class="w">        </span><span class="c1"># ë‹«ê¸°</span>

rm<span class="w"> </span>mypipe

<span class="c1"># í•´ê²°ì±… 2: ì ì ˆí•œ ë™ê¸°í™”ì™€ í•¨ê»˜ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤</span>
mkfifo<span class="w"> </span>mypipe
<span class="nb">trap</span><span class="w"> </span><span class="s2">&quot;rm -f mypipe&quot;</span><span class="w"> </span>EXIT

<span class="c1"># ë°±ê·¸ë¼ìš´ë“œì˜ reader</span>
cat<span class="w"> </span>&lt;<span class="w"> </span>mypipe<span class="w"> </span><span class="p">&amp;</span>
<span class="nv">reader_pid</span><span class="o">=</span><span class="nv">$!</span>

<span class="c1"># Writer</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>mypipe

<span class="c1"># reader ëŒ€ê¸°</span>
<span class="nb">wait</span><span class="w"> </span><span class="nv">$reader_pid</span>
</code></pre></div>

<h2 id="7-io">7. ì‹¤ì „ I/O íŒ¨í„´<a class="header-link" href="#7-io" title="Permanent link">&para;</a></h2>
<h3 id="71-tee">7.1 ì—¬ëŸ¬ ëª©ì ì§€ë¡œ Tee<a class="header-link" href="#71-tee" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ê¸°ë³¸ tee: íŒŒì¼ê³¼ stdoutì— ì“°ê¸°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Important message&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>log.txt

<span class="c1"># ì—¬ëŸ¬ íŒŒì¼</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Message&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt<span class="w"> </span>file3.txt

<span class="c1"># ì¶”ê°€ ëª¨ë“œ</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;New entry&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>logfile.txt

<span class="c1"># ë³µì¡í•œ ì˜ˆì œ: ë¶„í•  ì²˜ë¦¬</span>
cat<span class="w"> </span>data.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>errors.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;WARN&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>warnings.log<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="o">(</span>wc<span class="w"> </span>-l<span class="w"> </span>&gt;<span class="w"> </span>linecount.txt<span class="o">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;INFO&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>info.log
</code></pre></div>

<h3 id="72">7.2 ì½˜ì†”ê³¼ íŒŒì¼ì— ë¡œê¹…<a class="header-link" href="#72" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ë¡œê¹… ì„¤ì •</span>
<span class="nv">LOGFILE</span><span class="o">=</span><span class="s2">&quot;application.log&quot;</span>

log<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">level</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">shift</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">message</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">timestamp</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span><span class="s1">&#39;+%Y-%m-%d %H:%M:%S&#39;</span><span class="k">)</span>

<span class="w">    </span><span class="c1"># ì½˜ì†”ê³¼ íŒŒì¼ ëª¨ë‘ì— ë¡œê·¸</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[</span><span class="nv">$timestamp</span><span class="s2">] [</span><span class="nv">$level</span><span class="s2">] </span><span class="nv">$message</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># ì‚¬ìš©</span>
log<span class="w"> </span><span class="s2">&quot;INFO&quot;</span><span class="w"> </span><span class="s2">&quot;Application started&quot;</span>
log<span class="w"> </span><span class="s2">&quot;WARN&quot;</span><span class="w"> </span><span class="s2">&quot;Configuration file not found, using defaults&quot;</span>
log<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="w"> </span><span class="s2">&quot;Failed to connect to database&quot;</span>

<span class="c1"># ëŒ€ì•ˆ: ëª¨ë“  ì¶œë ¥ ë¦¬ë‹¤ì´ë ‰íŠ¸</span>
<span class="nb">exec</span><span class="w"> </span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>tee<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

<span class="c1"># ì´ì œ ëª¨ë“  ì¶œë ¥ì´ ì½˜ì†”ê³¼ íŒŒì¼ ëª¨ë‘ë¡œ ê°</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This appears in both places&quot;</span>
ls<span class="w"> </span>/nonexistent<span class="w">  </span><span class="c1"># ì—ëŸ¬ë„ ë¡œê¹…ë¨</span>
</code></pre></div>

<h3 id="73">7.3 ë™ì¼ íŒŒì¼ ì•ˆì „í•˜ê²Œ ì½ê³  ì“°ê¸°<a class="header-link" href="#73" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì˜ëª»ëœ ë°©ë²•: ì½ê¸° ì „ì— íŒŒì¼ì„ ë®ì–´ì”€!</span>
sort<span class="w"> </span>file.txt<span class="w"> </span>&gt;<span class="w"> </span>file.txt<span class="w">  </span><span class="c1"># file.txtê°€ ë¹„ì›Œì§!</span>

<span class="c1"># í•´ê²°ì±… 1: sponge ì‚¬ìš© (moreutilsì—ì„œ)</span>
sort<span class="w"> </span>file.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>sponge<span class="w"> </span>file.txt

<span class="c1"># í•´ê²°ì±… 2: ì„ì‹œ íŒŒì¼ ì‚¬ìš©</span>
sort<span class="w"> </span>file.txt<span class="w"> </span>&gt;<span class="w"> </span>file.txt.tmp<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mv<span class="w"> </span>file.txt.tmp<span class="w"> </span>file.txt

<span class="c1"># í•´ê²°ì±… 3: -i í”Œë˜ê·¸ë¡œ ì œìë¦¬ í¸ì§‘ (ì§€ì›ë˜ëŠ” ê²½ìš°)</span>
sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/foo/bar/g&#39;</span><span class="w"> </span>file.txt

<span class="c1"># ì›ìì  íŒŒì¼ êµì²´</span>
update_config<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">config_file</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">tmpfile</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="k">)</span>

<span class="w">    </span><span class="c1"># íŒŒì¼ ì²˜ë¦¬</span>
<span class="w">    </span>process_config<span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_file</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># ì›ìì  êµì²´</span>
<span class="w">    </span>mv<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$config_file</span><span class="s2">&quot;</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="74">7.4 ì›ìì  íŒŒì¼ ì“°ê¸°<a class="header-link" href="#74" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì›ìì  ì“°ê¸° íŒ¨í„´: ì„ì‹œì— ì“°ê³  ê·¸ ë‹¤ìŒ ì´ë™</span>
atomic_write<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">target_file</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">content</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">tmpfile</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">target_file</span><span class="si">}</span><span class="s2">.XXXXXX&quot;</span><span class="k">)</span>

<span class="w">    </span><span class="c1"># ì„ì‹œ íŒŒì¼ì— ì“°ê¸°</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$content</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># ì“°ê¸°ê°€ ì„±ê³µí–ˆëŠ”ì§€ í™•ì¸</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="c1"># ì›ìì  ì´ë™ (ê°™ì€ íŒŒì¼ì‹œìŠ¤í…œì—ì„œ)</span>
<span class="w">        </span>mv<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$target_file</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># ì‚¬ìš©</span>
atomic_write<span class="w"> </span><span class="s2">&quot;config.json&quot;</span><span class="w"> </span><span class="s1">&#39;{&quot;setting&quot;: &quot;value&quot;}&#39;</span>

<span class="c1"># ë³µì¡í•œ ì˜ˆì œ: ì¤‘ìš”í•œ íŒŒì¼ ì—…ë°ì´íŠ¸</span>
update_critical_file<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">file</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">tmpfile</span><span class="o">=</span><span class="k">$(</span>mktemp<span class="k">)</span>

<span class="w">    </span><span class="c1"># ì •ë¦¬ìš© trap ì„¤ì •</span>
<span class="w">    </span><span class="nb">trap</span><span class="w"> </span><span class="s2">&quot;rm -f &#39;</span><span class="nv">$tmpfile</span><span class="s2">&#39;&quot;</span><span class="w"> </span>RETURN

<span class="w">    </span><span class="c1"># ìƒˆ ì½˜í…ì¸  ìƒì„±</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>generate_content<span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Failed to generate content&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># ìƒˆ ì½˜í…ì¸  ê²€ì¦</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>validate_content<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Content validation failed&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># ì›ë³¸ê³¼ ë™ì¼í•œ ê¶Œí•œ ì„¤ì •</span>
<span class="w">    </span>chmod<span class="w"> </span>--reference<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null

<span class="w">    </span><span class="c1"># ì›ìì  êµì²´</span>
<span class="w">    </span>mv<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tmpfile</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="75">7.5 ì•ˆì „í•œ ë™ì‹œ ì ‘ê·¼ì„ ìœ„í•œ íŒŒì¼ ì ê¸ˆ<a class="header-link" href="#75" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># íŒŒì¼ ì ê¸ˆì— flock ì‚¬ìš©</span>
update_counter<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">counter_file</span><span class="o">=</span><span class="s2">&quot;counter.txt&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">lockfile</span><span class="o">=</span><span class="s2">&quot;counter.lock&quot;</span>

<span class="w">    </span><span class="c1"># ë°°íƒ€ì  ì ê¸ˆ íšë“ (FD 200)</span>
<span class="w">    </span><span class="o">{</span>
<span class="w">        </span>flock<span class="w"> </span>-x<span class="w"> </span><span class="m">200</span>

<span class="w">        </span><span class="c1"># í˜„ì¬ ê°’ ì½ê¸°</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="w">        </span><span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$counter_file</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="k">$(</span>cat<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$counter_file</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="w">        </span><span class="c1"># ì¦ê°€</span>
<span class="w">        </span><span class="o">((</span>count++<span class="o">))</span>

<span class="w">        </span><span class="c1"># ë‹¤ì‹œ ì“°ê¸°</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$count</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$counter_file</span><span class="s2">&quot;</span>

<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Counter updated to: </span><span class="nv">$count</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="o">}</span><span class="w"> </span><span class="m">200</span>&gt;<span class="s2">&quot;</span><span class="nv">$lockfile</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì•ˆì „í•˜ê²Œ ì´ê²ƒì„ í˜¸ì¶œ ê°€ëŠ¥</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>update_counter<span class="w"> </span><span class="p">&amp;</span>
<span class="k">done</span>
<span class="nb">wait</span>

<span class="c1"># ìµœì¢… ê°’</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Final count: </span><span class="k">$(</span>cat<span class="w"> </span>counter.txt<span class="k">)</span><span class="s2">&quot;</span>

<span class="c1"># ëŒ€ì•ˆ: ì¸ë¼ì¸ ì ê¸ˆ</span>
<span class="o">{</span>
<span class="w">    </span>flock<span class="w"> </span>-x<span class="w"> </span><span class="m">200</span>

<span class="w">    </span><span class="c1"># ì„ê³„ ì˜ì—­</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Exclusive access to resource&quot;</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">2</span>

<span class="o">}</span><span class="w"> </span><span class="m">200</span>&gt;/tmp/mylock
</code></pre></div>

<h3 id="76-fifo">7.6 FIFOë¥¼ ì‚¬ìš©í•œ ì§„í–‰ ìƒí™© í‘œì‹œ<a class="header-link" href="#76-fifo" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># ì§„í–‰ ìƒí™© íŒŒì´í”„ ìƒì„±</span>
mkfifo<span class="w"> </span>/tmp/progress_<span class="nv">$$</span>
<span class="nb">trap</span><span class="w"> </span><span class="s2">&quot;rm -f /tmp/progress_</span><span class="nv">$$</span><span class="s2">&quot;</span><span class="w"> </span>EXIT

<span class="c1"># ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„° (ë°±ê·¸ë¼ìš´ë“œ)</span>
<span class="o">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>percent<span class="w"> </span>message<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\r[%-50s] %d%% %s&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;#%.0s&#39;</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="k">$((</span><span class="nv">percent</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="k">))))</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="nv">$message</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>/tmp/progress_<span class="nv">$$</span>
<span class="w">    </span><span class="nb">echo</span>
<span class="o">}</span><span class="w"> </span><span class="p">&amp;</span>
<span class="nv">monitor_pid</span><span class="o">=</span><span class="nv">$!</span>

<span class="c1"># ì‘ì—… í”„ë¡œì„¸ìŠ¤</span>
<span class="o">{</span>
<span class="w">    </span><span class="nv">total</span><span class="o">=</span><span class="m">100</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nv">$total</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># ì‘ì—… ì‹œë®¬ë ˆì´ì…˜</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">0</span>.05

<span class="w">        </span><span class="c1"># ì§„í–‰ ìƒí™© ë³´ê³ </span>
<span class="w">        </span><span class="nv">percent</span><span class="o">=</span><span class="k">$((</span><span class="nv">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total</span><span class="k">))</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2"> Processing item </span><span class="nv">$i</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/progress_<span class="nv">$$</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span><span class="w"> </span><span class="p">&amp;</span>
<span class="nv">worker_pid</span><span class="o">=</span><span class="nv">$!</span>

<span class="c1"># ì™„ë£Œ ëŒ€ê¸°</span>
<span class="nb">wait</span><span class="w"> </span><span class="nv">$worker_pid</span>
<span class="nb">wait</span><span class="w"> </span><span class="nv">$monitor_pid</span>
</code></pre></div>

<h2 id="_1">ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="1">ë¬¸ì œ 1: ë‹¤ì¤‘ ëŒ€ìƒ ë¡œê±°<a class="header-link" href="#1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ë¡œê¹… ì‹œìŠ¤í…œ ìƒì„±:
- ë¡œê·¸ ë ˆë²¨ (DEBUG, INFO, WARN, ERROR)ê³¼ ë©”ì‹œì§€ í—ˆìš©
- ëª¨ë“  ë¡œê·¸ë¥¼ <code>all.log</code>ì— ì“°ê¸°
- ERROR ë¡œê·¸ë¥¼ <code>error.log</code>ì— ì“°ê¸°
- WARNê³¼ ERRORë¥¼ <code>important.log</code>ì— ì“°ê¸°
- ERRORì™€ WARNì„ stderrì—, ë‚˜ë¨¸ì§€ëŠ” stdoutì— í‘œì‹œ
- ê° ë¡œê·¸ í•­ëª©ì— íƒ€ì„ìŠ¤íƒ¬í”„ì™€ í˜¸ìŠ¤íŠ¸ëª… ì¶”ê°€
- íŒŒì¼ì´ 10MBë¥¼ ì´ˆê³¼í•˜ë©´ ë¡œê·¸ ë¡œí…Œì´ì…˜ êµ¬í˜„</p>
<h3 id="2_1">ë¬¸ì œ 2: íŒŒì´í”„ë¼ì¸ ëª¨ë‹ˆí„°<a class="header-link" href="#2_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±:
- ë‹¤ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ì˜ˆ: download | decompress | process | upload)
- PIPESTATUSë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ë‹¨ê³„ì˜ ì¢…ë£Œ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì— ì§„í–‰ ìƒí™© ë¡œê¹…
- ì‹¤íŒ¨í•œ ë‹¨ê³„ì— ëŒ€í•œ ì¬ì‹œë„ ë¡œì§ êµ¬í˜„
- ì–´ëŠ ë‹¨ê³„ê°€ ì‹¤íŒ¨í–ˆëŠ”ì§€ì™€ ê·¸ ì´ìœ  ë³´ê³ 
- ì´ ì‹œê°„ê³¼ ì²˜ë¦¬ëŸ‰ ê³„ì‚°</p>
<h3 id="3-fifo">ë¬¸ì œ 3: FIFO ê¸°ë°˜ í ì‹œìŠ¤í…œ<a class="header-link" href="#3-fifo" title="Permanent link">&para;</a></h3>
<p>ëª…ëª…ëœ íŒŒì´í”„ë¥¼ ì‚¬ìš©í•œ ê°„ë‹¨í•œ ì‘ì—… í êµ¬í˜„:
- íì— ì‘ì—…ì„ ë³´ë‚´ëŠ” <code>job_submit</code> ëª…ë ¹ ìƒì„±
- íì—ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” <code>job_worker</code> ìƒì„±
- ì—¬ëŸ¬ ë™ì‹œ ì›Œì»¤ ì§€ì›
- ì‘ì—… ìƒíƒœ ì¶”ì  êµ¬í˜„ (pending, running, completed, failed)
- ì›Œì»¤ ì¶©ëŒì„ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬
- í ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” <code>job_status</code> ëª…ë ¹ ì œê³µ</p>
<h3 id="4">ë¬¸ì œ 4: ì„¤ì • ê²€ì¦ê¸°<a class="header-link" href="#4" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°€ì§„ ë„êµ¬ êµ¬ì¶•:
- stdin ë˜ëŠ” íŒŒì¼ ì¸ìì—ì„œ ì„¤ì • íŒŒì¼ ì½ê¸°
- ê²€ì¦ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ë¬¸ ê²€ì¦
- ìœ íš¨í•˜ë©´, ì›ìì ìœ¼ë¡œ ì´ì „ config êµì²´
- ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´, stderrì— ì—ëŸ¬ í‘œì‹œí•˜ê³  ì´ì „ config ìœ ì§€
- êµì²´ ì „ ë°±ì—… ìƒì„± (ë§ˆì§€ë§‰ 5ê°œ ë°±ì—… ìœ ì§€)
- íƒ€ì„ìŠ¤íƒ¬í”„ì™€ í•¨ê»˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ ë¡œê¹…
- dry-run ëª¨ë“œ ì§€ì› (êµì²´í•˜ì§€ ì•Šê³  ê²€ì¦ë§Œ)</p>
<h3 id="5-fd">ë¬¸ì œ 5: FDë¥¼ ì‚¬ìš©í•œ ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì„œ<a class="header-link" href="#5-fd" title="Permanent link">&para;</a></h3>
<p>ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ í”„ë ˆì„ì›Œí¬ ìƒì„±:
- FD 3, 4, 5ì— 3ê°œ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ ì—´ê¸°
- íƒ€ì„ìŠ¤íƒ¬í”„ì™€ í•¨ê»˜ ìŠ¤íŠ¸ë¦¼ ë³‘í•©
- ì •ê·œì‹ íŒ¨í„´ì— ê¸°ë°˜í•œ í•„í„°ë§
- ë‚´ìš©ì— ë”°ë¼ ë‹¤ë¥¸ íŒŒì¼ë¡œ ì¶œë ¥ ë¶„í• 
- í†µê³„ ìœ ì§€ (ìŠ¤íŠ¸ë¦¼ë‹¹ ì²˜ë¦¬ëœ ì¤„, ì¼ì¹˜, ì—ëŸ¬)
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•´ í”„ë¡œì„¸ìŠ¤ ì¹˜í™˜ ì‚¬ìš©
- ìŠ¤íŠ¸ë¦¼ ì¢…ë£Œë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬</p>
<p><strong>ì´ì „</strong>: <a href="./05_Functions_and_Libraries.md">05_Functions_and_Libraries.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./07_String_Processing.md">07_String_Processing.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/05_Functions_and_Libraries.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë ˆìŠ¨ 05: í•¨ìˆ˜ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬(Functions and Libraries)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/07_String_Processing.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">Lesson 07: ë¬¸ìì—´ ì²˜ë¦¬ì™€ í…ìŠ¤íŠ¸ ì¡°ì‘</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}