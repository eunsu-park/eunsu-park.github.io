{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 11: ì¸ìˆ˜ íŒŒì‹± ë° CLI ì¸í„°í˜ì´ìŠ¤ - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/Shell_Script/">Shell Script</a>
    <span class="separator">/</span>
    <span class="current">Lesson 11: ì¸ìˆ˜ íŒŒì‹± ë° CLI ì¸í„°í˜ì´ìŠ¤</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>Lesson 11: ì¸ìˆ˜ íŒŒì‹± ë° CLI ì¸í„°í˜ì´ìŠ¤</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/10_Error_Handling.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Lesson 10: ì—ëŸ¬ ì²˜ë¦¬ ë° ë””ë²„ê¹…</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/12_Portability_and_Best_Practices.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë ˆìŠ¨ 12: ì´ì‹ì„±ê³¼ ëª¨ë²” ì‚¬ë¡€</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#1">1. ìˆ˜ë™ ì¸ìˆ˜ íŒŒì‹±</a><ul>
<li><a href="#_1">ê¸°ë³¸ ì¸ìˆ˜ ë£¨í”„</a></li>
<li><a href="#_2">ê°’ì„ ê°€ì§„ ì˜µì…˜ ì²˜ë¦¬</a></li>
<li><a href="#_3">ê³ ê¸‰ ìˆ˜ë™ íŒŒì‹±</a></li>
</ul>
</li>
<li><a href="#2-getopts-posix">2. getopts (POSIX)</a><ul>
<li><a href="#getopts">ê¸°ë³¸ getopts ì‚¬ìš©ë²•</a></li>
<li><a href="#getopts_1">getopts ì—ëŸ¬ ì²˜ë¦¬</a></li>
<li><a href="#getopts_2">í•¨ìˆ˜ì™€ í•¨ê»˜ getopts ì‚¬ìš©</a></li>
<li><a href="#getopts_3">ì™„ì „í•œ getopts ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#3-getopt-gnu">3. getopt (GNU)</a><ul>
<li><a href="#getopt">ê¸°ë³¸ getopt ì‚¬ìš©ë²•</a></li>
<li><a href="#getopt_1">ê¸´ ì˜µì…˜ë§Œ ì‚¬ìš©í•˜ëŠ” getopt</a></li>
<li><a href="#getopt-vs-getopts">getopt vs getopts ë¹„êµ</a></li>
<li><a href="#getopt_2">ì™„ì „í•œ getopt ì˜ˆì œ</a></li>
</ul>
</li>
<li><a href="#4">4. ìì²´ ë¬¸ì„œí™” ë„ì›€ë§</a><ul>
<li><a href="#_4">ë„ì›€ë§ ë©”ì‹œì§€ í…œí”Œë¦¿</a></li>
<li><a href="#_5">ì£¼ì„ì—ì„œ ë„ì›€ë§ ì¶”ì¶œ</a></li>
<li><a href="#_6">ë²„ì „ ì •ë³´</a></li>
<li><a href="#_7">ë™ì  ë„ì›€ë§ ìƒì„±</a></li>
</ul>
</li>
<li><a href="#5">5. ì»¬ëŸ¬ ì¶œë ¥</a><ul>
<li><a href="#ansi">ANSI ì»¬ëŸ¬ ì½”ë“œ</a></li>
<li><a href="#_8">ì™„ì „í•œ ì»¬ëŸ¬ í…Œì´ë¸”</a></li>
<li><a href="#tput">tput ëª…ë ¹ì–´</a></li>
<li><a href="#_9">ì¡°ê±´ë¶€ ì»¬ëŸ¬ë§</a></li>
<li><a href="#_10">ì»¬ëŸ¬ í—¬í¼ í•¨ìˆ˜</a></li>
</ul>
</li>
<li><a href="#6">6. ì§„í–‰ í‘œì‹œê¸°</a><ul>
<li><a href="#_11">ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜</a></li>
<li><a href="#_12">ì§„í–‰ ë§‰ëŒ€</a></li>
<li><a href="#_13">íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì§„í–‰ ìƒí™©</a></li>
<li><a href="#_14">ë‹¤ì¤‘ ë¼ì¸ ì§„í–‰ í‘œì‹œ</a></li>
</ul>
</li>
<li><a href="#7">7. ëŒ€í™”í˜• ì…ë ¥</a><ul>
<li><a href="#_15">ê¸°ë³¸ ì…ë ¥</a></li>
<li><a href="#_16">ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</a></li>
<li><a href="#_17">ì˜ˆ/ì•„ë‹ˆì˜¤ í™•ì¸</a></li>
<li><a href="#_18">ë©”ë‰´ ì„ íƒ</a></li>
<li><a href="#_19">ê²€ì¦ì„ í¬í•¨í•œ ê³ ê¸‰ ì…ë ¥</a></li>
</ul>
</li>
<li><a href="#8-cli">8. ì™„ì „í•œ CLI ë„êµ¬ ì˜ˆì œ</a></li>
<li><a href="#9">9. ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1_1">ë¬¸ì œ 1: ê³ ê¸‰ ì˜µì…˜ íŒŒì„œ</a></li>
<li><a href="#2">ë¬¸ì œ 2: ì„¤ì • íŒŒì¼ í†µí•©</a></li>
<li><a href="#3">ë¬¸ì œ 3: ëŒ€í™”í˜• ì„¤ì • ë§ˆë²•ì‚¬</a></li>
<li><a href="#4-git">ë¬¸ì œ 4: Git ìŠ¤íƒ€ì¼ í•˜ìœ„ ëª…ë ¹ ì¸í„°í˜ì´ìŠ¤</a></li>
<li><a href="#5-cli">ë¬¸ì œ 5: CLI ëŒ€ì‹œë³´ë“œ</a></li>
</ul>
</li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="lesson-11-cli">Lesson 11: ì¸ìˆ˜ íŒŒì‹± ë° CLI ì¸í„°í˜ì´ìŠ¤<a class="header-link" href="#lesson-11-cli" title="Permanent link">&para;</a></h1>
<p><strong>ë‚œì´ë„</strong>: â­â­â­</p>
<p><strong>ì´ì „</strong>: <a href="./10_Error_Handling.md">10_Error_Handling.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./12_Portability_and_Best_Practices.md">12_Portability_and_Best_Practices.md</a></p>
<hr />
<h2 id="1">1. ìˆ˜ë™ ì¸ìˆ˜ íŒŒì‹±<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<p>ìˆ˜ë™ íŒŒì‹±ì€ ì¸ìˆ˜ ì²˜ë¦¬ì— ëŒ€í•œ ì™„ì „í•œ ì œì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<h3 id="_1">ê¸°ë³¸ ì¸ìˆ˜ ë£¨í”„<a class="header-link" href="#_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Parse arguments manually</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>-h<span class="p">|</span>--help<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> [OPTIONS]&quot;</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">            </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-o<span class="p">|</span>--output<span class="o">)</span>
<span class="w">            </span><span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--<span class="o">)</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown option: </span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="c1"># Positional argument</span>
<span class="w">            </span><span class="nv">ARGS</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Remaining arguments (after --)</span>
<span class="nv">REMAINING_ARGS</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;VERBOSE: </span><span class="si">${</span><span class="nv">VERBOSE</span><span class="k">:-</span><span class="nv">0</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;OUTPUT: </span><span class="si">${</span><span class="nv">OUTPUT</span><span class="k">:-</span><span class="nv">none</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ARGS: </span><span class="si">${</span><span class="nv">ARGS</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;REMAINING: </span><span class="si">${</span><span class="nv">REMAINING_ARGS</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_2">ê°’ì„ ê°€ì§„ ì˜µì…˜ ì²˜ë¦¬<a class="header-link" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Parse options that take values</span>
parse_args<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">verbose</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">files</span><span class="o">=()</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">                </span><span class="nv">verbose</span><span class="o">=</span><span class="m">1</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-o<span class="p">|</span>--output<span class="o">)</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>-*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: --output requires a value&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--output<span class="o">=</span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-n<span class="p">|</span>--count<span class="o">)</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>-*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: --count requires a value&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="nv">count</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--count<span class="o">=</span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">count</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--<span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="nv">files</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unknown option: </span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">files</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="c1"># Export parsed values</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;verbose=</span><span class="nv">$verbose</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;output=</span><span class="nv">$output</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;count=</span><span class="nv">$count</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;files=(</span><span class="si">${</span><span class="nv">files</span><span class="p">[*]</span><span class="si">}</span><span class="s2">)&quot;</span>
<span class="o">}</span>

<span class="c1"># Test</span>
parse_args<span class="w"> </span>-v<span class="w"> </span>--output<span class="o">=</span>result.txt<span class="w"> </span>--count<span class="w"> </span><span class="m">5</span><span class="w"> </span>file1.txt<span class="w"> </span>file2.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;---&quot;</span>
parse_args<span class="w"> </span>--verbose<span class="w"> </span>-o<span class="w"> </span>result.txt<span class="w"> </span>-n<span class="w"> </span><span class="m">3</span><span class="w"> </span>--<span class="w"> </span>file1.txt<span class="w"> </span>file2.txt<span class="w"> </span>-special-file
</code></pre></div>

<h3 id="_3">ê³ ê¸‰ ìˆ˜ë™ íŒŒì‹±<a class="header-link" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Complete argument parser</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span>OPTIONS
<span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span>POSITIONAL

parse_arguments<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">expecting_value</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Handle value for previous option</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$expecting_value</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span>OPTIONS<span class="o">[</span><span class="s2">&quot;</span><span class="nv">$option_name</span><span class="s2">&quot;</span><span class="o">]=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nv">expecting_value</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="k">continue</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="c1"># Long option with value: --option=value</span>
<span class="w">            </span>--*<span class="o">=</span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">%%=*</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">option_name</span><span class="p">#--</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span>OPTIONS<span class="o">[</span><span class="s2">&quot;</span><span class="nv">$option_name</span><span class="s2">&quot;</span><span class="o">]=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>

<span class="w">            </span><span class="c1"># Long option without value: --option</span>
<span class="w">            </span>--*<span class="o">)</span>
<span class="w">                </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#--</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="c1"># Check if next arg is a value or another option</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^-<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nv">expecting_value</span><span class="o">=</span><span class="m">1</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span>OPTIONS<span class="o">[</span><span class="s2">&quot;</span><span class="nv">$option_name</span><span class="s2">&quot;</span><span class="o">]=</span><span class="m">1</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>

<span class="w">            </span><span class="c1"># Short option: -o</span>
<span class="w">            </span>-<span class="o">[</span>!-<span class="o">])</span>
<span class="w">                </span><span class="nv">option_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#-</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="c1"># Check if next arg is a value</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^-<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span><span class="nv">expecting_value</span><span class="o">=</span><span class="m">1</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span>OPTIONS<span class="o">[</span><span class="s2">&quot;</span><span class="nv">$option_name</span><span class="s2">&quot;</span><span class="o">]=</span><span class="m">1</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>

<span class="w">            </span><span class="c1"># Combined short options: -abc</span>
<span class="w">            </span>-<span class="o">[</span>!-<span class="o">]</span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">local</span><span class="w"> </span><span class="nv">opts</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#-</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="w"> </span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>i&lt;<span class="si">${#</span><span class="nv">opts</span><span class="si">}</span><span class="p">;</span><span class="w"> </span>i++<span class="w"> </span><span class="o">))</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">                    </span>OPTIONS<span class="o">[</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">opts</span><span class="p">:</span><span class="nv">$i</span><span class="p">:</span><span class="nv">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">]=</span><span class="m">1</span>
<span class="w">                </span><span class="k">done</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>

<span class="w">            </span><span class="c1"># End of options</span>
<span class="w">            </span>--<span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="nv">POSITIONAL</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>

<span class="w">            </span><span class="c1"># Positional argument</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">POSITIONAL</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="c1"># Check if we&#39;re still expecting a value</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$expecting_value</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Option --</span><span class="nv">$option_name</span><span class="s2"> requires a value&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
parse_arguments<span class="w"> </span>-abc<span class="w"> </span>--verbose<span class="w"> </span>--output<span class="o">=</span>file.txt<span class="w"> </span>--count<span class="w"> </span><span class="m">5</span><span class="w"> </span>input1.txt<span class="w"> </span>input2.txt

<span class="c1"># Display results</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Options:&quot;</span>
<span class="k">for</span><span class="w"> </span>key<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!OPTIONS[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$key</span><span class="s2"> = </span><span class="si">${</span><span class="nv">OPTIONS</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Positional arguments:&quot;</span>
<span class="k">for</span><span class="w"> </span>arg<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">POSITIONAL</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="nv">$arg</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h2 id="2-getopts-posix">2. getopts (POSIX)<a class="header-link" href="#2-getopts-posix" title="Permanent link">&para;</a></h2>
<p><code>getopts</code>ëŠ” ì˜µì…˜ íŒŒì‹±ì„ ìœ„í•œ POSIX ë‚´ì¥ ëª…ë ¹ì–´ì…ë‹ˆë‹¤.</p>
<h3 id="getopts">ê¸°ë³¸ getopts ì‚¬ìš©ë²•<a class="header-link" href="#getopts" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Parse options with getopts</span>
usage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> [-v] [-o OUTPUT] [-n COUNT] FILE...&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="o">}</span>

<span class="nv">verbose</span><span class="o">=</span><span class="m">0</span>
<span class="nv">output</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">count</span><span class="o">=</span><span class="m">1</span>

<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;vo:n:h&quot;</span><span class="w"> </span>opt<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$opt</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>v<span class="o">)</span>
<span class="w">            </span><span class="nv">verbose</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>o<span class="o">)</span>
<span class="w">            </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>n<span class="o">)</span>
<span class="w">            </span><span class="nv">count</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>h<span class="o">)</span>
<span class="w">            </span>usage
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="se">\?</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option: -</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span>usage
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>:<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Option -</span><span class="nv">$OPTARG</span><span class="s2"> requires an argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span>usage
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Shift processed options</span>
<span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>

<span class="c1"># Remaining arguments are positional</span>
<span class="nv">files</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;verbose=</span><span class="nv">$verbose</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;output=</span><span class="nv">$output</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;count=</span><span class="nv">$count</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;files=(</span><span class="si">${</span><span class="nv">files</span><span class="p">[*]</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>

<h3 id="getopts_1">getopts ì—ëŸ¬ ì²˜ë¦¬<a class="header-link" href="#getopts_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Two error handling modes:</span>
<span class="c1"># 1. Default (verbose): getopts prints errors</span>
<span class="c1"># 2. Silent mode: prepend option string with &quot;:&quot;</span>

<span class="c1"># Silent mode (recommended)</span>
<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;:vho:n:&quot;</span><span class="w"> </span>opt<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$opt</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>v<span class="o">)</span>
<span class="w">            </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>o<span class="o">)</span>
<span class="w">            </span><span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>n<span class="o">)</span>
<span class="w">            </span><span class="nv">COUNT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="c1"># Validate it&#39;s a number</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$COUNT</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: -n requires a number&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>h<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Help message&quot;</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>:<span class="o">)</span>
<span class="w">            </span><span class="c1"># Option requires argument but none provided</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: -</span><span class="nv">$OPTARG</span><span class="s2"> requires an argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="se">\?</span><span class="o">)</span>
<span class="w">            </span><span class="c1"># Invalid option</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Invalid option -</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Parsed successfully&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Remaining args: </span><span class="nv">$*</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="getopts_2">í•¨ìˆ˜ì™€ í•¨ê»˜ getopts ì‚¬ìš©<a class="header-link" href="#getopts_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Parse options in a function</span>
parse_options<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>OPTIND<span class="w"> </span>opt
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">verbose</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;:vo:&quot;</span><span class="w"> </span>opt<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$opt</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>v<span class="o">)</span><span class="w"> </span><span class="nv">verbose</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">            </span>o<span class="o">)</span><span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">            </span><span class="se">\?</span><span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid option: -</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="p">;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">            </span>:<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Option -</span><span class="nv">$OPTARG</span><span class="s2"> requires an argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="p">;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>

<span class="w">    </span><span class="c1"># Return parsed values (using global variables or output)</span>
<span class="w">    </span><span class="nv">PARSED_VERBOSE</span><span class="o">=</span><span class="nv">$verbose</span>
<span class="w">    </span><span class="nv">PARSED_OUTPUT</span><span class="o">=</span><span class="nv">$output</span>
<span class="w">    </span><span class="nv">PARSED_ARGS</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1"># Call parser</span>
parse_options<span class="w"> </span>-v<span class="w"> </span>-o<span class="w"> </span>output.txt<span class="w"> </span>file1<span class="w"> </span>file2

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;verbose=</span><span class="nv">$PARSED_VERBOSE</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;output=</span><span class="nv">$PARSED_OUTPUT</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;args=</span><span class="si">${</span><span class="nv">PARSED_ARGS</span><span class="p">[*]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="getopts_3">ì™„ì „í•œ getopts ì˜ˆì œ<a class="header-link" href="#getopts_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail

<span class="c1"># Script configuration</span>
<span class="nv">SCRIPT_NAME</span><span class="o">=</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span>

<span class="c1"># Default values</span>
<span class="nv">VERBOSE</span><span class="o">=</span><span class="m">0</span>
<span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">0</span>
<span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">INPUT_FILES</span><span class="o">=()</span>

<span class="c1"># Usage message</span>
usage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">Usage: $SCRIPT_NAME [OPTIONS] FILE...</span>

<span class="s">Process files with various options.</span>

<span class="s">OPTIONS:</span>
<span class="s">    -v          Verbose mode</span>
<span class="s">    -n          Dry run (don&#39;t make changes)</span>
<span class="s">    -o FILE     Output file</span>
<span class="s">    -h          Show this help message</span>
<span class="s">    -V          Show version</span>

<span class="s">EXAMPLES:</span>
<span class="s">    $SCRIPT_NAME -v input.txt</span>
<span class="s">    $SCRIPT_NAME -o output.txt -n input1.txt input2.txt</span>
<span class="s">EOF</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># Version message</span>
version<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> version </span><span class="nv">$VERSION</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># Parse options</span>
<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span><span class="s2">&quot;:vno:hV&quot;</span><span class="w"> </span>opt<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$opt</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>v<span class="o">)</span>
<span class="w">            </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>n<span class="o">)</span>
<span class="w">            </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>o<span class="o">)</span>
<span class="w">            </span><span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>h<span class="o">)</span>
<span class="w">            </span>usage
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>V<span class="o">)</span>
<span class="w">            </span>version
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>:<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Option -</span><span class="nv">$OPTARG</span><span class="s2"> requires an argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Try &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> -h&#39; for more information.&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span><span class="se">\?</span><span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Invalid option -</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Try &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> -h&#39; for more information.&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="nb">shift</span><span class="w"> </span><span class="k">$((</span><span class="nv">OPTIND</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>

<span class="c1"># Validate arguments</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: No input files specified&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Try &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> -h&#39; for more information.&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nv">INPUT_FILES</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="c1"># Process files</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$VERBOSE</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing </span><span class="si">${#</span><span class="nv">INPUT_FILES</span><span class="p">[@]</span><span class="si">}</span><span class="s2"> files...&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$DRY_RUN</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DRY RUN MODE&quot;</span>

<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">INPUT_FILES</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="nv">$VERBOSE</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="c1"># Process file here</span>
<span class="k">done</span>

<span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Output: </span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="3-getopt-gnu">3. getopt (GNU)<a class="header-link" href="#3-getopt-gnu" title="Permanent link">&para;</a></h2>
<p>GNU <code>getopt</code>ëŠ” ê¸´ ì˜µì…˜ê³¼ ë” ê³ ê¸‰ íŒŒì‹±ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
<h3 id="getopt">ê¸°ë³¸ getopt ì‚¬ìš©ë²•<a class="header-link" href="#getopt" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Note: This requires GNU getopt (not available on macOS by default)</span>
<span class="c1"># macOS users: brew install gnu-getopt</span>

<span class="c1"># Parse with getopt</span>
<span class="nv">OPTS</span><span class="o">=</span><span class="k">$(</span>getopt<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;vo:n:&quot;</span><span class="w"> </span>--long<span class="w"> </span><span class="s2">&quot;verbose,output:,count:&quot;</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed to parse options&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># Reset positional parameters</span>
<span class="nb">eval</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OPTS</span><span class="s2">&quot;</span>

<span class="c1"># Parse options</span>
<span class="nv">verbose</span><span class="o">=</span><span class="m">0</span>
<span class="nv">output</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">count</span><span class="o">=</span><span class="m">1</span>

<span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">            </span><span class="nv">verbose</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-o<span class="p">|</span>--output<span class="o">)</span>
<span class="w">            </span><span class="nv">output</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-n<span class="p">|</span>--count<span class="o">)</span>
<span class="w">            </span><span class="nv">count</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--<span class="o">)</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Internal error!&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Remaining arguments</span>
<span class="nv">files</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;verbose=</span><span class="nv">$verbose</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;output=</span><span class="nv">$output</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;count=</span><span class="nv">$count</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;files=(</span><span class="si">${</span><span class="nv">files</span><span class="p">[*]</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>

<h3 id="getopt_1">ê¸´ ì˜µì…˜ë§Œ ì‚¬ìš©í•˜ëŠ” getopt<a class="header-link" href="#getopt_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Long options only</span>
<span class="nv">OPTS</span><span class="o">=</span><span class="k">$(</span>getopt<span class="w"> </span>--long<span class="w"> </span><span class="s2">&quot;help,version,verbose,output:,dry-run&quot;</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nb">eval</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OPTS</span><span class="s2">&quot;</span>

<span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>--help<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Help message&quot;</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--version<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Version 1.0.0&quot;</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--verbose<span class="o">)</span>
<span class="w">            </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--output<span class="o">)</span>
<span class="w">            </span><span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--dry-run<span class="o">)</span>
<span class="w">            </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--<span class="o">)</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Internal error!&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Parsed options successfully&quot;</span>
</code></pre></div>

<h3 id="getopt-vs-getopts">getopt vs getopts ë¹„êµ<a class="header-link" href="#getopt-vs-getopts" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ê¸°ëŠ¥</th>
<th>getopts (POSIX)</th>
<th>getopt (GNU)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ì´ì‹ì„±</td>
<td>POSIX (ëª¨ë“  ì‹œìŠ¤í…œ)</td>
<td>GNU (Linux, ì„¤ì¹˜ëœ macOS)</td>
</tr>
<tr>
<td>ê¸´ ì˜µì…˜</td>
<td>ì•„ë‹ˆì˜¤</td>
<td>ì˜ˆ</td>
</tr>
<tr>
<td>ì˜µì…˜ ë¬¶ê¸°</td>
<td>ì œí•œì </td>
<td>ì™„ì „ ì§€ì›</td>
</tr>
<tr>
<td><code>--</code> êµ¬ë¶„ì</td>
<td>ìˆ˜ë™ ì²˜ë¦¬</td>
<td>ë‚´ì¥</td>
</tr>
<tr>
<td>ì—ëŸ¬ ë©”ì‹œì§€</td>
<td>ê¸°ë³¸</td>
<td>ìƒì„¸</td>
</tr>
<tr>
<td>ì˜µì…˜ ì¬ì •ë ¬</td>
<td>ì•„ë‹ˆì˜¤</td>
<td>ì˜ˆ</td>
</tr>
<tr>
<td>ë³µì¡ë„</td>
<td>ê°„ë‹¨</td>
<td>ë” ë³µì¡</td>
</tr>
<tr>
<td>ì‚¬ìš© ì‚¬ë¡€</td>
<td>ê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸</td>
<td>ë³µì¡í•œ CLI ë„êµ¬</td>
</tr>
</tbody>
</table>
<h3 id="getopt_2">ì™„ì „í•œ getopt ì˜ˆì œ<a class="header-link" href="#getopt_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail

<span class="nv">SCRIPT_NAME</span><span class="o">=</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="c1"># Check if GNU getopt is available</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>getopt<span class="w"> </span>--test<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: GNU getopt not available&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">fi</span>

<span class="c1"># Parse options</span>
<span class="nv">SHORT_OPTS</span><span class="o">=</span><span class="s2">&quot;vno:h&quot;</span>
<span class="nv">LONG_OPTS</span><span class="o">=</span><span class="s2">&quot;verbose,dry-run,output:,help,version,config:&quot;</span>

<span class="nv">OPTS</span><span class="o">=</span><span class="k">$(</span>getopt<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SHORT_OPTS</span><span class="s2">&quot;</span><span class="w"> </span>--long<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LONG_OPTS</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_NAME</span><span class="s2">&quot;</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Run &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> --help&#39; for usage&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nb">eval</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OPTS</span><span class="s2">&quot;</span>

<span class="c1"># Default values</span>
<span class="nv">VERBOSE</span><span class="o">=</span><span class="m">0</span>
<span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">0</span>
<span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">CONFIG</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="c1"># Parse</span>
<span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">            </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-n<span class="p">|</span>--dry-run<span class="o">)</span>
<span class="w">            </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">1</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-o<span class="p">|</span>--output<span class="o">)</span>
<span class="w">            </span><span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--config<span class="o">)</span>
<span class="w">            </span><span class="nv">CONFIG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$CONFIG</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: Config file not found: </span><span class="nv">$CONFIG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">            </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>-h<span class="p">|</span>--help<span class="o">)</span>
<span class="w">            </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">Usage: $SCRIPT_NAME [OPTIONS] FILE...</span>

<span class="s">OPTIONS:</span>
<span class="s">    -v, --verbose       Verbose output</span>
<span class="s">    -n, --dry-run       Dry run mode</span>
<span class="s">    -o, --output FILE   Output file</span>
<span class="s">    --config FILE       Configuration file</span>
<span class="s">    -h, --help          Show this help</span>
<span class="s">    --version           Show version</span>
<span class="s">EOF</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--version<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> 1.0.0&quot;</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>--<span class="o">)</span>
<span class="w">            </span><span class="nb">shift</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Internal error!&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">            </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Remaining arguments</span>
<span class="nv">FILES</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">FILES</span><span class="p">[@]</span><span class="si">}</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: No input files specified&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="c1"># Execute</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$VERBOSE</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing </span><span class="si">${#</span><span class="nv">FILES</span><span class="p">[@]</span><span class="si">}</span><span class="s2"> files&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$DRY_RUN</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DRY RUN MODE&quot;</span>

<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">FILES</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="nv">$VERBOSE</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h2 id="4">4. ìì²´ ë¬¸ì„œí™” ë„ì›€ë§<a class="header-link" href="#4" title="Permanent link">&para;</a></h2>
<p>ì¢‹ì€ ë„ì›€ë§ ë©”ì‹œì§€ëŠ” CLI ë„êµ¬ë¥¼ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.</p>
<h3 id="_4">ë„ì›€ë§ ë©”ì‹œì§€ í…œí”Œë¦¿<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

show_help<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">NAME</span>
<span class="s">    $(basename &quot;$0&quot;) - Brief description of what the script does</span>

<span class="s">SYNOPSIS</span>
<span class="s">    $(basename &quot;$0&quot;) [OPTIONS] COMMAND [ARGUMENTS]</span>

<span class="s">DESCRIPTION</span>
<span class="s">    Detailed description of what this script does.</span>
<span class="s">    Can span multiple lines and include examples.</span>

<span class="s">OPTIONS</span>
<span class="s">    -v, --verbose</span>
<span class="s">        Enable verbose output</span>

<span class="s">    -o, --output FILE</span>
<span class="s">        Specify output file (default: stdout)</span>

<span class="s">    -n, --count NUMBER</span>
<span class="s">        Number of iterations (default: 1)</span>

<span class="s">    -h, --help</span>
<span class="s">        Show this help message and exit</span>

<span class="s">    -V, --version</span>
<span class="s">        Show version information and exit</span>

<span class="s">COMMANDS</span>
<span class="s">    start       Start the service</span>
<span class="s">    stop        Stop the service</span>
<span class="s">    restart     Restart the service</span>
<span class="s">    status      Show service status</span>

<span class="s">EXAMPLES</span>
<span class="s">    # Basic usage</span>
<span class="s">    $(basename &quot;$0&quot;) start</span>

<span class="s">    # With options</span>
<span class="s">    $(basename &quot;$0&quot;) -v --output=log.txt start</span>

<span class="s">    # Multiple operations</span>
<span class="s">    $(basename &quot;$0&quot;) -n 5 process file1.txt file2.txt</span>

<span class="s">EXIT STATUS</span>
<span class="s">    0   Success</span>
<span class="s">    1   General error</span>
<span class="s">    2   Invalid arguments</span>
<span class="s">    66  Input file not found</span>
<span class="s">    77  Permission denied</span>

<span class="s">AUTHOR</span>
<span class="s">    Written by Your Name</span>

<span class="s">REPORTING BUGS</span>
<span class="s">    Report bugs to: bugs@example.com</span>

<span class="s">SEE ALSO</span>
<span class="s">    Full documentation at: https://example.com/docs</span>
<span class="s">EOF</span>
<span class="o">}</span>

<span class="c1"># Call with -h or --help</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;-h&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;--help&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>show_help
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="_5">ì£¼ì„ì—ì„œ ë„ì›€ë§ ì¶”ì¶œ<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1">### NAME</span>
<span class="c1">###     myscript - Does something useful</span>
<span class="c1">###</span>
<span class="c1">### SYNOPSIS</span>
<span class="c1">###     myscript [OPTIONS] FILE...</span>
<span class="c1">###</span>
<span class="c1">### DESCRIPTION</span>
<span class="c1">###     This script processes files in various ways.</span>
<span class="c1">###</span>
<span class="c1">### OPTIONS</span>
<span class="c1">###     -v, --verbose    Verbose output</span>
<span class="c1">###     -h, --help       Show this help</span>

show_help<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>sed<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;s/^### \?//p&#39;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;-h&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;--help&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>show_help
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="k">fi</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Script running...&quot;</span>
</code></pre></div>

<h3 id="_6">ë²„ì „ ì •ë³´<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">SCRIPT_NAME</span><span class="o">=</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;1.2.3&quot;</span>
<span class="nv">AUTHOR</span><span class="o">=</span><span class="s2">&quot;John Doe&quot;</span>
<span class="nv">COPYRIGHT</span><span class="o">=</span><span class="s2">&quot;Copyright (c) 2024&quot;</span>
<span class="nv">LICENSE</span><span class="o">=</span><span class="s2">&quot;MIT License&quot;</span>

show_version<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">$SCRIPT_NAME version $VERSION</span>
<span class="s">$COPYRIGHT $AUTHOR</span>

<span class="s">License: $LICENSE</span>
<span class="s">This is free software: you are free to change and redistribute it.</span>
<span class="s">There is NO WARRANTY, to the extent permitted by law.</span>

<span class="s">Written by $AUTHOR</span>
<span class="s">EOF</span>
<span class="o">}</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;--version&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;-V&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>show_version
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="_7">ë™ì  ë„ì›€ë§ ìƒì„±<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Define options structure</span>
<span class="nb">declare</span><span class="w"> </span>-A<span class="w"> </span><span class="nv">OPTIONS_HELP</span><span class="o">=(</span>
<span class="w">    </span><span class="o">[</span><span class="s2">&quot;-v|--verbose&quot;</span><span class="o">]=</span><span class="s2">&quot;Enable verbose output&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="s2">&quot;-o|--output FILE&quot;</span><span class="o">]=</span><span class="s2">&quot;Specify output file&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="s2">&quot;-n|--count NUM&quot;</span><span class="o">]=</span><span class="s2">&quot;Number of iterations&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="s2">&quot;-h|--help&quot;</span><span class="o">]=</span><span class="s2">&quot;Show this help message&quot;</span>
<span class="o">)</span>

generate_help<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2"> [OPTIONS] FILE...&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;OPTIONS:&quot;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>key<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!OPTIONS_HELP[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;    %-25s %s\n&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$key</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">OPTIONS_HELP</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;-h&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;--help&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>generate_help
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="5">5. ì»¬ëŸ¬ ì¶œë ¥<a class="header-link" href="#5" title="Permanent link">&para;</a></h2>
<p>ìƒ‰ìƒì€ CLI ì¶œë ¥ì˜ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p>
<h3 id="ansi">ANSI ì»¬ëŸ¬ ì½”ë“œ<a class="header-link" href="#ansi" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Standard colors</span>
<span class="nv">BLACK</span><span class="o">=</span><span class="s1">&#39;\033[0;30m&#39;</span>
<span class="nv">RED</span><span class="o">=</span><span class="s1">&#39;\033[0;31m&#39;</span>
<span class="nv">GREEN</span><span class="o">=</span><span class="s1">&#39;\033[0;32m&#39;</span>
<span class="nv">YELLOW</span><span class="o">=</span><span class="s1">&#39;\033[0;33m&#39;</span>
<span class="nv">BLUE</span><span class="o">=</span><span class="s1">&#39;\033[0;34m&#39;</span>
<span class="nv">MAGENTA</span><span class="o">=</span><span class="s1">&#39;\033[0;35m&#39;</span>
<span class="nv">CYAN</span><span class="o">=</span><span class="s1">&#39;\033[0;36m&#39;</span>
<span class="nv">WHITE</span><span class="o">=</span><span class="s1">&#39;\033[0;37m&#39;</span>

<span class="c1"># Bold colors</span>
<span class="nv">BOLD_BLACK</span><span class="o">=</span><span class="s1">&#39;\033[1;30m&#39;</span>
<span class="nv">BOLD_RED</span><span class="o">=</span><span class="s1">&#39;\033[1;31m&#39;</span>
<span class="nv">BOLD_GREEN</span><span class="o">=</span><span class="s1">&#39;\033[1;32m&#39;</span>
<span class="nv">BOLD_YELLOW</span><span class="o">=</span><span class="s1">&#39;\033[1;33m&#39;</span>
<span class="nv">BOLD_BLUE</span><span class="o">=</span><span class="s1">&#39;\033[1;34m&#39;</span>
<span class="nv">BOLD_MAGENTA</span><span class="o">=</span><span class="s1">&#39;\033[1;35m&#39;</span>
<span class="nv">BOLD_CYAN</span><span class="o">=</span><span class="s1">&#39;\033[1;36m&#39;</span>
<span class="nv">BOLD_WHITE</span><span class="o">=</span><span class="s1">&#39;\033[1;37m&#39;</span>

<span class="c1"># Background colors</span>
<span class="nv">BG_BLACK</span><span class="o">=</span><span class="s1">&#39;\033[40m&#39;</span>
<span class="nv">BG_RED</span><span class="o">=</span><span class="s1">&#39;\033[41m&#39;</span>
<span class="nv">BG_GREEN</span><span class="o">=</span><span class="s1">&#39;\033[42m&#39;</span>
<span class="nv">BG_YELLOW</span><span class="o">=</span><span class="s1">&#39;\033[43m&#39;</span>
<span class="nv">BG_BLUE</span><span class="o">=</span><span class="s1">&#39;\033[44m&#39;</span>
<span class="nv">BG_MAGENTA</span><span class="o">=</span><span class="s1">&#39;\033[45m&#39;</span>
<span class="nv">BG_CYAN</span><span class="o">=</span><span class="s1">&#39;\033[46m&#39;</span>
<span class="nv">BG_WHITE</span><span class="o">=</span><span class="s1">&#39;\033[47m&#39;</span>

<span class="c1"># Text styles</span>
<span class="nv">BOLD</span><span class="o">=</span><span class="s1">&#39;\033[1m&#39;</span>
<span class="nv">DIM</span><span class="o">=</span><span class="s1">&#39;\033[2m&#39;</span>
<span class="nv">UNDERLINE</span><span class="o">=</span><span class="s1">&#39;\033[4m&#39;</span>
<span class="nv">BLINK</span><span class="o">=</span><span class="s1">&#39;\033[5m&#39;</span>
<span class="nv">REVERSE</span><span class="o">=</span><span class="s1">&#39;\033[7m&#39;</span>
<span class="nv">HIDDEN</span><span class="o">=</span><span class="s1">&#39;\033[8m&#39;</span>

<span class="c1"># Reset</span>
<span class="nv">NC</span><span class="o">=</span><span class="s1">&#39;\033[0m&#39;</span><span class="w">  </span><span class="c1"># No Color</span>

<span class="c1"># Usage</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">Error message</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">Success message</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">Warning message</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLUE</span><span class="si">}</span><span class="s2">Info message</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BOLD</span><span class="si">}${</span><span class="nv">WHITE</span><span class="si">}</span><span class="s2">Important</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">UNDERLINE</span><span class="si">}</span><span class="s2">Underlined text</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BG_RED</span><span class="si">}${</span><span class="nv">WHITE</span><span class="si">}</span><span class="s2">Alert</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_8">ì™„ì „í•œ ì»¬ëŸ¬ í…Œì´ë¸”<a class="header-link" href="#_8" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ì½”ë“œ</th>
<th>ìƒ‰ìƒ</th>
<th>êµµê²Œ ì½”ë“œ</th>
<th>êµµì€ ìƒ‰ìƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\033[0;30m</code></td>
<td>ê²€ì •</td>
<td><code>\033[1;30m</code></td>
<td>êµµì€ ê²€ì •</td>
</tr>
<tr>
<td><code>\033[0;31m</code></td>
<td>ë¹¨ê°•</td>
<td><code>\033[1;31m</code></td>
<td>êµµì€ ë¹¨ê°•</td>
</tr>
<tr>
<td><code>\033[0;32m</code></td>
<td>ì´ˆë¡</td>
<td><code>\033[1;32m</code></td>
<td>êµµì€ ì´ˆë¡</td>
</tr>
<tr>
<td><code>\033[0;33m</code></td>
<td>ë…¸ë‘</td>
<td><code>\033[1;33m</code></td>
<td>êµµì€ ë…¸ë‘</td>
</tr>
<tr>
<td><code>\033[0;34m</code></td>
<td>íŒŒë‘</td>
<td><code>\033[1;34m</code></td>
<td>êµµì€ íŒŒë‘</td>
</tr>
<tr>
<td><code>\033[0;35m</code></td>
<td>ë§ˆì  íƒ€</td>
<td><code>\033[1;35m</code></td>
<td>êµµì€ ë§ˆì  íƒ€</td>
</tr>
<tr>
<td><code>\033[0;36m</code></td>
<td>ì‹œì•ˆ</td>
<td><code>\033[1;36m</code></td>
<td>êµµì€ ì‹œì•ˆ</td>
</tr>
<tr>
<td><code>\033[0;37m</code></td>
<td>í°ìƒ‰</td>
<td><code>\033[1;37m</code></td>
<td>êµµì€ í°ìƒ‰</td>
</tr>
</tbody>
</table>
<h3 id="tput">tput ëª…ë ¹ì–´<a class="header-link" href="#tput" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Using tput (more portable)</span>
tput_setup<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1"># Check if terminal supports colors</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="k">$(</span>tput<span class="w"> </span>colors<span class="k">)</span><span class="w"> </span>-ge<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">RED</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">1</span><span class="k">)</span>
<span class="w">        </span><span class="nv">GREEN</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">2</span><span class="k">)</span>
<span class="w">        </span><span class="nv">YELLOW</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">3</span><span class="k">)</span>
<span class="w">        </span><span class="nv">BLUE</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">4</span><span class="k">)</span>
<span class="w">        </span><span class="nv">MAGENTA</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">5</span><span class="k">)</span>
<span class="w">        </span><span class="nv">CYAN</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">6</span><span class="k">)</span>
<span class="w">        </span><span class="nv">WHITE</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">7</span><span class="k">)</span>

<span class="w">        </span><span class="nv">BOLD</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>bold<span class="k">)</span>
<span class="w">        </span><span class="nv">UNDERLINE</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>smul<span class="k">)</span>
<span class="w">        </span><span class="nv">RESET</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>sgr0<span class="k">)</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nv">RED</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">GREEN</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">BLUE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">MAGENTA</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">CYAN</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">WHITE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">BOLD</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">UNDERLINE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="nv">RESET</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

tput_setup

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">Red text</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">Green text</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BOLD</span><span class="si">}${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">Bold yellow</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_9">ì¡°ê±´ë¶€ ì»¬ëŸ¬ë§<a class="header-link" href="#_9" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Detect if output is to terminal</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="c1"># Terminal detected, use colors</span>
<span class="w">    </span><span class="nv">RED</span><span class="o">=</span><span class="s1">&#39;\033[0;31m&#39;</span>
<span class="w">    </span><span class="nv">GREEN</span><span class="o">=</span><span class="s1">&#39;\033[0;32m&#39;</span>
<span class="w">    </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s1">&#39;\033[0;33m&#39;</span>
<span class="w">    </span><span class="nv">NC</span><span class="o">=</span><span class="s1">&#39;\033[0m&#39;</span>
<span class="k">else</span>
<span class="w">    </span><span class="c1"># Not a terminal (pipe, file, etc.), no colors</span>
<span class="w">    </span><span class="nv">RED</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">GREEN</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">NC</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="k">fi</span>

<span class="c1"># Respect NO_COLOR environment variable</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">NO_COLOR</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">RED</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">GREEN</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="nv">NC</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="k">fi</span>

<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">This is green in terminal</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">This is red in terminal</span><span class="si">${</span><span class="nv">NC</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Test: ./script.sh             (colored)</span>
<span class="c1">#       ./script.sh | cat        (not colored)</span>
<span class="c1">#       NO_COLOR=1 ./script.sh   (not colored)</span>
</code></pre></div>

<h3 id="_10">ì»¬ëŸ¬ í—¬í¼ í•¨ìˆ˜<a class="header-link" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Setup colors</span>
setup_colors<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">NO_COLOR</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">RED</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">1</span><span class="k">)</span>
<span class="w">        </span><span class="nv">GREEN</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">2</span><span class="k">)</span>
<span class="w">        </span><span class="nv">YELLOW</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">3</span><span class="k">)</span>
<span class="w">        </span><span class="nv">BLUE</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">4</span><span class="k">)</span>
<span class="w">        </span><span class="nv">BOLD</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>bold<span class="k">)</span>
<span class="w">        </span><span class="nv">RESET</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>sgr0<span class="k">)</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nv">RED</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">GREEN</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">BLUE</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">BOLD</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">RESET</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Helper functions</span>
error<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">ERROR: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="o">}</span>

success<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">SUCCESS: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

warning<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">WARNING: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="o">}</span>

info<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLUE</span><span class="si">}</span><span class="s2">INFO: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

bold<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BOLD</span><span class="si">}</span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

setup_colors

<span class="c1"># Usage</span>
error<span class="w"> </span><span class="s2">&quot;Something went wrong&quot;</span>
success<span class="w"> </span><span class="s2">&quot;Operation completed&quot;</span>
warning<span class="w"> </span><span class="s2">&quot;This might be a problem&quot;</span>
info<span class="w"> </span><span class="s2">&quot;FYI: Some information&quot;</span>
bold<span class="w"> </span><span class="s2">&quot;Important message&quot;</span>
</code></pre></div>

<h2 id="6">6. ì§„í–‰ í‘œì‹œê¸°<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<p>ì¥ì‹œê°„ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì˜ ì§„í–‰ ìƒí™©ì„ í‘œì‹œí•©ë‹ˆë‹¤.</p>
<h3 id="_11">ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜<a class="header-link" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Spinner animation</span>
spinner<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">pid</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">delay</span><span class="o">=</span><span class="m">0</span>.1
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">spinstr</span><span class="o">=</span><span class="s1">&#39;|/-\&#39;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-0<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pid</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">temp</span><span class="o">=</span><span class="si">${</span><span class="nv">spinstr</span><span class="p">#?</span><span class="si">}</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot; [%c]  &quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$spinstr</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="nv">spinstr</span><span class="o">=</span><span class="nv">$temp</span><span class="si">${</span><span class="nv">spinstr</span><span class="p">%</span><span class="s2">&quot;</span><span class="nv">$temp</span><span class="s2">&quot;</span><span class="si">}</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="nv">$delay</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\b\b\b\b\b\b&quot;</span>
<span class="w">    </span><span class="k">done</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;    \b\b\b\b&quot;</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="o">(</span>sleep<span class="w"> </span><span class="m">5</span><span class="o">)</span><span class="w"> </span><span class="p">&amp;</span>
<span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;Processing...&quot;</span>
spinner<span class="w"> </span><span class="nv">$!</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done!&quot;</span>

<span class="c1"># Alternative spinner with more frames</span>
spinner_fancy<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">pid</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">delay</span><span class="o">=</span><span class="m">0</span>.1
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">frames</span><span class="o">=(</span><span class="s1">&#39;â ‹&#39;</span><span class="w"> </span><span class="s1">&#39;â ™&#39;</span><span class="w"> </span><span class="s1">&#39;â ¹&#39;</span><span class="w"> </span><span class="s1">&#39;â ¸&#39;</span><span class="w"> </span><span class="s1">&#39;â ¼&#39;</span><span class="w"> </span><span class="s1">&#39;â ´&#39;</span><span class="w"> </span><span class="s1">&#39;â ¦&#39;</span><span class="w"> </span><span class="s1">&#39;â §&#39;</span><span class="w"> </span><span class="s1">&#39;â ‡&#39;</span><span class="w"> </span><span class="s1">&#39;â &#39;</span><span class="o">)</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-0<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pid</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span>frame<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">frames</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">            </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\r%s Processing...&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$frame</span><span class="s2">&quot;</span>
<span class="w">            </span>sleep<span class="w"> </span><span class="nv">$delay</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-0<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$pid</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="k">break</span><span class="w"> </span><span class="m">2</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">        </span><span class="k">done</span>
<span class="w">    </span><span class="k">done</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\râœ“ Done!       \n&quot;</span>
<span class="o">}</span>

<span class="c1"># Test fancy spinner</span>
<span class="o">(</span>sleep<span class="w"> </span><span class="m">3</span><span class="o">)</span><span class="w"> </span><span class="p">&amp;</span>
spinner_fancy<span class="w"> </span><span class="nv">$!</span>
</code></pre></div>

<h3 id="_12">ì§„í–‰ ë§‰ëŒ€<a class="header-link" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Progress bar</span>
progress_bar<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">current</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">total</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">50</span><span class="si">}</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">percent</span><span class="o">=</span><span class="k">$((</span><span class="nv">current</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total</span><span class="k">))</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">completed</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total</span><span class="k">))</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">remaining</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">completed</span><span class="k">))</span>

<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\r[&quot;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">completed</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;=&#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">remaining</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;] %3d%%&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$current</span><span class="s2">&quot;</span><span class="w"> </span>-eq<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nv">total</span><span class="o">=</span><span class="m">100</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nv">$total</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>progress_bar<span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="nv">$total</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">0</span>.05
<span class="k">done</span>

<span class="c1"># Percentage-based progress</span>
show_progress<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">percent</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">50</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">completed</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">percent</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="k">))</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">remaining</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">completed</span><span class="k">))</span>

<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\rProgress: [&quot;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">completed</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;â–ˆ&#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">remaining</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;â–‘&#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;] %3d%%&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Test</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">100</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>show_progress<span class="w"> </span><span class="nv">$i</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">0</span>.2
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</code></pre></div>

<h3 id="_13">íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì§„í–‰ ìƒí™©<a class="header-link" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Simulate file download with progress</span>
download_with_progress<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">url</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">total_size</span><span class="o">=</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">1000000</span><span class="si">}</span><span class="w">  </span><span class="c1"># Bytes</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading: </span><span class="nv">$url</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">downloaded</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">chunk_size</span><span class="o">=</span><span class="m">10000</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$downloaded</span><span class="w"> </span>-lt<span class="w"> </span><span class="nv">$total_size</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Simulate download</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">0</span>.1
<span class="w">        </span><span class="nv">downloaded</span><span class="o">=</span><span class="k">$((</span><span class="nv">downloaded</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">chunk_size</span><span class="k">))</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$downloaded</span><span class="w"> </span>-gt<span class="w"> </span><span class="nv">$total_size</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nv">downloaded</span><span class="o">=</span><span class="nv">$total_size</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="c1"># Calculate progress</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">percent</span><span class="o">=</span><span class="k">$((</span><span class="nv">downloaded</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total_size</span><span class="k">))</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">mb_downloaded</span><span class="o">=</span><span class="k">$((</span><span class="nv">downloaded</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">1024</span><span class="k">))</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">mb_total</span><span class="o">=</span><span class="k">$((</span><span class="nv">total_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">1024</span><span class="k">))</span>

<span class="w">        </span><span class="c1"># Show progress</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\r[%-50s] %d%% (%dMB/%dMB)&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;%*s&#39;</span><span class="w"> </span><span class="k">$((</span><span class="nv">percent</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="k">))</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;=&#39;</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="nv">$mb_downloaded</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">            </span><span class="s2">&quot;</span><span class="nv">$mb_total</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Download complete: </span><span class="nv">$output</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># Test</span>
download_with_progress<span class="w"> </span><span class="s2">&quot;https://example.com/file.zip&quot;</span><span class="w"> </span><span class="s2">&quot;file.zip&quot;</span><span class="w"> </span><span class="m">5000000</span>
</code></pre></div>

<h3 id="_14">ë‹¤ì¤‘ ë¼ì¸ ì§„í–‰ í‘œì‹œ<a class="header-link" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Multi-line progress (useful for parallel tasks)</span>
show_multi_progress<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>-n<span class="w"> </span><span class="nv">tasks</span><span class="o">=</span><span class="nv">$1</span>

<span class="w">    </span><span class="c1"># Save cursor position</span>
<span class="w">    </span>tput<span class="w"> </span>sc

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">all_done</span><span class="o">=</span><span class="m">1</span>

<span class="w">        </span><span class="c1"># Restore cursor position</span>
<span class="w">        </span>tput<span class="w"> </span>rc

<span class="w">        </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!tasks[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">task</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">tasks</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">status</span><span class="o">=</span><span class="k">$(</span>get_task_status<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$task</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">percent</span><span class="o">=</span><span class="k">$(</span>get_task_percent<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$task</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="w">            </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;Task %d: [%-30s] %3d%%\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;%*s&#39;</span><span class="w"> </span><span class="k">$((</span><span class="nv">percent</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="k">))</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;=&#39;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nv">all_done</span><span class="o">=</span><span class="m">0</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">        </span><span class="k">done</span>

<span class="w">        </span><span class="o">[</span><span class="w"> </span><span class="nv">$all_done</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">break</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">0</span>.5
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Simpler version for demonstration</span>
demo_multi_progress<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">tasks</span><span class="o">=(</span><span class="s2">&quot;Task 1&quot;</span><span class="w"> </span><span class="s2">&quot;Task 2&quot;</span><span class="w"> </span><span class="s2">&quot;Task 3&quot;</span><span class="o">)</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">progress</span><span class="o">=(</span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="o">)</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span>clear
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== Progress Dashboard ===&quot;</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">all_done</span><span class="o">=</span><span class="m">1</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!tasks[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">            </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%s: [%-30s] %3d%%\n&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">tasks</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;%*s&#39;</span><span class="w"> </span><span class="k">$((</span><span class="nv">progress</span><span class="o">[</span><span class="nv">$i</span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="k">))</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;#&#39;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">                </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">progress</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${</span><span class="nv">progress</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nv">all_done</span><span class="o">=</span><span class="m">0</span>
<span class="w">                </span>progress<span class="o">[</span><span class="nv">$i</span><span class="o">]=</span><span class="k">$((</span><span class="nv">progress</span><span class="o">[</span><span class="nv">$i</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">RANDOM</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">20</span><span class="k">))</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${</span><span class="nv">progress</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                    </span>progress<span class="o">[</span><span class="nv">$i</span><span class="o">]=</span><span class="m">100</span>
<span class="w">                </span><span class="k">fi</span>
<span class="w">            </span><span class="k">fi</span>
<span class="w">        </span><span class="k">done</span>

<span class="w">        </span><span class="o">[</span><span class="w"> </span><span class="nv">$all_done</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">break</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">0</span>.5
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;All tasks completed!&quot;</span>
<span class="o">}</span>

demo_multi_progress
</code></pre></div>

<h2 id="7">7. ëŒ€í™”í˜• ì…ë ¥<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<p>ì‚¬ìš©ì ì…ë ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤.</p>
<h3 id="_15">ê¸°ë³¸ ì…ë ¥<a class="header-link" href="#_15" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Simple input</span>
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter your name: &quot;</span><span class="w"> </span>name
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, </span><span class="nv">$name</span><span class="s2">!&quot;</span>

<span class="c1"># Input with default value</span>
<span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter filename [default.txt]: &quot;</span><span class="w"> </span>filename
<span class="nv">filename</span><span class="o">=</span><span class="si">${</span><span class="nv">filename</span><span class="k">:-</span><span class="nv">default</span><span class="p">.txt</span><span class="si">}</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Using: </span><span class="nv">$filename</span><span class="s2">&quot;</span>

<span class="c1"># Input with timeout</span>
<span class="k">if</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter something (5s timeout): &quot;</span><span class="w"> </span>input<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;You entered: </span><span class="nv">$input</span><span class="s2">&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\nTimeout!&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="_16">ë¹„ë°€ë²ˆí˜¸ ì…ë ¥<a class="header-link" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Hidden input (for passwords)</span>
<span class="nb">read</span><span class="w"> </span>-sp<span class="w"> </span><span class="s2">&quot;Enter password: &quot;</span><span class="w"> </span>password
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password length: </span><span class="si">${#</span><span class="nv">password</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Password with confirmation</span>
read_password<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>password
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>password_confirm

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-sp<span class="w"> </span><span class="s2">&quot;Enter password: &quot;</span><span class="w"> </span>password
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-sp<span class="w"> </span><span class="s2">&quot;Confirm password: &quot;</span><span class="w"> </span>password_confirm
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$password</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$password_confirm</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$password</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Passwords don&#39;t match. Try again.&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nv">user_password</span><span class="o">=</span><span class="k">$(</span>read_password<span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Password set successfully&quot;</span>
</code></pre></div>

<h3 id="_17">ì˜ˆ/ì•„ë‹ˆì˜¤ í™•ì¸<a class="header-link" href="#_17" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Simple yes/no</span>
ask_yes_no<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">prompt</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">default</span><span class="o">=</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="si">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$default</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;y&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">prompt</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2"> [Y/n]: &quot;</span>
<span class="w">    </span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$default</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;n&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">prompt</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2"> [y/N]: &quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nv">prompt</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2"> [y/n]: &quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2">&quot;</span><span class="w"> </span>response

<span class="w">        </span><span class="c1"># Use default if no response</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$response</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$default</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nv">response</span><span class="o">=</span><span class="nv">$default</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$response</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span><span class="o">[</span>Yy<span class="o">]</span>*<span class="o">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">;;</span>
<span class="w">            </span><span class="o">[</span>Nn<span class="o">]</span>*<span class="o">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Please answer yes or no.&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="k">if</span><span class="w"> </span>ask_yes_no<span class="w"> </span><span class="s2">&quot;Do you want to continue?&quot;</span><span class="w"> </span><span class="s2">&quot;y&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Continuing...&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Aborted&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>
</code></pre></div>

<h3 id="_18">ë©”ë‰´ ì„ íƒ<a class="header-link" href="#_18" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Menu selection</span>
show_menu<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">prompt</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">shift</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!options[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;  </span><span class="k">$((</span><span class="nv">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="s2">. </span><span class="si">${</span><span class="nv">options</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Enter choice [1-</span><span class="si">${#</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="w"> </span>choice

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$choice</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">           </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$choice</span><span class="s2">&quot;</span><span class="w"> </span>-ge<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">           </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$choice</span><span class="s2">&quot;</span><span class="w"> </span>-le<span class="w"> </span><span class="s2">&quot;</span><span class="si">${#</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">choice</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Invalid choice. Please try again.&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nv">options</span><span class="o">=(</span><span class="s2">&quot;Option A&quot;</span><span class="w"> </span><span class="s2">&quot;Option B&quot;</span><span class="w"> </span><span class="s2">&quot;Option C&quot;</span><span class="w"> </span><span class="s2">&quot;Quit&quot;</span><span class="o">)</span>
<span class="nv">selected</span><span class="o">=</span><span class="k">$(</span>show_menu<span class="w"> </span><span class="s2">&quot;Please select an option:&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">options</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;You selected: </span><span class="si">${</span><span class="nv">options</span><span class="p">[</span><span class="nv">$selected</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h3 id="_19">ê²€ì¦ì„ í¬í•¨í•œ ê³ ê¸‰ ì…ë ¥<a class="header-link" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Input with validation</span>
read_validated<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">prompt</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">validator</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">error_msg</span><span class="o">=</span><span class="nv">$3</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$prompt</span><span class="s2">&quot;</span><span class="w"> </span>input

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nb">eval</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$validator</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$error_msg</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>
<span class="o">}</span>

<span class="c1"># Validators</span>
is_number<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span><span class="m">0</span>-9<span class="o">]</span>+$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
is_email<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^<span class="o">[</span>a-zA-Z0-9._%+-<span class="o">]</span>+@<span class="o">[</span>a-zA-Z0-9.-<span class="o">]</span>+<span class="se">\.</span><span class="o">[</span>a-zA-Z<span class="o">]{</span><span class="m">2</span>,<span class="o">}</span>$<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
is_not_empty<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

<span class="c1"># Usage</span>
<span class="nv">name</span><span class="o">=</span><span class="k">$(</span>read_validated<span class="w"> </span><span class="s2">&quot;Enter your name: &quot;</span><span class="w"> </span><span class="s2">&quot;is_not_empty&quot;</span><span class="w"> </span><span class="s2">&quot;Name cannot be empty&quot;</span><span class="k">)</span>
<span class="nv">age</span><span class="o">=</span><span class="k">$(</span>read_validated<span class="w"> </span><span class="s2">&quot;Enter your age: &quot;</span><span class="w"> </span><span class="s2">&quot;is_number&quot;</span><span class="w"> </span><span class="s2">&quot;Age must be a number&quot;</span><span class="k">)</span>
<span class="nv">email</span><span class="o">=</span><span class="k">$(</span>read_validated<span class="w"> </span><span class="s2">&quot;Enter email: &quot;</span><span class="w"> </span><span class="s2">&quot;is_email&quot;</span><span class="w"> </span><span class="s2">&quot;Invalid email format&quot;</span><span class="k">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Name: </span><span class="nv">$name</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Age: </span><span class="nv">$age</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Email: </span><span class="nv">$email</span><span class="s2">&quot;</span>
</code></pre></div>

<h2 id="8-cli">8. ì™„ì „í•œ CLI ë„êµ¬ ì˜ˆì œ<a class="header-link" href="#8-cli" title="Permanent link">&para;</a></h2>
<p>ëª¨ë“  ê²ƒì„ ì „ë¬¸ì ì¸ CLI ë„êµ¬ë¡œ í†µí•©í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">set</span><span class="w"> </span>-euo<span class="w"> </span>pipefail

<span class="c1"># ============================================================================</span>
<span class="c1"># CONFIGURATION</span>
<span class="c1"># ============================================================================</span>

<span class="nv">SCRIPT_NAME</span><span class="o">=</span><span class="k">$(</span>basename<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span>
<span class="nv">AUTHOR</span><span class="o">=</span><span class="s2">&quot;Your Name&quot;</span>

<span class="c1"># Colors</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">NO_COLOR</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">RED</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">1</span><span class="k">)</span>
<span class="w">    </span><span class="nv">GREEN</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">2</span><span class="k">)</span>
<span class="w">    </span><span class="nv">YELLOW</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">3</span><span class="k">)</span>
<span class="w">    </span><span class="nv">BLUE</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>setaf<span class="w"> </span><span class="m">4</span><span class="k">)</span>
<span class="w">    </span><span class="nv">BOLD</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>bold<span class="k">)</span>
<span class="w">    </span><span class="nv">RESET</span><span class="o">=</span><span class="k">$(</span>tput<span class="w"> </span>sgr0<span class="k">)</span>
<span class="k">else</span>
<span class="w">    </span><span class="nv">RED</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">GREEN</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">YELLOW</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">BLUE</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">BOLD</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">RESET</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="k">fi</span>

<span class="c1"># Default values</span>
<span class="nv">VERBOSE</span><span class="o">=</span><span class="m">0</span>
<span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">0</span>
<span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;/tmp/</span><span class="si">${</span><span class="nv">SCRIPT_NAME</span><span class="si">}</span><span class="s2">.log&quot;</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># HELPER FUNCTIONS</span>
<span class="c1"># ============================================================================</span>

error<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">ERROR: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
success<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">SUCCESS: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
warning<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">WARNING: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
info<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLUE</span><span class="si">}</span><span class="s2">INFO: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>
verbose<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$VERBOSE</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLUE</span><span class="si">}</span><span class="s2">VERBOSE: </span><span class="nv">$*</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

die<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">code</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">shift</span>
<span class="w">    </span>error<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$code</span><span class="s2">&quot;</span>
<span class="o">}</span>

log<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;[</span><span class="k">$(</span>date<span class="w"> </span><span class="s1">&#39;+%Y-%m-%d %H:%M:%S&#39;</span><span class="k">)</span><span class="s2">] </span><span class="nv">$*</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOG_FILE</span><span class="s2">&quot;</span>
<span class="o">}</span>

progress_bar<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">current</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">total</span><span class="o">=</span><span class="nv">$2</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">40</span>

<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">percent</span><span class="o">=</span><span class="k">$((</span><span class="nv">current</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total</span><span class="k">))</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">completed</span><span class="o">=</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">total</span><span class="k">))</span>

<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;\r</span><span class="si">${</span><span class="nv">BLUE</span><span class="si">}</span><span class="s2">Progress:</span><span class="si">${</span><span class="nv">RESET</span><span class="si">}</span><span class="s2"> [&quot;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="si">${</span><span class="nv">completed</span><span class="si">}</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39;=&#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%</span><span class="k">$((</span><span class="nv">width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">completed</span><span class="k">))</span><span class="s2">s&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">    </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;] %3d%%&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$percent</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$current</span><span class="s2">&quot;</span><span class="w"> </span>-eq<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$total</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="o">}</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># USAGE AND VERSION</span>
<span class="c1"># ============================================================================</span>

show_version<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">$SCRIPT_NAME version $VERSION</span>
<span class="s">Written by $AUTHOR</span>
<span class="s">EOF</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

show_help<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">${BOLD}NAME${RESET}</span>
<span class="s">    $SCRIPT_NAME - Process files with various options</span>

<span class="s">${BOLD}SYNOPSIS${RESET}</span>
<span class="s">    $SCRIPT_NAME [OPTIONS] FILE...</span>

<span class="s">${BOLD}DESCRIPTION${RESET}</span>
<span class="s">    This tool processes files with configurable options.</span>
<span class="s">    It demonstrates best practices for CLI argument parsing.</span>

<span class="s">${BOLD}OPTIONS${RESET}</span>
<span class="s">    -v, --verbose</span>
<span class="s">        Enable verbose output</span>

<span class="s">    -n, --dry-run</span>
<span class="s">        Perform a dry run without making changes</span>

<span class="s">    -o, --output FILE</span>
<span class="s">        Specify output file (default: stdout)</span>

<span class="s">    -l, --log FILE</span>
<span class="s">        Specify log file (default: /tmp/$SCRIPT_NAME.log)</span>

<span class="s">    -h, --help</span>
<span class="s">        Show this help message</span>

<span class="s">    -V, --version</span>
<span class="s">        Show version information</span>

<span class="s">${BOLD}EXAMPLES${RESET}</span>
<span class="s">    # Basic usage</span>
<span class="s">    $SCRIPT_NAME file1.txt file2.txt</span>

<span class="s">    # Verbose mode with output file</span>
<span class="s">    $SCRIPT_NAME -v --output=result.txt input.txt</span>

<span class="s">    # Dry run</span>
<span class="s">    $SCRIPT_NAME -n *.txt</span>

<span class="s">${BOLD}EXIT STATUS${RESET}</span>
<span class="s">    0   Success</span>
<span class="s">    1   General error</span>
<span class="s">    2   Invalid arguments</span>

<span class="s">${BOLD}AUTHOR${RESET}</span>
<span class="s">    Written by $AUTHOR</span>
<span class="s">EOF</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
<span class="o">}</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># ARGUMENT PARSING</span>
<span class="c1"># ============================================================================</span>

parse_arguments<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">files</span><span class="o">=()</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">            </span>-v<span class="p">|</span>--verbose<span class="o">)</span>
<span class="w">                </span><span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-n<span class="p">|</span>--dry-run<span class="o">)</span>
<span class="w">                </span><span class="nv">DRY_RUN</span><span class="o">=</span><span class="m">1</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-o<span class="p">|</span>--output<span class="o">)</span>
<span class="w">                </span><span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--output<span class="o">=</span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-l<span class="p">|</span>--log<span class="o">)</span>
<span class="w">                </span><span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span><span class="w"> </span><span class="m">2</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--log<span class="o">=</span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">#*=</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-h<span class="p">|</span>--help<span class="o">)</span>
<span class="w">                </span>show_help
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-V<span class="p">|</span>--version<span class="o">)</span>
<span class="w">                </span>show_version
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>--<span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="nv">files</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="k">break</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>-*<span class="o">)</span>
<span class="w">                </span>die<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="s2">&quot;Unknown option: </span><span class="nv">$1</span><span class="s2">\nRun &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> --help&#39; for usage&quot;</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">            </span>*<span class="o">)</span>
<span class="w">                </span><span class="nv">files</span><span class="o">+=(</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="nb">shift</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span><span class="k">esac</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="c1"># Validate</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span>die<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="s2">&quot;No input files specified\nRun &#39;</span><span class="nv">$SCRIPT_NAME</span><span class="s2"> --help&#39; for usage&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># Check files exist</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span>die<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">&quot;File not found: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># MAIN LOGIC</span>
<span class="c1"># ============================================================================</span>

process_file<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">file</span><span class="o">=</span><span class="nv">$1</span>

<span class="w">    </span>verbose<span class="w"> </span><span class="s2">&quot;Processing file: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Processing: </span><span class="nv">$file</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Simulate work</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">0</span>.5

<span class="w">    </span>verbose<span class="w"> </span><span class="s2">&quot;Completed: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Completed: </span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="o">}</span>

main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Script started&quot;</span>
<span class="w">    </span>verbose<span class="w"> </span><span class="s2">&quot;Verbose mode enabled&quot;</span>
<span class="w">    </span><span class="o">[</span><span class="w"> </span><span class="nv">$DRY_RUN</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>warning<span class="w"> </span><span class="s2">&quot;DRY RUN MODE&quot;</span>

<span class="w">    </span><span class="c1"># Parse arguments</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>files
<span class="w">    </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-ra<span class="w"> </span>files<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>parse_arguments<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="w">    </span>info<span class="w"> </span><span class="s2">&quot;Processing </span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2"> file(s)...&quot;</span>

<span class="w">    </span><span class="c1"># Process files</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">0</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">total</span><span class="o">=</span><span class="si">${#</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">files</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="o">((</span>count++<span class="o">))</span>
<span class="w">        </span>progress_bar<span class="w"> </span><span class="nv">$count</span><span class="w"> </span><span class="nv">$total</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$DRY_RUN</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span>process_file<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">done</span>

<span class="w">    </span>success<span class="w"> </span><span class="s2">&quot;All files processed successfully&quot;</span>
<span class="w">    </span>log<span class="w"> </span><span class="s2">&quot;Script completed&quot;</span>

<span class="w">    </span><span class="c1"># Save output</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Results saved to: </span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
<span class="w">        </span>info<span class="w"> </span><span class="s2">&quot;Output saved to: </span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># ============================================================================</span>
<span class="c1"># ENTRY POINT</span>
<span class="c1"># ============================================================================</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>main<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="9">9. ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#9" title="Permanent link">&para;</a></h2>
<h3 id="1_1">ë¬¸ì œ 1: ê³ ê¸‰ ì˜µì…˜ íŒŒì„œ<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒì„ ì§€ì›í•˜ëŠ” ìœ ì—°í•œ ì˜µì…˜ íŒŒì„œë¥¼ ìƒì„±í•˜ì„¸ìš”:
- ì§§ì€ ì˜µì…˜(-v, -o file)
- ê¸´ ì˜µì…˜(--verbose, --output=file)
- ê²°í•©ëœ ì§§ì€ ì˜µì…˜(-vxf)
- ì„ íƒì  vs í•„ìˆ˜ ì˜µì…˜ ì¸ìˆ˜
- ë¶ˆë¦° í”Œë˜ê·¸ì™€ ê°’ ì˜µì…˜
- ìœ„ì¹˜ ì¸ìˆ˜
- <code>--</code> êµ¬ë¶„ì
- ê° ì˜µì…˜ ìœ í˜•ì— ëŒ€í•œ ê²€ì¦
- ì˜µì…˜ ì •ì˜ì—ì„œ ìë™ ìƒì„±ëœ ë„ì›€ë§</p>
<h3 id="2">ë¬¸ì œ 2: ì„¤ì • íŒŒì¼ í†µí•©<a class="header-link" href="#2" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” CLI ë„êµ¬ë¥¼ êµ¬ì¶•í•˜ì„¸ìš”:
- ëª…ë ¹ì¤„, ì„¤ì • íŒŒì¼, í™˜ê²½ ë³€ìˆ˜ì—ì„œ ì˜µì…˜ ë°›ê¸°
- ìš°ì„ ìˆœìœ„ ì‚¬ìš©: CLI &gt; í™˜ê²½ &gt; ì„¤ì • íŒŒì¼ &gt; ê¸°ë³¸ê°’
- ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ í˜•ì‹ ì§€ì›(INI, JSON, YAML)
- ëª¨ë“  ì„¤ì • ê°’ ê²€ì¦
- í˜„ì¬ ìœ íš¨í•œ ì„¤ì • ì¶œë ¥ ê°€ëŠ¥
- ì„¤ì • íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” <code>--config</code> ì˜µì…˜ í¬í•¨</p>
<h3 id="3">ë¬¸ì œ 3: ëŒ€í™”í˜• ì„¤ì • ë§ˆë²•ì‚¬<a class="header-link" href="#3" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ëŒ€í™”í˜• ì„¤ì • ë§ˆë²•ì‚¬ë¥¼ ìƒì„±í•˜ì„¸ìš”:
- ì„¤ì •ì„ í†µí•´ ì‚¬ìš©ì ì•ˆë‚´
- ê° ì…ë ¥ ê²€ì¦
- ë‹¤ì¤‘ ì„ íƒ ì˜µì…˜ì— ëŒ€í•œ ë©”ë‰´ í‘œì‹œ
- ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆìŒ
- ì €ì¥ ì „ í™•ì¸
- ì„¤ì • íŒŒì¼ ìƒì„±
- ëŒ€í™”í˜• ë° ë¹„ëŒ€í™”í˜• ëª¨ë“œ ëª¨ë‘ ë³´ìœ (ìë™í™”ìš©)
- ì»¬ëŸ¬ ì¶œë ¥ ë° ì§„í–‰ í‘œì‹œê¸° í¬í•¨</p>
<h3 id="4-git">ë¬¸ì œ 4: Git ìŠ¤íƒ€ì¼ í•˜ìœ„ ëª…ë ¹ ì¸í„°í˜ì´ìŠ¤<a class="header-link" href="#4-git" title="Permanent link">&para;</a></h3>
<p>git ìŠ¤íƒ€ì¼ í•˜ìœ„ ëª…ë ¹ì„ ê°€ì§„ CLI ë„êµ¬ë¥¼ êµ¬í˜„í•˜ì„¸ìš”:
- ë©”ì¸ ëª…ë ¹: <code>mytool &lt;subcommand&gt; [options]</code>
- ì—¬ëŸ¬ í•˜ìœ„ ëª…ë ¹(init, add, remove, list ë“±)
- ê° í•˜ìœ„ ëª…ë ¹ì€ ìì²´ ì˜µì…˜ê³¼ ë„ì›€ë§ì„ ê°€ì§
- ê³µìœ  ì „ì—­ ì˜µì…˜(--verbose, --config)
- íƒ­ ì™„ì„± ì§€ì›(bash-completion ìŠ¤í¬ë¦½íŠ¸)
- ë„ì›€ë§ í…ìŠ¤íŠ¸ì—ì„œ ë§¨ í˜ì´ì§€ ìƒì„±
- ëª¨ë“  í•˜ìœ„ ëª…ë ¹ì— ê±¸ì¹œ ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬</p>
<h3 id="5-cli">ë¬¸ì œ 5: CLI ëŒ€ì‹œë³´ë“œ<a class="header-link" href="#5-cli" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ëŒ€í™”í˜• CLI ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì¶•í•˜ì„¸ìš”:
- ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤ì‹œê°„ ìƒíƒœ í‘œì‹œ
- ìŠ¤í¬ë¡¤ ì—†ì´ ë§¤ì´ˆ ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
- ì‹œê°ì  ë§¤ë ¥ì„ ìœ„í•´ ìƒ‰ìƒ ë° ìœ ë‹ˆì½”ë“œ ë¬¸ì ì‚¬ìš©
- í‚¤ë³´ë“œ ëª…ë ¹ ë°›ê¸°(q=ì¢…ë£Œ, r=ìƒˆë¡œê³ ì¹¨, p=ì¼ì‹œì •ì§€)
- ì‹¤í–‰ ì¤‘ì¸ ì‘ì—…ì˜ ì§„í–‰ ë§‰ëŒ€ í‘œì‹œ
- ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ íŒŒì¼ì— ë¡œê·¸
- ìŠ¤í¬ë¦½íŠ¸ìš© ë¹„ëŒ€í™”í˜• ëª¨ë“œì—ì„œ ì‹¤í–‰ ê°€ëŠ¥</p>
<hr />
<p><strong>ì´ì „</strong>: <a href="./10_Error_Handling.md">10_Error_Handling.md</a> | <strong>ë‹¤ìŒ</strong>: <a href="./12_Portability_and_Best_Practices.md">12_Portability_and_Best_Practices.md</a></p>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/Shell_Script/10_Error_Handling.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">Lesson 10: ì—ëŸ¬ ì²˜ë¦¬ ë° ë””ë²„ê¹…</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/Shell_Script/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/Shell_Script/12_Portability_and_Best_Practices.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë ˆìŠ¨ 12: ì´ì‹ì„±ê³¼ ëª¨ë²” ì‚¬ë¡€</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}