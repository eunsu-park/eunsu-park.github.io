{% raw %}
<!DOCTYPE html>
<html lang="ko" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°ì´í„° ì¼ê´€ì„± íŒ¨í„´ (Data Consistency Patterns) - Study Materials</title>
    <link rel="stylesheet" href="/study/static/css/style.css">
    <link rel="stylesheet" href="/study/static/css/highlight.css">
    <!-- KaTeX for LaTeX math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });"></script>
    
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/study/ko/" class="logo">Study Materials</a>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <span></span>
                </button>
            </div>

            <nav class="sidebar-nav">
                <a href="/study/ko/" class="nav-item ">
                    <span class="nav-icon">ğŸ </span>
                    <span class="nav-text">Home</span>
                </a>
                <a href="/study/examples/" class="nav-item ">
                    <span class="nav-icon">ğŸ’»</span>
                    <span class="nav-text">Examples</span>
                </a>
            </nav>

            <div class="sidebar-search">
                <form action="/study/ko/search.html" method="get" id="search-form">
                    <input type="search" name="q" placeholder="Search..." id="search-sidebar-input">
                </form>
            </div>

            <!-- Language Selector -->
            <div class="sidebar-lang">
                <select id="lang-select" class="lang-selector" onchange="switchLanguage(this.value)">
                    
                    <option value="en" >
                        English
                    </option>
                    
                    <option value="ko" selected>
                        í•œêµ­ì–´
                    </option>
                    
                </select>
            </div>

            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon light">â˜€ï¸</span>
                    <span class="theme-icon dark">ğŸŒ™</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="main-header">
                <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
                    <span></span>
                </button>
                
<nav class="breadcrumb">
    <a href="/study/ko/">Topics</a>
    <span class="separator">/</span>
    <a href="/study/ko/System_Design/">System Design</a>
    <span class="separator">/</span>
    <span class="current">ë°ì´í„° ì¼ê´€ì„± íŒ¨í„´ (Data Consistency Patterns)</span>
</nav>

            </header>

            <div class="content">
                
<article class="lesson-article">
    <header class="lesson-header">
        <h1>ë°ì´í„° ì¼ê´€ì„± íŒ¨í„´ (Data Consistency Patterns)</h1>
    </header>

    
<div class="lesson-toolbar lesson-toolbar--top">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/System_Design/09_Database_Replication.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë°ì´í„°ë² ì´ìŠ¤ ë³µì œ (Database Replication)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/System_Design/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/System_Design/11_Message_Queue_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë©”ì‹œì§€ í ê¸°ì´ˆ (Message Queue Fundamentals)</span>
        </a>
        
    </div>
</div>


    
    <nav class="toc" id="toc">
        <h2>Table of Contents</h2>
        <div class="toc">
<ul>
<li><a href="#_1">ê°œìš”</a></li>
<li><a href="#_2">ëª©ì°¨</a></li>
<li><a href="#1">1. ì¼ê´€ì„± ëª¨ë¸ ê°œìš”</a><ul>
<li><a href="#cap">CAP ì •ë¦¬ ë³µìŠµ</a></li>
<li><a href="#_3">ì¼ê´€ì„± ìŠ¤í™íŠ¸ëŸ¼</a></li>
</ul>
</li>
<li><a href="#2-strong-vs-eventual-consistency">2. Strong vs Eventual Consistency</a><ul>
<li><a href="#strong-consistency">Strong Consistency (ê°•í•œ ì¼ê´€ì„±)</a></li>
<li><a href="#eventual-consistency">Eventual Consistency (ìµœì¢… ì¼ê´€ì„±)</a></li>
<li><a href="#_4">íŠ¸ë ˆì´ë“œì˜¤í”„ ë¹„êµ</a></li>
<li><a href="#_5">ì‚¬ìš© ì‚¬ë¡€ë³„ ì„ íƒ</a></li>
</ul>
</li>
<li><a href="#3">3. ì½ê¸° ì¼ê´€ì„± íŒ¨í„´</a><ul>
<li><a href="#read-your-writes">Read-Your-Writes (ìì‹ ì˜ ì“°ê¸° ì½ê¸°)</a></li>
<li><a href="#monotonic-reads">Monotonic Reads (ë‹¨ì¡° ì½ê¸°)</a></li>
<li><a href="#monotonic-writes">Monotonic Writes (ë‹¨ì¡° ì“°ê¸°)</a></li>
</ul>
</li>
<li><a href="#4-2pc">4. ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ 2PC</a><ul>
<li><a href="#two-phase-commit-2pc">Two-Phase Commit (2PC)</a></li>
<li><a href="#2pc">2PC ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤</a></li>
<li><a href="#2pc_1">2PCì˜ í•œê³„</a></li>
<li><a href="#3pc-three-phase-commit">3PC (Three-Phase Commit)</a></li>
</ul>
</li>
<li><a href="#5-saga">5. Saga íŒ¨í„´</a><ul>
<li><a href="#saga">Saga ê¸°ë³¸ ê°œë…</a></li>
<li><a href="#choreography">Choreography (ì•ˆë¬´)</a></li>
<li><a href="#choreography_1">Choreography ì¥ë‹¨ì </a></li>
<li><a href="#orchestration">Orchestration (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)</a></li>
<li><a href="#orchestration_1">Orchestration ì¥ë‹¨ì </a></li>
<li><a href="#saga_1">Saga íŒ¨í„´ ë¹„êµ</a></li>
<li><a href="#saga-orchestration">Saga êµ¬í˜„ ì˜ˆì‹œ (Orchestration)</a></li>
</ul>
</li>
<li><a href="#6">6. ì‹¤ì „ ì ìš© ê°€ì´ë“œ</a><ul>
<li><a href="#_6">ì¼ê´€ì„± íŒ¨í„´ ì„ íƒ ì²´í¬ë¦¬ìŠ¤íŠ¸</a></li>
<li><a href="#_7">í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼</a></li>
</ul>
</li>
<li><a href="#7">7. ì—°ìŠµ ë¬¸ì œ</a><ul>
<li><a href="#1_1">ì—°ìŠµ 1: ì¼ê´€ì„± ìš”êµ¬ì‚¬í•­ ë¶„ì„</a></li>
<li><a href="#2-saga">ì—°ìŠµ 2: Saga ì„¤ê³„</a></li>
<li><a href="#3_1">ì—°ìŠµ 3: ì½ê¸° ì¼ê´€ì„± êµ¬í˜„</a></li>
</ul>
</li>
<li><a href="#_8">ë‹¤ìŒ ë‹¨ê³„</a></li>
<li><a href="#_9">ì°¸ê³  ìë£Œ</a></li>
</ul>
</div>

    </nav>
    

    <div class="lesson-content markdown-body">
        <h1 id="data-consistency-patterns">ë°ì´í„° ì¼ê´€ì„± íŒ¨í„´ (Data Consistency Patterns)<a class="header-link" href="#data-consistency-patterns" title="Permanent link">&para;</a></h1>
<p>ë‚œì´ë„: â­â­â­â­</p>
<h2 id="_1">ê°œìš”<a class="header-link" href="#_1" title="Permanent link">&para;</a></h2>
<p>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë°ì´í„° ì¼ê´€ì„±ì€ ê°€ì¥ ë„ì „ì ì¸ ë¬¸ì œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ ì¥ì—ì„œëŠ” Strong Consistencyì™€ Eventual Consistencyì˜ íŠ¸ë ˆì´ë“œì˜¤í”„, ì½ê¸° ì¼ê´€ì„± íŒ¨í„´, ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ í•œê³„, ê·¸ë¦¬ê³  Saga íŒ¨í„´ì„ í•™ìŠµí•©ë‹ˆë‹¤.</p>
<hr />
<h2 id="_2">ëª©ì°¨<a class="header-link" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-ì¼ê´€ì„±-ëª¨ë¸-ê°œìš”">ì¼ê´€ì„± ëª¨ë¸ ê°œìš”</a></li>
<li><a href="#2-strong-vs-eventual-consistency">Strong vs Eventual Consistency</a></li>
<li><a href="#3-ì½ê¸°-ì¼ê´€ì„±-íŒ¨í„´">ì½ê¸° ì¼ê´€ì„± íŒ¨í„´</a></li>
<li><a href="#4-ë¶„ì‚°-íŠ¸ëœì­ì…˜ê³¼-2pc">ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ 2PC</a></li>
<li><a href="#5-saga-íŒ¨í„´">Saga íŒ¨í„´</a></li>
<li><a href="#6-ì‹¤ì „-ì ìš©-ê°€ì´ë“œ">ì‹¤ì „ ì ìš© ê°€ì´ë“œ</a></li>
<li><a href="#7-ì—°ìŠµ-ë¬¸ì œ">ì—°ìŠµ ë¬¸ì œ</a></li>
</ol>
<hr />
<h2 id="1">1. ì¼ê´€ì„± ëª¨ë¸ ê°œìš”<a class="header-link" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="cap">CAP ì •ë¦¬ ë³µìŠµ<a class="header-link" href="#cap" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CAP ì •ë¦¬                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                    Consistency (C)                          â”‚
â”‚                         /\                                  â”‚
â”‚                        /  \                                 â”‚
â”‚                       /    \                                â”‚
â”‚                      / CP   \                               â”‚
â”‚                     /        \                              â”‚
â”‚                    /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\                             â”‚
â”‚      Availability (A)        Partition Tolerance (P)        â”‚
â”‚                    \    AP    /                             â”‚
â”‚                     \        /                              â”‚
â”‚                      \â”€â”€â”€â”€â”€â”€/                               â”‚
â”‚                                                             â”‚
â”‚   ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ ë°œìƒ ì‹œ:                                  â”‚
â”‚   - CP ì„ íƒ: ì¼ê´€ì„± ìœ ì§€, ê°€ìš©ì„± í¬ê¸°                       â”‚
â”‚   - AP ì„ íƒ: ê°€ìš©ì„± ìœ ì§€, ì¼ê´€ì„± í¬ê¸° (Eventual)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="_3">ì¼ê´€ì„± ìŠ¤í™íŠ¸ëŸ¼<a class="header-link" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì¼ê´€ì„± ìŠ¤í™íŠ¸ëŸ¼                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Strong                                              Eventual           â”‚
â”‚  Consistency          â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º    Consistency         â”‚
â”‚                                                                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚  â”‚          â”‚          â”‚          â”‚          â”‚          â”‚             â”‚
â”‚  Lineariz-  Sequential Causal    Monotonic   Eventual                  â”‚
â”‚  ability    Consistency          Reads       Consistency               â”‚
â”‚                                                                         â”‚
â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€ ê°•í•œ ì¼ê´€ì„± â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ—„â”€â”€â”€â”€â”€ ì•½í•œ ì¼ê´€ì„± â”€â”€â”€â”€â–º             â”‚
â”‚  â—„â”€â”€â”€â”€â”€â”€â”€ ë‚®ì€ ê°€ìš©ì„±/ì„±ëŠ¥ â”€â”€â”€â”€â”€â”€â–ºâ—„â”€â”€ ë†’ì€ ê°€ìš©ì„±/ì„±ëŠ¥ â”€â”€â–º             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="2-strong-vs-eventual-consistency">2. Strong vs Eventual Consistency<a class="header-link" href="#2-strong-vs-eventual-consistency" title="Permanent link">&para;</a></h2>
<h3 id="strong-consistency">Strong Consistency (ê°•í•œ ì¼ê´€ì„±)<a class="header-link" href="#strong-consistency" title="Permanent link">&para;</a></h3>
<p>ëª¨ë“  ì½ê¸°ê°€ ê°€ì¥ ìµœê·¼ ì“°ê¸° ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Strong Consistency                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º           â”‚
â”‚                                                                         â”‚
â”‚  Client A:  â”€â”€â”€â”€ Write(X=5) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º              â”‚
â”‚                      â”‚                                                  â”‚
â”‚                      â–¼                                                  â”‚
â”‚  Primary:   â•â•â•â•â•â•â•â•[X=5]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º              â”‚
â”‚                      â”‚                                                  â”‚
â”‚                      â”‚ ë™ê¸° ë³µì œ                                        â”‚
â”‚                      â”‚ (ì“°ê¸° ì™„ë£Œ ì „ ë³µì œ ì™„ë£Œ)                         â”‚
â”‚                      â–¼                                                  â”‚
â”‚  Replica:   â•â•â•â•â•â•â•â•[X=5]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º              â”‚
â”‚                      â”‚                                                  â”‚
â”‚                      â–¼                                                  â”‚
â”‚  Client B:  â”€â”€â”€â”€â”€â”€â”€â”€ Read() â”€â”€â”€â”€â”€â”€â”€ returns X=5 â”€â”€â”€â”€â”€â”€â”€â”€â–º               â”‚
â”‚                                                                         â”‚
â”‚  íŠ¹ì§•:                                                                  â”‚
â”‚  - ëª¨ë“  ë…¸ë“œê°€ ê°™ì€ ë°ì´í„°ë¥¼ ë´„                                         â”‚
â”‚  - ì“°ê¸° ì§€ì—° ì¦ê°€                                                       â”‚
â”‚  - ê°€ìš©ì„± ê°ì†Œ (ë³µì œë³¸ ì¥ì•  ì‹œ)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="eventual-consistency">Eventual Consistency (ìµœì¢… ì¼ê´€ì„±)<a class="header-link" href="#eventual-consistency" title="Permanent link">&para;</a></h3>
<p>ì¶©ë¶„í•œ ì‹œê°„ì´ ì§€ë‚˜ë©´ ëª¨ë“  ì½ê¸°ê°€ ê°™ì€ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Eventual Consistency                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º           â”‚
â”‚                                                                         â”‚
â”‚  Client A:  â”€â”€â”€â”€ Write(X=5) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º              â”‚
â”‚                      â”‚                                                  â”‚
â”‚                      â–¼                                                  â”‚
â”‚  Primary:   â•â•â•â•â•â•â•â•[X=5]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º              â”‚
â”‚                      â”‚                                                  â”‚
â”‚                      â”‚ ë¹„ë™ê¸° ë³µì œ                                      â”‚
â”‚                      â”‚ (ì“°ê¸° ì¦‰ì‹œ ì™„ë£Œ, ë³µì œëŠ” ë‚˜ì¤‘ì—)                  â”‚
â”‚                      â–¼                                                  â”‚
â”‚  Replica:   â•â•â•[X=0]â•â•â•â•â•â•â•â•[X=5]â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º              â”‚
â”‚                 â”‚              â”‚                                        â”‚
â”‚                 â”‚   ë³µì œ ì§€ì—°  â”‚                                        â”‚
â”‚                 â–¼              â–¼                                        â”‚
â”‚  Client B:  â”€â”€â”€ Read()=0 â”€â”€â”€â”€ Read()=5 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º               â”‚
â”‚                 (stale)       (current)                                 â”‚
â”‚                                                                         â”‚
â”‚  íŠ¹ì§•:                                                                  â”‚
â”‚  - ì¼ì‹œì  ë¶ˆì¼ì¹˜ í—ˆìš©                                                   â”‚
â”‚  - ì“°ê¸° ì§€ì—° ê°ì†Œ                                                       â”‚
â”‚  - ë†’ì€ ê°€ìš©ì„±                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="_4">íŠ¸ë ˆì´ë“œì˜¤í”„ ë¹„êµ<a class="header-link" href="#_4" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>íŠ¹ì„±</th>
<th>Strong Consistency</th>
<th>Eventual Consistency</th>
</tr>
</thead>
<tbody>
<tr>
<td>ì½ê¸° ì¼ê´€ì„±</td>
<td>í•­ìƒ ìµœì‹ </td>
<td>ì¼ì‹œì  ì§€ì—°</td>
</tr>
<tr>
<td>ì“°ê¸° ì§€ì—°</td>
<td>ë†’ìŒ</td>
<td>ë‚®ìŒ</td>
</tr>
<tr>
<td>ê°€ìš©ì„±</td>
<td>ë‚®ìŒ</td>
<td>ë†’ìŒ</td>
</tr>
<tr>
<td>êµ¬í˜„ ë³µì¡ë„</td>
<td>ë†’ìŒ</td>
<td>ë‚®ìŒ</td>
</tr>
<tr>
<td>ì í•©í•œ ì‚¬ë¡€</td>
<td>ê¸ˆìœµ, ì¬ê³ </td>
<td>SNS, ì¢‹ì•„ìš” ìˆ˜</td>
</tr>
</tbody>
</table>
<h3 id="_5">ì‚¬ìš© ì‚¬ë¡€ë³„ ì„ íƒ<a class="header-link" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‚¬ìš© ì‚¬ë¡€ë³„ ì¼ê´€ì„± ì„ íƒ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Strong Consistency í•„ìš”      â”‚  Eventual Consistency ì í•©              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - ì€í–‰ ê³„ì¢Œ ì”ì•¡             â”‚  - SNS íƒ€ì„ë¼ì¸                         â”‚
â”‚  - ì¬ê³  ìˆ˜ëŸ‰ (ì¤‘ë³µ íŒë§¤ ë°©ì§€) â”‚  - ì¢‹ì•„ìš”/íŒ”ë¡œì›Œ ìˆ˜                     â”‚
â”‚  - ì˜ˆì•½ ì‹œìŠ¤í…œ                â”‚  - ê²€ìƒ‰ ì¸ë±ìŠ¤                          â”‚
â”‚  - ê²°ì œ ì²˜ë¦¬                  â”‚  - ë¡œê·¸ ìˆ˜ì§‘                            â”‚
â”‚  - ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ           â”‚  - ì¡°íšŒìˆ˜ ì¹´ìš´í„°                        â”‚
â”‚  - ë¶„ì‚° ë½                    â”‚  - ì¶”ì²œ ì‹œìŠ¤í…œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="3">3. ì½ê¸° ì¼ê´€ì„± íŒ¨í„´<a class="header-link" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="read-your-writes">Read-Your-Writes (ìì‹ ì˜ ì“°ê¸° ì½ê¸°)<a class="header-link" href="#read-your-writes" title="Permanent link">&para;</a></h3>
<p>ì‚¬ìš©ìê°€ ìì‹ ì´ ì“´ ë°ì´í„°ë¥¼ í•­ìƒ ì½ì„ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Read-Your-Writes                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ë¬¸ì œ ìƒí™©:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  User A  â”‚         â”‚  Primary â”‚         â”‚ Replica  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                â”‚
â”‚       â”‚                    â”‚                    â”‚                       â”‚
â”‚       â”‚â”€â”€Write(name=Bob)â”€â”€â–ºâ”‚                    â”‚                       â”‚
â”‚       â”‚â—„â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                       â”‚
â”‚       â”‚                    â”‚â”€â”€ async replicateâ”€â–ºâ”‚                       â”‚
â”‚       â”‚â”€â”€Read(name)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ (ì•„ì§ ë³µì œ ì•ˆë¨)      â”‚
â”‚       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ name=Alice â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
â”‚       â”‚                                         â”‚                       â”‚
â”‚  &quot;ë‚´ê°€ ë°©ê¸ˆ Bobìœ¼ë¡œ ë°”ê¿¨ëŠ”ë° ì™œ Aliceì§€?&quot;                               â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í•´ê²° ë°©ë²• 1: Primaryì—ì„œ ì½ê¸°                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚  User A  â”‚         â”‚  Primary â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚       â”‚                    â”‚                                            â”‚
â”‚       â”‚â”€â”€Write(name=Bob)â”€â”€â–ºâ”‚                                            â”‚
â”‚       â”‚â—„â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                            â”‚
â”‚       â”‚â”€â”€Read(name)â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â† ìì‹ ì˜ ì“°ê¸° í›„ì—ëŠ” Primaryì—ì„œ ì½ê¸°     â”‚
â”‚       â”‚â—„â”€â”€â”€ name=Bob â”€â”€â”€â”€â”€â”€â”‚                                            â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í•´ê²° ë°©ë²• 2: íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜                                           â”‚
â”‚                                                                         â”‚
â”‚  - ì“°ê¸° ì‹œ íƒ€ì„ìŠ¤íƒ¬í”„ T ê¸°ë¡                                            â”‚
â”‚  - ì½ê¸° ì‹œ T ì´í›„ì˜ ë°ì´í„°ê°€ ìˆëŠ” ë³µì œë³¸ì—ì„œë§Œ ì½ê¸°                     â”‚
â”‚  - ë³µì œë³¸ì˜ replication_timestamp &gt;= Tì¸ ê²½ìš°ë§Œ ì‚¬ìš©                    â”‚
â”‚                                                                         â”‚
â”‚  Write Response: { success: true, timestamp: T1 }                       â”‚
â”‚  Read Request:   { key: &quot;name&quot;, min_timestamp: T1 }                     â”‚
â”‚  â†’ T1 ì´í›„ ì—…ë°ì´íŠ¸ëœ ë³µì œë³¸ì—ì„œë§Œ ì½ê¸°                                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1"># Read-Your-Writes êµ¬í˜„ ì˜ˆì‹œ</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ReadYourWritesClient</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">primary</span><span class="p">,</span> <span class="n">replicas</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primary</span> <span class="o">=</span> <span class="n">primary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replicas</span> <span class="o">=</span> <span class="n">replicas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_write_timestamp</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># key -&gt; timestamp</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_write_timestamp</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">timestamp</span>
        <span class="k">return</span> <span class="n">timestamp</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_write_timestamp</span><span class="p">:</span>
            <span class="c1"># ìµœê·¼ ì“´ í‚¤ëŠ” Primaryì—ì„œ ì½ê¸°</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># ì“°ì§€ ì•Šì€ í‚¤ëŠ” Replicaì—ì„œ ì½ê¸°</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_replica</span><span class="p">()</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>

<h3 id="monotonic-reads">Monotonic Reads (ë‹¨ì¡° ì½ê¸°)<a class="header-link" href="#monotonic-reads" title="Permanent link">&para;</a></h3>
<p>í•œë²ˆ ì½ì€ ê°’ë³´ë‹¤ ì˜¤ë˜ëœ ê°’ì„ ì½ì§€ ì•Šë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                     </span><span class="n">Monotonic</span><span class="w"> </span><span class="k">Reads</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">ë¬¸ì œ</span><span class="w"> </span><span class="n">ìƒí™©</span><span class="w"> </span><span class="p">(</span><span class="n">Monotonic</span><span class="w"> </span><span class="k">Reads</span><span class="w"> </span><span class="n">ìœ„ë°˜</span><span class="p">)</span><span class="err">:</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">ì‹œê°„</span><span class="w"> </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º</span><span class="w">           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Replica</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">v1</span><span class="o">]</span><span class="err">â”€â”€â”€â”€â”€â”€â”€</span><span class="o">[</span><span class="n">v2</span><span class="o">]</span><span class="err">â”€â”€â”€â”€â”€â”€â”€</span><span class="o">[</span><span class="n">v3</span><span class="o">]</span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Replica</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">v1</span><span class="o">]</span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="o">[</span><span class="n">v2</span><span class="o">]</span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="k">User</span><span class="err">:</span><span class="w">      </span><span class="k">Read</span><span class="nv">@R1</span><span class="o">=</span><span class="n">v2</span><span class="w">  </span><span class="k">Read</span><span class="nv">@R2</span><span class="o">=</span><span class="n">v1</span><span class="w">  </span><span class="k">Read</span><span class="nv">@R1</span><span class="o">=</span><span class="n">v3</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="err">â”‚</span><span class="w">         </span><span class="err">â”‚</span><span class="w">                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                    </span><span class="ss">&quot;ì‹œê°„ì´ ê±°ê¾¸ë¡œ ê°„ ê²ƒ ê°™ì€ ê²½í—˜&quot;</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">í•´ê²°</span><span class="w"> </span><span class="nl">ë°©ë²•</span><span class="p">:</span><span class="w"> </span><span class="n">Sticky</span><span class="w"> </span><span class="k">Session</span><span class="w">                                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">         </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="k">User</span><span class="w"> </span><span class="n">A</span><span class="w">  </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span><span class="w"> </span><span class="n">Replica</span><span class="w"> </span><span class="mi">1</span><span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="n">ê³ ì •</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">         </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="k">User</span><span class="w"> </span><span class="n">B</span><span class="w">  </span><span class="err">â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚</span><span class="w"> </span><span class="n">Replica</span><span class="w"> </span><span class="mi">2</span><span class="err">â”‚</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">  </span><span class="n">ê³ ì •</span><span class="w">   </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w">                                     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">ê°™ì€</span><span class="w"> </span><span class="n">ì‚¬ìš©ìëŠ”</span><span class="w"> </span><span class="n">í•­ìƒ</span><span class="w"> </span><span class="n">ê°™ì€</span><span class="w"> </span><span class="n">ë³µì œë³¸ì—ì„œ</span><span class="w"> </span><span class="n">ì½ê¸°</span><span class="w">                              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">í•´ë‹¹</span><span class="w"> </span><span class="n">ë³µì œë³¸ì´</span><span class="w"> </span><span class="n">ë‹¤ìš´ë˜ë©´</span><span class="w"> </span><span class="n">ë‹¤ë¥¸</span><span class="w"> </span><span class="n">ë³µì œë³¸ìœ¼ë¡œ</span><span class="w"> </span><span class="n">ì „í™˜</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">í•´ê²°</span><span class="w"> </span><span class="nl">ë°©ë²•</span><span class="p">:</span><span class="w"> </span><span class="n">ë²„ì „</span><span class="w"> </span><span class="n">ê¸°ë°˜</span><span class="w">                                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="k">Read</span><span class="w"> </span><span class="nl">Response</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">value</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;v2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">version</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="err">}</span><span class="w">                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="k">Next</span><span class="w"> </span><span class="k">Read</span><span class="w"> </span><span class="nl">Request</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">key</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;data&quot;</span><span class="p">,</span><span class="w"> </span><span class="nl">min_version</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="err">}</span><span class="w">                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â†’</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">42</span><span class="n">ì¸</span><span class="w"> </span><span class="n">ë³µì œë³¸ì—ì„œë§Œ</span><span class="w"> </span><span class="n">ì½ê¸°</span><span class="w">                                    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="monotonic-writes">Monotonic Writes (ë‹¨ì¡° ì“°ê¸°)<a class="header-link" href="#monotonic-writes" title="Permanent link">&para;</a></h3>
<p>ë™ì¼ ì„¸ì…˜ì˜ ì“°ê¸°ê°€ ìˆœì„œëŒ€ë¡œ ì ìš©ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Monotonic Writes                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ë¬¸ì œ ìƒí™©:                                                             â”‚
â”‚                                                                         â”‚
â”‚  User: Write(X=1) â†’ Write(X=2) â†’ Write(X=3)                            â”‚
â”‚                                                                         â”‚
â”‚  ë„¤íŠ¸ì›Œí¬ ì§€ì—°ìœ¼ë¡œ ì¸í•´:                                                â”‚
â”‚  Replica ìˆ˜ì‹  ìˆœì„œ: X=2 â†’ X=3 â†’ X=1                                    â”‚
â”‚  ìµœì¢… ê²°ê³¼: X=1 (ì˜ë„ì™€ ë‹¤ë¦„!)                                          â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í•´ê²° ë°©ë²•: ë²„ì „/íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜                                        â”‚
â”‚                                                                         â”‚
â”‚  Write(X=1, ts=100) â†’ Write(X=2, ts=101) â†’ Write(X=3, ts=102)          â”‚
â”‚                                                                         â”‚
â”‚  ìˆ˜ì‹  ìˆœì„œ: ts=101 â†’ ts=102 â†’ ts=100                                   â”‚
â”‚  ì ìš©: X=2 ì ìš© â†’ X=3 ì ìš© â†’ X=1 ë¬´ì‹œ (ts=100 &lt; í˜„ì¬ ts=102)           â”‚
â”‚  ìµœì¢… ê²°ê³¼: X=3 (ì •í™•!)                                                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="4-2pc">4. ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ 2PC<a class="header-link" href="#4-2pc" title="Permanent link">&para;</a></h2>
<h3 id="two-phase-commit-2pc">Two-Phase Commit (2PC)<a class="header-link" href="#two-phase-commit-2pc" title="Permanent link">&para;</a></h3>
<p>ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ ì›ìì„±ì„ ë³´ì¥í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Two-Phase Commit (2PC)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Phase 1: Prepare (íˆ¬í‘œ ë‹¨ê³„)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚ Coordinator â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚         â”‚                â”‚Participant1â”‚â”€â”€â”€â–º íŠ¸ëœì­ì…˜ ì¤€ë¹„               â”‚
â”‚         â”‚â—„â”€â”€ VOTE YES â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     (ë½ íšë“, ë¡œê·¸ ê¸°ë¡)       â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚         â”‚                â”‚Participant2â”‚â”€â”€â”€â–º íŠ¸ëœì­ì…˜ ì¤€ë¹„               â”‚
â”‚         â”‚â—„â”€â”€ VOTE YES â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚         â”‚                                                               â”‚
â”‚  Phase 2: Commit (ê²°ì • ë‹¨ê³„)                                            â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚â”€â”€â”€ COMMIT â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚         â”‚                â”‚Participant1â”‚â”€â”€â”€â–º ì»¤ë°‹ ìˆ˜í–‰                   â”‚
â”‚         â”‚â—„â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚â”€â”€â”€ COMMIT â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚         â”‚                â”‚Participant2â”‚â”€â”€â”€â–º ì»¤ë°‹ ìˆ˜í–‰                   â”‚
â”‚         â”‚â—„â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  Transaction Complete                                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="2pc">2PC ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤<a class="header-link" href="#2pc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     2PC ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ì‹œë‚˜ë¦¬ì˜¤ 1: Participantê°€ NO íˆ¬í‘œ                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚ Coordinator â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”‚Participant1â”‚â—„â”€â”€ VOTE YES                    â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”‚Participant2â”‚â—„â”€â”€ VOTE NO (ì‹¤íŒ¨)              â”‚
â”‚         â”‚                                                               â”‚
â”‚         â”‚â”€â”€â”€ ROLLBACK â”€â”€â–ºâ”‚Participant1â”‚                                â”‚
â”‚         â”‚â”€â”€â”€ ROLLBACK â”€â”€â–ºâ”‚Participant2â”‚                                â”‚
â”‚         â–¼                                                               â”‚
â”‚  Transaction Aborted                                                    â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‹œë‚˜ë¦¬ì˜¤ 2: Coordinator ì¥ì•  (Blocking ë¬¸ì œ)                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚ Coordinator â”‚â”€â”€X (ì¥ì• )                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”‚Participant1â”‚â—„â”€â”€ VOTE YES (ëŒ€ê¸° ì¤‘...)       â”‚
â”‚         â”‚â”€â”€â”€ PREPARE â”€â”€â”€â–ºâ”‚Participant2â”‚â—„â”€â”€ VOTE YES (ëŒ€ê¸° ì¤‘...)       â”‚
â”‚         â”‚                                                               â”‚
â”‚         X  Coordinator ë‹¤ìš´!                                            â”‚
â”‚                                                                         â”‚
â”‚         â”‚Participant1â”‚: &quot;Commit? Rollback? ê²°ì • ë¶ˆê°€...&quot;               â”‚
â”‚         â”‚Participant2â”‚: &quot;ë¦¬ì†ŒìŠ¤ ë½ì´ ê³„ì† ìœ ì§€ë¨...&quot;                    â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ì´ê²ƒì´ 2PCì˜ ê°€ì¥ í° ë¬¸ì œ: BLOCKING                                    â”‚
â”‚  Coordinator ë³µêµ¬ ì „ê¹Œì§€ Participantë“¤ì´ ë¬´í•œ ëŒ€ê¸°                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="2pc_1">2PCì˜ í•œê³„<a class="header-link" href="#2pc_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>í•œê³„</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody>
<tr>
<td>Blocking</td>
<td>Coordinator ì¥ì•  ì‹œ ì „ì²´ ì‹œìŠ¤í…œ ë¸”ë¡œí‚¹</td>
</tr>
<tr>
<td>ì„±ëŠ¥</td>
<td>ë„¤íŠ¸ì›Œí¬ ì™•ë³µ 2íšŒ, ëª¨ë“  ì°¸ì—¬ì ëŒ€ê¸°</td>
</tr>
<tr>
<td>ê°€ìš©ì„±</td>
<td>í•œ ì°¸ì—¬ìë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ ë¡¤ë°±</td>
</tr>
<tr>
<td>í™•ì¥ì„±</td>
<td>ì°¸ì—¬ì ì¦ê°€ ì‹œ ì„±ëŠ¥ ê¸‰ê²©íˆ ì €í•˜</td>
</tr>
</tbody>
</table>
<h3 id="3pc-three-phase-commit">3PC (Three-Phase Commit)<a class="header-link" href="#3pc-three-phase-commit" title="Permanent link">&para;</a></h3>
<p>2PCì˜ ë¸”ë¡œí‚¹ ë¬¸ì œë¥¼ ì™„í™”í•˜ë ¤ëŠ” ì‹œë„:</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     3PC vs 2PC                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  2PC:                          3PC:                                     â”‚
â”‚  1. Prepare                    1. CanCommit (íˆ¬í‘œ)                      â”‚
â”‚  2. Commit/Rollback            2. PreCommit (ì¤€ë¹„ í™•ì¸)                 â”‚
â”‚                                3. DoCommit (ì‹¤ì œ ì»¤ë°‹)                  â”‚
â”‚                                                                         â”‚
â”‚  3PC ì¥ì :                                                              â”‚
â”‚  - PreCommit ë‹¨ê³„ì—ì„œ ì°¸ì—¬ìë“¤ì´ ìƒíƒœ ê³µìœ                               â”‚
â”‚  - Coordinator ì¥ì•  ì‹œì—ë„ ì°¸ì—¬ìê°„ í•©ì˜ ê°€ëŠ¥                           â”‚
â”‚                                                                         â”‚
â”‚  3PC í•œê³„:                                                              â”‚
â”‚  - ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ ì‹œ ì—¬ì „íˆ ë¶ˆì¼ì¹˜ ê°€ëŠ¥                                â”‚
â”‚  - ë³µì¡ë„ ì¦ê°€, ì‹¤ë¬´ì—ì„œ ì˜ ì‚¬ìš© ì•ˆí•¨                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="5-saga">5. Saga íŒ¨í„´<a class="header-link" href="#5-saga" title="Permanent link">&para;</a></h2>
<p>2PCì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ë¶„ì‚° íŠ¸ëœì­ì…˜ íŒ¨í„´ì…ë‹ˆë‹¤.</p>
<h3 id="saga">Saga ê¸°ë³¸ ê°œë…<a class="header-link" href="#saga" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">                     </span><span class="n">Saga</span><span class="w"> </span><span class="n">íŒ¨í„´</span><span class="w"> </span><span class="n">ê°œìš”</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="mi">2</span><span class="nl">PC</span><span class="p">:</span><span class="w">  </span><span class="n">í•˜ë‚˜ì˜</span><span class="w"> </span><span class="n">í°</span><span class="w"> </span><span class="n">íŠ¸ëœì­ì…˜ìœ¼ë¡œ</span><span class="w"> </span><span class="n">ì›ìì </span><span class="w"> </span><span class="n">ì²˜ë¦¬</span><span class="w">                               </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="o">[</span><span class="n">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì „ì²´ íŠ¸ëœì­ì…˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="o">]</span><span class="w">                          </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="n">ì‹¤íŒ¨</span><span class="w"> </span><span class="n">ì‹œ</span><span class="w"> </span><span class="n">ì „ì²´</span><span class="w"> </span><span class="n">ë¡¤ë°±</span><span class="w"> </span><span class="p">(</span><span class="n">ë½</span><span class="w"> </span><span class="n">ìœ ì§€</span><span class="p">)</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nl">Saga</span><span class="p">:</span><span class="w"> </span><span class="n">ì—¬ëŸ¬</span><span class="w"> </span><span class="n">ë¡œì»¬</span><span class="w"> </span><span class="n">íŠ¸ëœì­ì…˜ì˜</span><span class="w"> </span><span class="n">ì‹œí€€ìŠ¤</span><span class="w">                                      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="o">[</span><span class="n">T1</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">T2</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">T3</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">T4</span><span class="o">]</span><span class="w">                                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="n">ì‹¤íŒ¨</span><span class="w"> </span><span class="n">ì‹œ</span><span class="w"> </span><span class="n">ë³´ìƒ</span><span class="w"> </span><span class="n">íŠ¸ëœì­ì…˜</span><span class="w"> </span><span class="n">ì‹¤í–‰</span><span class="w">                                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">        </span><span class="o">[</span><span class="n">T1</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">T2</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">T3-ì‹¤íŒ¨</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">C2</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">C1</span><span class="o">]</span><span class="w">                           </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                     </span><span class="n">ë³´ìƒ</span><span class="w"> </span><span class="n">íŠ¸ëœì­ì…˜</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="err">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span><span class="w">      </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nl">ì˜ˆì‹œ</span><span class="p">:</span><span class="w"> </span><span class="n">ì—¬í–‰</span><span class="w"> </span><span class="n">ì˜ˆì•½</span><span class="w"> </span><span class="n">Saga</span><span class="w">                                                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">ì •ìƒ</span><span class="w"> </span><span class="nl">íë¦„</span><span class="p">:</span><span class="w">                                                             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">[</span><span class="n">í•­ê³µê¶Œ ì˜ˆì•½</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">í˜¸í…” ì˜ˆì•½</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">ë Œí„°ì¹´ ì˜ˆì•½</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">ê²°ì œ</span><span class="o">]</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">       </span><span class="n">T1</span><span class="w">            </span><span class="n">T2</span><span class="w">            </span><span class="n">T3</span><span class="w">           </span><span class="n">T4</span><span class="w">                       </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">T3</span><span class="w"> </span><span class="n">ì‹¤íŒ¨</span><span class="w"> </span><span class="nl">ì‹œ</span><span class="p">:</span><span class="w">                                                            </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="o">[</span><span class="n">í•­ê³µê¶Œ ì˜ˆì•½</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">í˜¸í…” ì˜ˆì•½</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">ë Œí„°ì¹´-ì‹¤íŒ¨</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">í˜¸í…” ì·¨ì†Œ</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="o">[</span><span class="n">í•­ê³µ ì·¨ì†Œ</span><span class="o">]</span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">       </span><span class="n">T1</span><span class="w">            </span><span class="n">T2</span><span class="w">            </span><span class="n">T3</span><span class="w">             </span><span class="n">C2</span><span class="w">           </span><span class="n">C1</span><span class="w">        </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">                                                                         </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<h3 id="choreography">Choreography (ì•ˆë¬´)<a class="header-link" href="#choreography" title="Permanent link">&para;</a></h3>
<p>ê° ì„œë¹„ìŠ¤ê°€ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ê³  êµ¬ë…í•˜ì—¬ ììœ¨ì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Choreography Saga                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Order  â”‚    â”‚ Payment â”‚    â”‚  Stock  â”‚    â”‚Shipping â”‚             â”‚
â”‚  â”‚ Service â”‚    â”‚ Service â”‚    â”‚ Service â”‚    â”‚ Service â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚
â”‚       â”‚              â”‚              â”‚              â”‚                    â”‚
â”‚  â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•  Event Bus     â”‚
â”‚       â”‚              â”‚              â”‚              â”‚                    â”‚
â”‚  1.OrderCreated      â”‚              â”‚              â”‚                    â”‚
â”‚  â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚                    â”‚
â”‚       â”‚         2.PaymentCompleted  â”‚              â”‚                    â”‚
â”‚       â”‚         â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚                    â”‚
â”‚       â”‚              â”‚       3.StockReserved       â”‚                    â”‚
â”‚       â”‚              â”‚       â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚
â”‚       â”‚              â”‚              â”‚    4.ShippingScheduled            â”‚
â”‚       â”‚              â”‚              â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–º               â”‚
â”‚       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€ 5.OrderCompleteâ”‚
â”‚       â”‚              â”‚              â”‚              â”‚                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ì‹¤íŒ¨ ì‹œ ë³´ìƒ ì´ë²¤íŠ¸:                                                   â”‚
â”‚                                                                         â”‚
â”‚  1.OrderCreated â”€â”€â–º 2.PaymentCompleted â”€â”€â–º 3.StockFailed!              â”‚
â”‚                                                 â”‚                       â”‚
â”‚                     PaymentRefunded â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                          â”‚                                              â”‚
â”‚       OrderCancelled â—„â”€â”€â”€â”˜                                              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="choreography_1">Choreography ì¥ë‹¨ì <a class="header-link" href="#choreography_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ì¥ì </th>
<th>ë‹¨ì </th>
</tr>
</thead>
<tbody>
<tr>
<td>ëŠìŠ¨í•œ ê²°í•©</td>
<td>ì „ì²´ íë¦„ íŒŒì•… ì–´ë ¤ì›€</td>
</tr>
<tr>
<td>ë‹¨ì¼ ì¥ì• ì  ì—†ìŒ</td>
<td>ìˆœí™˜ ì˜ì¡´ì„± ìœ„í—˜</td>
</tr>
<tr>
<td>ì„œë¹„ìŠ¤ ë…ë¦½ì  í™•ì¥</td>
<td>ë””ë²„ê¹… ë³µì¡</td>
</tr>
<tr>
<td>ê°„ë‹¨í•œ êµ¬í˜„</td>
<td>í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€</td>
</tr>
</tbody>
</table>
<h3 id="orchestration">Orchestration (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)<a class="header-link" href="#orchestration" title="Permanent link">&para;</a></h3>
<p>ì¤‘ì•™ì˜ Orchestratorê°€ ì „ì²´ íë¦„ì„ ì œì–´í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Orchestration Saga                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                      â”‚   Orchestrator  â”‚                               â”‚
â”‚                      â”‚ (Saga Manager)  â”‚                               â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                               â”‚                                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â”‚                     â”‚                     â”‚                  â”‚
â”‚         â–¼                     â–¼                     â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Order    â”‚       â”‚  Payment   â”‚       â”‚   Stock    â”‚             â”‚
â”‚  â”‚  Service   â”‚       â”‚  Service   â”‚       â”‚  Service   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì •ìƒ íë¦„:                                                             â”‚
â”‚                                                                         â”‚
â”‚  Orchestrator                                                          â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 1. CreateOrder â”€â”€â”€â”€â–ºâ”‚Orderâ”‚                                â”‚
â”‚       â”‚â—„â”€â”€â”€ OrderCreated â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚                                â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 2. ProcessPayment â”€â–ºâ”‚Paymentâ”‚                              â”‚
â”‚       â”‚â—„â”€â”€â”€ PaymentDone â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚                               â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 3. ReserveStock â”€â”€â”€â–ºâ”‚Stockâ”‚                                â”‚
â”‚       â”‚â—„â”€â”€â”€ StockReserved â”€â”€â”€â”€â”€â”€â”‚     â”‚                                â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 4. CompleteOrder â”€â”€â–ºâ”‚Orderâ”‚                                â”‚
â”‚       â–¼                                                                 â”‚
â”‚  Saga Complete                                                         â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‹¤íŒ¨ ì‹œ ë³´ìƒ:                                                          â”‚
â”‚                                                                         â”‚
â”‚  Orchestrator                                                          â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 1. CreateOrder â”€â”€â”€â”€â–ºâ”‚Orderâ”‚ âœ“                              â”‚
â”‚       â”‚â”€â”€â”€â”€ 2. ProcessPayment â”€â–ºâ”‚Paymentâ”‚ âœ“                            â”‚
â”‚       â”‚â”€â”€â”€â”€ 3. ReserveStock â”€â”€â”€â–ºâ”‚Stockâ”‚ âœ— (ì‹¤íŒ¨!)                      â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚â”€â”€â”€â”€ 4. RefundPayment â”€â”€â–ºâ”‚Paymentâ”‚ (ë³´ìƒ)                       â”‚
â”‚       â”‚â”€â”€â”€â”€ 5. CancelOrder â”€â”€â”€â”€â–ºâ”‚Orderâ”‚ (ë³´ìƒ)                         â”‚
â”‚       â–¼                                                                 â”‚
â”‚  Saga Rolled Back                                                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="orchestration_1">Orchestration ì¥ë‹¨ì <a class="header-link" href="#orchestration_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ì¥ì </th>
<th>ë‹¨ì </th>
</tr>
</thead>
<tbody>
<tr>
<td>ì¤‘ì•™ ì§‘ì¤‘ íë¦„ ê´€ë¦¬</td>
<td>ë‹¨ì¼ ì¥ì• ì </td>
</tr>
<tr>
<td>ëª…í™•í•œ ì›Œí¬í”Œë¡œìš°</td>
<td>Orchestrator ë³µì¡ë„ ì¦ê°€</td>
</tr>
<tr>
<td>ë””ë²„ê¹…/ëª¨ë‹ˆí„°ë§ ìš©ì´</td>
<td>ê²°í•©ë„ ì¦ê°€</td>
</tr>
<tr>
<td>í…ŒìŠ¤íŠ¸ ìš©ì´</td>
<td>Orchestrator í™•ì¥ì„±</td>
</tr>
</tbody>
</table>
<h3 id="saga_1">Saga íŒ¨í„´ ë¹„êµ<a class="header-link" href="#saga_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Choreography vs Orchestration ì„ íƒ ê¸°ì¤€                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Choreography ì„ íƒ:                                                     â”‚
â”‚  - ì„œë¹„ìŠ¤ ìˆ˜ê°€ ì ì„ ë•Œ (2-4ê°œ)                                          â”‚
â”‚  - ë‹¨ìˆœí•œ ì›Œí¬í”Œë¡œìš°                                                    â”‚
â”‚  - ì„œë¹„ìŠ¤ ë…ë¦½ì„±ì´ ì¤‘ìš”í•  ë•Œ                                            â”‚
â”‚  - íŒ€ ê°„ ê°•í•œ ê²°í•©ì„ í”¼í•˜ê³  ì‹¶ì„ ë•Œ                                     â”‚
â”‚                                                                         â”‚
â”‚  Orchestration ì„ íƒ:                                                    â”‚
â”‚  - ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§                                                 â”‚
â”‚  - ì„œë¹„ìŠ¤ ìˆ˜ê°€ ë§ì„ ë•Œ (5ê°œ ì´ìƒ)                                       â”‚
â”‚  - ëª…í™•í•œ ì—ëŸ¬ ì²˜ë¦¬ê°€ í•„ìš”í•  ë•Œ                                         â”‚
â”‚  - ì›Œí¬í”Œë¡œìš° ê°€ì‹œì„±ì´ ì¤‘ìš”í•  ë•Œ                                        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="saga-orchestration">Saga êµ¬í˜„ ì˜ˆì‹œ (Orchestration)<a class="header-link" href="#saga-orchestration" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OrderSaga</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ì£¼ë¬¸ Saga Orchestrator&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_id</span> <span class="o">=</span> <span class="n">order_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;STARTED&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># ë³´ìƒ íŠ¸ëœì­ì…˜ ìŠ¤íƒ</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Step 1: ì£¼ë¬¸ ìƒì„±</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_order</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cancel_order</span><span class="p">)</span>

            <span class="c1"># Step 2: ê²°ì œ ì²˜ë¦¬</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">process_payment</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refund_payment</span><span class="p">)</span>

            <span class="c1"># Step 3: ì¬ê³  ì°¨ê°</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reserve_stock</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release_stock</span><span class="p">)</span>

            <span class="c1"># Step 4: ë°°ì†¡ ì˜ˆì•½</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule_shipping</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;COMPLETED&quot;</span>

        <span class="k">except</span> <span class="n">SagaException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compensate</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;COMPENSATED&quot;</span>
            <span class="k">raise</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compensate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;ì—­ìˆœìœ¼ë¡œ ë³´ìƒ íŠ¸ëœì­ì…˜ ì‹¤í–‰&quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span><span class="p">:</span>
            <span class="n">compensation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compensations</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">compensation</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># ë³´ìƒ ì‹¤íŒ¨ ë¡œê¹…, ì¬ì‹œë„ íì— ë“±ë¡</span>
                <span class="n">log_compensation_failure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order_id</span><span class="p">,</span> <span class="n">compensation</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Order Service í˜¸ì¶œ</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cancel_order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Order Service - ì£¼ë¬¸ ì·¨ì†Œ</span>
        <span class="k">pass</span>

    <span class="c1"># ... ë‹¤ë¥¸ ë©”ì„œë“œë“¤</span>
</code></pre></div>

<hr />
<h2 id="6">6. ì‹¤ì „ ì ìš© ê°€ì´ë“œ<a class="header-link" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="_6">ì¼ê´€ì„± íŒ¨í„´ ì„ íƒ ì²´í¬ë¦¬ìŠ¤íŠ¸<a class="header-link" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì¼ê´€ì„± íŒ¨í„´ ì„ íƒ ê°€ì´ë“œ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ì§ˆë¬¸ 1: ë°ì´í„° ë¶ˆì¼ì¹˜ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€?                      â”‚
â”‚  â”œâ”€â”€ ì¹˜ëª…ì  (ê¸ˆì „ì  ì†ì‹¤, ë²•ì  ë¬¸ì œ) â”€â”€â–º Strong Consistency            â”‚
â”‚  â””â”€â”€ í—ˆìš© ê°€ëŠ¥ (ì ì‹œ ì˜¤ë˜ëœ ì •ë³´) â”€â”€â–º Eventual Consistency             â”‚
â”‚                                                                         â”‚
â”‚  ì§ˆë¬¸ 2: ì‹œìŠ¤í…œì˜ ì£¼ìš” ìš”êµ¬ì‚¬í•­ì€?                                      â”‚
â”‚  â”œâ”€â”€ ë‚®ì€ ì§€ì—°ì‹œê°„ â”€â”€â–º Eventual Consistency                            â”‚
â”‚  â””â”€â”€ ë°ì´í„° ì •í™•ì„± â”€â”€â–º Strong Consistency                              â”‚
â”‚                                                                         â”‚
â”‚  ì§ˆë¬¸ 3: ì¥ì•  ì‹œ ì‹œìŠ¤í…œ ë™ì‘ì€?                                         â”‚
â”‚  â”œâ”€â”€ ì¼ë¶€ ê¸°ëŠ¥ ì¤‘ë‹¨ í—ˆìš© â”€â”€â–º Strong Consistency (CP)                   â”‚
â”‚  â””â”€â”€ í•­ìƒ ì‘ë‹µ í•„ìš” â”€â”€â–º Eventual Consistency (AP)                      â”‚
â”‚                                                                         â”‚
â”‚  ì§ˆë¬¸ 4: ì½ê¸°/ì“°ê¸° ë¹„ìœ¨ì€?                                              â”‚
â”‚  â”œâ”€â”€ ì½ê¸° ì§‘ì¤‘ (90%+) â”€â”€â–º Eventual + Read Replica                      â”‚
â”‚  â””â”€â”€ ì“°ê¸° ì§‘ì¤‘ â”€â”€â–º Careful! ë³µì œ ì§€ì—° ê³ ë ¤                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3 id="_7">í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼<a class="header-link" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     í•˜ì´ë¸Œë¦¬ë“œ ì¼ê´€ì„± ì „ëµ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ê°™ì€ ì‹œìŠ¤í…œ ë‚´ì—ì„œë„ ë°ì´í„°ë³„ë¡œ ë‹¤ë¥¸ ì¼ê´€ì„± ìˆ˜ì¤€ ì ìš©                  â”‚
â”‚                                                                         â”‚
â”‚  ì˜ˆ: ì´ì»¤ë¨¸ìŠ¤ ì‹œìŠ¤í…œ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ë°ì´í„° ìœ í˜•         â”‚  ì¼ê´€ì„± ìˆ˜ì¤€       â”‚  ì´ìœ               â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚  ì¬ê³  ìˆ˜ëŸ‰           â”‚  Strong           â”‚  ê³¼ì‰íŒë§¤ ë°©ì§€     â”‚     â”‚
â”‚  â”‚  ê²°ì œ ìƒíƒœ           â”‚  Strong           â”‚  ê¸ˆì „ ì •í™•ì„±       â”‚     â”‚
â”‚  â”‚  ìƒí’ˆ ë¦¬ë·°           â”‚  Eventual         â”‚  ì¦‰ì‹œ ë°˜ì˜ ë¶ˆí•„ìš”  â”‚     â”‚
â”‚  â”‚  ì¡°íšŒìˆ˜              â”‚  Eventual         â”‚  ì •í™•ì„± ëœ ì¤‘ìš”    â”‚     â”‚
â”‚  â”‚  ì¥ë°”êµ¬ë‹ˆ            â”‚  Session          â”‚  ì‚¬ìš©ìë³„ ì¼ê´€ì„±   â”‚     â”‚
â”‚  â”‚  ì¶”ì²œ ìƒí’ˆ           â”‚  Eventual         â”‚  ì‹¤ì‹œê°„ ë¶ˆí•„ìš”     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<hr />
<h2 id="7">7. ì—°ìŠµ ë¬¸ì œ<a class="header-link" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="1_1">ì—°ìŠµ 1: ì¼ê´€ì„± ìš”êµ¬ì‚¬í•­ ë¶„ì„<a class="header-link" href="#1_1" title="Permanent link">&para;</a></h3>
<p>ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì ì ˆí•œ ì¼ê´€ì„± ëª¨ë¸ì„ ì„ íƒí•˜ê³  ì´ìœ ë¥¼ ì„¤ëª…í•˜ì„¸ìš”:</p>
<ol>
<li>ì€í–‰ ê³„ì¢Œ ì”ì•¡</li>
<li>Twitter íŒ”ë¡œì›Œ ìˆ˜</li>
<li>ì˜¨ë¼ì¸ ê²Œì„ ë­í‚¹</li>
<li>í•­ê³µê¶Œ ì¢Œì„ ì˜ˆì•½</li>
<li>ë‰´ìŠ¤ ê¸°ì‚¬ ì¡°íšŒìˆ˜</li>
</ol>
<h3 id="2-saga">ì—°ìŠµ 2: Saga ì„¤ê³„<a class="header-link" href="#2-saga" title="Permanent link">&para;</a></h3>
<p>ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì˜ ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ë¥¼ Saga íŒ¨í„´ìœ¼ë¡œ ì„¤ê³„í•˜ì„¸ìš”:
- ì£¼ë¬¸ ìƒì„±, ì¬ê³  í™•ì¸, ê²°ì œ, ë°°ì†¡ ì˜ˆì•½ ë‹¨ê³„ í¬í•¨
- ê° ë‹¨ê³„ì˜ ë³´ìƒ íŠ¸ëœì­ì…˜ ì •ì˜
- Choreographyì™€ Orchestration ë‘ ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì„¤ê³„</p>
<h3 id="3_1">ì—°ìŠµ 3: ì½ê¸° ì¼ê´€ì„± êµ¬í˜„<a class="header-link" href="#3_1" title="Permanent link">&para;</a></h3>
<p>Read-Your-Writesë¥¼ ë³´ì¥í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ê³„í•˜ì„¸ìš”:
- ì“°ê¸° í›„ ì½ê¸° ì‹œ ìµœì‹  ë°ì´í„° ë°˜í™˜ ë³´ì¥
- íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ì ‘ê·¼ë²• ì‚¬ìš©
- ìºì‹± ì „ëµ í¬í•¨</p>
<hr />
<h2 id="_8">ë‹¤ìŒ ë‹¨ê³„<a class="header-link" href="#_8" title="Permanent link">&para;</a></h2>
<p><a href="./11_Message_Queue_Basics.md">11_Message_Queue_Basics.md</a>ì—ì„œ ë¹„ë™ê¸° í†µì‹ ì˜ ê¸°ë°˜ì´ ë˜ëŠ” ë©”ì‹œì§€ íì— ëŒ€í•´ ë°°ì›Œë´…ì‹œë‹¤!</p>
<hr />
<h2 id="_9">ì°¸ê³  ìë£Œ<a class="header-link" href="#_9" title="Permanent link">&para;</a></h2>
<ul>
<li>"Designing Data-Intensive Applications" - Martin Kleppmann</li>
<li>"Microservices Patterns" - Chris Richardson</li>
<li>Google Cloud Spanner: TrueTime and External Consistency</li>
<li>AWS: Building Distributed Locks with DynamoDB</li>
<li>"Sagas" - Hector Garcia-Molina, Kenneth Salem (1987)</li>
</ul>
    </div>

    
<div class="lesson-toolbar lesson-toolbar--bottom">
    <div class="toolbar-nav toolbar-nav--prev">
        
        <a href="/study/ko/System_Design/09_Database_Replication.html" class="nav-prev">
            <span class="nav-label">Previous</span>
            <span class="nav-title">ë°ì´í„°ë² ì´ìŠ¤ ë³µì œ (Database Replication)</span>
        </a>
        
    </div>
    <div class="toolbar-actions">
        <button class="btn btn-copy-link" data-action="copy-link" title="Copy link">
            <span class="icon">ğŸ”—</span>
            <span class="text">Copy link</span>
        </button>
        <a href="/study/ko/System_Design/" class="btn btn-topic-link" title="Back to topic list">
            <span class="icon">ğŸ“‹</span>
            <span class="text">Topic list</span>
        </a>
    </div>
    <div class="toolbar-nav toolbar-nav--next">
        
        <a href="/study/ko/System_Design/11_Message_Queue_Basics.html" class="nav-next">
            <span class="nav-label">Next</span>
            <span class="nav-title">ë©”ì‹œì§€ í ê¸°ì´ˆ (Message Queue Fundamentals)</span>
        </a>
        
    </div>
</div>


    <div class="toolbar-keyboard-hint">
        <kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate between lessons
    </div>
</article>

<!-- Scroll to top floating button -->
<button class="scroll-to-top" id="scroll-to-top" title="Scroll to top" aria-label="Scroll to top">â†‘</button>

            </div>
        </main>
    </div>

    <script src="/study/static/js/app.js"></script>
    <script>
        function switchLanguage(newLang) {
            const path = window.location.pathname;
            const base = '/study';
            const currentLang = 'ko';
            const newPath = path.replace(base + '/' + currentLang + '/', base + '/' + newLang + '/');
            window.location.href = newPath + window.location.search;
        }
    </script>
    
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Copy link - independent feedback per button
        document.querySelectorAll('[data-action="copy-link"]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href);
                var textEl = this.querySelector('.text');
                var originalText = textEl.textContent;
                textEl.textContent = 'Copied!';
                setTimeout(function() { textEl.textContent = originalText; }, 2000);
            });
        });

        // Add copy buttons to code blocks
        document.querySelectorAll('.lesson-content pre').forEach(function(pre) {
            var copyBtn = document.createElement('button');
            copyBtn.className = 'code-copy-btn';
            copyBtn.textContent = 'Copy';
            copyBtn.addEventListener('click', function() {
                var code = pre.querySelector('code');
                var text = code ? code.textContent : pre.textContent;
                navigator.clipboard.writeText(text);
                copyBtn.textContent = 'Copied!';
                setTimeout(function() { copyBtn.textContent = 'Copy'; }, 2000);
            });
            pre.style.position = 'relative';
            pre.appendChild(copyBtn);
        });

        // Scroll to top button
        var scrollBtn = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', function() {
            scrollBtn.classList.toggle('visible', window.scrollY > 300);
        });
        scrollBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Keyboard shortcuts: left/right arrows for lesson navigation
        document.addEventListener('keydown', function(e) {
            var tag = document.activeElement.tagName;
            if (tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT') return;

            if (e.key === 'ArrowLeft') {
                var prevLink = document.querySelector('.nav-prev');
                if (prevLink) prevLink.click();
            } else if (e.key === 'ArrowRight') {
                var nextLink = document.querySelector('.nav-next');
                if (nextLink) nextLink.click();
            }
        });
    });
</script>

</body>
</html>
{% endraw %}